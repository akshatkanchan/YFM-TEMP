webpackJsonp(["masters.module"],{

/***/ "./node_modules/file-saver/dist/FileSaver.min.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function(a,b){if(true)!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (b),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else if("undefined"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){"use strict";function b(a,b){return"undefined"==typeof b?b={autoBom:!1}:"object"!=typeof b&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function c(b,c,d){var e=new XMLHttpRequest;e.open("GET",b),e.responseType="blob",e.onload=function(){a(e.response,c,d)},e.onerror=function(){console.error("could not download file")},e.send()}function d(a){var b=new XMLHttpRequest;b.open("HEAD",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(c){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,a=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement("a");g=g||b.name||"download",j.download=g,j.rel="noopener","string"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target="_blank")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:"msSaveOrOpenBlob"in navigator?function(f,g,h){if(g=g||f.name||"download","string"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement("a");i.href=f,i.target="_blank",setTimeout(function(){e(i)})}}:function(a,b,d,e){if(e=e||open("","_blank"),e&&(e.document.title=e.document.body.innerText="downloading..."),"string"==typeof a)return c(a,b,d);var g="application/octet-stream"===a.type,h=/constructor/i.test(f.HTMLElement)||f.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||g&&h)&&"object"==typeof FileReader){var j=new FileReader;j.onloadend=function(){var a=j.result;a=i?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),e?e.location.href=a:location=a,e=null},j.readAsDataURL(a)}else{var k=f.URL||f.webkitURL,l=k.createObjectURL(a);e?e.location=l:location.href=l,e=null,setTimeout(function(){k.revokeObjectURL(l)},4E4)}});f.saveAs=a.saveAs=a,"undefined"!=typeof module&&(module.exports=a)});

//# sourceMappingURL=FileSaver.min.js.map
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/number-to-words/numberToWords.min.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {/*!
 * Number-To-Words util
 * @version v1.2.4
 * @link https://github.com/marlun78/number-to-words
 * @author Martin Eneqvist (https://github.com/marlun78)
 * @contributors Aleksey Pilyugin (https://github.com/pilyugin),Jeremiah Hall (https://github.com/jeremiahrhall),Adriano Melo (https://github.com/adrianomelo),dmrzn (https://github.com/dmrzn)
 * @license MIT
 */
!function(){"use strict";var e="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this,t=9007199254740991;function f(e){return!("number"!=typeof e||e!=e||e===1/0||e===-1/0)}function l(e){return"number"==typeof e&&Math.abs(e)<=t}var n=/(hundred|thousand|(m|b|tr|quadr)illion)$/,r=/teen$/,o=/y$/,i=/(zero|one|two|three|four|five|six|seven|eight|nine|ten|eleven|twelve)$/,s={zero:"zeroth",one:"first",two:"second",three:"third",four:"fourth",five:"fifth",six:"sixth",seven:"seventh",eight:"eighth",nine:"ninth",ten:"tenth",eleven:"eleventh",twelve:"twelfth"};function h(e){return n.test(e)||r.test(e)?e+"th":o.test(e)?e.replace(o,"ieth"):i.test(e)?e.replace(i,a):e}function a(e,t){return s[t]}var u=10,d=100,p=1e3,v=1e6,b=1e9,y=1e12,c=1e15,g=9007199254740992,m=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],w=["zero","ten","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];function x(e,t){var n,r=parseInt(e,10);if(!f(r))throw new TypeError("Not a finite number: "+e+" ("+typeof e+")");if(!l(r))throw new RangeError("Input is not a safe number, it’s either too large or too small.");return n=function e(t){var n,r,o=arguments[1];if(0===t)return o?o.join(" ").replace(/,$/,""):"zero";o||(o=[]);t<0&&(o.push("minus"),t=Math.abs(t));t<20?(n=0,r=m[t]):t<d?(n=t%u,r=w[Math.floor(t/u)],n&&(r+="-"+m[n],n=0)):t<p?(n=t%d,r=e(Math.floor(t/d))+" hundred"):t<v?(n=t%p,r=e(Math.floor(t/p))+" thousand,"):t<b?(n=t%v,r=e(Math.floor(t/v))+" million,"):t<y?(n=t%b,r=e(Math.floor(t/b))+" billion,"):t<c?(n=t%y,r=e(Math.floor(t/y))+" trillion,"):t<=g&&(n=t%c,r=e(Math.floor(t/c))+" quadrillion,");o.push(r);return e(n,o)}(r),t?h(n):n}var M={toOrdinal:function(e){var t=parseInt(e,10);if(!f(t))throw new TypeError("Not a finite number: "+e+" ("+typeof e+")");if(!l(t))throw new RangeError("Input is not a safe number, it’s either too large or too small.");var n=String(t),r=Math.abs(t%100),o=11<=r&&r<=13,i=n.charAt(n.length-1);return n+(o?"th":"1"===i?"st":"2"===i?"nd":"3"===i?"rd":"th")},toWords:x,toWordsOrdinal:function(e){return h(x(e))}}; true?("undefined"!=typeof module&&module.exports&&(exports=module.exports=M),exports.numberToWords=M):e.numberToWords=M}();
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./src/app/pages/masters/add-flight-receipt/add-flight-receipt.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n    <div class=\"col-lg-12\">\n        <nb-card>\n            <nb-card-header>\n                New Receipt\n                <b style=\"float: right; font-size: 12px; font-weight: 100;\">*All figures in Rs.</b>\n            </nb-card-header>\n    <nb-card-body>\n    <div class=\"row\">\n    <div class=\"col-lg-6 col-12\">\n        <!-- <nb-card>\n            <nb-card-body> -->\n                <div class=\"row\">\n                    <div class=\"col-lg-12 col-12\">\n                        <mat-form-field>\n                            Customer Group\n                            <mat-select>                                \n                                <mat-option *ngFor=\"let element of customerGroup\" [value]=\"element.name\" (onSelectionChange)=\"setCustomerGroupId(element,$event)\">\n                                    {{element.name}}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-lg-12 col-12\">\n                        <mat-form-field style=\"width:90%\">\n                            Customer\n                            <input matInput [(ngModel)]=\"cname\" [matAutocomplete]=\"customer\" name=\"cname\">\n                            <mat-autocomplete #customer=\"matAutocomplete\">\n                                <mat-option *ngFor=\"let element of customersObs\" [value]=\"element.name\" (onSelectionChange)=\"getInvoices(element,$event)\">\n                                    {{element.name}}\n                                </mat-option>\n                            </mat-autocomplete>\n                        </mat-form-field>\n                    </div>\n                </div>                \n            <!-- </nb-card-body>\n        </nb-card> -->\n    </div>\n    <div class=\"col-lg-6 col-12\">\n        <!-- <nb-card>\n            <nb-card-body> -->\n                <div class=\"row\">\n                    <div class=\"col-lg-12 col-12\">\n                        <mat-form-field>\n                            Receipt Number:\n                            <input [(ngModel)]=\"receipt.number\" matInput>\n                        </mat-form-field>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-lg-12 col-12\">\n                        <mat-form-field>\n                            Receipt Date:\n                            <input [matDatepicker]=\"receiptDate\" [(ngModel)]=\"receipt.date\" matInput readonly (click)=\"receiptDate.open()\">\n                            <mat-datepicker-toggle matSuffix [for]=\"receiptDate\"></mat-datepicker-toggle>\n                            <mat-datepicker #receiptDate></mat-datepicker>\n                        </mat-form-field>\n                    </div>\n                </div>                                                \n            <!-- </nb-card-body>\n        </nb-card> -->\n    </div>\n</div>\n<div class=\"row\" style=\"margin-top:10px;\">\n    <div class=\"col-lg-12 col-12\">\n        <!-- <nb-card>\n            <nb-card-header>Invoices</nb-card-header>\n            <nb-card-body>                 -->\n                <!-- Selected invoices -->\n                <h5>Invoices</h5>\n                <table style=\"width:100%\">\n                    <tr>\n                        <th>\n                            Invoice Number\n                        </th>\n                        <th>\n                            Invoice Date\n                        </th>\n                        <th>\n                            TDS\n                        </th>\n                        <th>\n                            Adjustment\n                        </th>\n                        <th>\n                            Advance\n                        </th>\n                        <th>\n                            Invoice Amount\n                        </th>\n                        <th>\n                            Total\n                        </th>\n                    </tr>\n                    <tr *ngFor=\"let element of selectedInvoices\">\n                        <td>\n                            {{element.invoiceNumber}}\n                        </td>\n                        <td>\n                            {{element.invoiceDate | date: 'dd-MM-yyyy'}}\n                        </td>\n                        <td>\n                            <mat-form-field>\n                                <input matInput type=\"number\"  [(ngModel)]=\"element.tdsAmount\" (ngModelChange)=\"changeTdsAmount($event)\" >\n                            </mat-form-field>\n                            <!-- <mat-form-field>\n                                <input matInput type=\"number\" [(ngModel)]=\"element.tdsPercent\" (ngModelChange)=\"changeTdsPercent($event)\" >\n                            </mat-form-field> -->\n                        </td>\n                        <td>\n                            <mat-form-field>\n                                <input matInput type=\"number\"  [(ngModel)]=\"element.adjustment\" (ngModelChange)=\"changeAdjustment($event)\" >\n                            </mat-form-field>\n                        </td>\n                        <td>\n                            {{element.advanceReceived}}\n                        </td>\n                        <td>\n                            {{element.totalAmount - element.advanceReceived }}\n                        </td>\n                        <td>\n                            {{element.totalAmount-element.tdsAmount-element.adjustment}}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td colspan=\"2\"><b>Total:</b></td>\n                        <td>{{tdsAmountTotal}}</td>\n                        <td>{{adjustmentTotal}}</td>\n                        <!-- <td colspan=\"2\">{{semiFinalTotal}}</td> -->\n                        <td colspan=\"2\"></td>\n                        <td>{{finalTotal}}</td>\n                    </tr>\n                </table>\n            <!-- </nb-card-body>\n        </nb-card> -->\n    </div> \n</div>\n<div class=\"row ptb-10\">\n    <div class=\"col-lg-12\">\n        <button mat-raised-button color=\"primary\" (click)=\"addInvoices()\">Select Invoices</button>\n    </div>\n</div>\n<div class=\"row\">\n    <!-- <div class=\"col-lg-12 col-12\"> -->\n        <!-- <nb-card>\n            <nb-card-body> -->\n                <!-- <div class=\"row\"> -->\n                    <div class=\"col-lg-4\">\n                        <mat-form-field style=\"width:90%\">\n                            Payment Received\n                            <input [(ngModel)]=\"receipt.paymentReceived\" matInput>\n                        </mat-form-field>\n                    </div>\n                <!-- </div> -->\n                <!-- <div class=\"row\"> -->\n                    <div class=\"col-lg-4\">\n                        <mat-form-field style=\"width:90%\">\n                            TDS\n                            <input [(ngModel)]=\"receipt.tds\" matInput>\n                        </mat-form-field>\n                    </div>\n                <!-- </div> -->\n                <!-- <div class=\"row\"> -->\n                    <div class=\"col-lg-4\">\n                        <mat-form-field style=\"width:90%\">\n                            Adjustments\n                            <input [(ngModel)]=\"receipt.adjustment\" matInput>\n                        </mat-form-field>\n                    </div>\n                <!-- </div>                  -->\n            <!-- </nb-card-body>\n        </nb-card> -->\n    <!-- </div> -->\n</div>\n<div class=\"row\">\n    <div class=\"col-lg-6\">\n        <!-- <nb-card class=\"paymentsCard\">\n            <nb-card-body> -->\n                <div>\n                    <b>Payment Mode</b><br><br>\n                    <mat-radio-group [(ngModel)]=\"receipt.paymentMode\" (change)=\"checkPaymentMode(receipt.paymentMode)\">\n                        <mat-radio-button value=\"Credit Card\">Credit Card</mat-radio-button>\n                        <mat-radio-button value=\"Cheque\">Cheque</mat-radio-button>\n                        <mat-radio-button value=\"NEFT\">NEFT</mat-radio-button>\n                        <mat-radio-button value=\"Cash\">Cash</mat-radio-button>\n                        <mat-radio-button value=\"Others\">Others</mat-radio-button>\n                    </mat-radio-group>\n                </div>\n                <div>\n                    <mat-form-field style=\"width:90%;\">\n                    Received in Bank              \n                    <input matInput [formControl]=\"receivedInBankCtrl\"  [matAutocomplete]=\"autoRIB\">\n                    <mat-autocomplete #autoRIB=\"matAutocomplete\">\n                        <mat-option *ngFor=\"let option of bankAccount | async\" [value]=\"option.bankName\" (onSelectionChange)=\"setReceivedInBank(option,$event)\">\n                            {{ option.bankName }} ({{option.number}})\n                        </mat-option>\n                    </mat-autocomplete>\n                    </mat-form-field>\n                </div>\n                <div>\n                    <mat-form-field>\n                    Bank Credit Date\n                    <input matInput [(ngModel)]=\"receipt.bankCreditDate\" [matDatepicker]=\"bankCreditDate\" (click)=\"bankCreditDate.open()\">\n                    <mat-datepicker-toggle matSuffix [for]=\"bankCreditDate\"></mat-datepicker-toggle>\n                    <mat-datepicker #bankCreditDate></mat-datepicker>\n                    </mat-form-field>\n                </div>        \n            <!-- </nb-card-body>\n        </nb-card> -->\n    </div>\n    <div class=\"col-lg-6\">\n        <div *ngIf=\"cheque\">\n                <mat-form-field>\n                Cheque Number\n                <input matInput [(ngModel)]=\"receipt.chequeNumber\">\n                </mat-form-field>\n                <br>\n                <mat-form-field>\n                Bank Name\n                <input matInput [(ngModel)]=\"receipt.bankName\">\n                </mat-form-field>\n                <br>\n                <mat-form-field>\n                Cheque Date\n                <input matInput [(ngModel)]=\"receipt.chequeDate\" [matDatepicker]=\"chequeDate\" (click)=\"chequeDate.open()\">\n                <mat-datepicker-toggle matSuffix [for]=\"chequeDate\"></mat-datepicker-toggle>\n                <mat-datepicker #chequeDate></mat-datepicker>\n                </mat-form-field>\n            \n        </div>\n        <div *ngIf=\"neft\">\n                <mat-form-field>\n                Transaction Number\n                <input matInput [(ngModel)]=\"receipt.transactionNumber\">\n                </mat-form-field>\n            <br>\n                <mat-form-field>\n                Bank Name\n                <input matInput [(ngModel)]=\"receipt.neftBankName\">\n                </mat-form-field>\n         </div>\n    </div>\n</div>\n</nb-card-body>\n</nb-card>\n</div>\n</div>\n<div class=\"row ptb-10\">\n    <div class=\"col-lg-12\">\n        <button mat-raised-button color=\"primary\" (click)=\"saveReceipt()\">Save</button>\n        <!-- <button mat-raised-button color=\"warn\"(click)=\"closeDialog()\">Close</button> -->\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/add-flight-receipt/add-flight-receipt.component.scss":
/***/ (function(module, exports) {

module.exports = ".full-width {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  min-width: 100px; }\n\nnb-checkbox {\n  margin-bottom: 1rem; }\n\n.form-inline > * {\n  margin: 0 1.5rem 1.5rem 0; }\n\nnb-card.inline-form-card nb-card-body {\n  padding-bottom: 0; }\n\nth {\n  padding: 5px;\n  border: 1px solid lightgrey; }\n\ntd {\n  padding: 5px;\n  border: 1px solid lightgrey; }\n\n.customerCard {\n  height: 181px; }\n\n.paymentsCard {\n  height: 241px; }\n\n.mat-dialog-container {\n  width: 85% !important; }\n\ninput.mat-input-element {\n  margin-top: 5px; }\n\n.mat-radio-button {\n  margin-right: 10px; }\n"

/***/ }),

/***/ "./src/app/pages/masters/add-flight-receipt/add-flight-receipt.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AddFlightReceiptComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__newcustomergroup_newcustomergroup_component__ = __webpack_require__("./src/app/pages/masters/newcustomergroup/newcustomergroup.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_operators_startWith__ = __webpack_require__("./node_modules/rxjs/_esm5/operators/startWith.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_operators_map__ = __webpack_require__("./node_modules/rxjs/_esm5/operators/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__addreceipts_receipt_service__ = __webpack_require__("./src/app/pages/masters/addreceipts/receipt.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__operations_new_bank_account_bank_account_service__ = __webpack_require__("./src/app/pages/operations/new-bank-account/bank-account.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__selectflightinvoices_selectflightinvoices_component__ = __webpack_require__("./src/app/pages/masters/selectflightinvoices/selectflightinvoices.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var AddFlightReceiptComponent = (function () {
    function AddFlightReceiptComponent(customerService, receiptService, snackBar, dialog, 
        // private matDialogRef:MatDialogRef<AddReceiptsComponent>,
        // @Inject(MAT_DIALOG_DATA) public data,
        auth, customerGroupService, bankAccountService, router) {
        // if(data!=null)
        this.customerService = customerService;
        this.receiptService = receiptService;
        this.snackBar = snackBar;
        this.dialog = dialog;
        this.auth = auth;
        this.customerGroupService = customerGroupService;
        this.bankAccountService = bankAccountService;
        this.router = router;
        this.cheque = false;
        this.neft = false;
        this.receivedInBankCtrl = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]();
        this.selectedInvoices = [];
        this.tdsAmountTotal = 0;
        this.adjustmentTotal = 0;
        this.semiFinalTotal = 0;
        this.finalTotal = 0;
        this.selectedCustomer = '';
        this.customerGroupId = '';
        this.user = {};
        this.param = {
            inserted: 'no',
            data: null
        };
        this.receipt = {
            customerGroup: '',
            customerGroupId: '',
            customerName: '',
            customerId: '',
            number: '',
            date: '',
            paymentReceived: '',
            tds: '',
            adjustment: '',
            paymentMode: '',
            receivedInBank: '',
            bankCreditDate: '',
            ownerId: '',
            //added recently
            bankName: '',
            chequeNumber: '',
            chequeDate: '',
            neftBankName: '',
            transactionNumber: ''
        };
        // { this.receipt.id=data.id;
        //   this.receipt.date=data.date
        //   this.receipt.customerGroup=data.customerGroup
        //   this.receipt.number=data.number
        //   this.receipt.paymentReceived=data.paymentReceived
        //   this.receipt.tds=data.tds
        //   this.receipt.adjustment=data.adjustment
        //   this.receipt.paymentMode=data.paymentMode
        //   this.receipt.receivedInBank=data.receivedInBank
        //   this.receipt.bankCreditDate=data.bankCreditDate
        //   this.getInvoicesData();
        // }
    }
    AddFlightReceiptComponent.prototype.unloadHandler = function (event) {
        console.log("Processing beforeunload...");
        event.returnValue = false;
    };
    AddFlightReceiptComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.bankAccountService.getBankAccount(_this.user).subscribe(function (data) {
                _this.bankAccounts = data;
                _this.bankAccount = _this.receivedInBankCtrl.valueChanges
                    .pipe(Object(__WEBPACK_IMPORTED_MODULE_3_rxjs_operators_startWith__["a" /* startWith */])(''), Object(__WEBPACK_IMPORTED_MODULE_4_rxjs_operators_map__["a" /* map */])(function (val) { return _this.filterBankAccounts(val); }));
            });
            _this.customerService.getCustomers(_this.user).subscribe(function (data) {
                _this.customersObs = data;
            });
            _this.receipt.ownerId = data[0].ownerId;
            _this.customerGroupService.getCustomerGroups(_this.user).subscribe(function (data) {
                _this.customerGroup = data;
                console.log(data);
            });
        });
    };
    AddFlightReceiptComponent.prototype.setCustomerGroupId = function (temp, event) {
        var _this = this;
        if (event.source.selected == true) {
            if (this.customerGroupId != temp.id) {
                this.selectedInvoices = [];
                this.semiFinalTotal = 0;
                this.finalTotal = 0;
                this.tdsAmountTotal = 0;
                this.adjustmentTotal = 0;
                this.cname = '';
            }
            this.receipt.customerGroup = temp.name;
            this.receipt.customerGroupId = temp.id;
            this.customerGroupId = temp.id;
            var custTemp = {
                user: this.user,
                customerGroupId: temp.id
            };
            this.customerService.getCustomersById(custTemp).subscribe(function (data) {
                _this.customersObs = data;
                console.log(data);
            });
        }
    };
    AddFlightReceiptComponent.prototype.addInvoices = function () {
        var _this = this;
        if (this.customersObs == null) {
            this.snackBar.open("Please Select One Customer", null, { duration: 2000 });
        }
        else {
            var params = {
                selectedCustomer: this.selectedCustomer,
                selectedInvoices: this.selectedInvoices
            };
            this.dialog.open(__WEBPACK_IMPORTED_MODULE_11__selectflightinvoices_selectflightinvoices_component__["a" /* SelectflightinvoicesComponent */], { data: params, autoFocus: false, disableClose: true }).afterClosed().subscribe(function (data) {
                _this.finalTotal = 0;
                // console.log(data)
                data.forEach(function (element) {
                    element.tdsPercent = 0;
                    element.tdsAmount = 0;
                    element.adjustment = 0;
                    // console.log(element)
                    _this.semiFinalTotal = _this.semiFinalTotal + (Number)(element.totalAmount);
                    element.invoiceTotal = element.totalAmount - element.tdsAmount - element.adjustment;
                    _this.finalTotal = _this.finalTotal + element.invoiceTotal;
                    _this.selectedInvoices = data;
                });
            });
        }
    };
    AddFlightReceiptComponent.prototype.changeTdsAmount = function () {
        var _this = this;
        this.tdsAmountTotal = 0;
        this.finalTotal = 0;
        this.selectedInvoices.forEach(function (element) {
            element.tdsPercent = (element.tdsAmount / element.totalAmount * 100);
            _this.tdsAmountTotal = _this.tdsAmountTotal + (Number)(element.tdsAmount);
            element.invoiceTotal = element.totalAmount - element.tdsAmount - element.adjustment;
            _this.finalTotal = _this.finalTotal + element.invoiceTotal;
        });
    };
    AddFlightReceiptComponent.prototype.changeTdsPercent = function () {
        var _this = this;
        this.tdsAmountTotal = 0;
        this.finalTotal = 0;
        this.selectedInvoices.forEach(function (element) {
            element.tdsAmount = (element.tdsPercent / 100 * element.totalAmount);
            _this.tdsAmountTotal = _this.tdsAmountTotal + (Number)(element.tdsAmount);
            element.invoiceTotal = element.totalAmount - element.tdsAmount - element.adjustment;
            _this.finalTotal = _this.finalTotal + element.invoiceTotal;
        });
    };
    AddFlightReceiptComponent.prototype.changeAdjustment = function () {
        var _this = this;
        this.adjustmentTotal = 0;
        this.finalTotal = 0;
        this.selectedInvoices.forEach(function (element) {
            _this.adjustmentTotal = _this.adjustmentTotal + (Number)(element.adjustment);
            element.invoiceTotal = element.totalAmount - element.tdsAmount - element.adjustment;
            _this.finalTotal = _this.finalTotal + element.invoiceTotal;
        });
    };
    AddFlightReceiptComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    AddFlightReceiptComponent.prototype.getInvoices = function (cust, event) {
        if (event.source.selected == true) {
            if (cust.id != this.selectedCustomer) {
                this.selectedInvoices = [];
                this.semiFinalTotal = 0;
                this.finalTotal = 0;
                this.tdsAmountTotal = 0;
                this.adjustmentTotal = 0;
            }
            this.receipt.customerName = cust.name;
            this.receipt.customerId = cust.id;
            this.selectedCustomer = cust.id;
        }
    };
    AddFlightReceiptComponent.prototype.saveReceipt = function () {
        var _this = this;
        if (this.receipt.customerGroup == "") {
            this.snackBar.open('Enter Customer Group', null, {
                duration: 5000
            });
        }
        else if (this.receipt.number.trim() == "") {
            this.snackBar.open('Enter receipt number', null, {
                duration: 5000
            });
        }
        else if (this.receipt.date == "") {
            this.snackBar.open('Enter Date', null, {
                duration: 5000
            });
        }
        else if (this.receipt.paymentReceived.trim() == "") {
            this.snackBar.open('Enter Payment Received', null, {
                duration: 5000
            });
        }
        else if (this.receipt.tds.trim() == "") {
            this.snackBar.open('Enter TDS', null, {
                duration: 5000
            });
        }
        else if (this.receipt.paymentMode.trim() == "") {
            this.snackBar.open('Enter Payment Mode', null, {
                duration: 5000
            });
        }
        else if (this.receipt.receivedInBank == "") {
            this.snackBar.open('Enter Received in Bank Details', null, {
                duration: 5000
            });
        }
        else {
            if (this.receipt.paymentMode.trim() == "Cheque" && this.receipt.chequeNumber.trim() == "") {
                this.snackBar.open('Enter Cheque Number', null, {
                    duration: 5000
                });
            }
            else if (this.receipt.paymentMode.trim() == "Cheque" && this.receipt.bankName.trim() == "") {
                this.snackBar.open('Enter Bank Name for the cheque', null, {
                    duration: 5000
                });
            }
            else if (this.receipt.paymentMode.trim() == "NEFT" && this.receipt.neftBankName.trim() == "") {
                this.snackBar.open('Enter Bank name of NEFT', null, {
                    duration: 5000
                });
            }
            else if (this.receipt.paymentMode.trim() == "NEFT" && this.receipt.transactionNumber.trim() == "") {
                this.snackBar.open('Enter NEFT Transaction Number', null, {
                    duration: 5000
                });
            }
            else {
                console.log("receipt");
                this.receipt.date = __WEBPACK_IMPORTED_MODULE_5_moment__(this.receipt.date).format("YYYY-MM-DD");
                this.receipt.bankCreditDate = __WEBPACK_IMPORTED_MODULE_5_moment__(this.receipt.bankCreditDate).format("YYYY-MM-DD");
                this.receiptService.addFlightReceipt(this.receipt).subscribe(function (data) {
                    _this.selectedInvoices.forEach(function (element) {
                        var temp = {
                            receiptId: data.insertId,
                            invoice: element
                        };
                        console.log(element);
                        _this.receiptService.addFlightInvoices(temp).subscribe();
                    });
                    // if(data.affectedRows==1){
                    //   this.param.inserted='yes';
                    //   this.param.data=this.receipt;
                    //   this.matDialogRef.close(this.param);
                    // } 
                }, function (err) { }, function () {
                    _this.snackBar.open("Receipt Added", "X", { duration: 3000 });
                    _this.router.navigateByUrl('/pages/masters/receiptsdisp');
                });
            }
        }
    };
    AddFlightReceiptComponent.prototype.getInvoicesData = function () {
        var _this = this;
        this.receiptService.getInvoiceInFlightReceipts(this.receipt).subscribe(function (data) {
            _this.finalTotal = 0;
            data.forEach(function (element) {
                _this.semiFinalTotal = _this.semiFinalTotal + (Number)(element.totalAmount);
                element.invoiceTotal = element.totalAmount - element.tdsAmount - element.adjustment;
                _this.finalTotal = _this.finalTotal + element.invoiceTotal;
                _this.selectedInvoices.push(element);
            });
            _this.changeTdsAmount();
            _this.changeAdjustment();
        });
    };
    AddFlightReceiptComponent.prototype.checkPaymentMode = function (temp) {
        console.log(temp);
        if (temp == "Cheque") {
            this.cheque = true;
            this.neft = false;
        }
        else if (temp == "NEFT") {
            this.cheque = false;
            this.neft = true;
        }
        else {
            this.cheque = false;
            this.neft = false;
        }
    };
    AddFlightReceiptComponent.prototype.filterBankAccounts = function (val) {
        return this.bankAccounts.filter(function (option) {
            return option.name.toLowerCase().includes(val.toLowerCase());
        });
    };
    AddFlightReceiptComponent.prototype.setReceivedInBank = function (option, event) {
        if (event.source.selected == true) {
            // console.log(option);
            this.receipt.receivedInBank = option.id;
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])("window:beforeunload", ["$event"]),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Event]),
        __metadata("design:returntype", void 0)
    ], AddFlightReceiptComponent.prototype, "unloadHandler", null);
    AddFlightReceiptComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'add-flight-receipt',
            template: __webpack_require__("./src/app/pages/masters/add-flight-receipt/add-flight-receipt.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/add-flight-receipt/add-flight-receipt.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_6__customer_customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_7__addreceipts_receipt_service__["a" /* ReceiptService */],
            __WEBPACK_IMPORTED_MODULE_8__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_8__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_9__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__newcustomergroup_newcustomergroup_component__["a" /* NewcustomergroupComponent */],
            __WEBPACK_IMPORTED_MODULE_10__operations_new_bank_account_bank_account_service__["a" /* BankAccountService */],
            __WEBPACK_IMPORTED_MODULE_12__angular_router__["c" /* Router */]])
    ], AddFlightReceiptComponent);
    return AddFlightReceiptComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/add-hotel-receipt/add-hotel-receipt.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n    <div class=\"col-lg-12\">\n        <nb-card>\n            <nb-card-header>\n                New Receipt\n                <b style=\"float: right; font-size: 12px; font-weight: 100;\">*All figures in Rs.</b>\n            </nb-card-header>\n    <nb-card-body>\n    <div class=\"row\">\n    <div class=\"col-lg-6 col-12\">\n        <!-- <nb-card>\n            <nb-card-body> -->\n                <div class=\"row\">\n                    <div class=\"col-lg-12 col-12\">\n                        <mat-form-field>\n                            Customer Group\n                            <mat-select>                                \n                                <mat-option *ngFor=\"let element of customerGroup\" [value]=\"element.name\" (onSelectionChange)=\"setCustomerGroupId(element,$event)\">\n                                    {{element.name}}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-lg-12 col-12\">\n                        <mat-form-field style=\"width:90%\">\n                            Customer\n                            <input matInput [(ngModel)]=\"cname\" [matAutocomplete]=\"customer\" name=\"cname\">\n                            <mat-autocomplete #customer=\"matAutocomplete\">\n                                <mat-option *ngFor=\"let element of customersObs\" [value]=\"element.name\" (onSelectionChange)=\"getInvoices(element,$event)\">\n                                    {{element.name}}\n                                </mat-option>\n                            </mat-autocomplete>\n                        </mat-form-field>\n                    </div>\n                </div>                \n            <!-- </nb-card-body>\n        </nb-card> -->\n    </div>\n    <div class=\"col-lg-6 col-12\">\n        <!-- <nb-card>\n            <nb-card-body> -->\n                <div class=\"row\">\n                    <div class=\"col-lg-12 col-12\">\n                        <mat-form-field>\n                            Receipt Number:\n                            <input [(ngModel)]=\"receipt.number\" matInput>\n                        </mat-form-field>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-lg-12 col-12\">\n                        <mat-form-field>\n                            Receipt Date:\n                            <input [matDatepicker]=\"receiptDate\" [(ngModel)]=\"receipt.date\" matInput readonly (click)=\"receiptDate.open()\">\n                            <mat-datepicker-toggle matSuffix [for]=\"receiptDate\"></mat-datepicker-toggle>\n                            <mat-datepicker #receiptDate></mat-datepicker>\n                        </mat-form-field>\n                    </div>\n                </div>                                                \n            <!-- </nb-card-body>\n        </nb-card> -->\n    </div>\n</div>\n<div class=\"row\" style=\"margin-top:10px;\">\n    <div class=\"col-lg-12 col-12\">\n        <!-- <nb-card>\n            <nb-card-header>Invoices</nb-card-header>\n            <nb-card-body>                 -->\n                <!-- Selected invoices -->\n                <h5>Invoices</h5>\n                <table style=\"width:100%\">\n                    <tr>\n                        <th>\n                            Invoice Number\n                        </th>\n                        <th>\n                            Invoice Date\n                        </th>\n                        <th>\n                            TDS\n                        </th>\n                        <th>\n                            Adjustment\n                        </th>\n                        <th>\n                            Advance\n                        </th>\n                        <th>\n                            Invoice Amount\n                        </th>\n                        <th>\n                            Total\n                        </th>\n                    </tr>\n                    <tr *ngFor=\"let element of selectedInvoices\">\n                        <td>\n                            {{element.invoiceNumber}}\n                        </td>\n                        <td>\n                            {{element.invoiceDate | date: 'dd-MM-yyyy'}}\n                        </td>\n                        <td>\n                            <mat-form-field>\n                                <input matInput type=\"number\"  [(ngModel)]=\"element.tdsAmount\" (ngModelChange)=\"changeTdsAmount($event)\" >\n                            </mat-form-field>\n                            <!-- <mat-form-field>\n                                <input matInput type=\"number\" [(ngModel)]=\"element.tdsPercent\" (ngModelChange)=\"changeTdsPercent($event)\" >\n                            </mat-form-field> -->\n                        </td>\n                        <td>\n                            <mat-form-field>\n                                <input matInput type=\"number\"  [(ngModel)]=\"element.adjustment\" (ngModelChange)=\"changeAdjustment($event)\" >\n                            </mat-form-field>\n                        </td>\n                        <td>\n                            {{element.advanceReceived}}\n                        </td>\n                        <td>\n                            {{element.totalAmount - element.advanceReceived }}\n                        </td>\n                        <td>\n                            {{element.totalAmount-element.tdsAmount-element.adjustment}}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td colspan=\"2\"><b>Total:</b></td>\n                        <td>{{tdsAmountTotal}}</td>\n                        <td>{{adjustmentTotal}}</td>\n                        <!-- <td colspan=\"2\">{{semiFinalTotal}}</td> -->\n                        <td colspan=\"2\"></td>\n                        <td>{{finalTotal}}</td>\n                    </tr>\n                </table>\n            <!-- </nb-card-body>\n        </nb-card> -->\n    </div> \n</div>\n<div class=\"row ptb-10\">\n    <div class=\"col-lg-12\">\n        <button mat-raised-button color=\"primary\" (click)=\"addInvoices()\">Select Invoices</button>\n    </div>\n</div>\n<div class=\"row\">\n    <!-- <div class=\"col-lg-12 col-12\"> -->\n        <!-- <nb-card>\n            <nb-card-body> -->\n                <!-- <div class=\"row\"> -->\n                    <div class=\"col-lg-4\">\n                        <mat-form-field style=\"width:90%\">\n                            Payment Received\n                            <input [(ngModel)]=\"receipt.paymentReceived\" matInput>\n                        </mat-form-field>\n                    </div>\n                <!-- </div> -->\n                <!-- <div class=\"row\"> -->\n                    <div class=\"col-lg-4\">\n                        <mat-form-field style=\"width:90%\">\n                            TDS\n                            <input [(ngModel)]=\"receipt.tds\" matInput>\n                        </mat-form-field>\n                    </div>\n                <!-- </div> -->\n                <!-- <div class=\"row\"> -->\n                    <div class=\"col-lg-4\">\n                        <mat-form-field style=\"width:90%\">\n                            Adjustments\n                            <input [(ngModel)]=\"receipt.adjustment\" matInput>\n                        </mat-form-field>\n                    </div>\n                <!-- </div>                  -->\n            <!-- </nb-card-body>\n        </nb-card> -->\n    <!-- </div> -->\n</div>\n<div class=\"row\">\n    <div class=\"col-lg-6\">\n        <!-- <nb-card class=\"paymentsCard\">\n            <nb-card-body> -->\n                <div>\n                    <b>Payment Mode</b><br><br>\n                    <mat-radio-group [(ngModel)]=\"receipt.paymentMode\" (change)=\"checkPaymentMode(receipt.paymentMode)\">\n                        <mat-radio-button value=\"Credit Card\">Credit Card</mat-radio-button>\n                        <mat-radio-button value=\"Cheque\">Cheque</mat-radio-button>\n                        <mat-radio-button value=\"NEFT\">NEFT</mat-radio-button>\n                        <mat-radio-button value=\"Cash\">Cash</mat-radio-button>\n                        <mat-radio-button value=\"Others\">Others</mat-radio-button>\n                    </mat-radio-group>\n                </div>\n                <div>\n                    <mat-form-field style=\"width:90%;\">\n                    Received in Bank              \n                    <input matInput [formControl]=\"receivedInBankCtrl\"  [matAutocomplete]=\"autoRIB\">\n                    <mat-autocomplete #autoRIB=\"matAutocomplete\">\n                        <mat-option *ngFor=\"let option of bankAccount | async\" [value]=\"option.bankName\" (onSelectionChange)=\"setReceivedInBank(option,$event)\">\n                            {{ option.bankName }} ({{option.number}})\n                        </mat-option>\n                    </mat-autocomplete>\n                    </mat-form-field>\n                </div>\n                <div>\n                    <mat-form-field>\n                    Bank Credit Date\n                    <input matInput [(ngModel)]=\"receipt.bankCreditDate\" [matDatepicker]=\"bankCreditDate\" (click)=\"bankCreditDate.open()\">\n                    <mat-datepicker-toggle matSuffix [for]=\"bankCreditDate\"></mat-datepicker-toggle>\n                    <mat-datepicker #bankCreditDate></mat-datepicker>\n                    </mat-form-field>\n                </div>        \n            <!-- </nb-card-body>\n        </nb-card> -->\n    </div>\n    <div class=\"col-lg-6\">\n        <div *ngIf=\"cheque\">\n                <mat-form-field>\n                Cheque Number\n                <input matInput [(ngModel)]=\"receipt.chequeNumber\">\n                </mat-form-field>\n                <br>\n                <mat-form-field>\n                Bank Name\n                <input matInput [(ngModel)]=\"receipt.bankName\">\n                </mat-form-field>\n                <br>\n                <mat-form-field>\n                Cheque Date\n                <input matInput [(ngModel)]=\"receipt.chequeDate\" [matDatepicker]=\"chequeDate\" (click)=\"chequeDate.open()\">\n                <mat-datepicker-toggle matSuffix [for]=\"chequeDate\"></mat-datepicker-toggle>\n                <mat-datepicker #chequeDate></mat-datepicker>\n                </mat-form-field>\n            \n        </div>\n        <div *ngIf=\"neft\">\n                <mat-form-field>\n                Transaction Number\n                <input matInput [(ngModel)]=\"receipt.transactionNumber\">\n                </mat-form-field>\n            <br>\n                <mat-form-field>\n                Bank Name\n                <input matInput [(ngModel)]=\"receipt.neftBankName\">\n                </mat-form-field>\n         </div>\n    </div>\n</div>\n</nb-card-body>\n</nb-card>\n</div>\n</div>\n<div class=\"row ptb-10\">\n    <div class=\"col-lg-12\">\n        <button mat-raised-button color=\"primary\" (click)=\"saveReceipt()\">Save</button>\n        <!-- <button mat-raised-button color=\"warn\"(click)=\"closeDialog()\">Close</button> -->\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/add-hotel-receipt/add-hotel-receipt.component.scss":
/***/ (function(module, exports) {

module.exports = ".full-width {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  min-width: 100px; }\n\nnb-checkbox {\n  margin-bottom: 1rem; }\n\n.form-inline > * {\n  margin: 0 1.5rem 1.5rem 0; }\n\nnb-card.inline-form-card nb-card-body {\n  padding-bottom: 0; }\n\nth {\n  padding: 5px;\n  border: 1px solid lightgrey; }\n\ntd {\n  padding: 5px;\n  border: 1px solid lightgrey; }\n\n.customerCard {\n  height: 181px; }\n\n.paymentsCard {\n  height: 241px; }\n\n.mat-dialog-container {\n  width: 85% !important; }\n\ninput.mat-input-element {\n  margin-top: 5px; }\n\n.mat-radio-button {\n  margin-right: 10px; }\n"

/***/ }),

/***/ "./src/app/pages/masters/add-hotel-receipt/add-hotel-receipt.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AddHotelReceiptComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__newcustomergroup_newcustomergroup_component__ = __webpack_require__("./src/app/pages/masters/newcustomergroup/newcustomergroup.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_operators_startWith__ = __webpack_require__("./node_modules/rxjs/_esm5/operators/startWith.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_operators_map__ = __webpack_require__("./node_modules/rxjs/_esm5/operators/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__addreceipts_receipt_service__ = __webpack_require__("./src/app/pages/masters/addreceipts/receipt.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__operations_new_bank_account_bank_account_service__ = __webpack_require__("./src/app/pages/operations/new-bank-account/bank-account.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__selecthotelinvoices_selecthotelinvoices_component__ = __webpack_require__("./src/app/pages/masters/selecthotelinvoices/selecthotelinvoices.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var AddHotelReceiptComponent = (function () {
    function AddHotelReceiptComponent(customerService, receiptService, snackBar, dialog, 
        // private matDialogRef:MatDialogRef<AddReceiptsComponent>,
        // @Inject(MAT_DIALOG_DATA) public data,
        auth, customerGroupService, bankAccountService, router) {
        // if(data!=null)
        this.customerService = customerService;
        this.receiptService = receiptService;
        this.snackBar = snackBar;
        this.dialog = dialog;
        this.auth = auth;
        this.customerGroupService = customerGroupService;
        this.bankAccountService = bankAccountService;
        this.router = router;
        this.cheque = false;
        this.neft = false;
        this.receivedInBankCtrl = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]();
        this.selectedInvoices = [];
        this.tdsAmountTotal = 0;
        this.adjustmentTotal = 0;
        this.semiFinalTotal = 0;
        this.finalTotal = 0;
        this.selectedCustomer = '';
        this.customerGroupId = '';
        this.user = {};
        this.param = {
            inserted: 'no',
            data: null
        };
        this.receipt = {
            customerGroup: '',
            customerGroupId: '',
            customerName: '',
            customerId: '',
            number: '',
            date: '',
            paymentReceived: '',
            tds: '',
            adjustment: '',
            paymentMode: '',
            receivedInBank: '',
            bankCreditDate: '',
            ownerId: '',
            //added recently
            bankName: '',
            chequeNumber: '',
            chequeDate: '',
            neftBankName: '',
            transactionNumber: ''
        };
        // { this.receipt.id=data.id;
        //   this.receipt.date=data.date
        //   this.receipt.customerGroup=data.customerGroup
        //   this.receipt.number=data.number
        //   this.receipt.paymentReceived=data.paymentReceived
        //   this.receipt.tds=data.tds
        //   this.receipt.adjustment=data.adjustment
        //   this.receipt.paymentMode=data.paymentMode
        //   this.receipt.receivedInBank=data.receivedInBank
        //   this.receipt.bankCreditDate=data.bankCreditDate
        //   this.getInvoicesData();
        // }
    }
    AddHotelReceiptComponent.prototype.unloadHandler = function (event) {
        console.log("Processing beforeunload...");
        event.returnValue = false;
    };
    AddHotelReceiptComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.bankAccountService.getBankAccount(_this.user).subscribe(function (data) {
                _this.bankAccounts = data;
                _this.bankAccount = _this.receivedInBankCtrl.valueChanges
                    .pipe(Object(__WEBPACK_IMPORTED_MODULE_3_rxjs_operators_startWith__["a" /* startWith */])(''), Object(__WEBPACK_IMPORTED_MODULE_4_rxjs_operators_map__["a" /* map */])(function (val) { return _this.filterBankAccounts(val); }));
            });
            _this.customerService.getCustomers(_this.user).subscribe(function (data) {
                _this.customersObs = data;
            });
            _this.receipt.ownerId = data[0].ownerId;
            _this.customerGroupService.getCustomerGroups(_this.user).subscribe(function (data) {
                _this.customerGroup = data;
                console.log(data);
            });
        });
    };
    AddHotelReceiptComponent.prototype.setCustomerGroupId = function (temp, event) {
        var _this = this;
        if (event.source.selected == true) {
            if (this.customerGroupId != temp.id) {
                this.selectedInvoices = [];
                this.semiFinalTotal = 0;
                this.finalTotal = 0;
                this.tdsAmountTotal = 0;
                this.adjustmentTotal = 0;
                this.cname = '';
            }
            this.receipt.customerGroup = temp.name;
            this.receipt.customerGroupId = temp.id;
            this.customerGroupId = temp.id;
            var custTemp = {
                user: this.user,
                customerGroupId: temp.id
            };
            this.customerService.getCustomersById(custTemp).subscribe(function (data) {
                _this.customersObs = data;
                console.log(data);
            });
        }
    };
    AddHotelReceiptComponent.prototype.addInvoices = function () {
        var _this = this;
        if (this.customersObs == null) {
            this.snackBar.open("Please Select One Customer", null, { duration: 2000 });
        }
        else {
            var params = {
                selectedCustomer: this.selectedCustomer,
                selectedInvoices: this.selectedInvoices
            };
            this.dialog.open(__WEBPACK_IMPORTED_MODULE_11__selecthotelinvoices_selecthotelinvoices_component__["a" /* SelecthotelinvoicesComponent */], { data: params, autoFocus: false, disableClose: true }).afterClosed().subscribe(function (data) {
                _this.finalTotal = 0;
                // console.log(data)
                data.forEach(function (element) {
                    element.tdsPercent = 0;
                    element.tdsAmount = 0;
                    element.adjustment = 0;
                    // console.log(element)
                    _this.semiFinalTotal = _this.semiFinalTotal + (Number)(element.totalAmount);
                    element.invoiceTotal = element.totalAmount - element.tdsAmount - element.adjustment;
                    _this.finalTotal = _this.finalTotal + element.invoiceTotal;
                    _this.selectedInvoices = data;
                });
            });
        }
    };
    AddHotelReceiptComponent.prototype.changeTdsAmount = function () {
        var _this = this;
        this.tdsAmountTotal = 0;
        this.finalTotal = 0;
        this.selectedInvoices.forEach(function (element) {
            element.tdsPercent = (element.tdsAmount / element.totalAmount * 100);
            _this.tdsAmountTotal = _this.tdsAmountTotal + (Number)(element.tdsAmount);
            element.invoiceTotal = element.totalAmount - element.tdsAmount - element.adjustment;
            _this.finalTotal = _this.finalTotal + element.invoiceTotal;
        });
    };
    AddHotelReceiptComponent.prototype.changeTdsPercent = function () {
        var _this = this;
        this.tdsAmountTotal = 0;
        this.finalTotal = 0;
        this.selectedInvoices.forEach(function (element) {
            element.tdsAmount = (element.tdsPercent / 100 * element.totalAmount);
            _this.tdsAmountTotal = _this.tdsAmountTotal + (Number)(element.tdsAmount);
            element.invoiceTotal = element.totalAmount - element.tdsAmount - element.adjustment;
            _this.finalTotal = _this.finalTotal + element.invoiceTotal;
        });
    };
    AddHotelReceiptComponent.prototype.changeAdjustment = function () {
        var _this = this;
        this.adjustmentTotal = 0;
        this.finalTotal = 0;
        this.selectedInvoices.forEach(function (element) {
            _this.adjustmentTotal = _this.adjustmentTotal + (Number)(element.adjustment);
            element.invoiceTotal = element.totalAmount - element.tdsAmount - element.adjustment;
            _this.finalTotal = _this.finalTotal + element.invoiceTotal;
        });
    };
    AddHotelReceiptComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    AddHotelReceiptComponent.prototype.getInvoices = function (cust, event) {
        if (event.source.selected == true) {
            if (cust.id != this.selectedCustomer) {
                this.selectedInvoices = [];
                this.semiFinalTotal = 0;
                this.finalTotal = 0;
                this.tdsAmountTotal = 0;
                this.adjustmentTotal = 0;
            }
            this.receipt.customerName = cust.name;
            this.receipt.customerId = cust.id;
            this.selectedCustomer = cust.id;
        }
    };
    AddHotelReceiptComponent.prototype.saveReceipt = function () {
        var _this = this;
        if (this.receipt.customerGroup == "") {
            this.snackBar.open('Enter Customer Group', null, {
                duration: 5000
            });
        }
        else if (this.receipt.number.trim() == "") {
            this.snackBar.open('Enter receipt number', null, {
                duration: 5000
            });
        }
        else if (this.receipt.date == "") {
            this.snackBar.open('Enter Date', null, {
                duration: 5000
            });
        }
        else if (this.receipt.paymentReceived.trim() == "") {
            this.snackBar.open('Enter Payment Received', null, {
                duration: 5000
            });
        }
        else if (this.receipt.tds.trim() == "") {
            this.snackBar.open('Enter TDS', null, {
                duration: 5000
            });
        }
        else if (this.receipt.paymentMode.trim() == "") {
            this.snackBar.open('Enter Payment Mode', null, {
                duration: 5000
            });
        }
        else if (this.receipt.receivedInBank == "") {
            this.snackBar.open('Enter Received in Bank Details', null, {
                duration: 5000
            });
        }
        else {
            if (this.receipt.paymentMode.trim() == "Cheque" && this.receipt.chequeNumber.trim() == "") {
                this.snackBar.open('Enter Cheque Number', null, {
                    duration: 5000
                });
            }
            else if (this.receipt.paymentMode.trim() == "Cheque" && this.receipt.bankName.trim() == "") {
                this.snackBar.open('Enter Bank Name for the cheque', null, {
                    duration: 5000
                });
            }
            else if (this.receipt.paymentMode.trim() == "NEFT" && this.receipt.neftBankName.trim() == "") {
                this.snackBar.open('Enter Bank name of NEFT', null, {
                    duration: 5000
                });
            }
            else if (this.receipt.paymentMode.trim() == "NEFT" && this.receipt.transactionNumber.trim() == "") {
                this.snackBar.open('Enter NEFT Transaction Number', null, {
                    duration: 5000
                });
            }
            else {
                console.log("receipt");
                this.receipt.date = __WEBPACK_IMPORTED_MODULE_5_moment__(this.receipt.date).format("YYYY-MM-DD");
                this.receipt.bankCreditDate = __WEBPACK_IMPORTED_MODULE_5_moment__(this.receipt.bankCreditDate).format("YYYY-MM-DD");
                console.log(this.receipt);
                this.receiptService.addHotelReceipt(this.receipt).subscribe(function (data) {
                    _this.selectedInvoices.forEach(function (element) {
                        var temp = {
                            receiptId: data.insertId,
                            invoice: element
                        };
                        console.log(element);
                        _this.receiptService.addHotelInvoices(temp).subscribe(function () { });
                    });
                    // if(data.affectedRows==1){
                    //   this.param.inserted='yes';
                    //   this.param.data=this.receipt;
                    //   this.matDialogRef.close(this.param);
                    // } 
                }, function (err) { console.log(err); }, function () {
                    _this.snackBar.open("Receipt Added", "X", { duration: 3000 });
                    _this.router.navigateByUrl('/pages/masters/receiptsdisp');
                });
            }
        }
    };
    AddHotelReceiptComponent.prototype.getInvoicesData = function () {
        var _this = this;
        this.receiptService.getInvoiceInHotelReceipts(this.receipt).subscribe(function (data) {
            _this.finalTotal = 0;
            data.forEach(function (element) {
                _this.semiFinalTotal = _this.semiFinalTotal + (Number)(element.totalAmount);
                element.invoiceTotal = element.totalAmount - element.tdsAmount - element.adjustment;
                _this.finalTotal = _this.finalTotal + element.invoiceTotal;
                _this.selectedInvoices.push(element);
            });
            _this.changeTdsAmount();
            _this.changeAdjustment();
        });
    };
    AddHotelReceiptComponent.prototype.checkPaymentMode = function (temp) {
        console.log(temp);
        if (temp == "Cheque") {
            this.cheque = true;
            this.neft = false;
        }
        else if (temp == "NEFT") {
            this.cheque = false;
            this.neft = true;
        }
        else {
            this.cheque = false;
            this.neft = false;
        }
    };
    AddHotelReceiptComponent.prototype.filterBankAccounts = function (val) {
        return this.bankAccounts.filter(function (option) {
            return option.name.toLowerCase().includes(val.toLowerCase());
        });
    };
    AddHotelReceiptComponent.prototype.setReceivedInBank = function (option, event) {
        if (event.source.selected == true) {
            // console.log(option);
            this.receipt.receivedInBank = option.id;
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])("window:beforeunload", ["$event"]),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Event]),
        __metadata("design:returntype", void 0)
    ], AddHotelReceiptComponent.prototype, "unloadHandler", null);
    AddHotelReceiptComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'add-hotel-receipt',
            template: __webpack_require__("./src/app/pages/masters/add-hotel-receipt/add-hotel-receipt.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/add-hotel-receipt/add-hotel-receipt.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_6__customer_customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_7__addreceipts_receipt_service__["a" /* ReceiptService */],
            __WEBPACK_IMPORTED_MODULE_8__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_8__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_9__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__newcustomergroup_newcustomergroup_component__["a" /* NewcustomergroupComponent */],
            __WEBPACK_IMPORTED_MODULE_10__operations_new_bank_account_bank_account_service__["a" /* BankAccountService */],
            __WEBPACK_IMPORTED_MODULE_12__angular_router__["c" /* Router */]])
    ], AddHotelReceiptComponent);
    return AddHotelReceiptComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/add-visa-receipt/add-visa-receipt.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n    <div class=\"col-lg-12\">\n        <nb-card>\n            <nb-card-header>\n                New Receipt\n                <b style=\"float: right; font-size: 12px; font-weight: 100;\">*All figures in Rs.</b>\n            </nb-card-header>\n    <nb-card-body>\n    <div class=\"row\">\n    <div class=\"col-lg-6 col-12\">\n        <!-- <nb-card>\n            <nb-card-body> -->\n                <div class=\"row\">\n                    <div class=\"col-lg-12 col-12\">\n                        <mat-form-field>\n                            Customer Group\n                            <mat-select>                                \n                                <mat-option *ngFor=\"let element of customerGroup\" [value]=\"element.name\" (onSelectionChange)=\"setCustomerGroupId(element,$event)\">\n                                    {{element.name}}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-lg-12 col-12\">\n                        <mat-form-field style=\"width:90%\">\n                            Customer\n                            <input matInput [(ngModel)]=\"cname\" [matAutocomplete]=\"customer\" name=\"cname\">\n                            <mat-autocomplete #customer=\"matAutocomplete\">\n                                <mat-option *ngFor=\"let element of customersObs\" [value]=\"element.name\" (onSelectionChange)=\"getInvoices(element,$event)\">\n                                    {{element.name}}\n                                </mat-option>\n                            </mat-autocomplete>\n                        </mat-form-field>\n                    </div>\n                </div>                \n            <!-- </nb-card-body>\n        </nb-card> -->\n    </div>\n    <div class=\"col-lg-6 col-12\">\n        <!-- <nb-card>\n            <nb-card-body> -->\n                <div class=\"row\">\n                    <div class=\"col-lg-12 col-12\">\n                        <mat-form-field>\n                            Receipt Number:\n                            <input [(ngModel)]=\"receipt.number\" matInput>\n                        </mat-form-field>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-lg-12 col-12\">\n                        <mat-form-field>\n                            Receipt Date:\n                            <input [matDatepicker]=\"receiptDate\" [(ngModel)]=\"receipt.date\" matInput readonly (click)=\"receiptDate.open()\">\n                            <mat-datepicker-toggle matSuffix [for]=\"receiptDate\"></mat-datepicker-toggle>\n                            <mat-datepicker #receiptDate></mat-datepicker>\n                        </mat-form-field>\n                    </div>\n                </div>                                                \n            <!-- </nb-card-body>\n        </nb-card> -->\n    </div>\n</div>\n<div class=\"row\" style=\"margin-top:10px;\">\n    <div class=\"col-lg-12 col-12\">\n        <!-- <nb-card>\n            <nb-card-header>Invoices</nb-card-header>\n            <nb-card-body>                 -->\n                <!-- Selected invoices -->\n                <h5>Invoices</h5>\n                <table style=\"width:100%\">\n                    <tr>\n                        <th>\n                            Invoice Number\n                        </th>\n                        <th>\n                            Invoice Date\n                        </th>\n                        <th>\n                            TDS\n                        </th>\n                        <th>\n                            Adjustment\n                        </th>\n                        <th>\n                            Advance\n                        </th>\n                        <th>\n                            Invoice Amount\n                        </th>\n                        <th>\n                            Total\n                        </th>\n                    </tr>\n                    <tr *ngFor=\"let element of selectedInvoices\">\n                        <td>\n                            {{element.invoiceNumber}}\n                        </td>\n                        <td>\n                            {{element.invoiceDate | date: 'dd-MM-yyyy'}}\n                        </td>\n                        <td>\n                            <mat-form-field>\n                                <input matInput type=\"number\"  [(ngModel)]=\"element.tdsAmount\" (ngModelChange)=\"changeTdsAmount($event)\" >\n                            </mat-form-field>\n                            <!-- <mat-form-field>\n                                <input matInput type=\"number\" [(ngModel)]=\"element.tdsPercent\" (ngModelChange)=\"changeTdsPercent($event)\" >\n                            </mat-form-field> -->\n                        </td>\n                        <td>\n                            <mat-form-field>\n                                <input matInput type=\"number\"  [(ngModel)]=\"element.adjustment\" (ngModelChange)=\"changeAdjustment($event)\" >\n                            </mat-form-field>\n                        </td>\n                        <td>\n                            {{element.advanceReceived}}\n                        </td>\n                        <td>\n                            {{element.totalAmount - element.advanceReceived }}\n                        </td>\n                        <td>\n                            {{element.totalAmount-element.tdsAmount-element.adjustment}}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td colspan=\"2\"><b>Total:</b></td>\n                        <td>{{tdsAmountTotal}}</td>\n                        <td>{{adjustmentTotal}}</td>\n                        <!-- <td colspan=\"2\">{{semiFinalTotal}}</td> -->\n                        <td colspan=\"2\"></td>\n                        <td>{{finalTotal}}</td>\n                    </tr>\n                </table>\n            <!-- </nb-card-body>\n        </nb-card> -->\n    </div> \n</div>\n<div class=\"row ptb-10\">\n    <div class=\"col-lg-12\">\n        <button mat-raised-button color=\"primary\" (click)=\"addInvoices()\">Select Invoices</button>\n    </div>\n</div>\n<div class=\"row\">\n    <!-- <div class=\"col-lg-12 col-12\"> -->\n        <!-- <nb-card>\n            <nb-card-body> -->\n                <!-- <div class=\"row\"> -->\n                    <div class=\"col-lg-4\">\n                        <mat-form-field style=\"width:90%\">\n                            Payment Received\n                            <input [(ngModel)]=\"receipt.paymentReceived\" matInput>\n                        </mat-form-field>\n                    </div>\n                <!-- </div> -->\n                <!-- <div class=\"row\"> -->\n                    <div class=\"col-lg-4\">\n                        <mat-form-field style=\"width:90%\">\n                            TDS\n                            <input [(ngModel)]=\"receipt.tds\" matInput>\n                        </mat-form-field>\n                    </div>\n                <!-- </div> -->\n                <!-- <div class=\"row\"> -->\n                    <div class=\"col-lg-4\">\n                        <mat-form-field style=\"width:90%\">\n                            Adjustments\n                            <input [(ngModel)]=\"receipt.adjustment\" matInput>\n                        </mat-form-field>\n                    </div>\n                <!-- </div>                  -->\n            <!-- </nb-card-body>\n        </nb-card> -->\n    <!-- </div> -->\n</div>\n<div class=\"row\">\n    <div class=\"col-lg-6\">\n        <!-- <nb-card class=\"paymentsCard\">\n            <nb-card-body> -->\n                <div>\n                    <b>Payment Mode</b><br><br>\n                    <mat-radio-group [(ngModel)]=\"receipt.paymentMode\" (change)=\"checkPaymentMode(receipt.paymentMode)\">\n                        <mat-radio-button value=\"Credit Card\">Credit Card</mat-radio-button>\n                        <mat-radio-button value=\"Cheque\">Cheque</mat-radio-button>\n                        <mat-radio-button value=\"NEFT\">NEFT</mat-radio-button>\n                        <mat-radio-button value=\"Cash\">Cash</mat-radio-button>\n                        <mat-radio-button value=\"Others\">Others</mat-radio-button>\n                    </mat-radio-group>\n                </div>\n                <div>\n                    <mat-form-field style=\"width:90%;\">\n                    Received in Bank              \n                    <input matInput [formControl]=\"receivedInBankCtrl\"  [matAutocomplete]=\"autoRIB\">\n                    <mat-autocomplete #autoRIB=\"matAutocomplete\">\n                        <mat-option *ngFor=\"let option of bankAccount | async\" [value]=\"option.bankName\" (onSelectionChange)=\"setReceivedInBank(option,$event)\">\n                            {{ option.bankName }} ({{option.number}})\n                        </mat-option>\n                    </mat-autocomplete>\n                    </mat-form-field>\n                </div>\n                <div>\n                    <mat-form-field>\n                    Bank Credit Date\n                    <input matInput [(ngModel)]=\"receipt.bankCreditDate\" [matDatepicker]=\"bankCreditDate\" (click)=\"bankCreditDate.open()\">\n                    <mat-datepicker-toggle matSuffix [for]=\"bankCreditDate\"></mat-datepicker-toggle>\n                    <mat-datepicker #bankCreditDate></mat-datepicker>\n                    </mat-form-field>\n                </div>        \n            <!-- </nb-card-body>\n        </nb-card> -->\n    </div>\n    <div class=\"col-lg-6\">\n        <div *ngIf=\"cheque\">\n                <mat-form-field>\n                Cheque Number\n                <input matInput [(ngModel)]=\"receipt.chequeNumber\">\n                </mat-form-field>\n                <br>\n                <mat-form-field>\n                Bank Name\n                <input matInput [(ngModel)]=\"receipt.bankName\">\n                </mat-form-field>\n                <br>\n                <mat-form-field>\n                Cheque Date\n                <input matInput [(ngModel)]=\"receipt.chequeDate\" [matDatepicker]=\"chequeDate\" (click)=\"chequeDate.open()\">\n                <mat-datepicker-toggle matSuffix [for]=\"chequeDate\"></mat-datepicker-toggle>\n                <mat-datepicker #chequeDate></mat-datepicker>\n                </mat-form-field>\n            \n        </div>\n        <div *ngIf=\"neft\">\n                <mat-form-field>\n                Transaction Number\n                <input matInput [(ngModel)]=\"receipt.transactionNumber\">\n                </mat-form-field>\n            <br>\n                <mat-form-field>\n                Bank Name\n                <input matInput [(ngModel)]=\"receipt.neftBankName\">\n                </mat-form-field>\n         </div>\n    </div>\n</div>\n</nb-card-body>\n</nb-card>\n</div>\n</div>\n<div class=\"row ptb-10\">\n    <div class=\"col-lg-12\">\n        <button mat-raised-button color=\"primary\" (click)=\"saveReceipt()\">Save</button>\n        <!-- <button mat-raised-button color=\"warn\"(click)=\"closeDialog()\">Close</button> -->\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/add-visa-receipt/add-visa-receipt.component.scss":
/***/ (function(module, exports) {

module.exports = ".full-width {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  min-width: 100px; }\n\nnb-checkbox {\n  margin-bottom: 1rem; }\n\n.form-inline > * {\n  margin: 0 1.5rem 1.5rem 0; }\n\nnb-card.inline-form-card nb-card-body {\n  padding-bottom: 0; }\n\nth {\n  padding: 5px;\n  border: 1px solid lightgrey; }\n\ntd {\n  padding: 5px;\n  border: 1px solid lightgrey; }\n\n.customerCard {\n  height: 181px; }\n\n.paymentsCard {\n  height: 241px; }\n\n.mat-dialog-container {\n  width: 85% !important; }\n\ninput.mat-input-element {\n  margin-top: 5px; }\n\n.mat-radio-button {\n  margin-right: 10px; }\n"

/***/ }),

/***/ "./src/app/pages/masters/add-visa-receipt/add-visa-receipt.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AddVisaReceiptComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__newcustomergroup_newcustomergroup_component__ = __webpack_require__("./src/app/pages/masters/newcustomergroup/newcustomergroup.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_operators_startWith__ = __webpack_require__("./node_modules/rxjs/_esm5/operators/startWith.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_operators_map__ = __webpack_require__("./node_modules/rxjs/_esm5/operators/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__addreceipts_receipt_service__ = __webpack_require__("./src/app/pages/masters/addreceipts/receipt.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__operations_new_bank_account_bank_account_service__ = __webpack_require__("./src/app/pages/operations/new-bank-account/bank-account.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__selectvisainvoices_selectvisainvoices_component__ = __webpack_require__("./src/app/pages/masters/selectvisainvoices/selectvisainvoices.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var AddVisaReceiptComponent = (function () {
    function AddVisaReceiptComponent(customerService, receiptService, snackBar, dialog, 
        // private matDialogRef:MatDialogRef<AddReceiptsComponent>,
        // @Inject(MAT_DIALOG_DATA) public data,
        auth, customerGroupService, bankAccountService, router) {
        // if(data!=null)
        this.customerService = customerService;
        this.receiptService = receiptService;
        this.snackBar = snackBar;
        this.dialog = dialog;
        this.auth = auth;
        this.customerGroupService = customerGroupService;
        this.bankAccountService = bankAccountService;
        this.router = router;
        this.cheque = false;
        this.neft = false;
        this.receivedInBankCtrl = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]();
        this.selectedInvoices = [];
        this.tdsAmountTotal = 0;
        this.adjustmentTotal = 0;
        this.semiFinalTotal = 0;
        this.finalTotal = 0;
        this.selectedCustomer = '';
        this.customerGroupId = '';
        this.user = {};
        this.param = {
            inserted: 'no',
            data: null
        };
        this.receipt = {
            customerGroup: '',
            customerGroupId: '',
            customerName: '',
            customerId: '',
            number: '',
            date: '',
            paymentReceived: '',
            tds: '',
            adjustment: '',
            paymentMode: '',
            receivedInBank: '',
            bankCreditDate: '',
            ownerId: '',
            //added recently
            bankName: '',
            chequeNumber: '',
            chequeDate: '',
            neftBankName: '',
            transactionNumber: ''
        };
        // { this.receipt.id=data.id;
        //   this.receipt.date=data.date
        //   this.receipt.customerGroup=data.customerGroup
        //   this.receipt.number=data.number
        //   this.receipt.paymentReceived=data.paymentReceived
        //   this.receipt.tds=data.tds
        //   this.receipt.adjustment=data.adjustment
        //   this.receipt.paymentMode=data.paymentMode
        //   this.receipt.receivedInBank=data.receivedInBank
        //   this.receipt.bankCreditDate=data.bankCreditDate
        //   this.getInvoicesData();
        // }
    }
    AddVisaReceiptComponent.prototype.unloadHandler = function (event) {
        console.log("Processing beforeunload...");
        event.returnValue = false;
    };
    AddVisaReceiptComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.bankAccountService.getBankAccount(_this.user).subscribe(function (data) {
                _this.bankAccounts = data;
                _this.bankAccount = _this.receivedInBankCtrl.valueChanges
                    .pipe(Object(__WEBPACK_IMPORTED_MODULE_3_rxjs_operators_startWith__["a" /* startWith */])(''), Object(__WEBPACK_IMPORTED_MODULE_4_rxjs_operators_map__["a" /* map */])(function (val) { return _this.filterBankAccounts(val); }));
            });
            _this.customerService.getCustomers(_this.user).subscribe(function (data) {
                _this.customersObs = data;
            });
            _this.receipt.ownerId = data[0].ownerId;
            _this.customerGroupService.getCustomerGroups(_this.user).subscribe(function (data) {
                _this.customerGroup = data;
                console.log(data);
            });
        });
    };
    AddVisaReceiptComponent.prototype.setCustomerGroupId = function (temp, event) {
        var _this = this;
        if (event.source.selected == true) {
            if (this.customerGroupId != temp.id) {
                this.selectedInvoices = [];
                this.semiFinalTotal = 0;
                this.finalTotal = 0;
                this.tdsAmountTotal = 0;
                this.adjustmentTotal = 0;
                this.cname = '';
            }
            this.receipt.customerGroup = temp.name;
            this.receipt.customerGroupId = temp.id;
            this.customerGroupId = temp.id;
            var custTemp = {
                user: this.user,
                customerGroupId: temp.id
            };
            this.customerService.getCustomersById(custTemp).subscribe(function (data) {
                _this.customersObs = data;
                console.log(data);
            });
        }
    };
    AddVisaReceiptComponent.prototype.addInvoices = function () {
        var _this = this;
        if (this.customersObs == null) {
            this.snackBar.open("Please Select One Customer", null, { duration: 2000 });
        }
        else {
            var params = {
                selectedCustomer: this.selectedCustomer,
                selectedInvoices: this.selectedInvoices
            };
            this.dialog.open(__WEBPACK_IMPORTED_MODULE_11__selectvisainvoices_selectvisainvoices_component__["a" /* SelectvisainvoicesComponent */], { data: params, autoFocus: false, disableClose: true }).afterClosed().subscribe(function (data) {
                _this.finalTotal = 0;
                // console.log(data)
                data.forEach(function (element) {
                    element.tdsPercent = 0;
                    element.tdsAmount = 0;
                    element.adjustment = 0;
                    // console.log(element)
                    _this.semiFinalTotal = _this.semiFinalTotal + (Number)(element.totalAmount);
                    element.invoiceTotal = element.totalAmount - element.tdsAmount - element.adjustment;
                    _this.finalTotal = _this.finalTotal + element.invoiceTotal;
                    _this.selectedInvoices = data;
                });
            });
        }
    };
    AddVisaReceiptComponent.prototype.changeTdsAmount = function () {
        var _this = this;
        this.tdsAmountTotal = 0;
        this.finalTotal = 0;
        this.selectedInvoices.forEach(function (element) {
            element.tdsPercent = (element.tdsAmount / element.totalAmount * 100);
            _this.tdsAmountTotal = _this.tdsAmountTotal + (Number)(element.tdsAmount);
            element.invoiceTotal = element.totalAmount - element.tdsAmount - element.adjustment;
            _this.finalTotal = _this.finalTotal + element.invoiceTotal;
        });
    };
    AddVisaReceiptComponent.prototype.changeTdsPercent = function () {
        var _this = this;
        this.tdsAmountTotal = 0;
        this.finalTotal = 0;
        this.selectedInvoices.forEach(function (element) {
            element.tdsAmount = (element.tdsPercent / 100 * element.totalAmount);
            _this.tdsAmountTotal = _this.tdsAmountTotal + (Number)(element.tdsAmount);
            element.invoiceTotal = element.totalAmount - element.tdsAmount - element.adjustment;
            _this.finalTotal = _this.finalTotal + element.invoiceTotal;
        });
    };
    AddVisaReceiptComponent.prototype.changeAdjustment = function () {
        var _this = this;
        this.adjustmentTotal = 0;
        this.finalTotal = 0;
        this.selectedInvoices.forEach(function (element) {
            _this.adjustmentTotal = _this.adjustmentTotal + (Number)(element.adjustment);
            element.invoiceTotal = element.totalAmount - element.tdsAmount - element.adjustment;
            _this.finalTotal = _this.finalTotal + element.invoiceTotal;
        });
    };
    AddVisaReceiptComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    AddVisaReceiptComponent.prototype.getInvoices = function (cust, event) {
        if (event.source.selected == true) {
            if (cust.id != this.selectedCustomer) {
                this.selectedInvoices = [];
                this.semiFinalTotal = 0;
                this.finalTotal = 0;
                this.tdsAmountTotal = 0;
                this.adjustmentTotal = 0;
            }
            this.receipt.customerName = cust.name;
            this.receipt.customerId = cust.id;
            this.selectedCustomer = cust.id;
        }
    };
    AddVisaReceiptComponent.prototype.saveReceipt = function () {
        var _this = this;
        if (this.receipt.customerGroup == "") {
            this.snackBar.open('Enter Customer Group', null, {
                duration: 5000
            });
        }
        else if (this.receipt.number.trim() == "") {
            this.snackBar.open('Enter receipt number', null, {
                duration: 5000
            });
        }
        else if (this.receipt.date == "") {
            this.snackBar.open('Enter Date', null, {
                duration: 5000
            });
        }
        else if (this.receipt.paymentReceived.trim() == "") {
            this.snackBar.open('Enter Payment Received', null, {
                duration: 5000
            });
        }
        else if (this.receipt.tds.trim() == "") {
            this.snackBar.open('Enter TDS', null, {
                duration: 5000
            });
        }
        else if (this.receipt.paymentMode.trim() == "") {
            this.snackBar.open('Enter Payment Mode', null, {
                duration: 5000
            });
        }
        else if (this.receipt.receivedInBank == "") {
            this.snackBar.open('Enter Received in Bank Details', null, {
                duration: 5000
            });
        }
        else {
            if (this.receipt.paymentMode.trim() == "Cheque" && this.receipt.chequeNumber.trim() == "") {
                this.snackBar.open('Enter Cheque Number', null, {
                    duration: 5000
                });
            }
            else if (this.receipt.paymentMode.trim() == "Cheque" && this.receipt.bankName.trim() == "") {
                this.snackBar.open('Enter Bank Name for the cheque', null, {
                    duration: 5000
                });
            }
            else if (this.receipt.paymentMode.trim() == "NEFT" && this.receipt.neftBankName.trim() == "") {
                this.snackBar.open('Enter Bank name of NEFT', null, {
                    duration: 5000
                });
            }
            else if (this.receipt.paymentMode.trim() == "NEFT" && this.receipt.transactionNumber.trim() == "") {
                this.snackBar.open('Enter NEFT Transaction Number', null, {
                    duration: 5000
                });
            }
            else {
                console.log("receipt");
                this.receipt.date = __WEBPACK_IMPORTED_MODULE_5_moment__(this.receipt.date).format("YYYY-MM-DD");
                this.receipt.bankCreditDate = __WEBPACK_IMPORTED_MODULE_5_moment__(this.receipt.bankCreditDate).format("YYYY-MM-DD");
                this.receiptService.addVisaReceipt(this.receipt).subscribe(function (data) {
                    _this.selectedInvoices.forEach(function (element) {
                        var temp = {
                            receiptId: data.insertId,
                            invoice: element
                        };
                        console.log(element);
                        _this.receiptService.addVisaInvoices(temp).subscribe();
                    });
                    // if(data.affectedRows==1){
                    //   this.param.inserted='yes';
                    //   this.param.data=this.receipt;
                    //   this.matDialogRef.close(this.param);
                    // } 
                }, function (err) { console.log(err); }, function () {
                    _this.snackBar.open("Receipt Added", "X", { duration: 3000 });
                    _this.router.navigateByUrl('/pages/masters/receiptsdisp');
                });
            }
        }
    };
    AddVisaReceiptComponent.prototype.getInvoicesData = function () {
        var _this = this;
        this.receiptService.getInvoiceInVisaReceipts(this.receipt).subscribe(function (data) {
            _this.finalTotal = 0;
            data.forEach(function (element) {
                _this.semiFinalTotal = _this.semiFinalTotal + (Number)(element.totalAmount);
                element.invoiceTotal = element.totalAmount - element.tdsAmount - element.adjustment;
                _this.finalTotal = _this.finalTotal + element.invoiceTotal;
                _this.selectedInvoices.push(element);
            });
            _this.changeTdsAmount();
            _this.changeAdjustment();
        });
    };
    AddVisaReceiptComponent.prototype.checkPaymentMode = function (temp) {
        console.log(temp);
        if (temp == "Cheque") {
            this.cheque = true;
            this.neft = false;
        }
        else if (temp == "NEFT") {
            this.cheque = false;
            this.neft = true;
        }
        else {
            this.cheque = false;
            this.neft = false;
        }
    };
    AddVisaReceiptComponent.prototype.filterBankAccounts = function (val) {
        return this.bankAccounts.filter(function (option) {
            return option.name.toLowerCase().includes(val.toLowerCase());
        });
    };
    AddVisaReceiptComponent.prototype.setReceivedInBank = function (option, event) {
        if (event.source.selected == true) {
            // console.log(option);
            this.receipt.receivedInBank = option.id;
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])("window:beforeunload", ["$event"]),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Event]),
        __metadata("design:returntype", void 0)
    ], AddVisaReceiptComponent.prototype, "unloadHandler", null);
    AddVisaReceiptComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'add-visa-receipt',
            template: __webpack_require__("./src/app/pages/masters/add-visa-receipt/add-visa-receipt.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/add-visa-receipt/add-visa-receipt.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_6__customer_customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_7__addreceipts_receipt_service__["a" /* ReceiptService */],
            __WEBPACK_IMPORTED_MODULE_8__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_8__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_9__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__newcustomergroup_newcustomergroup_component__["a" /* NewcustomergroupComponent */],
            __WEBPACK_IMPORTED_MODULE_10__operations_new_bank_account_bank_account_service__["a" /* BankAccountService */],
            __WEBPACK_IMPORTED_MODULE_12__angular_router__["c" /* Router */]])
    ], AddVisaReceiptComponent);
    return AddVisaReceiptComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/addpurchase/addpurchase.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\r\n  <div class=\"col-lg-12\">\r\n    <nb-card>\r\n      <nb-card-header>\r\n        Create Purchase Invoices\r\n        <b style=\"float: right; font-size: 12px; font-weight: 100;\">*All figures in Rs.</b>\r\n      </nb-card-header>\r\n      <nb-card-body class=\"box\">\r\n        <div class=\"col-lg-12\" style=\"padding:10px;\"> \r\n          <table>\r\n            <tr>\r\n              <td></td>\r\n            </tr>\r\n          </table>\r\n        </div>\r\n        <div class=\"box2\">\r\n          <div class=\"col-lg-6 vl\">\r\n            <table cellpadding=8px>\r\n              <tr><td><b>B2B Customers:</b></td><td>{{selectedClient.name}}</td></tr>\r\n              <!-- <tr><td><b>Customer No:</b></td><td>{{selectedSupplier.phone}}</td></tr>\r\n              <tr><td><b>State:</b></td><td>{{selectedCustomer.state}}</td></tr>\r\n              <tr><td><b>Pan:</b></td><td>{{selectedCustomer.panNo}}</td></tr>\r\n              <tr><td><b>GSTIN:</b></td><td>{{selectedCustomer.gstin}}</td></tr> -->\r\n              <tr><td> <button mat-raised-button color=\"primary\" (click)=\"selectClient()\">Select Client</button></td></tr>\r\n              <tr>\r\n                <td>\r\n                  <b>Supplier Invoice Number:</b>\r\n                </td>\r\n                <td>\r\n                  <mat-form-field>\r\n                    <input matInput [(ngModel)]=\"invoice.supplierInvoiceNumber\">\r\n                  </mat-form-field>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <b>Supplier Invoice Date:</b>\r\n                </td>\r\n                <td>\r\n                  <mat-form-field>\r\n                    <input matInput type=\"date\" name=\"date\" [(ngModel)]=\"invoice.supplierInvoiceDate\">\r\n                  </mat-form-field>\r\n                </td>\r\n              </tr>\r\n            </table>\r\n          </div>\r\n          <div class=\"col-lg-6\">\r\n            <table>\r\n              <tr><td><b>Invoice Number:</b></td><td>{{newInvoiceNumber}}</td></tr>\r\n              <tr><td><b>Invoice Date:</b></td>\r\n                <td>\r\n                  <mat-form-field>\r\n                    <input matInput type=\"date\" name=\"date\" [(ngModel)]=\"invoice.invoiceDate\">\r\n                  </mat-form-field>\r\n                </td>\r\n              </tr>\r\n              <tr><td><b>Invoice Period:</b></td></tr>\r\n              <tr><td>\r\n                <mat-form-field>\r\n                  <input matInput [matDatepicker]=\"picker1\" placeholder=\"from\" [(ngModel)]=\"invoice.invoicePeriodFrom\" name=\"date\">\r\n                  <mat-datepicker-toggle matSuffix [for]=\"picker1\"></mat-datepicker-toggle>\r\n                  <mat-datepicker #picker1></mat-datepicker>\r\n                </mat-form-field></td>\r\n                <td>\r\n                  <mat-form-field>\r\n                    <input matInput [matDatepicker]=\"picker2\" placeholder=\"to\" [(ngModel)]=\"invoice.invoicePeriodTo\" name=\"date\">\r\n                    <mat-datepicker-toggle matSuffix [for]=\"picker2\"></mat-datepicker-toggle>\r\n                    <mat-datepicker #picker2></mat-datepicker>\r\n                  </mat-form-field>\r\n                </td>\r\n              </tr>\r\n              <tr><td><b>CC Number</b></td>\r\n              <td><b>PO Number</b></td></tr>\r\n              <tr><td><mat-form-field><input matInput [(ngModel)]=\"invoice.PONumber\"></mat-form-field></td>\r\n              <td><mat-form-field><input matInput [(ngModel)]=\"invoice.CCNumber\"></mat-form-field></td></tr>\r\n            </table>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-12\">\r\n          <h4></h4>\r\n          <form [formGroup]=\"myForm\">\r\n            <div formArrayName=\"rows\">\r\n              <table style=\"width:100%;margin-top:10px;\" cellpadding=\"10\">\r\n                <tr class=\"invoiceTable\">\r\n                  <th>Sr.</th>\r\n                  <th>Description</th>\r\n                  <th>Rate</th>\r\n                  <th>Quantity</th>\r\n                  <th>Amount</th>\r\n                  <th></th>\r\n                </tr>\r\n                <tbody *ngFor=\"let temp of selectedDuties; let i=index\" >\r\n                  <tr [formGroupName]=\"i\" style=\"text-align:center;\" class=\"invoiceTable\">                      \r\n                    <td>\r\n                      {{i+1}}\r\n                    </td>\r\n                    <td class=\"tdleft\">\r\n                      <b>ReportingAddress:</b>{{temp.reportingAddress}}<br>\r\n                      <b>DutyType:</b>{{temp.dutyType}}<br>\r\n                      <b>Vehicle Group:</b>{{temp.vehicleGroup}}<br>\r\n                      <a *ngIf=\"!this.businessSettings.HideVehicleName\"><b>Vehicle:</b>{{temp.vehicle}}</a>\r\n                      <b>Passenger Name:</b>{{temp.passenger}}\r\n                    </td>\r\n                    <td>\r\n                      {{temp.totsPrice}}\r\n                    </td>\r\n                    <td>\r\n                      1\r\n                    </td>\r\n                    <td>\r\n                      {{temp.totsPrice}}\r\n                    </td>\r\n                    <td>\r\n                      <button mat-icon-button (click)=\"deleteBooking(i)\"><mat-icon style=\"font-size: 20px\">clear</mat-icon></button>\r\n                    </td>\r\n                  </tr>                  \r\n                  <tr style=\"text-align:center;\" class=\"invoiceTable\" *ngFor=\"let element of temp.extras\">                  \r\n                    <td colspan=\"3\" style=\"text-align: center;\" *ngIf=\"temp.extras\">{{element.name}}</td>\r\n                    <td *ngIf=\"temp.extras\">1</td>\r\n                    <td *ngIf=\"temp.extras\">{{element.charges}}</td>\r\n                    <td></td>\r\n                  </tr>                                    \r\n                </tbody> \r\n                <tr *ngFor=\"let aRow of invoiceForms.controls; let i=index\" \r\n                  [formGroupName]=\"i\" class=\"invoiceTable\">                  \r\n                  <td>{{i+1}}</td>\r\n                  <td><mat-form-field><input matInput formControlName=\"description\" placeholder=\"Charges\"></mat-form-field></td>\r\n                  <td><mat-form-field><input matInput type=\"number\" formControlName=\"rate\" (change)=\"calculateCharges(aRow)\" ></mat-form-field></td>\r\n                  <td><mat-form-field><input matInput type=\"number\" formControlName=\"quantity\" (change)=\"calculateCharges(aRow)\"></mat-form-field></td>\r\n                  <td><mat-form-field><input matInput type=\"number\" formControlName=\"amount\"></mat-form-field></td>\r\n                  <td><button mat-icon-button (click)=\"deleteRow(i)\"><mat-icon style=\"font-size: 20px\">clear</mat-icon></button></td>\r\n                </tr>\r\n                <tr *ngIf=\"isDiscounted\">\r\n                  <td></td>\r\n                  <td>\r\n                    <mat-form-field><input matInput placeholder=\"Discount\"></mat-form-field>\r\n                    <mat-form-field>\r\n                      <mat-select [(value)]=\"invoice.discountType\" placeholder=\"Select Type\">\r\n                        <mat-option value=\"Amount\" (click)=\"getDiscount(1)\">\r\n                          by Amount\r\n                        </mat-option>\r\n                        <mat-option value=\"Percentage\" (click)=\"getDiscount(2)\">\r\n                          by %\r\n                        </mat-option>\r\n                        <mat-option value=\"PercentByHireCharges\" (click)=\"getDiscount(3)\">\r\n                          by % on Car Hire Charges\r\n                        </mat-option>\r\n                      </mat-select>\r\n                    </mat-form-field>\r\n                  </td>\r\n                  <td><mat-form-field><input matInput type=\"number\" (change)=\"discountRates($event.target.value)\"></mat-form-field></td>\r\n                  <td></td>\r\n                  <td>{{invoice.discountAmount}}</td>\r\n                  <td><button mat-icon-button (click)=\"isDiscount()\"><mat-icon style=\"font-size: 20px\">clear</mat-icon></button></td>\r\n                </tr>\r\n                <tr class=\"trcenter\"><td colspan=\"4\">Taxable Amount</td>\r\n                  <td>\r\n                    {{totalTaxablePrice}}\r\n                  </td>\r\n                </tr>\r\n                <tr class=\"trcenter\" *ngIf=\"tax\">\r\n                  <td>\r\n                    <mat-form-field>\r\n                      <mat-select [value]=\"tax[0].name\">\r\n                        <mat-option *ngFor=\"let element of tax\" [value]=\"element.name\" (onSelectionChange)=\"getTax(element.name, element.percent, $event)\">\r\n                          {{element.name}}\r\n                        </mat-option>\r\n                      </mat-select>                                            \r\n                    </mat-form-field>\r\n                  </td>\r\n                  <td>\r\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">CGST</p>\r\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">SGST</p>\r\n                    <p *ngIf=\"invoice.taxType == 'IGST'\">IGST</p>\r\n                  </td>\r\n                  <td>\r\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">{{invoice.taxRate/2}}</p>\r\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">{{invoice.taxRate/2}}</p>\r\n                    <p *ngIf=\"invoice.taxType == 'IGST'\">{{invoice.taxRate}}</p>\r\n                  </td>\r\n                  <td>\r\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">1</p>\r\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">1</p>\r\n                    <p *ngIf=\"invoice.taxType == 'IGST'\">1</p>\r\n                  </td>\r\n                  <td>\r\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">{{invoice.taxAmount/2}}</p>\r\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">{{invoice.taxAmount/2}}</p>\r\n                    <p *ngIf=\"invoice.taxType == 'IGST'\">{{invoice.taxAmount}}</p>\r\n                  </td>\r\n                  <td></td>\r\n                </tr>\r\n                <tr class=\"trcenter\"><td colspan=\"4\">Non-Taxable Amount</td>\r\n                  <td>\r\n                    {{totalNonTaxablePrice}}\r\n                  </td>\r\n                </tr>\r\n                <tr class=\"trcenter\"><td colspan=\"4\">Total:</td>\r\n                  <td>\r\n                    {{totalPrice}}\r\n                  </td>\r\n                </tr>                    \r\n              </table>              \r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div class=\"invoice-button-container\">\r\n          <button class=\"invoice-button\" mat-raised-button color=\"primary\" (click)=\"viewduties()\">Select Bookings</button>\r\n          <button class=\"invoice-button\" mat-raised-button color=\"primary\" (click)=\"addRow(true)\">Add Row</button>\r\n          <button class=\"invoice-button\" mat-raised-button color=\"primary\" (click)=\"addRow(false)\">Add Row(NON-TAXABLE)</button>\r\n          <button class=\"invoice-button\" *ngIf=\"!isDiscounted\" mat-raised-button color=\"primary\" (click)=\"isDiscount()\">Add Discount</button>\r\n          <button class=\"invoice-button\" mat-raised-button color=\"primary\" (click)=\"addInvoice()\">Save</button>            \r\n        </div>\r\n      </nb-card-body>\r\n    </nb-card>\r\n  </div>  \r\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/addpurchase/addpurchase.component.scss":
/***/ (function(module, exports) {

module.exports = ".full-width {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  min-width: 100px; }\n\nnb-checkbox {\n  margin-bottom: 1rem; }\n\n.form-inline > * {\n  margin: 0 1.5rem 1.5rem 0; }\n\nnb-card.inline-form-card nb-card-body {\n  padding-bottom: 0; }\n\nth {\n  text-align: center; }\n\n.box2 {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  border-bottom: 0.1px solid;\n  border-bottom-color: darkgrey; }\n\n.vl {\n  border-right: 0.1px solid;\n  border-right-color: darkgrey; }\n\n.tdleft {\n  text-align: left; }\n\n.trcenter {\n  text-align: center; }\n\n.invoiceTable {\n  border-bottom: 1px solid;\n  border-bottom-color: lightblue; }\n"

/***/ }),

/***/ "./src/app/pages/masters/addpurchase/addpurchase.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AddPurchaseComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__dutiesdisp_dutiesdisp_component__ = __webpack_require__("./src/app/pages/masters/dutiesdisp/dutiesdisp.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__supplierdisp_supplierdisp_component__ = __webpack_require__("./src/app/pages/masters/supplierdisp/supplierdisp.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ng_bootstrap_ng_bootstrap_util_util__ = __webpack_require__("./node_modules/@ng-bootstrap/ng-bootstrap/util/util.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var AddPurchaseComponent = (function () {
    function AddPurchaseComponent(fb, dialog, invoiceService, snackBar, auth, router) {
        this.fb = fb;
        this.dialog = dialog;
        this.invoiceService = invoiceService;
        this.snackBar = snackBar;
        this.auth = auth;
        this.router = router;
        this.selectedDuties = [];
        this.fyear1 = new Date;
        this.fyear2 = new Date;
        this.fmonth = new Date;
        this.totalTaxablePrice = 0;
        this.totalNonTaxablePrice = 0;
        this.totalTaxablePriceAfterTax = 0;
        this.totalPrice = 0;
        this.dutyIds = [];
        this.extras = [];
        this.isDiscounted = false;
        this.custTax = "";
        this.selectedClient = {
            id: '',
            Name: '',
            supplierId: '',
            supplierName: '',
            ownerId: ''
        };
        this.selectedCustomer = {
            panNo: '',
            caddress: '',
            gstin: '',
            name: '',
        };
        this.invoice = {
            ownerId: '',
            customerId: '',
            invoiceNumber: '',
            invoiceDate: new Date().toISOString().split('T')[0],
            invoicePeriodFrom: '',
            invoicePeriodTo: '',
            PONumber: '',
            CCNumber: '',
            discountType: '',
            discountRate: 0,
            discountAmount: 0,
            taxType: '',
            taxRate: 0,
            taxAmount: 0,
            totalAmount: 0,
            taxableAmount: 0,
            nonTaxableAmount: 0,
            supplierInvoiceNumber: '',
            supplierInvoiceDate: new Date().toISOString().split('T')[0],
        };
    }
    AddPurchaseComponent.prototype.unloadHandler = function (event) {
        console.log("Processing beforeunload...");
        event.returnValue = false;
    };
    AddPurchaseComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.invoice.ownerId = data[0].ownerId;
            var temp = {
                ownerId: data[0].ownerId
            };
            _this.invoiceService.getTaxes(temp).subscribe(function (data) {
                console.log(data);
                _this.tax = data;
            });
            _this.invoiceService.getInvoices(temp).subscribe(function (data) {
                _this.invoiceNumber = data[0].invoiceNumber;
                // console.log(data[0].invoicePrefix)
                _this.prefix = "PR";
                // console.log(((this.fyear1.getFullYear())-1).toString().slice(2,4));
                if ((_this.fmonth.getMonth() + 1) > 3) {
                    _this.newYear1 = ((_this.fyear1.getFullYear())).toString().slice(2, 4);
                    _this.newYear2 = ((_this.fyear2.getFullYear()) + 1).toString().slice(2, 4);
                }
                else if ((_this.fmonth.getMonth() + 1) < 4) {
                    _this.newYear1 = ((_this.fyear1.getFullYear()) - 1).toString().slice(2, 4);
                    _this.newYear2 = ((_this.fyear2.getFullYear())).toString().slice(2, 4);
                }
                // console.log((this.fyear2.getFullYear())+1);                    
                // console.log(this.fmonth.getMonth()+1);
                // if((this.fmonth.getMonth()+1) > 9) {
                //   this.newMonth = (this.fmonth.getMonth()+1).toString();
                //   console.log(this.newMonth);
                // }
                // else if((this.fmonth.getMonth()+1) < 10) {
                //   this.newMonth = "0"+(this.fmonth.getMonth()+1).toString();
                //   console.log(this.newMonth);
                // }
                // console.log(this.prefix)
                // console.log(this.invoiceNumber.replace(this.prefix, ""));
                _this.invoiceNumber = _this.invoiceNumber.replace(_this.prefix, "");
                // console.log(this.invoiceNumber)
                _this.oldYear1 = _this.invoiceNumber.substr(0, 2);
                // console.log(this.oldYear1);
                _this.oldYear2 = _this.invoiceNumber.substr(2, 2);
                // console.log(this.oldYear2);
                // this.oldMonth = this.invoiceNumber.substr(4,2);
                // console.log(this.oldMonth);
                // console.log(this.invoiceNumber.substr(6));
                _this.subInvoiceNumber = _this.invoiceNumber.substr(4);
                // console.log(this.invoiceNumber);
                // this.newInvoiceNumber = toInteger(this.invoiceNumber);
                // this.newInvoiceNumber++;
                if ((_this.newYear1 == _this.oldYear1) && (_this.newYear2 == _this.oldYear2) /*&& (this.oldMonth == this.newMonth)*/) {
                    if (_this.subInvoiceNumber == "9999") {
                        _this.newSubInvoiceNumber = Object(__WEBPACK_IMPORTED_MODULE_7__ng_bootstrap_ng_bootstrap_util_util__["h" /* toInteger */])(_this.subInvoiceNumber);
                        _this.newSubInvoiceNumber++;
                        _this.newInvoiceNumber = _this.prefix + _this.newYear1 + _this.newYear2 /*+this.newMonth*/ + _this.newSubInvoiceNumber;
                    }
                    else {
                        _this.newSubInvoiceNumber = Object(__WEBPACK_IMPORTED_MODULE_7__ng_bootstrap_ng_bootstrap_util_util__["h" /* toInteger */])(_this.invoiceNumber);
                        _this.newSubInvoiceNumber++;
                        _this.newInvoiceNumber = _this.prefix + _this.newSubInvoiceNumber;
                    }
                }
                else if (_this.newYear1 != _this.oldYear1) {
                    _this.newInvoiceNumber = _this.prefix + _this.newYear1 + _this.newYear2 /*+this.newMonth*/ + "0001";
                }
                // else if(this.newMonth != this.oldMonth) {
                //   this.newInvoiceNumber = this.prefix+this.newYear1+this.newYear2+this.newMonth+"0001";
                // }
                console.log(_this.newInvoiceNumber);
            });
        });
        this.myForm = this.fb.group({
            rows: this.fb.array([])
        });
        this.taxForm = this.fb.group({
            taxrows: this.fb.array([]),
        });
    };
    AddPurchaseComponent.prototype.viewduties = function () {
        var _this = this;
        if (this.selectedClient.id != null) {
            var temp = {
                clientId: this.selectedClient.customerOwnerId,
                duties: this.selectedDuties
            };
            var dialTemp = this.dialog.open(__WEBPACK_IMPORTED_MODULE_5__dutiesdisp_dutiesdisp_component__["a" /* DutiesdispComponent */], { autoFocus: false, disableClose: true, data: { temp: temp } });
            dialTemp.afterClosed().subscribe(function (data) {
                if (data)
                    _this.selectedDuties = data;
                _this.selectedDuties.forEach(function (element) {
                    _this.dutyIds.push(element.id);
                });
                console.log(_this.selectedDuties);
                if (_this.selectedDuties.length > 0) {
                    _this.invoiceService.getExtraCharges({ idArray: _this.dutyIds }).subscribe(function (data) {
                        console.log(data);
                        _this.extras = data;
                        for (var v in _this.selectedDuties) {
                            console.log(v);
                            for (var e in _this.extras) {
                                console.log(e);
                                if (_this.extras[e].dutyId == _this.selectedDuties[v].id) {
                                    if (_this.selectedDuties[v].extras == undefined) {
                                        _this.selectedDuties[v].extras = [{ name: _this.extras[e].name, charges: _this.extras[e].charges }];
                                    }
                                    else {
                                        _this.selectedDuties[v].extras.push({ name: _this.extras[e].name, charges: _this.extras[e].charges });
                                    }
                                }
                            }
                        }
                    });
                }
                // this.getTax(1);
                _this.calculateTotal();
            });
        }
        else {
            this.snackBar.open('Select Supplier', null, {
                duration: 5000,
            });
        }
    };
    AddPurchaseComponent.prototype.selectClient = function () {
        var _this = this;
        var dial = this.dialog.open(__WEBPACK_IMPORTED_MODULE_6__supplierdisp_supplierdisp_component__["a" /* SupplierdispComponent */], { autoFocus: false, disableClose: true });
        dial.afterClosed().subscribe(function (data) {
            if (data) {
                console.log(data);
                _this.selectedClient = data;
                _this.invoice.customerId = data.id;
                console.log(_this.selectedCustomer.applicableTaxes);
                var cTax = _this.tax.find(function (x) { return x.id === Number(_this.selectedCustomer.applicableTaxes); });
                console.log(cTax);
                _this.custTax = cTax.name;
            }
        });
    };
    Object.defineProperty(AddPurchaseComponent.prototype, "invoiceForms", {
        //this.dialog.open(AddCustomerComponent,{autoFocus:false,disableClose:truedata:{row}});
        get: function () {
            return this.myForm.get('rows');
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AddPurchaseComponent.prototype, "taxableForms", {
        get: function () {
            return this.taxForm.get('taxrows');
        },
        enumerable: true,
        configurable: true
    });
    AddPurchaseComponent.prototype.addRow = function (taxableTemp) {
        var row = this.fb.group({
            description: '',
            rate: '',
            quantity: '',
            amount: '',
            taxable: taxableTemp,
        });
        this.invoiceForms.push(row);
    };
    AddPurchaseComponent.prototype.addBookingRow = function (booking) {
        var row = this.fb.group({
            description: "Reporting Address:\r\n" + booking.reportingAddress,
            rate: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["c" /* FormControl */](''),
            quantity: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["c" /* FormControl */](''),
            amount: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["c" /* FormControl */](''),
            taxable: true,
        });
        this.invoiceForms.push(row);
    };
    AddPurchaseComponent.prototype.addTax = function () {
        var row = this.fb.group({
            taxtype: '',
            percentage: ''
        });
        this.taxableForms.push(row);
    };
    AddPurchaseComponent.prototype.deleteRow = function (i) {
        this.invoiceForms.removeAt(i);
        this.calculateTotal();
    };
    AddPurchaseComponent.prototype.deleteTaxRow = function (i) {
        this.taxableForms.removeAt(i);
    };
    AddPurchaseComponent.prototype.getTax = function (option1, option2, event) {
        if (event.source.selected == true) {
            this.invoice.taxType = option1;
            this.invoice.taxRate = option2;
            this.calculateTotal();
        }
    };
    AddPurchaseComponent.prototype.calculateCharges = function (element) {
        element.get('amount').setValue(element.value.rate * element.value.quantity);
        this.calculateTotal();
    };
    AddPurchaseComponent.prototype.calculateTotal = function () {
        var _this = this;
        this.totalPrice = 0;
        //taxable row calculation
        this.totalTaxablePrice = 0;
        this.totalNonTaxablePrice = 0;
        this.invoice.taxAmount = 0;
        this.selectedDuties.forEach(function (element) {
            _this.totalTaxablePrice = Number(_this.totalTaxablePrice) + Number(element.price) + Number(element.extraChargesTotal);
        });
        if (this.isDiscounted == true) {
            if (this.invoice.discountType == "Hire") {
                this.invoice.discountAmount = this.invoice.discountRate / 100 * this.totalTaxablePrice;
            }
        }
        this.invoiceForms.controls.forEach(function (element) {
            if (element.value.taxable) {
                _this.totalTaxablePrice += element.value.amount;
            }
            else if (!element.value.taxable) {
                _this.totalNonTaxablePrice += element.value.amount;
            }
        });
        if (this.isDiscounted)
            this.calculateDiscount();
        this.invoice.taxAmount = (Number(this.invoice.taxRate) / 100) * Number(this.totalTaxablePrice);
        this.totalTaxablePriceAfterTax = Number(this.totalTaxablePrice) + Number(this.invoice.taxAmount);
        this.totalPrice = Number(this.totalTaxablePriceAfterTax) + Number(this.totalNonTaxablePrice);
        if ((Math.ceil(this.totalPrice) - this.totalPrice) < 0.50) {
            this.totalPrice = Math.ceil(this.totalPrice);
            console.log(this.totalPrice);
        }
        else if ((Math.ceil(this.totalPrice) - this.totalPrice) > 0.50) {
            this.totalPrice = Math.floor(this.totalPrice);
            console.log(this.totalPrice);
        }
    };
    //add invoice
    AddPurchaseComponent.prototype.addInvoice = function () {
        var _this = this;
        var extra = [];
        this.invoiceForms.controls.forEach(function (element) {
            extra.push(element.value);
        });
        this.invoice.customerId = this.selectedClient.id;
        this.invoice.totalAmount = this.totalPrice;
        this.invoice.taxableAmount = this.totalTaxablePrice;
        this.invoice.nonTaxableAmount = this.totalNonTaxablePrice;
        var temp = {
            invoice: this.invoice,
            duty: this.selectedDuties,
            extra: extra,
            booking: null
        };
        this.invoiceService.addInvoicePurchase(temp).subscribe(function (data) {
        }, function (err) { }, function () {
            _this.snackBar.open("Invoice Created", "X", { duration: 3000 });
            _this.router.navigateByUrl('/pages/masters/purchase-invoice');
        });
    };
    AddPurchaseComponent.prototype.isDiscount = function () {
        this.isDiscounted = !this.isDiscounted;
        this.calculateTotal();
    };
    AddPurchaseComponent.prototype.calculateDiscount = function () {
        if (this.isDiscounted == true) {
            if (this.invoice.discountType == "Amount") {
                this.invoice.discountAmount = Number(this.invoice.discountRate);
            }
            else if (this.invoice.discountType == "Percent") {
                this.invoice.discountAmount = Number(this.invoice.discountRate / 100 * this.totalTaxablePrice);
            }
            this.totalTaxablePrice = this.totalTaxablePrice - this.invoice.discountAmount;
        }
    };
    AddPurchaseComponent.prototype.getDiscount = function (option) {
        if (option == 1)
            this.invoice.discountType = "Amount";
        else if (option == 2)
            this.invoice.discountType = "Percent";
        else if (option == 3)
            this.invoice.discountType = "Hire";
        this.calculateTotal();
    };
    AddPurchaseComponent.prototype.discountRates = function (discountRate) {
        this.invoice.discountRate = discountRate;
        this.calculateTotal();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])("window:beforeunload", ["$event"]),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Event]),
        __metadata("design:returntype", void 0)
    ], AddPurchaseComponent.prototype, "unloadHandler", null);
    AddPurchaseComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ngx-form-layouts',
            styles: [__webpack_require__("./src/app/pages/masters/addpurchase/addpurchase.component.scss")],
            template: __webpack_require__("./src/app/pages/masters/addpurchase/addpurchase.component.html"),
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_3__angular_material__["n" /* MatDialog */], __WEBPACK_IMPORTED_MODULE_4__createinvoice_invoice_service__["a" /* InvoiceService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_1__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_8__angular_router__["c" /* Router */]])
    ], AddPurchaseComponent);
    return AddPurchaseComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/addreceipts/addreceipts.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\r\n    <div class=\"col-lg-12\">\r\n        <nb-card>\r\n            <nb-card-header>\r\n                New Receipt\r\n                <b style=\"float: right; font-size: 12px; font-weight: 100;\">*All figures in Rs.</b>\r\n            </nb-card-header>\r\n            <nb-card-body>\r\n                <div class=\"row\">\r\n                    <div class=\"col-lg-6 col-12\">\r\n                        <!-- <nb-card>\r\n                        <nb-card-body> -->\r\n                        <div class=\"row\">\r\n                            <div class=\"col-lg-12 col-12\">\r\n                                <mat-form-field>\r\n                                    Customer Group\r\n                                    <mat-select>                                \r\n                                        <mat-option *ngFor=\"let element of customerGroup\" [value]=\"element.name\" (onSelectionChange)=\"setCustomerGroupId(element,$event)\">\r\n                                            {{element.name}}\r\n                                        </mat-option>\r\n                                    </mat-select>\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-lg-12 col-12\">\r\n                                <mat-form-field style=\"width:90%\">\r\n                                    Customer\r\n                                    <input matInput [(ngModel)]=\"cname\" [matAutocomplete]=\"customer\" name=\"cname\">\r\n                                    <mat-autocomplete #customer=\"matAutocomplete\">\r\n                                        <mat-option *ngFor=\"let element of customersObs\" [value]=\"element.name\" (onSelectionChange)=\"getInvoices(element,$event)\">\r\n                                            {{element.name}}\r\n                                        </mat-option>\r\n                                    </mat-autocomplete>\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>                \r\n                        <!-- </nb-card-body>\r\n                        </nb-card> -->\r\n                    </div>\r\n                    <div class=\"col-lg-6 col-12\">\r\n                        <!-- <nb-card>\r\n                        <nb-card-body> -->\r\n                        <div class=\"row\">\r\n                            <div class=\"col-lg-12 col-12\">\r\n                                <mat-form-field>\r\n                                    Receipt Number:\r\n                                    <input [(ngModel)]=\"receipt.number\" matInput>\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-lg-12 col-12\">\r\n                                <mat-form-field>\r\n                                    Receipt Date:\r\n                                    <input [matDatepicker]=\"receiptDate\" [(ngModel)]=\"receipt.date\" matInput readonly (click)=\"receiptDate.open()\">\r\n                                    <mat-datepicker-toggle matSuffix [for]=\"receiptDate\"></mat-datepicker-toggle>\r\n                                    <mat-datepicker #receiptDate></mat-datepicker>\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>                                                \r\n                        <!-- </nb-card-body>\r\n                        </nb-card> -->\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\" style=\"margin-top:10px;\">\r\n                    <div class=\"col-lg-12 col-12\">\r\n                        <!-- <nb-card>\r\n                        <nb-card-header>Invoices</nb-card-header>\r\n                        <nb-card-body>                 -->\r\n                            <!-- Selected invoices -->\r\n                        <h5>Invoices</h5>\r\n                        <table style=\"width:100%\">\r\n                            <tr>\r\n                                <th>\r\n                                    Invoice Number\r\n                                </th>\r\n                                <th>\r\n                                    Invoice Date\r\n                                </th>\r\n                                <th>\r\n                                    TDS\r\n                                </th>\r\n                                <th>\r\n                                    Adjustment\r\n                                </th>\r\n                                <th>\r\n                                    Advance\r\n                                </th>\r\n                                <th>\r\n                                    Invoice Amount\r\n                                </th>\r\n                                <th>\r\n                                    Total\r\n                                </th>\r\n                            </tr>\r\n                            <tr *ngFor=\"let element of selectedInvoices\">\r\n                                <td>\r\n                                    {{element.invoiceNumber}}\r\n                                </td>\r\n                                <td>\r\n                                    {{element.invoiceDate | date: 'dd-MM-yyyy'}}\r\n                                </td>\r\n                                <td>\r\n                                    <mat-form-field>\r\n                                        <input matInput type=\"number\"  [(ngModel)]=\"element.tdsAmount\" (ngModelChange)=\"changeTdsAmount($event)\" >\r\n                                    </mat-form-field>\r\n                                    <!-- <mat-form-field>\r\n                                        <input matInput type=\"number\" [(ngModel)]=\"element.tdsPercent\" (ngModelChange)=\"changeTdsPercent($event)\" >\r\n                                    </mat-form-field> -->\r\n                                </td>\r\n                                <td>\r\n                                    <mat-form-field>\r\n                                        <input matInput type=\"number\"  [(ngModel)]=\"element.adjustment\" (ngModelChange)=\"changeAdjustment($event)\" >\r\n                                    </mat-form-field>\r\n                                </td>\r\n                                <td>\r\n                                    {{element.advanceReceived}}\r\n                                </td>\r\n                                <td>\r\n                                    {{element.totalAmount - element.advanceReceived }}\r\n                                </td>\r\n                                <td>\r\n                                    {{element.totalAmount-element.tdsAmount-element.adjustment}}\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colspan=\"2\"><b>Total:</b></td>\r\n                                <td>{{tdsAmountTotal}}</td>\r\n                                <td>{{adjustmentTotal}}</td>\r\n                                <!-- <td colspan=\"2\">{{semiFinalTotal}}</td> -->\r\n                                <td colspan=\"2\"></td>\r\n                                <td>{{finalTotal}}</td>\r\n                            </tr>\r\n                        </table>\r\n                        <!-- </nb-card-body>\r\n                        </nb-card> -->\r\n                    </div> \r\n                </div>\r\n                <div class=\"row ptb-10\">\r\n                    <div class=\"col-lg-12\">\r\n                        <button mat-raised-button color=\"primary\" (click)=\"addInvoices()\">Select Invoices</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <!-- <div class=\"col-lg-12 col-12\"> -->\r\n                    <!-- <nb-card>\r\n                        <nb-card-body> -->\r\n                            <!-- <div class=\"row\"> -->\r\n                    <div class=\"col-lg-4 col-12\">\r\n                        <mat-form-field style=\"width:90%\">\r\n                            Payment Received\r\n                            <input [(ngModel)]=\"receipt.paymentReceived\" matInput>\r\n                        </mat-form-field>\r\n                    </div>\r\n                    <!-- </div> -->\r\n                    <!-- <div class=\"row\"> -->\r\n                    <div class=\"col-lg-4 col-12\">\r\n                        <mat-form-field style=\"width:90%\">\r\n                            TDS\r\n                            <input [(ngModel)]=\"receipt.tds\" matInput>\r\n                        </mat-form-field>\r\n                    </div>\r\n                    <!-- </div> -->\r\n                    <!-- <div class=\"row\"> -->\r\n                    <div class=\"col-lg-4 col-12\">\r\n                        <mat-form-field style=\"width:90%\">\r\n                            Adjustments\r\n                            <input [(ngModel)]=\"receipt.adjustment\" matInput>\r\n                        </mat-form-field>\r\n                    </div>\r\n                    <!-- </div>                  -->\r\n                    <!-- </nb-card-body>\r\n                    </nb-card> -->\r\n                    <!-- </div> -->\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-lg-6\">\r\n                    <!-- <nb-card class=\"paymentsCard\">\r\n                        <nb-card-body> -->\r\n                        <div>\r\n                            <b>Payment Mode</b><br><br>\r\n                            <mat-radio-group [(ngModel)]=\"receipt.paymentMode\" (change)=\"checkPaymentMode(receipt.paymentMode)\">\r\n                                <mat-radio-button value=\"Credit Card\">Credit Card</mat-radio-button>\r\n                                <mat-radio-button value=\"Cheque\">Cheque</mat-radio-button>\r\n                                <mat-radio-button value=\"NEFT\">NEFT</mat-radio-button>\r\n                                <mat-radio-button value=\"Cash\">Cash</mat-radio-button>\r\n                                <mat-radio-button value=\"Others\">Others</mat-radio-button>\r\n                            </mat-radio-group>\r\n                        </div>\r\n                        <div>\r\n                            <mat-form-field style=\"width:90%;\">\r\n                                Received in Bank              \r\n                                <input matInput [formControl]=\"receivedInBankCtrl\"  [matAutocomplete]=\"autoRIB\">\r\n                                <mat-autocomplete #autoRIB=\"matAutocomplete\">\r\n                                    <mat-option *ngFor=\"let option of bankAccount | async\" [value]=\"option.bankName\" (onSelectionChange)=\"setReceivedInBank(option,$event)\">\r\n                                        {{ option.bankName }} ({{option.number}})\r\n                                    </mat-option>\r\n                                </mat-autocomplete>\r\n                            </mat-form-field>\r\n                        </div>\r\n                        <div>\r\n                            <mat-form-field>\r\n                                Bank Credit Date\r\n                                <input matInput [(ngModel)]=\"receipt.bankCreditDate\" [matDatepicker]=\"bankCreditDate\" (click)=\"bankCreditDate.open()\">\r\n                                <mat-datepicker-toggle matSuffix [for]=\"bankCreditDate\"></mat-datepicker-toggle>\r\n                                <mat-datepicker #bankCreditDate></mat-datepicker>\r\n                            </mat-form-field>\r\n                        </div>        \r\n                        <!-- </nb-card-body>\r\n                        </nb-card> -->\r\n                    </div>\r\n                    <div class=\"col-lg-6\">\r\n                        <div *ngIf=\"cheque\">\r\n                            <mat-form-field>\r\n                                Cheque Number\r\n                                <input matInput [(ngModel)]=\"receipt.chequeNumber\">\r\n                            </mat-form-field>\r\n                            <br>\r\n                            <mat-form-field>\r\n                                Bank Name\r\n                                <input matInput [(ngModel)]=\"receipt.bankName\">\r\n                            </mat-form-field>\r\n                            <br>\r\n                            <mat-form-field>\r\n                                Cheque Date\r\n                                <input matInput [(ngModel)]=\"receipt.chequeDate\" [matDatepicker]=\"chequeDate\" (click)=\"chequeDate.open()\">\r\n                                <mat-datepicker-toggle matSuffix [for]=\"chequeDate\"></mat-datepicker-toggle>\r\n                                <mat-datepicker #chequeDate></mat-datepicker>\r\n                            </mat-form-field>                        \r\n                        </div>\r\n                        <div *ngIf=\"neft\">\r\n                            <mat-form-field>\r\n                                Transaction Number\r\n                                <input matInput [(ngModel)]=\"receipt.transactionNumber\">\r\n                            </mat-form-field>\r\n                            <br>\r\n                            <mat-form-field>\r\n                                Bank Name\r\n                                <input matInput [(ngModel)]=\"receipt.neftBankName\">\r\n                            </mat-form-field>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </nb-card-body>\r\n        </nb-card>\r\n    </div>\r\n</div>\r\n<div class=\"row ptb-10\">\r\n    <div class=\"col-lg-12\">\r\n        <button mat-raised-button color=\"primary\" (click)=\"saveReceipt()\">Save</button>\r\n        <!-- <button mat-raised-button color=\"warn\"(click)=\"closeDialog()\">Close</button> -->\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/addreceipts/addreceipts.component.scss":
/***/ (function(module, exports) {

module.exports = ".full-width {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  min-width: 100px; }\n\nnb-checkbox {\n  margin-bottom: 1rem; }\n\n.form-inline > * {\n  margin: 0 1.5rem 1.5rem 0; }\n\nnb-card.inline-form-card nb-card-body {\n  padding-bottom: 0; }\n\nth {\n  padding: 5px;\n  border: 1px solid lightgrey; }\n\ntd {\n  padding: 5px;\n  border: 1px solid lightgrey; }\n\n.customerCard {\n  height: 181px; }\n\n.paymentsCard {\n  height: 241px; }\n\n.mat-dialog-container {\n  width: 85% !important; }\n\ninput.mat-input-element {\n  margin-top: 5px; }\n\n.mat-radio-button {\n  margin-right: 10px; }\n"

/***/ }),

/***/ "./src/app/pages/masters/addreceipts/addreceipts.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AddReceiptsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__receipt_service__ = __webpack_require__("./src/app/pages/masters/addreceipts/receipt.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__selectinvoices_selectinvoices_component__ = __webpack_require__("./src/app/pages/masters/selectinvoices/selectinvoices.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__newcustomergroup_newcustomergroup_component__ = __webpack_require__("./src/app/pages/masters/newcustomergroup/newcustomergroup.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_operators__ = __webpack_require__("./node_modules/rxjs/_esm5/operators.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__operations_new_bank_account_bank_account_service__ = __webpack_require__("./src/app/pages/operations/new-bank-account/bank-account.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var AddReceiptsComponent = (function () {
    function AddReceiptsComponent(customerService, receiptService, snackBar, dialog, 
        // private matDialogRef:MatDialogRef<AddReceiptsComponent>,
        // @Inject(MAT_DIALOG_DATA) public data,
        auth, customerGroupService, bankAccountService, router) {
        // if(data!=null)
        this.customerService = customerService;
        this.receiptService = receiptService;
        this.snackBar = snackBar;
        this.dialog = dialog;
        this.auth = auth;
        this.customerGroupService = customerGroupService;
        this.bankAccountService = bankAccountService;
        this.router = router;
        this.cheque = false;
        this.neft = false;
        this.receivedInBankCtrl = new __WEBPACK_IMPORTED_MODULE_8__angular_forms__["c" /* FormControl */]();
        this.selectedInvoices = [];
        this.tdsAmountTotal = 0;
        this.adjustmentTotal = 0;
        this.semiFinalTotal = 0;
        this.finalTotal = 0;
        this.selectedCustomer = '';
        this.customerGroupId = '';
        this.user = {};
        this.param = {
            inserted: 'no',
            data: null
        };
        this.receipt = {
            customerGroup: '',
            customerGroupId: '',
            customerName: '',
            customerId: '',
            number: '',
            date: '',
            paymentReceived: '',
            tds: '',
            adjustment: '',
            paymentMode: '',
            receivedInBank: '',
            bankCreditDate: '',
            ownerId: '',
            //added recently
            bankName: '',
            chequeNumber: '',
            chequeDate: '',
            neftBankName: '',
            transactionNumber: ''
        };
        // { this.receipt.id=data.id;
        //   this.receipt.date=data.date
        //   this.receipt.customerGroup=data.customerGroup
        //   this.receipt.number=data.number
        //   this.receipt.paymentReceived=data.paymentReceived
        //   this.receipt.tds=data.tds
        //   this.receipt.adjustment=data.adjustment
        //   this.receipt.paymentMode=data.paymentMode
        //   this.receipt.receivedInBank=data.receivedInBank
        //   this.receipt.bankCreditDate=data.bankCreditDate
        //   this.getInvoicesData();
        // }
    }
    AddReceiptsComponent.prototype.unloadHandler = function (event) {
        console.log("Processing beforeunload...");
        event.returnValue = false;
    };
    AddReceiptsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.bankAccountService.getBankAccount(_this.user).subscribe(function (data) {
                _this.bankAccounts = data;
                _this.bankAccount = _this.receivedInBankCtrl.valueChanges
                    .pipe(Object(__WEBPACK_IMPORTED_MODULE_9_rxjs_operators__["startWith"])(''), Object(__WEBPACK_IMPORTED_MODULE_9_rxjs_operators__["map"])(function (val) { return _this.filterBankAccounts(val); }));
            });
            _this.customerService.getCustomers(_this.user).subscribe(function (data) {
                _this.customersObs = data;
            });
            _this.receipt.ownerId = data[0].ownerId;
            _this.customerGroupService.getCustomerGroups(_this.user).subscribe(function (data) {
                _this.customerGroup = data;
                console.log(data);
            });
        });
    };
    AddReceiptsComponent.prototype.setCustomerGroupId = function (temp, event) {
        var _this = this;
        if (event.source.selected == true) {
            if (this.customerGroupId != temp.id) {
                this.selectedInvoices = [];
                this.semiFinalTotal = 0;
                this.finalTotal = 0;
                this.tdsAmountTotal = 0;
                this.adjustmentTotal = 0;
                this.cname = '';
            }
            this.receipt.customerGroup = temp.name;
            this.receipt.customerGroupId = temp.id;
            this.customerGroupId = temp.id;
            var custTemp = {
                user: this.user,
                customerGroupId: temp.id
            };
            this.customerService.getCustomersById(custTemp).subscribe(function (data) {
                _this.customersObs = data;
                console.log(data);
            });
        }
    };
    AddReceiptsComponent.prototype.addInvoices = function () {
        var _this = this;
        if (this.customersObs == null) {
            this.snackBar.open("Please Select One Customer", null, { duration: 2000 });
        }
        else {
            var params = {
                selectedCustomer: this.selectedCustomer,
                selectedInvoices: this.selectedInvoices
            };
            this.dialog.open(__WEBPACK_IMPORTED_MODULE_4__selectinvoices_selectinvoices_component__["a" /* SelectinvoicesComponent */], { data: params, autoFocus: false, disableClose: true }).afterClosed().subscribe(function (data) {
                _this.finalTotal = 0;
                // console.log(data)
                data.forEach(function (element) {
                    element.tdsPercent = 0;
                    element.tdsAmount = 0;
                    element.adjustment = 0;
                    // console.log(element)
                    _this.semiFinalTotal = _this.semiFinalTotal + (Number)(element.totalAmount);
                    element.invoiceTotal = element.totalAmount - element.tdsAmount - element.adjustment;
                    _this.finalTotal = _this.finalTotal + element.invoiceTotal;
                    _this.selectedInvoices = data;
                });
            });
        }
    };
    AddReceiptsComponent.prototype.changeTdsAmount = function () {
        var _this = this;
        this.tdsAmountTotal = 0;
        this.finalTotal = 0;
        this.selectedInvoices.forEach(function (element) {
            element.tdsPercent = (element.tdsAmount / element.totalAmount * 100);
            _this.tdsAmountTotal = _this.tdsAmountTotal + (Number)(element.tdsAmount);
            element.invoiceTotal = element.totalAmount - element.tdsAmount - element.adjustment;
            _this.finalTotal = _this.finalTotal + element.invoiceTotal;
        });
    };
    AddReceiptsComponent.prototype.changeTdsPercent = function () {
        var _this = this;
        this.tdsAmountTotal = 0;
        this.finalTotal = 0;
        this.selectedInvoices.forEach(function (element) {
            element.tdsAmount = (element.tdsPercent / 100 * element.totalAmount);
            _this.tdsAmountTotal = _this.tdsAmountTotal + (Number)(element.tdsAmount);
            element.invoiceTotal = element.totalAmount - element.tdsAmount - element.adjustment;
            _this.finalTotal = _this.finalTotal + element.invoiceTotal;
        });
    };
    AddReceiptsComponent.prototype.changeAdjustment = function () {
        var _this = this;
        this.adjustmentTotal = 0;
        this.finalTotal = 0;
        this.selectedInvoices.forEach(function (element) {
            _this.adjustmentTotal = _this.adjustmentTotal + (Number)(element.adjustment);
            element.invoiceTotal = element.totalAmount - element.tdsAmount - element.adjustment;
            _this.finalTotal = _this.finalTotal + element.invoiceTotal;
        });
    };
    AddReceiptsComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    AddReceiptsComponent.prototype.getInvoices = function (cust, event) {
        if (event.source.selected == true) {
            if (cust.id != this.selectedCustomer) {
                this.selectedInvoices = [];
                this.semiFinalTotal = 0;
                this.finalTotal = 0;
                this.tdsAmountTotal = 0;
                this.adjustmentTotal = 0;
            }
            this.receipt.customerName = cust.name;
            this.receipt.customerId = cust.id;
            this.selectedCustomer = cust.id;
        }
    };
    AddReceiptsComponent.prototype.saveReceipt = function () {
        var _this = this;
        if (this.receipt.customerGroup == "") {
            this.snackBar.open('Enter Customer Group', null, {
                duration: 5000
            });
        }
        else if (this.receipt.number.trim() == "") {
            this.snackBar.open('Enter receipt number', null, {
                duration: 5000
            });
        }
        else if (this.receipt.date == "") {
            this.snackBar.open('Enter Date', null, {
                duration: 5000
            });
        }
        else if (this.receipt.paymentReceived.trim() == "") {
            this.snackBar.open('Enter Payment Received', null, {
                duration: 5000
            });
        }
        else if (this.receipt.tds.trim() == "") {
            this.snackBar.open('Enter TDS', null, {
                duration: 5000
            });
        }
        else if (this.receipt.paymentMode.trim() == "") {
            this.snackBar.open('Enter Payment Mode', null, {
                duration: 5000
            });
        }
        else if (this.receipt.receivedInBank == "") {
            this.snackBar.open('Enter Received in Bank Details', null, {
                duration: 5000
            });
        }
        else {
            if (this.receipt.paymentMode.trim() == "Cheque" && this.receipt.chequeNumber.trim() == "") {
                this.snackBar.open('Enter Cheque Number', null, {
                    duration: 5000
                });
            }
            else if (this.receipt.paymentMode.trim() == "Cheque" && this.receipt.bankName.trim() == "") {
                this.snackBar.open('Enter Bank Name for the cheque', null, {
                    duration: 5000
                });
            }
            else if (this.receipt.paymentMode.trim() == "NEFT" && this.receipt.neftBankName.trim() == "") {
                this.snackBar.open('Enter Bank name of NEFT', null, {
                    duration: 5000
                });
            }
            else if (this.receipt.paymentMode.trim() == "NEFT" && this.receipt.transactionNumber.trim() == "") {
                this.snackBar.open('Enter NEFT Transaction Number', null, {
                    duration: 5000
                });
            }
            else {
                console.log("receipt");
                this.receipt.date = __WEBPACK_IMPORTED_MODULE_7_moment__(this.receipt.date).format("YYYY-MM-DD");
                this.receipt.bankCreditDate = __WEBPACK_IMPORTED_MODULE_7_moment__(this.receipt.bankCreditDate).format("YYYY-MM-DD");
                this.receiptService.addReceipt(this.receipt).subscribe(function (data) {
                    _this.selectedInvoices.forEach(function (element) {
                        var temp = {
                            receiptId: data.insertId,
                            invoice: element
                        };
                        console.log(element);
                        _this.receiptService.addInvoices(temp).subscribe();
                    });
                    // if(data.affectedRows==1){
                    //   this.param.inserted='yes';
                    //   this.param.data=this.receipt;
                    //   this.matDialogRef.close(this.param);
                    // } 
                }, function (err) { }, function () {
                    _this.snackBar.open("Receipt Added", "X", { duration: 3000 });
                    _this.router.navigateByUrl('/pages/masters/receiptsdisp');
                });
            }
        }
    };
    AddReceiptsComponent.prototype.getInvoicesData = function () {
        var _this = this;
        this.receiptService.getInvoiceInReceipts(this.receipt).subscribe(function (data) {
            _this.finalTotal = 0;
            data.forEach(function (element) {
                _this.semiFinalTotal = _this.semiFinalTotal + (Number)(element.totalAmount);
                element.invoiceTotal = element.totalAmount - element.tdsAmount - element.adjustment;
                _this.finalTotal = _this.finalTotal + element.invoiceTotal;
                _this.selectedInvoices.push(element);
            });
            _this.changeTdsAmount();
            _this.changeAdjustment();
        });
    };
    AddReceiptsComponent.prototype.checkPaymentMode = function (temp) {
        console.log(temp);
        if (temp == "Cheque") {
            this.cheque = true;
            this.neft = false;
        }
        else if (temp == "NEFT") {
            this.cheque = false;
            this.neft = true;
        }
        else {
            this.cheque = false;
            this.neft = false;
        }
    };
    AddReceiptsComponent.prototype.filterBankAccounts = function (val) {
        return this.bankAccounts.filter(function (option) {
            return option.name.toLowerCase().includes(val.toLowerCase());
        });
    };
    AddReceiptsComponent.prototype.setReceivedInBank = function (option, event) {
        if (event.source.selected == true) {
            // console.log(option);
            this.receipt.receivedInBank = option.id;
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])("window:beforeunload", ["$event"]),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Event]),
        __metadata("design:returntype", void 0)
    ], AddReceiptsComponent.prototype, "unloadHandler", null);
    AddReceiptsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ngx-form-layouts',
            styles: [__webpack_require__("./src/app/pages/masters/addreceipts/addreceipts.component.scss")],
            template: __webpack_require__("./src/app/pages/masters/addreceipts/addreceipts.component.html"),
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__customer_customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_1__receipt_service__["a" /* ReceiptService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_5__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_6__newcustomergroup_newcustomergroup_component__["a" /* NewcustomergroupComponent */],
            __WEBPACK_IMPORTED_MODULE_10__operations_new_bank_account_bank_account_service__["a" /* BankAccountService */],
            __WEBPACK_IMPORTED_MODULE_11__angular_router__["c" /* Router */]])
    ], AddReceiptsComponent);
    return AddReceiptsComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/addsuppliers/addsuppliers.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\r\n    <div class=\"col-lg-12\">\r\n        <nb-card>\r\n            <nb-card-header>New Supplier</nb-card-header>\r\n            <nb-card-body>\r\n                <div class=\"container\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-3 col-12\">                            \r\n                            <mat-form-field class=\"bottom-align\">\r\n                                Name\r\n                                <input [(ngModel)]=\"Supplier.name\" name=\"name\" matInput>\r\n                            </mat-form-field>\r\n                        </div>\r\n                        <div class=\"col-lg-3 col-12\">\r\n                            <mat-form-field>\r\n                                Email\r\n                                <input matInput [(ngModel)]=\"Supplier.email\" name=\"email\" #newEmail />\r\n                            </mat-form-field>\r\n                        </div>\r\n                        <div class=\"col-lg-3 col-12\">\r\n                            <mat-form-field>\r\n                                Phone Number\r\n                                <input matInput [(ngModel)]=\"Supplier.phone\" name=\"phone\" #newPhone />\r\n                            </mat-form-field>\r\n                        </div>\r\n                        <div class=\"col-lg-3 col-12\">\r\n                            <mat-form-field>\r\n                                Type\r\n                                <mat-select [(ngModel)]=\"Supplier.type\" name=\"type\">\r\n                                    <mat-option value=\"Owner\">Owner</mat-option>\r\n                                    <mat-option value=\"Owner-cum-Driver\">Owner-cum-Driver</mat-option>\r\n                                </mat-select>\r\n                            </mat-form-field>\r\n                        </div>                        \r\n                    </div>                                        \r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-6 col-12\">\r\n                            <mat-form-field class=\"w-100\">\r\n                                Address\r\n                                <textarea rows=\"4\" [(ngModel)]=\"Supplier.saddress\" name=\"saddress\" matInput #newAddress></textarea>\r\n                            </mat-form-field>\r\n                        </div>\r\n                        <div class=\"col-lg-3 col-12\">\r\n                            <mat-form-field class=\"bottom-align\">\r\n                                State\r\n                                <input matInput [formControl]=\"NewSupplierStateControl\" [matAutocomplete]=\"auto1\">\r\n                                <mat-autocomplete #auto1=\"matAutocomplete\">\r\n                                    <mat-option *ngFor=\"let option of newSupplierStates | async\" [value]=\"option\" (onSelectionChange)=\"SuppStateSelect(option,$event)\">\r\n                                        {{ option }}\r\n                                    </mat-option>\r\n                                </mat-autocomplete>\r\n                            </mat-form-field>\r\n                        </div>\r\n                        <div class=\"col-lg-3 col-12\">\r\n                            <mat-form-field class=\"bottom-align\">\r\n                                Alternate Phone Number\r\n                                <input matInput [(ngModel)]=\"Supplier.billingPhone\" name=\"billingPhone\" #newAPhone />\r\n                            </mat-form-field>\r\n                        </div>\r\n                    </div>                    \r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-6 col-12\">\r\n                            <mat-form-field class=\"w-100\">\r\n                                Billing Address\r\n                                <textarea rows=\"4\" matInput [(ngModel)]=\"Supplier.billingAddress\" name=\"billingAddress\" #newBAddress ></textarea>\r\n                            </mat-form-field>\r\n                        </div>\r\n                        <div class=\"col-lg-3 col-12\">\r\n                            <mat-form-field class=\"bottom-align\">\r\n                                State\r\n                                <input matInput [formControl]=\"GSTStateControl\" [matAutocomplete]=\"auto2\">\r\n                                <mat-autocomplete #auto2=\"matAutocomplete\">\r\n                                    <mat-option *ngFor=\"let option of gstbillingStates | async\" [value]=\"option\" (onSelectionChange)=\"SuppGSTStateSelect(option,$event)\">\r\n                                        {{ option }}\r\n                                    </mat-option>\r\n                                </mat-autocomplete>\r\n                            </mat-form-field>\r\n                        </div>\r\n                        <div class=\"col-lg-3 col-12\">\r\n                            <mat-form-field class=\"bottom-align\">\r\n                                Head Office City\r\n                                <input [(ngModel)]=\"Supplier.headOfficeCity\" name=\"headOfficeCity\" matInput #newCity />\r\n                            </mat-form-field>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-3 col-12\">\r\n                            <mat-form-field>\r\n                                PAN\r\n                                <input matInput [(ngModel)]=\"Supplier.panNo\" name=\"panNo\" #newPAN />\r\n                            </mat-form-field>\r\n                        </div>\r\n                        <div class=\"col-lg-3 col-12\">\r\n                            <mat-form-field>\r\n                                GSTIN\r\n                                <input matInput [(ngModel)]=\"Supplier.gstin\" name=\"gstin\"  #newGSTIN />\r\n                            </mat-form-field>\r\n                        </div>\r\n                        <div class=\"col-lg-3 col-12\">\r\n                            <mat-form-field>\r\n                                TDS %\r\n                                <input matInput [(ngModel)]=\"Supplier.tdsPercent\" name=\"tdsPercent\" #newTDS />\r\n                            </mat-form-field>\r\n                        </div>\r\n                        <div class=\"col-lg-3 col-12\">\r\n                            <mat-form-field>\r\n                                Service Tax Number\r\n                                <input matInput [(ngModel)]=\"Supplier.billingServiceTax\" name=\"billingServiceTax\" #newServiceTax />\r\n                            </mat-form-field>\r\n                        </div>\r\n                    </div>                                       \r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-3 col-12\">\r\n                            <mat-form-field>\r\n                                GST Type\r\n                                <mat-select [(ngModel)]=\"Supplier.billingGSTType\" name=\"billingGSTType\">\r\n                                    <mat-option value=\"CGST+SGST\" #newDummy5>CGST+SGST</mat-option>\r\n                                    <mat-option value=\"IGST\" #newDummy5>IGST</mat-option>\r\n                                </mat-select>\r\n                            </mat-form-field>\r\n                        </div>\r\n                        <div class=\"col-lg-3 col-12\">\r\n                            <mat-form-field>\r\n                                Supplier Group\r\n                                <mat-select>\r\n                                    <mat-option *ngFor=\"let element of supplierGroups\" [value]=\"element.name\">\r\n                                        {{element.name}}\r\n                                    </mat-option>\r\n                                </mat-select>\r\n                            </mat-form-field>\r\n                        </div>     \r\n                        <div class=\"col-lg-3 col-12\">\r\n                            <mat-form-field>\r\n                                Revenue Share Percentage\r\n                                <input matInput [(ngModel)]=\"Supplier.revenueSharePercentage\">\r\n                            </mat-form-field>\r\n                        </div>\r\n                    </div>                    \r\n                    <!-- <div class=\"row ptb-10\">\r\n                        <div class=\"col-lg-4 col-12\">\r\n                            <mat-form-field>\r\n                                Reverse Charge Applicable\r\n                                <mat-select [(ngModel)]=\"Supplier.billingReverseChargeApplicable\" name=\"billingReverseChargeApplicable\">\r\n                                    <mat-option value=\"Dummy\" #newDummy6>Dummy</mat-option>\r\n                                    <mat-option value=\"Dummy\" #newDummy6>Dummy</mat-option>\r\n                                    <mat-option value=\"Dummy\" #newDummy6>Dummy</mat-option>\r\n                                    <mat-option value=\"Dummy\" #newDummy6>Dummy</mat-option>\r\n                                </mat-select>\r\n                            </mat-form-field>\r\n                        </div>                  \r\n                    </div> -->\r\n                </div>\r\n            </nb-card-body>\r\n        </nb-card>\r\n    </div>\r\n</div>\r\n<div class=\"row\">\r\n    <div class=\"col-lg-12\">\r\n        <nb-card>\r\n            <nb-card-header>\r\n                Applicable Taxes\r\n            </nb-card-header>\r\n            <nb-card-body class=\"hide-overflow\">                \r\n                <form [formGroup]=\"myForm\">\r\n                    <div formArrayName=\"rows\">\r\n                        <div class=\"row pt-10\">                            \r\n                            <div class=\"col-lg-6 col-10\">\r\n                                Tax\r\n                            </div>\r\n                            <div class=\"col-lg-2 col-2\"></div>\r\n                        </div>\r\n                        <div class=\"row pb-10\" *ngFor=\"let temp of applicableTaxes.controls; let i=index\" [formGroupName]=\"i\">                            \r\n                            <div class=\"col-lg-6 col-10\">\r\n                                <mat-form-field class=\"w-100\">\r\n                                    <input placeholder=\"Charges\" [formControl]=\"taxCtrl\" matInput [matAutocomplete]=\"taxauto\">\r\n                                    <mat-autocomplete #taxauto=\"matAutocomplete\">\r\n                                        <mat-option *ngFor=\"let option of taxes |async\" [value]=\"option.name\" (onSelectionChange)=\"setTax(option,$event)\">\r\n                                            {{ option.name }}&nbsp;-{{option.percent}}%\r\n                                        </mat-option>\r\n                                    </mat-autocomplete>\r\n                                </mat-form-field>\r\n                            </div>\r\n                            <div class=\"col-lg-2 col-2\">\r\n                                <button mat-icon-button color=\"primary\" (click)=\"deleteRow(i)\"><mat-icon>clear</mat-icon></button>\r\n                            </div>\r\n                        </div>                               \r\n                    </div>\r\n                </form>                \r\n                <div class=\"row ptb-10\">\r\n                    <div class=\"col-lg-12 col-12\">\r\n                        <button [disabled]=\"taxStatus\" mat-raised-button color=\"primary\" (click)=\"addRow(true)\">Add Tax</button>\r\n                    </div>                    \r\n                </div>\r\n            </nb-card-body>\r\n        </nb-card>\r\n    </div>\r\n</div>\r\n<!-- <div class=\"row\">\r\n    <div class=\"col-lg-12\">\r\n        <nb-card>\r\n            <nb-card-header class=\"ptb-10\">GSTIN Billing Details-<i>Only to be filled if this supplier has different GSTIN billing details</i></nb-card-header>\r\n            <nb-card-body class=\"hide-overflow\">  \r\n                <div class=\"container\">\r\n                    <div class=\"row ptb-10\">\r\n                        <div class=\"col-lg-4 col-12\">                        \r\n                            <mat-form-field class=\"bottom-align\">\r\n                                Billing Name\r\n                                <input [(ngModel)]=\"Supplier.billingName\" name=\"billingName\" matInput #newBName />\r\n                            </mat-form-field>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </nb-card-body>\r\n        </nb-card>\r\n    </div>\r\n</div> -->\r\n<div class=\"row\">        \r\n    <div class=\"col-lg-6\">\r\n        <nb-card>\r\n            <nb-card-header>Working Hours</nb-card-header>\r\n            <nb-card-body class=\"hide-overflow\">\r\n                <div class=\"container\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-6 col-12\">\r\n                            <mat-form-field>\r\n                                Start\r\n                                <input matInput type=\"time\" [(ngModel)]=\"Supplier.startTime\">\r\n                            </mat-form-field>\r\n                        </div>\r\n                        <div class=\"col-lg-6 col-12\">\r\n                            <mat-form-field>\r\n                                End\r\n                                <input matInput type=\"time\" [(ngModel)]=\"Supplier.endTime\">\r\n                            </mat-form-field>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </nb-card-body>\r\n        </nb-card>\r\n    </div>\r\n    <div class=\"col-lg-6\">\r\n        <nb-card>\r\n            <nb-card-header>Driver Allowance Settings</nb-card-header>\r\n            <nb-card-body class=\"hide-overflow\">\r\n                <div class=\"container\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-6 col-12\">\r\n                            <mat-form-field>\r\n                                Early Time\r\n                                <input matInput type=\"time\" [(ngModel)]=\"Supplier.earlyTime\">\r\n                            </mat-form-field>\r\n                        </div>\r\n                        <div class=\"col-lg-6 col-12\">\r\n                            <mat-form-field>\r\n                                Late Time\r\n                                <input matInput type=\"time\" [(ngModel)]=\"Supplier.lateTime\">\r\n                            </mat-form-field>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </nb-card-body>\r\n        </nb-card>\r\n    </div>            \r\n</div>\r\n<div class=\"row\">\r\n    <div class=\"col-lg-12\">\r\n        <nb-card>\r\n            <nb-card-body class=\"hide-overflow\">\r\n                <div class=\"container\">\r\n                    <form [formGroup]=\"cityForm\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-lg-12 col-12\">\r\n                                <br>\r\n                                Limit ability to allot bookings to these cities\r\n                            </div>                            \r\n                        </div>\r\n                        <div class=\"row\" formArrayName=\"cities\">\r\n                            <div class=\"col-lg-3\" *ngFor=\"let temp of citiesFormCtrl.controls; let i=index\" [formGroupName]=\"i\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-lg-10 col-10\">\r\n                                        <mat-form-field>\r\n                                            <input matInput formControlName=\"city\" (keypress)=\"filterCity(i)\" [matAutocomplete]=\"auto1\">\r\n                                            <mat-autocomplete #auto1=\"matAutocomplete\">\r\n                                                <mat-option *ngFor=\"let option of cities | async\" [value]=\"option\">\r\n                                                    {{ option }}\r\n                                                </mat-option>\r\n                                            </mat-autocomplete> \r\n                                            <!-- <mat-select formControlName=\"city\">\r\n                                                <mat-option *ngFor=\"let element of cities\" [value]=\"element\">\r\n                                                    {{element}}\r\n                                                </mat-option>\r\n                                            </mat-select> -->\r\n                                        </mat-form-field>\r\n                                    </div>\r\n                                    <div class=\"col-lg-2 col-2\">\r\n                                        <button mat-icon-button color=\"primary\" (click)=\"deleteCity(i, temp)\"><mat-icon>clear</mat-icon></button>                                \r\n                                    </div>         \r\n                                </div>                                \r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row ptb-10\">\r\n                            <div class=\"col-lg-12 col-12\">\r\n                                <button mat-raised-button color=\"primary\" (click)=\"addCity(true)\">Add</button>\r\n                            </div>                        \r\n                        </div>\r\n                    </form>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-12 col-12\">\r\n                            Vehicle Group - Limit ability to allot bookings to these Vehicle Groups\r\n                        </div>                            \r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-12 col-12\">\r\n                            <mat-form-field class=\"w-100\">\r\n                                <mat-select [(ngModel)]=\"vehicleGroupId\" multiple>\r\n                                    <mat-option *ngFor=\"let element of vehicleGroups\" [value]=\"element.id\">\r\n                                        {{element.name}}\r\n                                    </mat-option>\r\n                                </mat-select>\r\n                            </mat-form-field>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-12 col-12\">\r\n                            Duty Type - Limit ability to allot bookings to these Duty Types\r\n                        </div>\r\n                    </div>                        \r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-12 col-12\">\r\n                            <mat-form-field class=\"w-100\">\r\n                                <mat-select [(ngModel)]=\"dutyTypeId\" multiple>\r\n                                    <mat-option *ngFor=\"let element of dutyTypes\" [value]=\"element.id\">\r\n                                        {{element.name}}\r\n                                    </mat-option>\r\n                                </mat-select>\r\n                            </mat-form-field>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-6 col-12\">\r\n                            <mat-form-field>\r\n                              Branch\r\n                              <input matInput [formControl]=\"branchesCtrl\" [matAutocomplete]=\"autobranch\">\r\n                              <mat-autocomplete #autobranch=\"matAutocomplete\">\r\n                                <mat-option *ngFor=\"let item of branch | async\" [value]=\"item.id\" (onSelectionChange)=\"setBranches(item,$event)\">\r\n                                  {{ item.name }}\r\n                                </mat-option>\r\n                              </mat-autocomplete>\r\n                            </mat-form-field>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div style=\"bottom: 5%\" *ngIf=\"logs.length>0\">\r\n                    <ul>\r\n                        <li *ngFor=\"let element of logs\">\r\n                            {{element.message}}\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </nb-card-body>\r\n        </nb-card>\r\n    </div>\r\n</div>\r\n<div class=\"row ptb-10\">\r\n    <div class=\"col-lg-12 col-12\">\r\n        <button mat-raised-button color=\"primary\" *ngIf=\"!editState\" (click)=\"saveSupplier()\">Add</button>\r\n        <button mat-raised-button color=\"primary\" *ngIf=\"editState\" (click)=\"updateSupplier()\">Save</button>\r\n        <!-- <button mat-raised-button color=\"warn\"(click)=\"closeDialog()\">Close</button> -->\r\n        <b *ngIf=\"Supplier.type=='Owner-cum-Driver'\" style=\"color: red;font-size: smaller;float: right;\">*You will be redirected to add vehicle of this supplier on save</b>\r\n    </div>\r\n</div>    \r\n"

/***/ }),

/***/ "./src/app/pages/masters/addsuppliers/addsuppliers.component.scss":
/***/ (function(module, exports) {

module.exports = ".full-width {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  min-width: 100px; }\n\nnb-checkbox {\n  margin-bottom: 1rem; }\n\n.form-inline > * {\n  margin: 0 1.5rem 1.5rem 0; }\n\nnb-card.inline-form-card nb-card-body {\n  padding-bottom: 0; }\n\ntd {\n  padding-left: 15px;\n  padding-right: 15px; }\n"

/***/ }),

/***/ "./src/app/pages/masters/addsuppliers/addsuppliers.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AddSuppliersComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__supplier_service__ = __webpack_require__("./src/app/pages/masters/addsuppliers/supplier.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_operators_startWith__ = __webpack_require__("./node_modules/rxjs/_esm5/operators/startWith.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_operators_map__ = __webpack_require__("./node_modules/rxjs/_esm5/operators/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__taxes_taxes_component__ = __webpack_require__("./src/app/pages/masters/taxes/taxes.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__vehiclegroups_vehiclegroups_component__ = __webpack_require__("./src/app/pages/masters/vehiclegroups/vehiclegroups.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__newsuppliergroup_newsuppliergroup_component__ = __webpack_require__("./src/app/pages/masters/newsuppliergroup/newsuppliergroup.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__new_vehicles_new_vehicles_component__ = __webpack_require__("./src/app/pages/masters/new-vehicles/new-vehicles.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__operations_new_branch_new_branch_service__ = __webpack_require__("./src/app/pages/operations/new-branch/new-branch.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__dutytype_duty_type_service__ = __webpack_require__("./src/app/pages/masters/dutytype/duty-type.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__activitylog_service__ = __webpack_require__("./src/app/activitylog.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_16_moment__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};

















var AddSuppliersComponent = (function () {
    function AddSuppliersComponent(vehicleGroupService, fb, matDialogRef, data, supplierService, taxesService, snackBar, supplierGroupService, dialog, auth, invoiceService, branchService, dutyTypeService, router, activityLogs) {
        var _this = this;
        this.vehicleGroupService = vehicleGroupService;
        this.fb = fb;
        this.matDialogRef = matDialogRef;
        this.data = data;
        this.supplierService = supplierService;
        this.taxesService = taxesService;
        this.snackBar = snackBar;
        this.supplierGroupService = supplierGroupService;
        this.dialog = dialog;
        this.auth = auth;
        this.invoiceService = invoiceService;
        this.branchService = branchService;
        this.dutyTypeService = dutyTypeService;
        this.router = router;
        this.activityLogs = activityLogs;
        this.NewSupplierStateControl = new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["c" /* FormControl */]();
        this.GSTStateControl = new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["c" /* FormControl */]();
        this.user = {};
        this.editState = false;
        this.tax = [];
        this.taxCtrl = new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["c" /* FormControl */]();
        this.taxStatus = false;
        this.branchesCtrl = new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["c" /* FormControl */]();
        this.cityCtrl = new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["c" /* FormControl */]();
        this.deletedCity = [];
        this.deletedVehicleGroup = [];
        this.deletedDutyType = [];
        this.logs = [];
        this.vehicleGroupId = [];
        this.retrievedVehicleGroupId = [];
        this.dutyTypeId = [];
        this.retrievedDutyTypeId = [];
        this.states = [
            'Andaman and Nicobar Islands',
            'Andhra Pradesh',
            'Arunachal Pradesh',
            'Assam',
            'Bihar',
            'Chandigarh',
            'Chhattisgarh',
            'Dadra and Nagar Haveli',
            'Delhi',
            'Goa',
            'Gujarat',
            'Haryana',
            'Himachal Pradesh',
            'Jammu and Kashmir',
            'Jharkhand',
            'Karnataka',
            'Karnatka',
            'Kerala',
            'Madhya Pradesh',
            'Maharashtra',
            'Manipur',
            'Meghalaya',
            'Mizoram',
            'Nagaland',
            'Odisha',
            'Puducherry',
            'Punjab',
            'Rajasthan',
            'Tamil Nadu',
            'Telangana',
            'Tripura',
            'Uttar Pradesh',
            'Uttarakhand',
            'West Bengal'
        ];
        this.city = [
            'Achalpur',
            'Achhnera',
            'Adalaj',
            'Adilabad',
            'Adityapur',
            'Adoni',
            'Adoor',
            'Adra',
            'Adyar',
            'Afzalpur',
            'Agartala',
            'Agra',
            'Ahmedabad',
            'Ahmednagar',
            'Aizawl',
            'Ajmer',
            'Akola',
            'Akot',
            'Alappuzha',
            'Aligarh',
            'Alipurduar',
            'Alirajpur',
            'Allahabad',
            'Alwar',
            'Amalapuram',
            'Amalner',
            'Ambejogai',
            'Ambikapur',
            'Amravati',
            'Amreli',
            'Amritsar',
            'Amroha',
            'Anakapalle',
            'Anand',
            'Anantapur',
            'Anantnag',
            'Anjangaon',
            'Anjar',
            'Ankleshwar',
            'Arakkonam',
            'Arambagh',
            'Araria',
            'Arrah',
            'Arsikere',
            'Aruppukkottai',
            'Arvi',
            'Arwal',
            'Asansol',
            'Asarganj',
            'Ashok Nagar',
            'Athni',
            'Attingal',
            'Aurangabad',
            'Aurangabad',
            'Azamgarh',
            'Bagaha',
            'Bageshwar',
            'Bahadurgarh',
            'Baharampur',
            'Bahraich',
            'Balaghat',
            'Balangir',
            'Baleshwar Town',
            'Ballari',
            'Balurghat',
            'Bankura',
            'Bapatla',
            'Baramula',
            'Barbil',
            'Bargarh',
            'Barh',
            'Baripada Town',
            'Barmer',
            'Barnala',
            'Barpeta',
            'Batala',
            'Bathinda',
            'Begusarai',
            'Belagavi',
            'Bellampalle',
            'Belonia',
            'Bengaluru',
            'Bettiah',
            'BhabUrban',
            'Bhadrachalam',
            'Bhadrak',
            'Bhagalpur',
            'Bhainsa',
            'Bharatpur',
            'Bharuch',
            'Bhatapara',
            'Bhavnagar',
            'Bhawanipatna',
            'Bheemunipatnam',
            'Bhilai Nagar',
            'Bhilwara',
            'Bhimavaram',
            'Bhiwandi',
            'Bhiwani',
            'Bhongir',
            'Bhopal',
            'Bhubaneswar',
            'Bhuj',
            'Bikaner',
            'Bilaspur',
            'Bobbili',
            'Bodhan',
            'Bokaro Steel City',
            'Bongaigaon City',
            'Brahmapur',
            'Buxar',
            'Byasanagar',
            'Chaibasa',
            'Chalakudy',
            'Chandausi',
            'Chandigarh',
            'Changanassery',
            'Charkhi Dadri',
            'Chatra',
            'Chennai',
            'Cherthala',
            'Chhapra',
            'Chhapra',
            'Chikkamagaluru',
            'Chilakaluripet',
            'Chirala',
            'Chirkunda',
            'Chirmiri',
            'Chittoor',
            'Chittur-Thathamangalam',
            'Coimbatore',
            'Cuttack',
            'Dalli-Rajhara',
            'Darbhanga',
            'Darjiling',
            'Davanagere',
            'Deesa',
            'Dehradun',
            'Dehri-on-Sone',
            'Delhi',
            'Deoghar',
            'Dhamtari',
            'Dhanbad',
            'Dharmanagar',
            'Dharmavaram',
            'Dhenkanal',
            'Dhoraji',
            'Dhubri',
            'Dhule',
            'Dhuri',
            'Dibrugarh',
            'Dimapur',
            'Diphu',
            'Dumka',
            'Dumraon',
            'Durg',
            'Eluru',
            'English Bazar',
            'Erode',
            'Etawah',
            'Faridabad',
            'Faridkot',
            'Farooqnagar',
            'Fatehabad',
            'Fatehpur Sikri',
            'Fazilka',
            'Firozabad',
            'Firozpur',
            'Firozpur Cantt.',
            'Forbesganj',
            'Gadwal',
            'Gangarampur',
            'Ganjbasoda',
            'Gaya',
            'Giridih',
            'Goalpara',
            'Gobichettipalayam',
            'Gobindgarh',
            'Godhra',
            'Gohana',
            'Gokak',
            'Gooty',
            'Gopalganj',
            'Gudivada',
            'Gudur',
            'Gumia',
            'Guntakal',
            'Guntur',
            'Gurdaspur',
            'Gurgaon',
            'Guruvayoor',
            'Guwahati',
            'Gwalior',
            'Habra',
            'Hajipur',
            'Haldwani',
            'Hansi',
            'Hapur',
            'Hardoi ',
            'Hardwar',
            'Hazaribag',
            'Hindupur',
            'Hisar',
            'Hoshiarpur',
            'Hubli-Dharwad',
            'Hugli-Chinsurah',
            'Hyderabad',
            'Ichalkaranji',
            'Imphal',
            'Indore',
            'Itarsi',
            'Jabalpur',
            'Jagdalpur',
            'Jaggaiahpet',
            'Jagraon',
            'Jagtial',
            'Jaipur',
            'Jalandhar',
            'Jalandhar Cantt.',
            'Jalpaiguri',
            'Jamalpur',
            'Jammalamadugu',
            'Jammu',
            'Jamnagar',
            'Jamshedpur',
            'Jamui',
            'Jangaon',
            'Jatani',
            'Jehanabad',
            'Jhansi',
            'Jhargram',
            'Jharsuguda',
            'Jhumri Tilaiya',
            'Jind',
            'Jodhpur',
            'Jorhat',
            'Kadapa',
            'Kadi',
            'Kadiri',
            'Kagaznagar',
            'Kailasahar',
            'Kaithal',
            'Kakinada',
            'Kalimpong',
            'Kalpi',
            'Kalyan-Dombivali',
            'Kamareddy',
            'Kancheepuram',
            'Kandukur',
            'Kanhangad',
            'Kannur',
            'Kanpur',
            'Kapadvanj',
            'Kapurthala',
            'Karaikal',
            'Karimganj',
            'Karimnagar',
            'Karjat',
            'Karnal',
            'Karur',
            'Karwar',
            'Kasaragod',
            'Kashipur',
            'KathUrban',
            'Katihar',
            'Kavali',
            'Kayamkulam',
            'Kendrapara',
            'Kendujhar',
            'Keshod',
            'Khair',
            'Khambhat',
            'Khammam',
            'Khanna',
            'Kharagpur',
            'Kharar',
            'Khowai',
            'Kishanganj',
            'Kochi',
            'Kodungallur',
            'Kohima',
            'Kolar',
            'Kolkata',
            'Kollam',
            'Koratla',
            'Korba',
            'Kot Kapura',
            'Kothagudem',
            'Kottayam',
            'Kovvur',
            'Koyilandy',
            'Kozhikode',
            'Kunnamkulam',
            'Kurnool',
            'Kyathampalle',
            'Lachhmangarh',
            'Ladnu',
            'Ladwa',
            'Lahar',
            'Laharpur',
            'Lakheri',
            'Lakhimpur',
            'Lakhisarai',
            'Lakshmeshwar',
            'Lal Gopalganj Nindaura',
            'Lalganj',
            'Lalganj',
            'Lalgudi',
            'Lalitpur',
            'Lalsot',
            'Lanka',
            'Lar',
            'Lathi',
            'Latur',
            'Lilong',
            'Limbdi',
            'Lingsugur',
            'Loha',
            'Lohardaga',
            'Lonar',
            'Lonavla',
            'Longowal',
            'Loni',
            'Losal',
            'Lucknow',
            'Ludhiana',
            'Lumding',
            'Lunawada',
            'Lunglei',
            'Macherla',
            'Machilipatnam',
            'Madanapalle',
            'Maddur',
            'Madhepura',
            'Madhubani',
            'Madhugiri',
            'Madhupur',
            'Madikeri',
            'Madurai',
            'Magadi',
            'Mahad',
            'Mahalingapura',
            'Maharajganj',
            'Maharajpur',
            'Mahasamund',
            'Mahbubnagar',
            'Mahe',
            'Mahemdabad',
            'Mahendragarh',
            'Mahesana',
            'Mahidpur',
            'Mahnar Bazar',
            'Mahuva',
            'Maihar',
            'Mainaguri',
            'Makhdumpur',
            'Makrana',
            'Malaj Khand',
            'Malappuram',
            'Malavalli',
            'Malda',
            'Malegaon',
            'Malerkotla',
            'Malkangiri',
            'Malkapur',
            'Malout',
            'Malpura',
            'Malur',
            'Manachanallur',
            'Manasa',
            'Manavadar',
            'Manawar',
            'Mancherial',
            'Mandalgarh',
            'Mandamarri',
            'Mandapeta',
            'Mandawa',
            'Mandi',
            'Mandi Dabwali',
            'Mandideep',
            'Mandla',
            'Mandsaur',
            'Mandvi',
            'Mandya',
            'Manendragarh',
            'Maner',
            'Mangaldoi',
            'Mangaluru',
            'Mangalvedhe',
            'Manglaur',
            'Mangrol',
            'Mangrol',
            'Mangrulpir',
            'Manihari',
            'Manjlegaon',
            'Mankachar',
            'Manmad',
            'Mansa',
            'Mansa',
            'Manuguru',
            'Manvi',
            'Manwath',
            'Mapusa',
            'Margao',
            'Margherita',
            'Marhaura',
            'Mariani',
            'Marigaon',
            'Markapur',
            'Marmagao',
            'Masaurhi',
            'Mathabhanga',
            'Mathura',
            'Mattannur',
            'Mauganj',
            'Mavelikkara',
            'Mavoor',
            'Mayang Imphal',
            'Medak',
            'Medininagar (Daltonganj)',
            'Medinipur',
            'Meerut',
            'Mehkar',
            'Memari',
            'Merta City',
            'Mhaswad',
            'Mhow Cantonment',
            'Mhowgaon',
            'Mihijam',
            'Mira-Bhayandar',
            'Mirganj',
            'Miryalaguda',
            'Modasa',
            'Modinagar',
            'Moga',
            'Mohali',
            'Mokameh',
            'Mokokchung',
            'Monoharpur',
            'Moradabad',
            'Morena',
            'Morinda, India',
            'Morshi',
            'Morvi',
            'Motihari',
            'Motipur',
            'Mount Abu',
            'Mudabidri',
            'Mudalagi',
            'Muddebihal',
            'Mudhol',
            'Mukerian',
            'Mukhed',
            'Muktsar',
            'Mul',
            'Mulbagal',
            'Multai',
            'Mumbai',
            'Mundargi',
            'Mundi',
            'Mungeli',
            'Munger',
            'Murliganj',
            'Murshidabad',
            'Murtijapur',
            'Murwara (Katni)',
            'Musabani',
            'Mussoorie',
            'Muvattupuzha',
            'Muzaffarpur',
            'Mysore',
            'Nabadwip',
            'Nabarangapur',
            'Nabha',
            'Nadbai',
            'Nadiad',
            'Nagaon',
            'Nagapattinam',
            'Nagar',
            'Nagari',
            'Nagarkurnool',
            'Nagaur',
            'Nagda',
            'Nagercoil',
            'Nagina',
            'Nagla',
            'Nagpur',
            'Nahan',
            'Naharlagun',
            'Naidupet',
            'Naihati',
            'Naila Janjgir',
            'Nainital',
            'Nainpur',
            'Najibabad',
            'Nakodar',
            'Nakur',
            'Nalbari',
            'Namagiripettai',
            'Namakkal',
            'Nanded-Waghala',
            'Nandgaon',
            'Nandivaram-Guduvancheri',
            'Nandura',
            'Nandurbar',
            'Nandyal',
            'Nangal',
            'Nanjangud',
            'Nanjikottai',
            'Nanpara',
            'Narasapuram',
            'Narasaraopet',
            'Naraura',
            'Narayanpet',
            'Nargund',
            'Narkatiaganj',
            'Narkhed',
            'Narnaul',
            'Narsinghgarh',
            'Narsinghgarh',
            'Narsipatnam',
            'Narwana',
            'Nashik',
            'Nasirabad',
            'Natham',
            'Nathdwara',
            'Naugachhia',
            'Naugawan Sadat',
            'Nautanwa',
            'Navalgund',
            'Navsari',
            'Nawabganj',
            'Nawada',
            'Nawanshahr',
            'Nawapur',
            'Nedumangad',
            'Neem-Ka-Thana',
            'Neemuch',
            'Nehtaur',
            'Nelamangala',
            'Nellikuppam',
            'Nellore',
            'Nepanagar',
            'New Delhi',
            'Neyveli (TS)',
            'Neyyattinkara',
            'Nidadavole',
            'Nilambur',
            'Nilanga',
            'Nimbahera',
            'Nirmal',
            'Niwai',
            'Niwari',
            'Nizamabad',
            'Nohar',
            'Noida',
            'Nokha',
            'Nokha',
            'Nongstoin',
            'Noorpur',
            'North Lakhimpur',
            'Nowgong',
            'Nowrozabad (Khodargama)',
            'Nuzvid',
            'O Valley',
            'Obra',
            'Oddanchatram',
            'Ongole',
            'Orai',
            'Osmanabad',
            'Ottappalam',
            'Ozar',
            'P.N.Patti',
            'Pachora',
            'Pachore',
            'Pacode',
            'Padmanabhapuram',
            'Padra',
            'Padrauna',
            'Paithan',
            'Pakaur',
            'Palacole',
            'Palai',
            'Palakkad',
            'Palampur',
            'Palani',
            'Palanpur',
            'Palasa Kasibugga',
            'Palghar',
            'Pali',
            'Palia Kalan',
            'Palitana',
            'Palladam',
            'Pallapatti',
            'Pallikonda',
            'Palwal',
            'Palwancha',
            'Panagar',
            'Panagudi',
            'Panaji',
            'Panamattom',
            'Panchkula',
            'Panchla',
            'Pandharkaoda',
            'Pandharpur',
            'Pandhurna',
            'Panipat',
            'Panna',
            'Panniyannur',
            'Panruti',
            'Panvel',
            'Pappinisseri',
            'Paradip',
            'Paramakudi',
            'Parangipettai',
            'Parasi',
            'Paravoor',
            'Parbhani',
            'Pardi',
            'Parlakhemundi',
            'Parli',
            'Partur',
            'Parvathipuram',
            'Pasan',
            'Paschim Punropara',
            'Pasighat',
            'Patan',
            'Pathanamthitta',
            'Pathankot',
            'Pathardi',
            'Pathri',
            'Patiala',
            'Patna',
            'Patratu',
            'Pattamundai',
            'Patti',
            'Pattran',
            'Pattukkottai',
            'Patur',
            'Pauni',
            'Pauri',
            'Pavagada',
            'Pedana',
            'Peddapuram',
            'Pehowa',
            'Pen',
            'Perambalur',
            'Peravurani',
            'Peringathur',
            'Perinthalmanna',
            'Periyakulam',
            'Periyasemur',
            'Pernampattu',
            'Perumbavoor',
            'Petlad',
            'Phagwara',
            'Phalodi',
            'Phaltan',
            'Phillaur',
            'Phulabani',
            'Phulera',
            'Phulpur',
            'Phusro',
            'Pihani',
            'Pilani',
            'Pilibanga',
            'Pilibhit',
            'Pilkhuwa',
            'Pindwara',
            'Pinjore',
            'Pipar City',
            'Pipariya',
            'Piriyapatna',
            'Piro',
            'Pithampur',
            'Pithapuram',
            'Pithoragarh',
            'Pollachi',
            'Polur',
            'Pondicherry',
            'Ponnani',
            'Ponneri',
            'Ponnur',
            'Porbandar',
            'Porsa',
            'Port Blair',
            'Powayan',
            'Prantij',
            'Pratapgarh',
            'Pratapgarh',
            'Prithvipur',
            'Proddatur',
            'Pudukkottai',
            'Pudupattinam',
            'Pukhrayan',
            'Pulgaon',
            'Puliyankudi',
            'Punalur',
            'Punch',
            'Pune',
            'Punganur',
            'Punjaipugalur',
            'Puranpur',
            'Puri',
            'Purna',
            'Purnia',
            'PurqUrban Agglomerationzi',
            'Purulia',
            'Purwa',
            'Pusad',
            'Puthuppally',
            'Puttur',
            'Puttur',
            'Qadian',
            'Raayachuru',
            'Rabkavi Banhatti',
            'Radhanpur',
            'Rae Bareli',
            'Rafiganj',
            'Raghogarh-Vijaypur',
            'Raghunathganj',
            'Raghunathpur',
            'Rahatgarh',
            'Rahuri',
            'Raiganj',
            'Raigarh',
            'Raikot',
            'Raipur',
            'Rairangpur',
            'Raisen',
            'Raisinghnagar',
            'Rajagangapur',
            'Rajahmundry',
            'Rajakhera',
            'Rajaldesar',
            'Rajam',
            'Rajampet',
            'Rajapalayam',
            'Rajauri',
            'Rajgarh',
            'Rajgarh (Alwar)',
            'Rajgarh (Churu)',
            'Rajgir',
            'Rajkot',
            'Rajnandgaon',
            'Rajpipla',
            'Rajpura',
            'Rajsamand',
            'Rajula',
            'Rajura',
            'Ramachandrapuram',
            'Ramagundam',
            'Ramanagaram',
            'Ramanathapuram',
            'Ramdurg',
            'Rameshwaram',
            'Ramganj Mandi',
            'Ramgarh',
            'Ramnagar',
            'Ramngarh',
            'Rampur',
            'Rampur Maniharan',
            'Rampura Phul',
            'Rampurhat',
            'Ramtek',
            'Ranaghat',
            'Ranavav',
            'Ranchi',
            'Ranebennuru',
            'Rangia',
            'Rania',
            'Ranibennur',
            'Ranipet',
            'Rapar',
            'Rasipuram',
            'Rasra',
            'Ratangarh',
            'Rath',
            'Ratia',
            'Ratlam',
            'Ratnagiri',
            'Rau',
            'Raurkela',
            'Raver',
            'Rawatbhata',
            'Rawatsar',
            'Raxaul Bazar',
            'Rayachoti',
            'Rayadurg',
            'Rayagada',
            'Reengus',
            'Rehli',
            'Renigunta',
            'Renukoot',
            'Reoti',
            'Repalle',
            'Revelganj',
            'Rewa',
            'Rewari',
            'Rishikesh',
            'Risod',
            'Robertsganj',
            'Robertson Pet',
            'Rohtak',
            'Ron',
            'Roorkee',
            'Rosera',
            'Rudauli',
            'Rudrapur',
            'Rudrapur',
            'Rupnagar',
            'Sabalgarh',
            'Sadabad',
            'Sadalagi',
            'Sadasivpet',
            'Sadri',
            'Sadulpur',
            'Sadulshahar',
            'Safidon',
            'Safipur',
            'Sagar',
            'Sagara',
            'Sagwara',
            'Saharanpur',
            'Saharsa',
            'Sahaspur',
            'Sahaswan',
            'Sahawar',
            'Sahibganj',
            'Sahjanwa',
            'Saidpur',
            'Saiha',
            'Sailu',
            'Sainthia',
            'Sakaleshapura',
            'Sakti',
            'Salaya',
            'Salem',
            'Salur',
            'Samalkha',
            'Samalkot',
            'Samana',
            'Samastipur',
            'Sambalpur',
            'Sambhal',
            'Sambhar',
            'Samdhan',
            'Samthar',
            'Sanand',
            'Sanawad',
            'Sanchore',
            'Sandi',
            'Sandila',
            'Sanduru',
            'Sangamner',
            'Sangareddy',
            'Sangaria',
            'Sangli',
            'Sangole',
            'Sangrur',
            'Sankarankovil',
            'Sankari',
            'Sankeshwara',
            'Santipur',
            'Sarangpur',
            'Sardarshahar',
            'Sardhana',
            'Sarni',
            'Sarsod',
            'Sasaram',
            'Sasvad',
            'Satana',
            'Satara',
            'Sathyamangalam',
            'Satna',
            'Sattenapalle',
            'Sattur',
            'Saunda',
            'Saundatti-Yellamma',
            'Sausar',
            'Savanur',
            'Savarkundla',
            'Savner',
            'Sawai Madhopur',
            'Sawantwadi',
            'Sedam',
            'Sehore',
            'Sendhwa',
            'Seohara',
            'Seoni',
            'Seoni-Malwa',
            'Shahabad',
            'Shahabad, Hardoi',
            'Shahabad, Rampur',
            'Shahade',
            'Shahdol',
            'Shahganj',
            'Shahjahanpur',
            'Shahpur',
            'Shahpura',
            'Shajapur',
            'Shamgarh',
            'Shamli',
            'Shamsabad, Agra',
            'Shamsabad, Farrukhabad',
            'Shegaon',
            'Sheikhpura',
            'Shendurjana',
            'Shenkottai',
            'Sheoganj',
            'Sheohar',
            'Sheopur',
            'Sherghati',
            'Sherkot',
            'Shiggaon',
            'Shikaripur',
            'Shikarpur, Bulandshahr',
            'Shikohabad',
            'Shillong',
            'Shimla',
            'Shirdi',
            'Shirpur-Warwade',
            'Shirur',
            'Shishgarh',
            'Shivamogga',
            'Shivpuri',
            'Sholavandan',
            'Sholingur',
            'Shoranur',
            'Shrigonda',
            'Shrirampur',
            'Shrirangapattana',
            'Shujalpur',
            'Siana',
            'Sibsagar',
            'Siddipet',
            'Sidhi',
            'Sidhpur',
            'Sidlaghatta',
            'Sihor',
            'Sihora',
            'Sikanderpur',
            'Sikandra Rao',
            'Sikandrabad',
            'Sikar',
            'Silao',
            'Silapathar',
            'Silchar',
            'Siliguri',
            'Sillod',
            'Silvassa',
            'Simdega',
            'Sindagi',
            'Sindhagi',
            'Sindhnur',
            'Singrauli',
            'Sinnar',
            'Sira',
            'Sircilla',
            'Sirhind Fatehgarh Sahib',
            'Sirkali',
            'Sirohi',
            'Sironj',
            'Sirsa',
            'Sirsaganj',
            'Sirsi',
            'Siruguppa',
            'Sitamarhi',
            'Sitapur',
            'Sitarganj',
            'Sivaganga',
            'Sivagiri',
            'Sivakasi',
            'Siwan',
            'Sohagpur',
            'Sohna',
            'Sojat',
            'Solan',
            'Solapur',
            'Sonamukhi',
            'Sonepur',
            'Songadh',
            'Sonipat',
            'Sopore',
            'Soro',
            'Soron',
            'Soyagaon',
            'Sri Madhopur',
            'Srikakulam',
            'Srikalahasti',
            'Srinagar',
            'Srinagar',
            'Srinivaspur',
            'Srirampore',
            'Srivilliputhur',
            'Sugauli',
            'Sujangarh',
            'Sujanpur',
            'Sullurpeta',
            'Sultanganj',
            'Sultanpur',
            'Sumerpur',
            'Sumerpur',
            'Sunabeda',
            'Sunam',
            'Sundargarh',
            'Sundarnagar',
            'Supaul',
            'Surandai',
            'Surapura',
            'Surat',
            'Suratgarh',
            'SUrban Agglomerationr',
            'Suri',
            'Suriyampalayam',
            'Suryapet',
            'Tadepalligudem',
            'Tadpatri',
            'Takhatgarh',
            'Taki',
            'Talaja',
            'Talcher',
            'Talegaon Dabhade',
            'Talikota',
            'Taliparamba',
            'Talode',
            'Talwara',
            'Tamluk',
            'Tanda',
            'Tandur',
            'Tanuku',
            'Tarakeswar',
            'Tarana',
            'Taranagar',
            'Taraori',
            'Tarbha',
            'Tarikere',
            'Tarn Taran',
            'Tasgaon',
            'Tehri',
            'Tekkalakote',
            'Tenali',
            'Tenkasi',
            'Tenu dam-cum-Kathhara',
            'Terdal',
            'Tezpur',
            'Thakurdwara',
            'Thammampatti',
            'Thana Bhawan',
            'Thane',
            'Thanesar',
            'Thangadh',
            'Thanjavur',
            'Tharad',
            'Tharamangalam',
            'Tharangambadi',
            'Theni Allinagaram',
            'Thirumangalam',
            'Thirupuvanam',
            'Thiruthuraipoondi',
            'Thiruvalla',
            'Thiruvallur',
            'Thiruvananthapuram',
            'Thiruvarur',
            'Thodupuzha',
            'Thoubal',
            'Thrissur',
            'Thuraiyur',
            'Tikamgarh',
            'Tilda Newra',
            'Tilhar',
            'Tindivanam',
            'Tinsukia',
            'Tiptur',
            'Tirora',
            'Tiruchendur',
            'Tiruchengode',
            'Tiruchirappalli',
            'Tirukalukundram',
            'Tirukkoyilur',
            'Tirunelveli',
            'Tirupathur',
            'Tirupati',
            'Tiruppur',
            'Tirur',
            'Tiruttani',
            'Tiruvannamalai',
            'Tiruvethipuram',
            'Tiruvuru',
            'Tirwaganj',
            'Titlagarh',
            'Tittakudi',
            'Todabhim',
            'Todaraisingh',
            'Tohana',
            'Tonk',
            'Tuensang',
            'Tuljapur',
            'Tulsipur',
            'Tumkur',
            'Tumsar',
            'Tundla',
            'Tuni',
            'Tura',
            'Uchgaon',
            'Udaipur',
            'Udaipurwati',
            'Udgir',
            'Udhagamandalam',
            'Udhampur',
            'Udumalaipettai',
            'Udupi',
            'Ujhani',
            'Ujjain',
            'Umarga',
            'Umaria',
            'Umarkhed',
            'Umbergaon',
            'Umred',
            'Umreth',
            'Una',
            'Unjha',
            'Unnamalaikadai',
            'Unnao',
            'Upleta',
            'Uran',
            'Uran Islampur',
            'Uravakonda',
            'Urmar Tanda',
            'Usilampatti',
            'Uthamapalayam',
            'Uthiramerur',
            'Utraula',
            'Vadakkuvalliyur',
            'Vadalur',
            'Vadgaon Kasba',
            'Vadipatti',
            'Vadnagar',
            'Vadodara',
            'Vaijapur',
            'Vaikom',
            'Valparai',
            'Valsad',
            'Vandavasi',
            'Vaniyambadi',
            'Vapi',
            'Vapi',
            'Varanasi',
            'Varkala',
            'Vasai-Virar',
            'Vatakara',
            'Vedaranyam',
            'Vellakoil',
            'Vellore',
            'Venkatagiri',
            'Veraval',
            'Vidisha',
            'Vijainagar, Ajmer',
            'Vijapur',
            'Vijayapura',
            'Vijayawada',
            'Vijaypur',
            'Vikarabad',
            'Vikramasingapuram',
            'Viluppuram',
            'Vinukonda',
            'Viramgam',
            'Virudhachalam',
            'Virudhunagar',
            'Visakhapatnam',
            'Visnagar',
            'Viswanatham',
            'Vita',
            'Vizianagaram',
            'Vrindavan',
            'Vyara',
            'Wadgaon Road',
            'Wadhwan',
            'Wadi',
            'Wai',
            'Wanaparthy',
            'Wani',
            'Wankaner',
            'Wara Seoni',
            'Warangal',
            'Wardha',
            'Warhapur',
            'Warisaliganj',
            'Warora',
            'Warud',
            'Washim',
            'Wokha',
            'Yadgir',
            'Yamunanagar',
            'Yanam',
            'Yavatmal',
            'Yawal',
            'Yellandu',
            'Yemmiganur',
            'Yerraguntla',
            'Yevla',
            'Zaidpur',
            'Zamania',
            'Zira',
            'Zirakpur',
            'Zunheboto'
        ];
        this.param = {
            inserted: 'no',
            data: null
        };
        this.Supplier = {
            //Supplier Details
            sid: '',
            name: '',
            saddress: '',
            state: '',
            type: '',
            phone: '',
            email: '',
            panNo: '',
            gstin: '',
            tdsPercent: '',
            //GSTin details 
            billingName: '',
            billingAddress: '',
            billingState: '',
            billingPhone: '',
            headOfficeCity: '',
            billingServiceTax: '',
            billingGSTType: '',
            billingReverseChargeApplicable: '',
            //Applicable taxes
            applicableTaxes: '',
            //Working Hours
            startTime: '',
            endTime: '',
            earlyTime: '',
            lateTime: '',
            //Misc
            limitCities: '',
            branches: null,
            ownerId: '',
            vehicleId: null,
            revenueSharePercentage: '',
        };
        var cData = localStorage.getItem('supplier');
        console.log(cData);
        // if(this.Supplier==undefined)
        // {
        //   this.router.navigate(['/pages/masters/suppliersdisp'])
        // }
        if (cData != 'undefined' && cData != 'null') {
            this.Supplier = JSON.parse(cData);
            this.branchesCtrl.setValue(this.Supplier.branches);
            this.NewSupplierStateControl.setValue(this.Supplier.state);
            this.GSTStateControl.setValue(this.Supplier.billingState);
            this.supplierService.getSupplierLimitCity(this.Supplier).subscribe(function (data) {
                data.forEach(function (element) {
                    var city = _this.fb.group({
                        id: element.id,
                        city: element.city,
                    });
                    _this.citiesFormCtrl.push(city);
                });
            });
            // console.log(this.vehicleGroupsFormCtrl)
            this.supplierService.getSupplierLimitVehicleGroup(this.Supplier).subscribe(function (data) {
                data.forEach(function (element) {
                    _this.vehicleGroupId.push(element.vehicleGroupId);
                    _this.retrievedVehicleGroupId.push(element.vehicleGroupId);
                    // const vehicleGroups=this.fb.group({
                    //   id: element.id,
                    //   vehicleGroupId: element.vehicleGroupId,            
                    // })
                    // this.vehicleGroupsFormCtrl.push(vehicleGroups);
                });
            });
            this.supplierService.getSupplierLimitDutyType(this.Supplier).subscribe(function (data) {
                data.forEach(function (element) {
                    _this.dutyTypeId.push(element.dutyTypeId);
                    _this.retrievedDutyTypeId.push(element.dutyTypeId);
                });
            });
            this.activityLogs.getSupplierLogs({ id: this.Supplier.id }).subscribe(function (data) {
                _this.logs = data;
            });
            this.editState = true;
        }
        if (this.Supplier == undefined) {
            this.router.navigate(['/pages/masters/suppliersdisp']);
        }
    }
    AddSuppliersComponent.prototype.unloadHandler = function (event) {
        console.log("Processing beforeunload...");
        event.returnValue = false;
    };
    AddSuppliersComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.Supplier.ownerId = data[0].ownerId;
            _this.invoiceService.getTaxes(data[0]).subscribe(function (data) {
                console.log(data);
                _this.tax = data;
                if (_this.Supplier != null) {
                    var cTax = _this.tax.find(function (x) { return x.id === Number(_this.Supplier.applicableTaxes); });
                    if (cTax != undefined) {
                        var row = _this.fb.group({
                            tax: cTax.name,
                            tempTax: true
                        });
                        _this.applicableTaxes.push(row);
                        _this.taxStatus = true;
                        _this.taxCtrl.setValue(cTax.name);
                    }
                }
                _this.taxes = _this.taxCtrl.valueChanges
                    .pipe(Object(__WEBPACK_IMPORTED_MODULE_3_rxjs_operators_startWith__["a" /* startWith */])(''), Object(__WEBPACK_IMPORTED_MODULE_4_rxjs_operators_map__["a" /* map */])(function (val) { return _this.filterTax(val); }));
            });
            _this.branchService.getBranches(_this.user).subscribe(function (data) {
                _this.branches = data;
                if (_this.Supplier != null) {
                    var b = _this.branches.find(function (x) { return x.id === Number(_this.Supplier.branches); });
                    if (b != undefined) {
                        _this.branchesCtrl.setValue(b.name);
                    }
                }
                _this.branch = _this.branchesCtrl.valueChanges
                    .pipe(Object(__WEBPACK_IMPORTED_MODULE_3_rxjs_operators_startWith__["a" /* startWith */])(''), Object(__WEBPACK_IMPORTED_MODULE_4_rxjs_operators_map__["a" /* map */])(function (val) { return _this.filterBranches(val); }));
            });
        });
        this.supplierGroupService.getSupplierGroups(this.user).subscribe(function (data) {
            _this.supplierGroups = data;
        });
        this.vehicleGroupService.getvehicleGroup(this.user).subscribe(function (data) {
            _this.vehicleGroups = data;
        });
        this.dutyTypeService.getDutyType(this.user).subscribe(function (data) {
            _this.dutyTypes = data;
        });
        this.myForm = this.fb.group({
            rows: this.fb.array([])
        });
        this.cityForm = this.fb.group({
            cities: this.fb.array([])
        });
        this.vehicleGroupsForm = this.fb.group({
            vehicleGroups: this.fb.array([])
        });
        this.dutyTypesForm = this.fb.group({
            dutyTypes: this.fb.array([])
        });
        this.newSupplierStates = this.NewSupplierStateControl.valueChanges
            .pipe(Object(__WEBPACK_IMPORTED_MODULE_3_rxjs_operators_startWith__["a" /* startWith */])(''), Object(__WEBPACK_IMPORTED_MODULE_4_rxjs_operators_map__["a" /* map */])(function (val) { return _this.filterSupplierStates(val); }));
        this.gstbillingStates = this.GSTStateControl.valueChanges
            .pipe(Object(__WEBPACK_IMPORTED_MODULE_3_rxjs_operators_startWith__["a" /* startWith */])(''), Object(__WEBPACK_IMPORTED_MODULE_4_rxjs_operators_map__["a" /* map */])(function (val) { return _this.filterGSTStates(val); }));
        this.taxTypes = this.taxesService.gettax();
    };
    AddSuppliersComponent.prototype.filterCity = function (i) {
        var _this = this;
        this.cities = this.citiesFormCtrl.at(i).get('city').valueChanges
            .pipe(Object(__WEBPACK_IMPORTED_MODULE_3_rxjs_operators_startWith__["a" /* startWith */])(''), Object(__WEBPACK_IMPORTED_MODULE_4_rxjs_operators_map__["a" /* map */])(function (val) { return _this.filterFromCity(val); }));
    };
    AddSuppliersComponent.prototype.filterBranches = function (val) {
        return this.branches.filter(function (option) {
            return option.name.toLowerCase().includes(val.toLowerCase());
        });
    };
    AddSuppliersComponent.prototype.filterSupplierStates = function (val) {
        return this.states.filter(function (option) {
            return option.toLowerCase().includes(val.toLowerCase());
        });
    };
    AddSuppliersComponent.prototype.filterGSTStates = function (val) {
        return this.states.filter(function (option) {
            return option.toLowerCase().includes(val.toLowerCase());
        });
    };
    AddSuppliersComponent.prototype.filterTax = function (val) {
        return this.tax.filter(function (option) {
            return option.name.toLowerCase().includes(val.toLowerCase());
        });
    };
    AddSuppliersComponent.prototype.filterFromCity = function (val) {
        return this.city.filter(function (option) {
            return option.toLowerCase().includes(val.toLowerCase());
        });
    };
    AddSuppliersComponent.prototype.SuppStateSelect = function (option, event) {
        if (event.source.selected == true) {
            this.Supplier.state = option;
        }
    };
    AddSuppliersComponent.prototype.SuppGSTStateSelect = function (option, event) {
        if (event.source.selected == true) {
            this.Supplier.billingState = option;
        }
    };
    AddSuppliersComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    Object.defineProperty(AddSuppliersComponent.prototype, "applicableTaxes", {
        get: function () {
            return this.myForm.get('rows');
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AddSuppliersComponent.prototype, "citiesFormCtrl", {
        get: function () {
            return this.cityForm.get('cities');
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AddSuppliersComponent.prototype, "vehicleGroupsFormCtrl", {
        get: function () {
            return this.vehicleGroupsForm.get('vehicleGroups');
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AddSuppliersComponent.prototype, "dutyTypesFormCtrl", {
        get: function () {
            return this.dutyTypesForm.get('dutyTypes');
        },
        enumerable: true,
        configurable: true
    });
    AddSuppliersComponent.prototype.addRow = function (temp) {
        var row = this.fb.group({
            tax: '',
            tempTax: temp
        });
        this.applicableTaxes.push(row);
        this.taxStatus = true;
    };
    AddSuppliersComponent.prototype.deleteRow = function (i) {
        this.applicableTaxes.removeAt(i);
        this.taxStatus = false;
        this.Supplier.applicableTaxes = null;
    };
    AddSuppliersComponent.prototype.addCity = function (temp) {
        var city = this.fb.group({
            city: '',
        });
        this.citiesFormCtrl.push(city);
    };
    AddSuppliersComponent.prototype.deleteCity = function (i, aRow) {
        this.citiesFormCtrl.removeAt(i);
        if (aRow.value.id) {
            this.deletedCity.push(aRow.value);
        }
    };
    AddSuppliersComponent.prototype.addVehicleGroup = function (temp) {
        var vehicleGroups = this.fb.group({
            vehicleGroupId: '',
            vehicleGroupName: '',
        });
        this.vehicleGroupsFormCtrl.push(vehicleGroups);
    };
    AddSuppliersComponent.prototype.deleteVehicleGroup = function (i, aRow) {
        console.log(aRow);
        this.vehicleGroupsFormCtrl.removeAt(i);
        if (aRow.value.id) {
            this.deletedVehicleGroup.push(aRow.value);
        }
    };
    AddSuppliersComponent.prototype.addDutyType = function (temp) {
        var dutyTypes = this.fb.group({
            dutyTypeId: '',
        });
        this.dutyTypesFormCtrl.push(dutyTypes);
    };
    AddSuppliersComponent.prototype.deleteDutyType = function (i, aRow) {
        this.dutyTypesFormCtrl.removeAt(i);
        if (aRow.value.id) {
            this.deletedDutyType.push(aRow.value);
        }
    };
    AddSuppliersComponent.prototype.setTax = function (option, event) {
        this.Supplier.applicableTaxes = option.id;
    };
    AddSuppliersComponent.prototype.setBranches = function (option, event) {
        this.Supplier.branches = option.id;
    };
    AddSuppliersComponent.prototype.updateSupplier = function () {
        var _this = this;
        if (this.Supplier.name.trim() == "") {
            this.snackBar.open('Enter Name', null, {
                duration: 5000
            });
        }
        else {
            this.supplierService.updateSupplier(this.Supplier).subscribe(function (data) {
                if (data.affectedRows == 1) {
                    _this.param.inserted = 'yes';
                    _this.param.data = _this.Supplier;
                    _this.activityLogs.addSupplierLogs({
                        supplierId: _this.Supplier.id,
                        ownerId: _this.Supplier.ownerId,
                        message: "Supplier edited on " + __WEBPACK_IMPORTED_MODULE_16_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + _this.user.name
                    }).subscribe();
                    // console.log(this.citiesFormCtrl)
                    if (_this.citiesFormCtrl.length > 0) {
                        _this.citiesFormCtrl.value.forEach(function (element) {
                            if (element.id) {
                                _this.supplierService.updateSupplierLimitCity(element).subscribe();
                            }
                            else {
                                element.ownerId = _this.user.ownerId;
                                element.supplierId = _this.Supplier.id;
                                _this.supplierService.addSupplierLimitCity(element).subscribe();
                                console.log(element);
                            }
                        });
                    }
                    _this.deletedCity.forEach(function (element) {
                        _this.supplierService.deleteSupplierLimitCity(element).subscribe();
                    });
                    // console.log(this.vehicleGroupsFormCtrl)
                    if (_this.vehicleGroupId.length > 0) {
                        _this.vehicleGroupId.forEach(function (element) {
                            if (!_this.retrievedVehicleGroupId.includes(element)) {
                                var limit = {
                                    vehicleGroupId: element,
                                    ownerId: _this.user.ownerId,
                                    supplierId: _this.Supplier.id
                                };
                                _this.supplierService.addSupplierLimitVehicleGroup(limit).subscribe();
                            }
                        });
                    }
                    _this.retrievedVehicleGroupId.forEach(function (element) {
                        if (!_this.vehicleGroupId.includes(element)) {
                            _this.supplierService.deleteSupplierLimitVehicleGroup({ vehicleGroupId: element, supplierId: _this.Supplier.id }).subscribe();
                        }
                    });
                    if (_this.dutyTypeId.length > 0) {
                        _this.dutyTypeId.forEach(function (element) {
                            if (!_this.retrievedDutyTypeId.includes(element)) {
                                var limitDutyType = {
                                    dutyTypeId: element,
                                    ownerId: _this.user.ownerId,
                                    supplierId: _this.Supplier.id,
                                };
                                _this.supplierService.addSupplierLimitDutyType(limitDutyType).subscribe();
                            }
                        });
                    }
                    _this.retrievedDutyTypeId.forEach(function (element) {
                        if (!_this.dutyTypeId.includes(element)) {
                            _this.supplierService.deleteSupplierLimitDutyType(element).subscribe();
                        }
                    });
                }
            }, function (err) { }, function () {
                _this.snackBar.open("Supplier Updated", "X", { duration: 3000 });
                _this.matDialogRef.close(_this.param);
            });
        }
    };
    AddSuppliersComponent.prototype.saveSupplier = function () {
        var _this = this;
        if (this.Supplier.name.trim() == "") {
            this.snackBar.open('Enter Name', null, {
                duration: 5000
            });
        }
        else {
            if (this.Supplier.type == 'Owner-cum-Driver') {
                var dialTemp = this.dialog.open(__WEBPACK_IMPORTED_MODULE_11__new_vehicles_new_vehicles_component__["a" /* NewVehiclesComponent */], { disableClose: true, autoFocus: false, data: { type: 'Owner-cum-Driver', driverName: this.Supplier.name } });
                dialTemp.afterClosed().subscribe(function (data) {
                    console.log(data);
                    if (data.inserted == 'yes') {
                        console.log(data);
                        _this.Supplier.vehicleId = data.data.id;
                        _this.supplierService.addSupplier(_this.Supplier).subscribe(function (data) {
                            if (data.affectedRows == 1) {
                                _this.param.inserted = 'yes';
                                _this.param.data = _this.Supplier;
                                _this.activityLogs.addSupplierLogs({
                                    supplierId: _this.Supplier.id,
                                    ownerId: _this.Supplier.ownerId,
                                    message: "Supplier created on " + __WEBPACK_IMPORTED_MODULE_16_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + _this.user.name
                                }).subscribe();
                                // console.log(this.citiesFormCtrl)
                                if (_this.citiesFormCtrl.length > 0) {
                                    _this.citiesFormCtrl.value.forEach(function (element) {
                                        element.ownerId = _this.user.ownerId;
                                        element.supplierId = data.insertId;
                                        _this.supplierService.addSupplierLimitCity(element).subscribe();
                                        console.log(element);
                                    });
                                }
                                // console.log(this.vehicleGroupsFormCtrl)
                                if (_this.vehicleGroupId.length > 0) {
                                    _this.vehicleGroupId.forEach(function (element) {
                                        var limit = {
                                            vehicleGroupId: element,
                                            ownerId: _this.user.ownerId,
                                            supplierId: data.insertId
                                        };
                                        _this.supplierService.addSupplierLimitVehicleGroup(limit).subscribe();
                                        console.log(element);
                                    });
                                }
                                if (_this.dutyTypeId.length > 0) {
                                    _this.dutyTypeId.forEach(function (element) {
                                        var limitDutyType = {
                                            dutyTypeId: element,
                                            ownerId: _this.user.ownerId,
                                            supplierId: data.insertId,
                                        };
                                        _this.supplierService.addSupplierLimitDutyType(limitDutyType).subscribe();
                                        console.log(element);
                                    });
                                }
                            }
                            _this.matDialogRef.close(_this.param);
                        });
                    }
                    else {
                        _this.snackBar.open('Supplier details not saved', 'X', { duration: 3000 });
                    }
                });
            }
            else {
                this.supplierService.addSupplier(this.Supplier).subscribe(function (data) {
                    if (data.affectedRows == 1) {
                        _this.param.inserted = 'yes';
                        _this.param.data = _this.Supplier;
                        // console.log(this.citiesFormCtrl)
                        if (_this.citiesFormCtrl.length > 0) {
                            _this.citiesFormCtrl.value.forEach(function (element) {
                                element.ownerId = _this.user.ownerId;
                                element.supplierId = data.insertId;
                                _this.supplierService.addSupplierLimitCity(element).subscribe();
                                console.log(element);
                            });
                        }
                        // console.log(this.vehicleGroupsFormCtrl)
                        if (_this.vehicleGroupsFormCtrl.length > 0) {
                            _this.vehicleGroupsFormCtrl.value.forEach(function (element) {
                                element.ownerId = _this.user.ownerId;
                                element.supplierId = data.insertId;
                                _this.supplierService.addSupplierLimitVehicleGroup(element).subscribe();
                                console.log(element);
                            });
                        }
                    }
                    _this.snackBar.open("Supplier Added", "X", { duration: 3000 });
                    _this.dialog.closeAll();
                    // this.matDialogRef.close(this.param);
                });
            }
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])("window:beforeunload", ["$event"]),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Event]),
        __metadata("design:returntype", void 0)
    ], AddSuppliersComponent.prototype, "unloadHandler", null);
    AddSuppliersComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ngx-form-layouts',
            styles: [__webpack_require__("./src/app/pages/masters/addsuppliers/addsuppliers.component.scss")],
            template: __webpack_require__("./src/app/pages/masters/addsuppliers/addsuppliers.component.html"),
        }),
        __param(3, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_6__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_7__vehiclegroups_vehiclegroups_component__["a" /* VehicleGroupsComponent */],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_6__angular_material__["p" /* MatDialogRef */], Object, __WEBPACK_IMPORTED_MODULE_1__supplier_service__["a" /* SupplierService */],
            __WEBPACK_IMPORTED_MODULE_5__taxes_taxes_component__["a" /* TaxesComponent */],
            __WEBPACK_IMPORTED_MODULE_6__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_8__newsuppliergroup_newsuppliergroup_component__["a" /* NewsuppliergroupComponent */],
            __WEBPACK_IMPORTED_MODULE_6__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_9__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_10__createinvoice_invoice_service__["a" /* InvoiceService */],
            __WEBPACK_IMPORTED_MODULE_12__operations_new_branch_new_branch_service__["a" /* NewBranchService */],
            __WEBPACK_IMPORTED_MODULE_13__dutytype_duty_type_service__["a" /* DutyTypeService */],
            __WEBPACK_IMPORTED_MODULE_14__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_15__activitylog_service__["a" /* ActivitylogService */]])
    ], AddSuppliersComponent);
    return AddSuppliersComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/changedriverpassword/changedriverpassword.component.html":
/***/ (function(module, exports) {

module.exports = "<style>\n    mat-card {\n    max-width: 400px;\n    margin-right: auto;\n    margin-left: auto;\n    text-align: center;\n    border-radius: 8px;\n    box-shadow: 0 3px 24px -1px rgba(0,0,0,.2), 0 3px 2px 0 rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12) !important;\n  }\n  .signin-content {\n    padding: 0px 0rem;\n    margin-top: -1px !important;\n  }\n  .full-width-input {\n    width: 100%;\n  }\n  \n  .mat-form-field{\n    margin-top: 20px;\n  }\n  </style>\n  <div class=\"signin-content\" id=\"test\">\n    <mat-card>\n      <mat-card-content>\n        <form #formData='ngForm'>\n          <div style=\"margin:20px\">\n            <img alt=\"\" src=\"../../../assets/icons/iconfinder_user_925901.svg\" style=\"width:20%\">\n          </div>\n          <h5>RESET PASSWORD</h5>\n          <mat-form-field class=\"full-width-input\">\n            <input matInput type=\"password\" [(ngModel)]=\"password\" id=\"newPassword\" name=\"newPassword\" placeholder=\"New Password\">\n          </mat-form-field>\n          <mat-form-field class=\"full-width-input\">\n            <input matInput type=\"password\" [(ngModel)]=\"confirmPassword\" id=\"confirmPassword\" name=\"confirmPassword\" placeholder=\"Confirm Password\">\n          </mat-form-field>\n          <button style=\"margin-top:50px; width:200px;\" type=\"submit\" [disabled]=\"!formData.valid\" mat-raised-button color=\"primary\" (click)=\"checkPasswords()\">Confirm</button>\n          <button style=\"margin-top:50px; width:200px;\" type=\"submit\" [disabled]=\"!formData.valid\" mat-raised-button color=\"warn\" (click)=\"close()\">Close</button>\n        </form>\n      </mat-card-content>\n    </mat-card>\n  </div>"

/***/ }),

/***/ "./src/app/pages/masters/changedriverpassword/changedriverpassword.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/changedriverpassword/changedriverpassword.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ChangedriverpasswordComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};




var ChangedriverpasswordComponent = (function () {
    function ChangedriverpasswordComponent(snackBar, data, dialog, auth, http) {
        this.snackBar = snackBar;
        this.data = data;
        this.dialog = dialog;
        this.auth = auth;
        this.http = http;
        this.driver = {
            email: '',
            type: '',
            password: '',
            userId: '',
        };
        if (data) {
            this.driver.email = data.email;
            this.driver.type = data.type;
            this.driver.userId = data.id;
        }
    }
    ChangedriverpasswordComponent.prototype.ngOnInit = function () {
    };
    ChangedriverpasswordComponent.prototype.checkPasswords = function () {
        if (this.password === this.confirmPassword) {
            this.submit();
        }
        else {
            this.snackBar.open("Passwords does not match", "X", { duration: 3000 });
        }
    };
    ChangedriverpasswordComponent.prototype.submit = function () {
        var _this = this;
        this.driver.password = this.password;
        console.log(this.driver);
        this.auth.changePasswordFromApp(this.driver).subscribe(function (data) {
            _this.snackBar.open("Password updated", "X", { duration: 3000 });
        });
    };
    ChangedriverpasswordComponent.prototype.close = function () {
        this.dialog.closeAll();
    };
    ChangedriverpasswordComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'changedriverpassword',
            template: __webpack_require__("./src/app/pages/masters/changedriverpassword/changedriverpassword.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/changedriverpassword/changedriverpassword.component.scss")]
        }),
        __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_material__["I" /* MatSnackBar */], Object, __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */], __WEBPACK_IMPORTED_MODULE_3__core_auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_2__angular_http__["b" /* Http */]])
    ], ChangedriverpasswordComponent);
    return ChangedriverpasswordComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/createflightinvoice/createflightinvoice.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n    <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        Create Flight Invoice\n        <b style=\"float: right; font-size: 12px; font-weight: 100;\">*All figures in Rs.</b>\n      </nb-card-header>\n      <nb-card-body class=\"box\">\n        <div class=\"col-lg-12 col-12\" style=\"padding:10px;\">          \n          <table>\n            <tr>\n              <td></td>\n            </tr>\n          </table>          \n        </div>\n        <div class=\"box2\">\n          <div class=\"col-lg-6 vl\">\n            <table cellpadding=8px>\n              <tr>\n                <td>\n                  <b>Customer Name:</b>\n                </td>\n                <td>\n                  {{selectedCustomer.name}}\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Customer No:</b>\n                </td>\n                <td>\n                  {{selectedCustomer.phone}}\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>State:</b>\n                </td>\n                <td>\n                  {{selectedCustomer.state}}\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Pan:</b>\n                </td>\n                <td>\n                  {{selectedCustomer.panNo}}\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>GSTIN:</b>\n                </td>\n                <td>\n                  {{selectedCustomer.gstin}}\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Billing Address:</b>\n                </td>\n                <td>\n                  {{selectedCustomer.billingAddress}}\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <button mat-raised-button color=\"primary\" (click)=\"selectCustomer()\">Add Customer</button>\n                </td>\n              </tr>\n            </table>\n          </div>\n          <div class=\"col-lg-6\">\n            <table>\n              <tr>\n                <td>\n                  <b>Invoice Number:</b>\n                </td>\n                <td *ngIf=\"businessSettings.invoiceDatesAndNumbering == 'Manual'\">\n                  <mat-form-field>\n                    <input matInput type=\"text\" [(ngModel)]=\"newInvoiceNumber\">\n                  </mat-form-field>                  \n                </td>\n                <td *ngIf=\"businessSettings.invoiceDatesAndNumbering == 'Automatic'\">\n                  {{newInvoiceNumber}}\n                </td>\n              </tr>\n              <tr *ngIf=\"businessSettings.invoiceDatesAndNumbering == 'Manual'\">\n                <td>\n                  <b>Invoice Date:</b>\n                </td>\n                <td>\n                  <mat-form-field>\n                    <input matInput type=\"date\" name=\"date\" [(ngModel)]=\"invoice.invoiceDate\">\n                  </mat-form-field>\n                </td>\n              </tr>\n              <tr *ngIf=\"businessSettings.invoiceDatesAndNumbering == 'Automatic'\">\n                <td>\n                  <b>Invoice Date:</b>\n                </td>\n                <td>\n                  <mat-form-field>\n                    <input matInput type=\"date\" name=\"date\" [(ngModel)]=\"invoice.invoiceDate\" readonly>\n                  </mat-form-field>\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Invoice Period:</b>\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <mat-form-field>\n                    <input matInput type=\"date\" placeholder=\"from\" [(ngModel)]=\"invoice.invoicePeriodFrom\" name=\"date\">\n                  </mat-form-field>\n                </td>\n                <td>\n                  <mat-form-field>\n                    <input matInput type=\"date\" placeholder=\"to\" [(ngModel)]=\"invoice.invoicePeriodTo\" name=\"date\">\n                  </mat-form-field>\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>CC Number</b>\n                </td>\n                <td>\n                  <b>PO Number</b>\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <mat-form-field>\n                    <input matInput [(ngModel)]=\"invoice.PONumber\">\n                  </mat-form-field>\n                </td>\n                <td>\n                  <mat-form-field>\n                    <input matInput [(ngModel)]=\"invoice.CCNumber\">\n                  </mat-form-field>\n                </td>\n              </tr>\n            </table>\n          </div>\n        </div>        \n        <div class=\"col-lg-12\">\n          <h4></h4>\n          <form [formGroup]=\"myForm\">\n            <div formArrayName=\"rows\">\n              <table style=\"width:100%;margin-top:10px;\" cellpadding=\"10\">\n                <tr class=\"invoiceTable\">\n                  <th>Sr.</th>\n                  <th>Description</th>\n                  <th>Rate</th>\n                  <th>Quantity</th>\n                  <th>Amount</th>\n                  <th></th>\n                </tr>\n                <tr *ngFor=\"let temp of selectedFlightBookings; let i=index\" \n                  [formGroupName]=\"i\" style=\" text-align:center;\" class=\"invoiceTable\">                      \n                  <td>\n                    {{srNo+1}}\n                  </td>\n                  <td class=\"tdleft\">\n                    <b>From:</b>{{temp.from}}<br>\n                    <b>To:</b>{{temp.to}}<br>\n                    <b>Arrival Date:</b>{{temp.arrivalDate}}<br>\n                    <b>Departure Date:</b>{{temp.departureDate}}\n                    <b>Passenger Name:</b>{{temp.guestName}}\n                  </td>\n                  <td>\n                    {{temp.price}}\n                  </td>\n                  <td>\n                    1\n                  </td>\n                  <td>\n                    {{temp.price}}\n                  </td>\n                  <td>\n                    <button mat-icon-button (click)=\"deleteFlight(i)\"><mat-icon style=\"font-size: 20px\">clear</mat-icon></button>\n                  </td>\n                </tr>\n                <tr *ngFor=\"let aRow of invoiceForms.controls; let i=index\" \n                  [formGroupName]=\"i\" class=\"invoiceTable\">                  \n                  <td>\n                    {{srNo+1}}\n                  </td>\n                  <td>\n                    <mat-form-field>\n                      <input matInput formControlName=\"description\" placeholder=\"Charges\">\n                    </mat-form-field>\n                    <i *ngIf=\"aRow.controls.taxable.value\">(taxable)</i>\n                    <i *ngIf=\"!aRow.controls.taxable.value\">(non-taxable)</i>\n                  </td>\n                  <td>\n                    <mat-form-field>\n                      <input matInput type=\"number\" formControlName=\"rate\" (change)=\"calculateCharges(aRow)\" >\n                    </mat-form-field>\n                  </td>\n                  <td>\n                    <mat-form-field>\n                      <input matInput type=\"number\" formControlName=\"quantity\" (change)=\"calculateCharges(aRow)\">\n                    </mat-form-field>\n                  </td>\n                  <td>\n                    <mat-form-field>\n                      <input matInput type=\"number\" formControlName=\"amount\" disabled>\n                    </mat-form-field>\n                  </td>\n                  <td>\n                    <button mat-icon-button (click)=\"deleteRow(i)\"><mat-icon style=\"font-size: 20px\">clear</mat-icon></button>\n                  </td>\n                </tr>\n                <tr *ngIf=\"isDiscounted\">\n                  <td></td>\n                  <td>\n                    <mat-form-field>\n                      <input matInput placeholder=\"Discount\">\n                    </mat-form-field>\n                    <mat-form-field>\n                      <mat-select [(value)]=\"invoice.discountType\" placeholder=\"Select Type\">\n                        <mat-option value=\"Amount\" (click)=\"getDiscount(1)\">\n                          by Amount\n                        </mat-option>\n                        <mat-option value=\"Percentage\" (click)=\"getDiscount(2)\">\n                          by %\n                        </mat-option>\n                        <mat-option value=\"PercentByHireCharges\" (click)=\"getDiscount(3)\">\n                          by % on Car Hire Charges\n                        </mat-option>\n                      </mat-select>\n                    </mat-form-field>\n                  </td>\n                  <td>\n                    <mat-form-field>\n                      <input matInput type=\"number\" (change)=\"discountRates($event.target.value)\">\n                    </mat-form-field>\n                  </td>\n                  <td></td>\n                  <td>\n                    {{invoice.discountAmount}}\n                  </td>\n                  <td>\n                    <button mat-icon-button (click)=\"isDiscount()\"><mat-icon style=\"font-size: 20px\">clear</mat-icon></button>\n                  </td>\n                </tr>\n                <tr class=\"trcenter\"><td colspan=\"4\">Taxable Amount</td>\n                  <td>\n                    {{totalTaxablePrice}}\n                  </td>\n                </tr>\n                <tr class=\"trcenter\" *ngIf=\"tax\">\n                  <td>\n                    <mat-form-field>\n                      <mat-select [value]=\"custTax\">\n                        <mat-option *ngFor=\"let element of tax\" [value]=\"element.name\" (onSelectionChange)=\"getTax(element.name, element.percent)\">\n                          {{element.name}}\n                        </mat-option>\n                      </mat-select>                                            \n                    </mat-form-field>\n                  </td>\n                  <td>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">CGST</p>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">SGST</p>\n                    <p *ngIf=\"invoice.taxType == 'IGST'\">IGST</p>\n                  </td>\n                  <td>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">{{invoice.taxRate/2}}</p>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">{{invoice.taxRate/2}}</p>\n                    <p *ngIf=\"invoice.taxType == 'IGST'\">{{invoice.taxRate}}</p>\n                  </td>\n                  <td>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">1</p>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">1</p>\n                    <p *ngIf=\"invoice.taxType == 'IGST'\">1</p>\n                  </td>\n                  <td>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">{{invoice.taxAmount/2}}</p>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">{{invoice.taxAmount/2}}</p>\n                    <p *ngIf=\"invoice.taxType == 'IGST'\">{{invoice.taxAmount}}</p>\n                  </td>\n                  <td></td>\n                </tr>\n                <tr class=\"trcenter\"><td colspan=\"4\">Non-Taxable Amount</td>\n                  <td>\n                    {{totalNonTaxablePrice}}\n                  </td>\n                </tr>\n                <tr class=\"trcenter\"><td colspan=\"4\">Gross Total(Rounded Off to nearest whole number):</td>\n                  <td>\n                    {{totalPrice}}\n                  </td>\n                </tr>\n                <tr class=\"trcenter\"><td colspan=\"4\">Advance Paid:</td>\n                  <td>\n                    {{advanceReceived}}\n                  </td>\n                </tr>   \n                <tr class=\"trcenter\"><td colspan=\"4\">Net Total Amount:</td>\n                  <td>\n                    {{totalPrice - advanceReceived}}\n                  </td>\n                </tr>                 \n              </table>              \n            </div>\n          </form>\n        </div>                \n        <div class=\"invoice-button-container\">\n          <button class=\"invoice-button\" mat-raised-button color=\"primary\" (click)=\"viewFlights()\">Select Booking</button>\n          <button class=\"invoice-button\" mat-raised-button color=\"primary\" (click)=\"addRow(true)\">Add Row</button>\n          <button class=\"invoice-button\" mat-raised-button color=\"primary\" (click)=\"addRow(false)\">Add Row(NON-TAXABLE)</button>      \n          <button class=\"invoice-button\" *ngIf=\"!isDiscounted\" mat-raised-button color=\"primary\" (click)=\"isDiscount()\">Add Discount</button>\n          <button class=\"invoice-button\" mat-raised-button color=\"primary\" (click)=\"addInvoice()\">Save</button>            \n        </div>        \n      </nb-card-body>\n    </nb-card>\n  </div>\n</div> "

/***/ }),

/***/ "./src/app/pages/masters/createflightinvoice/createflightinvoice.component.scss":
/***/ (function(module, exports) {

module.exports = "th {\n  text-align: center; }\n\n.box2 {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  border-bottom: 0.1px solid;\n  border-bottom-color: darkgrey; }\n\n.vl {\n  border-right: 0.1px solid;\n  border-right-color: darkgrey; }\n\n.tdleft {\n  text-align: left; }\n\n.trcenter {\n  text-align: center; }\n\n.invoiceTable {\n  border-bottom: 1px solid;\n  border-bottom-color: lightblue; }\n"

/***/ }),

/***/ "./src/app/pages/masters/createflightinvoice/createflightinvoice.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateflightinvoiceComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__customerselection_customerselection_component__ = __webpack_require__("./src/app/pages/masters/customerselection/customerselection.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__operations_bookings_service__ = __webpack_require__("./src/app/pages/operations/bookings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__flightbookinginvoice_flightbookinginvoice_component__ = __webpack_require__("./src/app/pages/masters/flightbookinginvoice/flightbookinginvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__circles_companyprofile_companyprofile_service__ = __webpack_require__("./src/app/pages/circles/companyprofile/companyprofile.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__ng_bootstrap_ng_bootstrap_util_util__ = __webpack_require__("./node_modules/@ng-bootstrap/ng-bootstrap/util/util.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__airline_airlinedisp_airline_service__ = __webpack_require__("./src/app/pages/airline/airlinedisp/airline.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var CreateflightinvoiceComponent = (function () {
    function CreateflightinvoiceComponent(fb, dialog, invoiceService, airlineService, bookingService, customerService, snackBar, auth, route, companyProfileService, router) {
        this.fb = fb;
        this.dialog = dialog;
        this.invoiceService = invoiceService;
        this.airlineService = airlineService;
        this.bookingService = bookingService;
        this.customerService = customerService;
        this.snackBar = snackBar;
        this.auth = auth;
        this.route = route;
        this.companyProfileService = companyProfileService;
        this.router = router;
        this.selectedBookings = [];
        this.selectedHotelBookings = [];
        this.selectedFlightBookings = [];
        this.fyear1 = new Date;
        this.fyear2 = new Date;
        this.fmonth = new Date;
        this.srNo = 0;
        this.advanceReceived = 0;
        this.handlingCharges = 0;
        this.handlingChargesQty = 0;
        this.totalTaxablePrice = 0;
        this.totalNonTaxablePrice = 0;
        this.totalTaxablePriceAfterTax = 0;
        this.totalPrice = 0;
        this.bookingData = null;
        this.isDiscounted = false;
        this.businessSettings = {};
        this.custTax = "";
        this.selectedCustomer = {
            panNo: '',
            caddress: '',
            gstin: '',
            name: '',
        };
        this.invoice = {
            ownerId: '',
            customerId: '',
            invoiceNumber: '',
            invoiceDate: new Date().toISOString().split('T')[0],
            invoicePeriodFrom: new Date().toISOString().split('T')[0],
            invoicePeriodTo: new Date().toISOString().split('T')[0],
            PONumber: '',
            CCNumber: '',
            discountType: '',
            discountRate: 0,
            discountAmount: 0,
            taxType: '',
            taxRate: 0,
            taxAmount: 0,
            totalAmount: 0,
            advanceReceived: 0,
            taxableAmount: 0,
            nonTaxableAmount: 0,
        };
    }
    CreateflightinvoiceComponent.prototype.unloadHandler = function (event) {
        console.log("Processing beforeunload...");
        event.returnValue = false;
    };
    CreateflightinvoiceComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.invoice.ownerId = data[0].ownerId;
            var temp = {
                ownerId: data[0].ownerId
            };
            console.log(temp);
            _this.invoiceService.getTaxes(temp).subscribe(function (data) {
                console.log(data);
                _this.tax = data;
            });
            console.log(_this.tax);
            _this.invoiceService.getInvoices(temp).subscribe(function (data) {
                var temp = {
                    ownerId: data[0].ownerId
                };
                _this.invoiceNumber = data[0].invoiceNumber;
                _this.companyProfileService.getCompanyProfile(temp).subscribe(function (data) {
                    if (data[0].flightInvoicePrefix == null) {
                        _this.prefix = data[0].name;
                        _this.prefix = _this.prefix.substr(0, 3).toUpperCase();
                    }
                    else {
                        // console.log(data[0].invoicePrefix)
                        _this.prefix = data[0].flightInvoicePrefix;
                    }
                    // console.log(((this.fyear1.getFullYear())-1).toString().slice(2,4));
                    if ((_this.fmonth.getMonth() + 1) > 3) {
                        _this.newYear1 = ((_this.fyear1.getFullYear())).toString().slice(2, 4);
                        _this.newYear2 = ((_this.fyear2.getFullYear()) + 1).toString().slice(2, 4);
                    }
                    else if ((_this.fmonth.getMonth() + 1) < 4) {
                        _this.newYear1 = ((_this.fyear1.getFullYear()) - 1).toString().slice(2, 4);
                        _this.newYear2 = ((_this.fyear2.getFullYear())).toString().slice(2, 4);
                    }
                    // console.log((this.fyear2.getFullYear())+1);                    
                    // console.log(this.fmonth.getMonth()+1);
                    // if((this.fmonth.getMonth()+1) > 9) {
                    //   this.newMonth = (this.fmonth.getMonth()+1).toString();
                    //   console.log(this.newMonth);
                    // }
                    // else if((this.fmonth.getMonth()+1) < 10) {
                    //   this.newMonth = "0"+(this.fmonth.getMonth()+1).toString();
                    //   console.log(this.newMonth);
                    // }
                    // console.log(this.prefix)
                    // console.log(this.invoiceNumber.replace(this.prefix, ""));
                    _this.invoiceNumber = _this.invoiceNumber.replace(_this.prefix, "");
                    // console.log(this.invoiceNumber)
                    _this.oldYear1 = _this.invoiceNumber.substr(0, 2);
                    // console.log(this.oldYear1);
                    _this.oldYear2 = _this.invoiceNumber.substr(2, 2);
                    // console.log(this.oldYear2);
                    // this.oldMonth = this.invoiceNumber.substr(4,2);
                    // console.log(this.oldMonth);
                    // console.log(this.invoiceNumber.substr(6));
                    _this.subInvoiceNumber = _this.invoiceNumber.substr(4);
                    // console.log(this.invoiceNumber);
                    // this.newInvoiceNumber = toInteger(this.invoiceNumber);
                    // this.newInvoiceNumber++;
                    if ((_this.newYear1 == _this.oldYear1) && (_this.newYear2 == _this.oldYear2) /*&& (this.oldMonth == this.newMonth)*/) {
                        if (_this.subInvoiceNumber == "9999") {
                            _this.newSubInvoiceNumber = Object(__WEBPACK_IMPORTED_MODULE_11__ng_bootstrap_ng_bootstrap_util_util__["h" /* toInteger */])(_this.subInvoiceNumber);
                            _this.newSubInvoiceNumber++;
                            _this.newInvoiceNumber = _this.prefix + _this.newYear1 + _this.newYear2 /*+this.newMonth*/ + _this.newSubInvoiceNumber;
                        }
                        else {
                            _this.newSubInvoiceNumber = Object(__WEBPACK_IMPORTED_MODULE_11__ng_bootstrap_ng_bootstrap_util_util__["h" /* toInteger */])(_this.invoiceNumber);
                            _this.newSubInvoiceNumber++;
                            _this.newInvoiceNumber = _this.prefix + _this.newSubInvoiceNumber;
                        }
                    }
                    else if (_this.newYear1 != _this.oldYear1) {
                        _this.newInvoiceNumber = _this.prefix + _this.newYear1 + _this.newYear2 /*+this.newMonth*/ + "0001";
                    }
                    // else if(this.newMonth != this.oldMonth) {
                    //   this.newInvoiceNumber = this.prefix+this.newYear1+this.newYear2+this.newMonth+"0001";
                    // }
                    console.log(_this.newInvoiceNumber);
                });
            });
        });
        this.auth.businessSettings.subscribe(function (data) {
            _this.businessSettings = data;
        });
        this.myForm = this.fb.group({
            rows: this.fb.array([])
        });
        this.taxForm = this.fb.group({
            taxrows: this.fb.array([]),
        });
        this.bookingData = this.bookingService.getBookingId();
        if (this.bookingData != null) {
            this.getCustomer();
            this.getBookings();
            console.log(this.bookingData);
        }
        this.bookingService.setBookingId(null);
    };
    CreateflightinvoiceComponent.prototype.getCustomer = function () {
        var _this = this;
        this.customerService.getSingleCustomer(this.bookingData).subscribe(function (data) {
            if (data) {
                _this.selectedCustomer = data[0];
                _this.invoice.customerId = data.id;
                console.log(_this.selectedCustomer.applicableTaxes);
                var cTax = _this.tax.find(function (x) { return x.id === Number(_this.selectedCustomer.applicableTaxes); });
                console.log(cTax);
                _this.custTax = cTax.name;
            }
        });
    };
    CreateflightinvoiceComponent.prototype.getBookings = function () {
        var _this = this;
        // this.bookingService.getBookingsForInvoice(this.bookingData).subscribe(data=>{
        //   console.log(data)
        //   this.selectedBookings=data
        // })
        this.airlineService.getFlightsForInvoice(this.bookingData).subscribe(function (data) {
            if (data) {
                _this.selectedFlightBookings = data;
                _this.selectedFlightBookings.forEach(function (element) {
                    _this.handlingCharges = Number(element.handlingCharges);
                    _this.handlingChargesQty = Number(_this.handlingChargesQty) + 1;
                    console.log(element);
                });
                _this.addHandlingCharges(_this.handlingCharges, _this.handlingChargesQty);
            }
            _this.calculateTotal();
        });
    };
    CreateflightinvoiceComponent.prototype.viewFlights = function () {
        var _this = this;
        if (this.selectedCustomer.id != null) {
            var temp = {
                customer: this.selectedCustomer.id,
                bookings: this.selectedBookings
            };
            console.log(temp);
            var dialTemp = this.dialog.open(__WEBPACK_IMPORTED_MODULE_9__flightbookinginvoice_flightbookinginvoice_component__["a" /* FlightbookinginvoiceComponent */], { autoFocus: false, disableClose: true, data: { temp: temp } });
            dialTemp.afterClosed().subscribe(function (data) {
                if (data) {
                    _this.selectedFlightBookings = data;
                    _this.selectedBookings.forEach(function (element) {
                        if (element.advance != null) {
                            _this.advanceReceived += element.advance;
                        }
                    });
                    _this.invoice.advanceReceived = _this.advanceReceived;
                    _this.selectedFlightBookings.forEach(function (element) {
                        _this.handlingCharges = Number(element.handlingCharges);
                        _this.handlingChargesQty = Number(_this.handlingChargesQty) + 1;
                        console.log(element);
                    });
                    var index = 0;
                    _this.invoiceForms.value.forEach(function (element) {
                        if (element.description == 'Handling Charges') {
                            _this.invoiceForms.removeAt(index);
                        }
                        index = index + 1;
                    });
                    _this.addHandlingCharges(_this.handlingCharges, _this.handlingChargesQty);
                }
                _this.calculateTotal();
                // this.getTax(1);
            });
        }
        else {
            this.snackBar.open('Select Customer', null, {
                duration: 5000,
            });
        }
    };
    CreateflightinvoiceComponent.prototype.selectCustomer = function () {
        var _this = this;
        var dial = this.dialog.open(__WEBPACK_IMPORTED_MODULE_3__customerselection_customerselection_component__["a" /* CustomerselectionComponent */], { autoFocus: false, disableClose: true });
        dial.afterClosed().subscribe(function (data) {
            if (data) {
                _this.selectedCustomer = data;
                _this.invoice.customerId = data.id;
                console.log(_this.selectedCustomer.applicableTaxes);
                var cTax = _this.tax.find(function (x) { return x.id === Number(_this.selectedCustomer.applicableTaxes); });
                console.log(cTax);
                _this.custTax = cTax.name;
            }
        });
    };
    Object.defineProperty(CreateflightinvoiceComponent.prototype, "invoiceForms", {
        get: function () {
            return this.myForm.get('rows');
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CreateflightinvoiceComponent.prototype, "taxableForms", {
        get: function () {
            return this.taxForm.get('taxrows');
        },
        enumerable: true,
        configurable: true
    });
    CreateflightinvoiceComponent.prototype.addHandlingCharges = function (amount, qty) {
        var row = this.fb.group({
            description: 'Handling Charges',
            rate: amount,
            quantity: qty,
            amount: Number(amount) * Number(qty),
            taxable: true,
        });
        this.invoiceForms.push(row);
        this.srNo = this.srNo++;
    };
    CreateflightinvoiceComponent.prototype.addRow = function (taxableTemp) {
        var row = this.fb.group({
            description: '',
            rate: '',
            quantity: '',
            amount: '',
            taxable: taxableTemp,
        });
        this.srNo = this.srNo++;
        this.invoiceForms.push(row);
    };
    CreateflightinvoiceComponent.prototype.addBookingRow = function (booking) {
        var row = this.fb.group({
            description: "Reporting Address:\r\n" + booking.reportingAddress,
            rate: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */](''),
            quantity: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */](''),
            amount: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */](''),
            taxable: true,
        });
        this.srNo = this.srNo++;
        this.invoiceForms.push(row);
    };
    CreateflightinvoiceComponent.prototype.addTax = function () {
        var row = this.fb.group({
            taxtype: '',
            percentage: ''
        });
        this.srNo = this.srNo++;
        this.taxableForms.push(row);
    };
    CreateflightinvoiceComponent.prototype.deleteRow = function (i) {
        this.invoiceForms.removeAt(i);
        this.srNo = this.srNo--;
        this.calculateTotal();
    };
    CreateflightinvoiceComponent.prototype.deleteTaxRow = function (i) {
        this.taxableForms.removeAt(i);
        this.srNo = this.srNo--;
    };
    CreateflightinvoiceComponent.prototype.deleteBooking = function (i) {
        this.selectedBookings.splice(i, 1);
        this.srNo = this.srNo--;
    };
    CreateflightinvoiceComponent.prototype.deleteFlight = function (i) {
        this.selectedFlightBookings.splice(i, 1);
        this.srNo = this.srNo--;
        this.handlingChargesQty = Number(this.handlingChargesQty) - 1;
    };
    CreateflightinvoiceComponent.prototype.deleteHotel = function (i) {
        this.selectedHotelBookings.splice(i, 1);
        this.srNo = this.srNo--;
    };
    CreateflightinvoiceComponent.prototype.getTax = function (option1, option2) {
        this.invoice.taxType = option1;
        this.invoice.taxRate = option2;
        this.calculateTotal();
        // if(option==1)
        // {
        //   this.invoice.taxType="CGST+SGST";
        // }
        // else if(option==2)
        // {
        //    this.invoice.taxType="IGST";
        // }
        // this.invoiceService.getTax(this.invoice.taxType).subscribe(data=>{
        //   this.invoice.taxRate=data[0].percent;
        //   this.calculateTotal();
        // });
    };
    CreateflightinvoiceComponent.prototype.calculateCharges = function (element) {
        element.get('amount').setValue(element.value.rate * element.value.quantity);
        this.calculateTotal();
        // this.getTax(1);
    };
    CreateflightinvoiceComponent.prototype.calculateTotal = function () {
        var _this = this;
        this.totalPrice = 0;
        console.log(this.totalPrice);
        //taxable row calculation
        this.totalTaxablePrice = 0;
        this.totalNonTaxablePrice = 0;
        this.invoice.taxAmount = 0;
        this.selectedFlightBookings.forEach(function (element) {
            _this.totalNonTaxablePrice = Number(_this.totalNonTaxablePrice) + Number(element.price);
        });
        if (this.isDiscounted == true) {
            if (this.invoice.discountType == "Hire") {
                this.invoice.discountAmount = (this.invoice.discountRate / 100) * this.totalTaxablePrice;
            }
        }
        this.invoiceForms.controls.forEach(function (element) {
            console.log(element);
            if (element.value.taxable) {
                _this.totalTaxablePrice += element.value.amount;
                console.log(_this.totalTaxablePrice);
            }
            else if (!element.value.taxable) {
                _this.totalNonTaxablePrice += element.value.amount;
                console.log(_this.totalNonTaxablePrice);
            }
        });
        if (this.isDiscounted)
            this.calculateDiscount();
        this.invoice.taxAmount = (Number(this.invoice.taxRate) / 100) * Number(this.totalTaxablePrice);
        console.log(this.invoice.taxAmount);
        this.totalTaxablePriceAfterTax = Number(this.totalTaxablePrice) + Number(this.invoice.taxAmount);
        console.log(this.totalTaxablePrice);
        this.totalPrice = Number(this.totalTaxablePriceAfterTax) + Number(this.totalNonTaxablePrice);
        console.log(this.totalPrice);
        if ((Math.ceil(this.totalPrice) - this.totalPrice) < 0.50) {
            this.totalPrice = Math.ceil(this.totalPrice);
            console.log(this.totalPrice);
        }
        else if ((Math.ceil(this.totalPrice) - this.totalPrice) > 0.50) {
            this.totalPrice = Math.floor(this.totalPrice);
            console.log(this.totalPrice);
        }
    };
    //add invoice
    CreateflightinvoiceComponent.prototype.addInvoice = function () {
        var _this = this;
        var extra = [];
        this.invoiceForms.controls.forEach(function (element) {
            extra.push(element.value);
        });
        this.invoice.invoiceNumber = this.newInvoiceNumber;
        this.invoice.customerId = this.selectedCustomer.id;
        this.invoice.totalAmount = this.totalPrice;
        this.invoice.taxableAmount = this.totalTaxablePrice;
        this.invoice.nonTaxableAmount = this.totalNonTaxablePrice;
        var temp = {
            invoice: this.invoice,
            flight: this.selectedFlightBookings,
            extra: extra
        };
        console.log(temp);
        this.invoiceService.addInvoiceFlight(temp).subscribe(function (data) { }, function (err) { }, function () {
            _this.snackBar.open("Invoice Created", "X", { duration: 3000 });
            _this.router.navigateByUrl('/pages/masters/invoicedisplay');
        });
    };
    CreateflightinvoiceComponent.prototype.isDiscount = function () {
        this.isDiscounted = !this.isDiscounted;
        this.calculateTotal();
    };
    CreateflightinvoiceComponent.prototype.calculateDiscount = function () {
        if (this.isDiscounted == true) {
            if (this.invoice.discountType == "Amount") {
                this.invoice.discountAmount = Number(this.invoice.discountRate);
            }
            else if (this.invoice.discountType == "Percent") {
                this.invoice.discountAmount = Number(this.invoice.discountRate / 100 * this.totalTaxablePrice);
            }
            this.totalTaxablePrice = this.totalTaxablePrice - this.invoice.discountAmount;
        }
    };
    CreateflightinvoiceComponent.prototype.getDiscount = function (option) {
        if (option == 1)
            this.invoice.discountType = "Amount";
        else if (option == 2)
            this.invoice.discountType = "Percent";
        else if (option == 3)
            this.invoice.discountType = "Hire";
        this.calculateTotal();
    };
    CreateflightinvoiceComponent.prototype.discountRates = function (discountRate) {
        this.invoice.discountRate = discountRate;
        this.calculateTotal();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])("window:beforeunload", ["$event"]),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Event]),
        __metadata("design:returntype", void 0)
    ], CreateflightinvoiceComponent.prototype, "unloadHandler", null);
    CreateflightinvoiceComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'createflightinvoice',
            template: __webpack_require__("./src/app/pages/masters/createflightinvoice/createflightinvoice.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/createflightinvoice/createflightinvoice.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["n" /* MatDialog */], __WEBPACK_IMPORTED_MODULE_4__createinvoice_invoice_service__["a" /* InvoiceService */],
            __WEBPACK_IMPORTED_MODULE_12__airline_airlinedisp_airline_service__["a" /* AirlineService */],
            __WEBPACK_IMPORTED_MODULE_7__operations_bookings_service__["a" /* BookingsService */],
            __WEBPACK_IMPORTED_MODULE_8__customer_customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_5__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_6__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_10__circles_companyprofile_companyprofile_service__["a" /* CompanyprofileService */],
            __WEBPACK_IMPORTED_MODULE_6__angular_router__["c" /* Router */]])
    ], CreateflightinvoiceComponent);
    return CreateflightinvoiceComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/createhotelinvoice/createhotelinvoice.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        Create Hotel Invoice\n        <b style=\"float: right; font-size: 12px; font-weight: 100;\">*All figures in Rs.</b>\n      </nb-card-header>\n      <nb-card-body class=\"box\">\n        <div class=\"col-lg-12\" style=\"padding:10px;\"> \n          <table>\n            <tr>\n              <td></td>\n            </tr>\n          </table>\n        </div>\n        <div class=\"box2\">\n          <div class=\"col-lg-6 vl\">\n            <table cellpadding=8px>\n              <tr>\n                <td>\n                  <b>Customer Name:</b>\n                </td>\n                <td>\n                  {{selectedCustomer.name}}\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Customer No:</b>\n                </td>\n                <td>\n                  {{selectedCustomer.phone}}\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>State:</b>\n                </td>\n                <td>\n                  {{selectedCustomer.state}}\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Pan:</b>\n                </td>\n                <td>\n                  {{selectedCustomer.panNo}}\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>GSTIN:</b>\n                </td>\n                <td>\n                  {{selectedCustomer.gstin}}\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Billing Address:</b>\n                </td>\n                <td>\n                  {{selectedCustomer.billingAddress}}\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <button mat-raised-button color=\"primary\" (click)=\"selectCustomer()\">Add Customer</button>\n                </td>\n              </tr>\n            </table>\n          </div>\n          <div class=\"col-lg-6\">\n            <table>\n              <tr>\n                <td>\n                  <b>Invoice Number:</b>\n                </td>\n                <td *ngIf=\"businessSettings.invoiceDatesAndNumbering == 'Manual'\">\n                  <mat-form-field>\n                    <input matInput type=\"text\" [(ngModel)]=\"newInvoiceNumber\">\n                  </mat-form-field>                  \n                </td>\n                <td *ngIf=\"businessSettings.invoiceDatesAndNumbering == 'Automatic'\">\n                  {{newInvoiceNumber}}\n                </td>\n              </tr>\n              <tr *ngIf=\"businessSettings.invoiceDatesAndNumbering == 'Manual'\">\n                <td>\n                  <b>Invoice Date:</b>\n                </td>\n                <td>\n                  <mat-form-field>\n                    <input matInput type=\"date\" name=\"date\" [(ngModel)]=\"invoice.invoiceDate\">\n                  </mat-form-field>\n                </td>\n              </tr>\n              <tr *ngIf=\"businessSettings.invoiceDatesAndNumbering == 'Automatic'\">\n                <td>\n                  <b>Invoice Date:</b>\n                </td>\n                <td>\n                  <mat-form-field>\n                    <input matInput type=\"date\" name=\"date\" [(ngModel)]=\"invoice.invoiceDate\" readonly>\n                  </mat-form-field>\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Invoice Period:</b>\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <mat-form-field>\n                    <input matInput type=\"date\" placeholder=\"from\" [(ngModel)]=\"invoice.invoicePeriodFrom\" name=\"date\">\n                  </mat-form-field>\n                </td>\n                <td>\n                  <mat-form-field>\n                    <input matInput type=\"date\" placeholder=\"to\" [(ngModel)]=\"invoice.invoicePeriodTo\" name=\"date\">\n                  </mat-form-field>\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>CC Number</b>\n                </td>\n                <td>\n                  <b>PO Number</b>\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <mat-form-field>\n                    <input matInput [(ngModel)]=\"invoice.PONumber\">\n                  </mat-form-field>\n                </td>\n                <td>\n                  <mat-form-field>\n                    <input matInput [(ngModel)]=\"invoice.CCNumber\">\n                  </mat-form-field>\n                </td>\n              </tr>\n            </table>\n          </div>\n        </div>\n        <div class=\"col-lg-12\">\n          <h4></h4>\n          <form [formGroup]=\"myForm\">\n            <div formArrayName=\"rows\">\n              <table style=\"width:100%;margin-top:10px;\" cellpadding=\"10\">\n                <tr class=\"invoiceTable\">\n                  <th>Sr.</th>\n                  <th>Description</th>\n                  <th>Rate</th>\n                  <th>Quantity</th>\n                  <th>Amount</th>\n                  <th></th>\n                </tr>                \n                <tr *ngFor=\"let temp of selectedHotelBookings; let i=index\" \n                  [formGroupName]=\"i\" style=\" text-align:center;\" class=\"invoiceTable\">                      \n                  <td>\n                    {{i+1}}\n                  </td>\n                  <td class=\"tdleft\">\n                    <b>Hotel Name:</b>{{temp.hotelName}}<br>\n                    <b>Guest Name:</b>{{temp.guestName}}<br>\n                    <b>Room Type:</b>{{temp.roomType}}<br>\n                    <b>Checkout Date:</b>{{temp.checkOutDate}}\n                  </td>\n                  <td>\n                    {{temp.intTotal}}\n                  </td>\n                  <td>\n                    1\n                  </td>\n                  <td>\n                    {{temp.intTotal}}\n                  </td>\n                  <td>\n                    <button mat-icon-button (click)=\"deleteHotel(i)\"><mat-icon style=\"font-size: 20px\">clear</mat-icon></button>\n                  </td>\n                </tr>                \n                <tr *ngFor=\"let aRow of invoiceForms.controls; let i=index\" \n                  [formGroupName]=\"i\" class=\"invoiceTable\">                  \n                  <td>\n                    {{i+1}}\n                  </td>\n                  <td>\n                    <mat-form-field>\n                      <input matInput formControlName=\"description\" placeholder=\"Charges\">\n                    </mat-form-field>\n                    <i *ngIf=\"aRow.controls.taxable.value\">(taxable)</i>\n                    <i *ngIf=\"!aRow.controls.taxable.value\">(non-taxable)</i>\n                  </td>\n                  <td>\n                    <mat-form-field>\n                      <input matInput type=\"number\" formControlName=\"rate\" (change)=\"calculateCharges(aRow)\" >\n                    </mat-form-field>\n                  </td>\n                  <td>\n                    <mat-form-field>\n                      <input matInput type=\"number\" formControlName=\"quantity\" (change)=\"calculateCharges(aRow)\">\n                    </mat-form-field>\n                  </td>\n                  <td>\n                    <mat-form-field>\n                      <input matInput type=\"number\" formControlName=\"amount\" disabled>\n                    </mat-form-field>\n                  </td>\n                  <td>\n                    <button mat-icon-button (click)=\"deleteRow(i)\"><mat-icon style=\"font-size: 20px\">clear</mat-icon></button>\n                  </td>\n                </tr>\n                <tr *ngIf=\"isDiscounted\">\n                  <td></td>\n                  <td>\n                    <mat-form-field>\n                      <input matInput placeholder=\"Discount\">\n                    </mat-form-field>\n                    <mat-form-field>\n                      <mat-select [(value)]=\"invoice.discountType\" placeholder=\"Select Type\">\n                        <mat-option value=\"Amount\" (click)=\"getDiscount(1)\">\n                          by Amount\n                        </mat-option>\n                        <mat-option value=\"Percentage\" (click)=\"getDiscount(2)\">\n                          by %\n                        </mat-option>\n                        <mat-option value=\"PercentByHireCharges\" (click)=\"getDiscount(3)\">\n                          by % on Car Hire Charges\n                        </mat-option>\n                      </mat-select>\n                    </mat-form-field>\n                  </td>\n                  <td>\n                    <mat-form-field>\n                      <input matInput type=\"number\" (change)=\"discountRates($event.target.value)\">\n                    </mat-form-field>\n                  </td>\n                  <td></td>\n                  <td>\n                    {{invoice.discountAmount}}\n                  </td>\n                  <td>\n                    <button mat-icon-button (click)=\"isDiscount()\"><mat-icon style=\"font-size: 20px\">clear</mat-icon></button>\n                  </td>\n                </tr>\n                <tr class=\"trcenter\"><td colspan=\"4\">Taxable Amount</td>\n                  <td>\n                    {{totalTaxablePrice}}\n                  </td>\n                </tr>\n                <tr class=\"trcenter\" *ngIf=\"tax\">\n                  <td>\n                    <mat-form-field>\n                      <mat-select [value]=\"custTax\">\n                        <mat-option *ngFor=\"let element of tax\" [value]=\"element.name\" (onSelectionChange)=\"getTax(element.name, element.percent)\">\n                          {{element.name}}\n                        </mat-option>\n                      </mat-select>                                            \n                    </mat-form-field>\n                  </td>\n                  <td>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">CGST</p>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">SGST</p>\n                    <p *ngIf=\"invoice.taxType == 'IGST'\">IGST</p>\n                  </td>\n                  <td>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">{{invoice.taxRate/2}}</p>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">{{invoice.taxRate/2}}</p>\n                    <p *ngIf=\"invoice.taxType == 'IGST'\">{{invoice.taxRate}}</p>\n                  </td>\n                  <td>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">1</p>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">1</p>\n                    <p *ngIf=\"invoice.taxType == 'IGST'\">1</p>\n                  </td>\n                  <td>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">{{invoice.taxAmount/2}}</p>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">{{invoice.taxAmount/2}}</p>\n                    <p *ngIf=\"invoice.taxType == 'IGST'\">{{invoice.taxAmount}}</p>\n                  </td>\n                  <td></td>\n                </tr>\n                <tr class=\"trcenter\"><td colspan=\"4\">Non-Taxable Amount</td>\n                  <td>\n                    {{totalNonTaxablePrice}}\n                  </td>\n                </tr>\n                <tr class=\"trcenter\"><td colspan=\"4\">Gross Total(Rounded Off to nearest whole number):</td>\n                  <td>\n                    {{totalPrice}}\n                  </td>\n                </tr>\n                <tr class=\"trcenter\"><td colspan=\"4\">Advance Paid:</td>\n                  <td>\n                    {{advanceReceived}}\n                  </td>\n                </tr>   \n                <tr class=\"trcenter\"><td colspan=\"4\">Net Total Amount:</td>\n                  <td>\n                    {{totalPrice - advanceReceived}}\n                  </td>\n                </tr>              \n              </table>              \n            </div>\n          </form>\n        </div>\n        <div class=\"invoice-button-container\">          \n          <button class=\"invoice-button\" mat-raised-button color=\"primary\" (click)=\"viewHotels()\">Select Booking</button>          \n          <button class=\"invoice-button\" mat-raised-button color=\"primary\" (click)=\"addRow(true)\">Add Row</button>\n          <button class=\"invoice-button\" mat-raised-button color=\"primary\" (click)=\"addRow(false)\">Add Row(NON-TAXABLE)</button>\n          <button class=\"invoice-button\" *ngIf=\"!isDiscounted\" mat-raised-button color=\"primary\" (click)=\"isDiscount()\">Add Discount</button>\n          <button class=\"invoice-button\" mat-raised-button color=\"primary\" (click)=\"addInvoice()\">Save</button>            \n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>  \n</div>"

/***/ }),

/***/ "./src/app/pages/masters/createhotelinvoice/createhotelinvoice.component.scss":
/***/ (function(module, exports) {

module.exports = "th {\n  text-align: center; }\n\n.box2 {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  border-bottom: 0.1px solid;\n  border-bottom-color: darkgrey; }\n\n.vl {\n  border-right: 0.1px solid;\n  border-right-color: darkgrey; }\n\n.tdleft {\n  text-align: left; }\n\n.trcenter {\n  text-align: center; }\n\n.invoiceTable {\n  border-bottom: 1px solid;\n  border-bottom-color: lightblue; }\n"

/***/ }),

/***/ "./src/app/pages/masters/createhotelinvoice/createhotelinvoice.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreatehotelinvoiceComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__customerselection_customerselection_component__ = __webpack_require__("./src/app/pages/masters/customerselection/customerselection.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__operations_bookings_service__ = __webpack_require__("./src/app/pages/operations/bookings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__hotelbookingsinvoice_hotelbookingsinvoice_component__ = __webpack_require__("./src/app/pages/masters/hotelbookingsinvoice/hotelbookingsinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__circles_companyprofile_companyprofile_service__ = __webpack_require__("./src/app/pages/circles/companyprofile/companyprofile.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__ng_bootstrap_ng_bootstrap_util_util__ = __webpack_require__("./node_modules/@ng-bootstrap/ng-bootstrap/util/util.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__hotels_displayhotels_hotel_service__ = __webpack_require__("./src/app/pages/hotels/displayhotels/hotel.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var CreatehotelinvoiceComponent = (function () {
    function CreatehotelinvoiceComponent(fb, dialog, invoiceService, hotelService, bookingService, customerService, snackBar, auth, route, companyProfileService, router) {
        this.fb = fb;
        this.dialog = dialog;
        this.invoiceService = invoiceService;
        this.hotelService = hotelService;
        this.bookingService = bookingService;
        this.customerService = customerService;
        this.snackBar = snackBar;
        this.auth = auth;
        this.route = route;
        this.companyProfileService = companyProfileService;
        this.router = router;
        this.selectedBookings = [];
        this.selectedHotelBookings = [];
        this.selectedFlightBookings = [];
        this.fyear1 = new Date;
        this.fyear2 = new Date;
        this.fmonth = new Date;
        this.advanceReceived = 0;
        this.totalTaxablePrice = 0;
        this.totalNonTaxablePrice = 0;
        this.totalTaxablePriceAfterTax = 0;
        this.totalPrice = 0;
        this.bookingData = null;
        this.isDiscounted = false;
        this.businessSettings = {};
        this.custTax = "";
        this.selectedCustomer = {
            panNo: '',
            caddress: '',
            gstin: '',
            name: '',
        };
        this.invoice = {
            ownerId: '',
            customerId: '',
            invoiceNumber: '',
            invoiceDate: new Date().toISOString().split('T')[0],
            invoicePeriodFrom: new Date().toISOString().split('T')[0],
            invoicePeriodTo: new Date().toISOString().split('T')[0],
            PONumber: '',
            CCNumber: '',
            discountType: '',
            discountRate: 0,
            discountAmount: 0,
            taxType: '',
            taxRate: 0,
            taxAmount: 0,
            totalAmount: 0,
            advanceReceived: 0,
            taxableAmount: 0,
            nonTaxableAmount: 0,
        };
    }
    CreatehotelinvoiceComponent.prototype.unloadHandler = function (event) {
        console.log("Processing beforeunload...");
        event.returnValue = false;
    };
    CreatehotelinvoiceComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.invoice.ownerId = data[0].ownerId;
            var temp = {
                ownerId: data[0].ownerId
            };
            console.log(temp);
            _this.invoiceService.getTaxes(temp).subscribe(function (data) {
                console.log(data);
                _this.tax = data;
            });
            console.log(_this.tax);
            _this.invoiceService.getInvoices(temp).subscribe(function (data) {
                var temp = {
                    ownerId: data[0].ownerId
                };
                _this.invoiceNumber = data[0].invoiceNumber;
                _this.companyProfileService.getCompanyProfile(temp).subscribe(function (data) {
                    if (data[0].hotelInvoicePrefix == null) {
                        _this.prefix = data[0].name;
                        _this.prefix = _this.prefix.substr(0, 3).toUpperCase();
                    }
                    else {
                        // console.log(data[0].invoicePrefix)
                        _this.prefix = data[0].hotelInvoicePrefix;
                    }
                    // console.log(((this.fyear1.getFullYear())-1).toString().slice(2,4));
                    if ((_this.fmonth.getMonth() + 1) > 3) {
                        _this.newYear1 = ((_this.fyear1.getFullYear())).toString().slice(2, 4);
                        _this.newYear2 = ((_this.fyear2.getFullYear()) + 1).toString().slice(2, 4);
                    }
                    else if ((_this.fmonth.getMonth() + 1) < 4) {
                        _this.newYear1 = ((_this.fyear1.getFullYear()) - 1).toString().slice(2, 4);
                        _this.newYear2 = ((_this.fyear2.getFullYear())).toString().slice(2, 4);
                    }
                    // console.log((this.fyear2.getFullYear())+1);                    
                    // console.log(this.fmonth.getMonth()+1);
                    // if((this.fmonth.getMonth()+1) > 9) {
                    //   this.newMonth = (this.fmonth.getMonth()+1).toString();
                    //   console.log(this.newMonth);
                    // }
                    // else if((this.fmonth.getMonth()+1) < 10) {
                    //   this.newMonth = "0"+(this.fmonth.getMonth()+1).toString();
                    //   console.log(this.newMonth);
                    // }
                    // console.log(this.prefix)
                    // console.log(this.invoiceNumber.replace(this.prefix, ""));
                    _this.invoiceNumber = _this.invoiceNumber.replace(_this.prefix, "");
                    // console.log(this.invoiceNumber)
                    _this.oldYear1 = _this.invoiceNumber.substr(0, 2);
                    // console.log(this.oldYear1);
                    _this.oldYear2 = _this.invoiceNumber.substr(2, 2);
                    // console.log(this.oldYear2);
                    // this.oldMonth = this.invoiceNumber.substr(4,2);
                    // console.log(this.oldMonth);
                    // console.log(this.invoiceNumber.substr(6));
                    _this.subInvoiceNumber = _this.invoiceNumber.substr(4);
                    // console.log(this.invoiceNumber);
                    // this.newInvoiceNumber = toInteger(this.invoiceNumber);
                    // this.newInvoiceNumber++;
                    if ((_this.newYear1 == _this.oldYear1) && (_this.newYear2 == _this.oldYear2) /*&& (this.oldMonth == this.newMonth)*/) {
                        if (_this.subInvoiceNumber == "9999") {
                            _this.newSubInvoiceNumber = Object(__WEBPACK_IMPORTED_MODULE_11__ng_bootstrap_ng_bootstrap_util_util__["h" /* toInteger */])(_this.subInvoiceNumber);
                            _this.newSubInvoiceNumber++;
                            _this.newInvoiceNumber = _this.prefix + _this.newYear1 + _this.newYear2 /*+this.newMonth*/ + _this.newSubInvoiceNumber;
                        }
                        else {
                            _this.newSubInvoiceNumber = Object(__WEBPACK_IMPORTED_MODULE_11__ng_bootstrap_ng_bootstrap_util_util__["h" /* toInteger */])(_this.invoiceNumber);
                            _this.newSubInvoiceNumber++;
                            _this.newInvoiceNumber = _this.prefix + _this.newSubInvoiceNumber;
                        }
                    }
                    else if (_this.newYear1 != _this.oldYear1) {
                        _this.newInvoiceNumber = _this.prefix + _this.newYear1 + _this.newYear2 /*+this.newMonth*/ + "0001";
                    }
                    // else if(this.newMonth != this.oldMonth) {
                    //   this.newInvoiceNumber = this.prefix+this.newYear1+this.newYear2+this.newMonth+"0001";
                    // }
                    console.log(_this.newInvoiceNumber);
                });
            });
        });
        this.auth.businessSettings.subscribe(function (data) {
            _this.businessSettings = data;
        });
        this.myForm = this.fb.group({
            rows: this.fb.array([])
        });
        this.taxForm = this.fb.group({
            taxrows: this.fb.array([]),
        });
        this.bookingData = this.bookingService.getBookingId();
        if (this.bookingData != null) {
            this.getCustomer();
            this.getBookings();
            console.log(this.bookingData);
        }
        this.bookingService.setBookingId(null);
    };
    CreatehotelinvoiceComponent.prototype.getCustomer = function () {
        var _this = this;
        this.customerService.getSingleCustomer(this.bookingData).subscribe(function (data) {
            console.log(data);
            if (data) {
                _this.selectedCustomer = data[0];
                _this.invoice.customerId = data.id;
                console.log(_this.selectedCustomer.applicableTaxes);
                var cTax = _this.tax.find(function (x) { return x.id === Number(_this.selectedCustomer.applicableTaxes); });
                console.log(cTax);
                _this.custTax = cTax.name;
            }
            // this.selectedCustomer=data[0]
        });
    };
    CreatehotelinvoiceComponent.prototype.getBookings = function () {
        var _this = this;
        this.hotelService.getHotelBookingsForCustomer(this.bookingData).subscribe(function (data) {
            console.log(data);
            _this.selectedHotelBookings = data;
        });
    };
    CreatehotelinvoiceComponent.prototype.viewHotels = function () {
        var _this = this;
        if (this.selectedCustomer.id != null) {
            var temp = {
                customer: this.selectedCustomer.id,
                bookings: this.selectedBookings
            };
            console.log(temp);
            var dialTemp = this.dialog.open(__WEBPACK_IMPORTED_MODULE_9__hotelbookingsinvoice_hotelbookingsinvoice_component__["a" /* HotelbookingsinvoiceComponent */], { autoFocus: false, disableClose: true, data: { temp: temp } });
            dialTemp.afterClosed().subscribe(function (data) {
                if (data) {
                    _this.selectedHotelBookings = data;
                    _this.selectedBookings.forEach(function (element) {
                        if (element.advance != null) {
                            _this.advanceReceived += element.advance;
                        }
                    });
                    _this.invoice.advanceReceived = _this.advanceReceived;
                }
                _this.calculateTotal();
                // this.getTax(1);
            });
        }
        else {
            this.snackBar.open('Select Customer', null, {
                duration: 5000,
            });
        }
    };
    CreatehotelinvoiceComponent.prototype.selectCustomer = function () {
        var _this = this;
        var dial = this.dialog.open(__WEBPACK_IMPORTED_MODULE_3__customerselection_customerselection_component__["a" /* CustomerselectionComponent */], { autoFocus: false, disableClose: true });
        dial.afterClosed().subscribe(function (data) {
            if (data) {
                _this.selectedCustomer = data;
                _this.invoice.customerId = data.id;
                console.log(_this.selectedCustomer.applicableTaxes);
                var cTax = _this.tax.find(function (x) { return x.id === Number(_this.selectedCustomer.applicableTaxes); });
                console.log(cTax);
                _this.custTax = cTax.name;
            }
        });
    };
    Object.defineProperty(CreatehotelinvoiceComponent.prototype, "invoiceForms", {
        get: function () {
            return this.myForm.get('rows');
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CreatehotelinvoiceComponent.prototype, "taxableForms", {
        get: function () {
            return this.taxForm.get('taxrows');
        },
        enumerable: true,
        configurable: true
    });
    CreatehotelinvoiceComponent.prototype.addRow = function (taxableTemp) {
        var row = this.fb.group({
            description: '',
            rate: '',
            quantity: '',
            amount: '',
            taxable: taxableTemp,
        });
        this.invoiceForms.push(row);
    };
    CreatehotelinvoiceComponent.prototype.addBookingRow = function (booking) {
        var row = this.fb.group({
            description: "Reporting Address:\r\n" + booking.reportingAddress,
            rate: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */](''),
            quantity: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */](''),
            amount: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */](''),
            taxable: true,
        });
        this.invoiceForms.push(row);
    };
    CreatehotelinvoiceComponent.prototype.addTax = function () {
        var row = this.fb.group({
            taxtype: '',
            percentage: ''
        });
        this.taxableForms.push(row);
    };
    CreatehotelinvoiceComponent.prototype.deleteRow = function (i) {
        this.invoiceForms.removeAt(i);
        this.calculateTotal();
    };
    CreatehotelinvoiceComponent.prototype.deleteTaxRow = function (i) {
        this.taxableForms.removeAt(i);
    };
    CreatehotelinvoiceComponent.prototype.deleteBooking = function (i) {
        this.selectedBookings.splice(i, 1);
    };
    CreatehotelinvoiceComponent.prototype.deleteFlight = function (i) {
        this.selectedFlightBookings.splice(i, 1);
    };
    CreatehotelinvoiceComponent.prototype.deleteHotel = function (i) {
        this.selectedHotelBookings.splice(i, 1);
    };
    CreatehotelinvoiceComponent.prototype.getTax = function (option1, option2) {
        this.invoice.taxType = option1;
        this.invoice.taxRate = option2;
        this.calculateTotal();
        // if(option==1)
        // {
        //   this.invoice.taxType="CGST+SGST";
        // }
        // else if(option==2)
        // {
        //    this.invoice.taxType="IGST";
        // }
        // this.invoiceService.getTax(this.invoice.taxType).subscribe(data=>{
        //   this.invoice.taxRate=data[0].percent;
        //   this.calculateTotal();
        // });
    };
    CreatehotelinvoiceComponent.prototype.calculateCharges = function (element) {
        element.get('amount').setValue(element.value.rate * element.value.quantity);
        this.calculateTotal();
        // this.getTax(1);
    };
    CreatehotelinvoiceComponent.prototype.calculateTotal = function () {
        var _this = this;
        this.totalPrice = 0;
        //taxable row calculation
        this.totalTaxablePrice = 0;
        this.totalNonTaxablePrice = 0;
        this.invoice.taxAmount = 0;
        this.selectedHotelBookings.forEach(function (element) {
            _this.totalTaxablePrice = Number(_this.totalTaxablePrice) + Number(element.intTotal);
            console.log(_this.totalTaxablePrice);
        });
        if (this.isDiscounted == true) {
            if (this.invoice.discountType == "Hire") {
                this.invoice.discountAmount = this.invoice.discountRate / 100 * this.totalTaxablePrice;
            }
        }
        this.invoiceForms.controls.forEach(function (element) {
            if (element.value.taxable) {
                _this.totalTaxablePrice += element.value.amount;
                console.log(_this.totalTaxablePrice);
            }
            else if (!element.value.taxable) {
                _this.totalNonTaxablePrice += element.value.amount;
                console.log(_this.totalNonTaxablePrice);
            }
        });
        if (this.isDiscounted)
            this.calculateDiscount();
        this.invoice.taxAmount = (Number(this.invoice.taxRate) / 100) * Number(this.totalTaxablePrice);
        console.log(this.invoice.taxAmount);
        this.totalTaxablePriceAfterTax = Number(this.totalTaxablePrice) + Number(this.invoice.taxAmount);
        console.log(this.totalTaxablePriceAfterTax);
        this.totalPrice = Number(this.totalTaxablePriceAfterTax) + Number(this.totalNonTaxablePrice);
        console.log(this.totalPrice);
        if ((Math.ceil(this.totalPrice) - this.totalPrice) < 0.50) {
            this.totalPrice = Math.ceil(this.totalPrice);
            console.log(this.totalPrice);
        }
        else if ((Math.ceil(this.totalPrice) - this.totalPrice) > 0.50) {
            this.totalPrice = Math.floor(this.totalPrice);
            console.log(this.totalPrice);
        }
    };
    //add invoice
    CreatehotelinvoiceComponent.prototype.addInvoice = function () {
        var _this = this;
        var extra = [];
        this.invoiceForms.controls.forEach(function (element) {
            extra.push(element.value);
        });
        this.invoice.invoiceNumber = this.newInvoiceNumber;
        this.invoice.customerId = this.selectedCustomer.id;
        this.invoice.totalAmount = this.totalPrice;
        this.invoice.taxableAmount = this.totalTaxablePrice;
        this.invoice.nonTaxableAmount = this.totalNonTaxablePrice;
        var temp = {
            invoice: this.invoice,
            hotel: this.selectedHotelBookings,
            extra: extra
        };
        console.log(temp);
        this.invoiceService.addInvoiceHotel(temp).subscribe(function (data) { }, function (err) { }, function () {
            _this.snackBar.open("Invoice Created", "X", { duration: 3000 });
            _this.router.navigateByUrl('/pages/masters/invoicedisplay');
        });
    };
    CreatehotelinvoiceComponent.prototype.isDiscount = function () {
        this.isDiscounted = !this.isDiscounted;
        this.calculateTotal();
    };
    CreatehotelinvoiceComponent.prototype.calculateDiscount = function () {
        if (this.isDiscounted == true) {
            if (this.invoice.discountType == "Amount") {
                this.invoice.discountAmount = Number(this.invoice.discountRate);
            }
            else if (this.invoice.discountType == "Percent") {
                this.invoice.discountAmount = Number(this.invoice.discountRate / 100 * this.totalTaxablePrice);
            }
            this.totalTaxablePrice = this.totalTaxablePrice - this.invoice.discountAmount;
        }
    };
    CreatehotelinvoiceComponent.prototype.getDiscount = function (option) {
        if (option == 1)
            this.invoice.discountType = "Amount";
        else if (option == 2)
            this.invoice.discountType = "Percent";
        else if (option == 3)
            this.invoice.discountType = "Hire";
        this.calculateTotal();
    };
    CreatehotelinvoiceComponent.prototype.discountRates = function (discountRate) {
        this.invoice.discountRate = discountRate;
        this.calculateTotal();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])("window:beforeunload", ["$event"]),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Event]),
        __metadata("design:returntype", void 0)
    ], CreatehotelinvoiceComponent.prototype, "unloadHandler", null);
    CreatehotelinvoiceComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'createhotelinvoice',
            template: __webpack_require__("./src/app/pages/masters/createhotelinvoice/createhotelinvoice.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/createhotelinvoice/createhotelinvoice.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_4__createinvoice_invoice_service__["a" /* InvoiceService */],
            __WEBPACK_IMPORTED_MODULE_12__hotels_displayhotels_hotel_service__["a" /* HotelService */],
            __WEBPACK_IMPORTED_MODULE_7__operations_bookings_service__["a" /* BookingsService */],
            __WEBPACK_IMPORTED_MODULE_8__customer_customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_5__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_6__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_10__circles_companyprofile_companyprofile_service__["a" /* CompanyprofileService */],
            __WEBPACK_IMPORTED_MODULE_6__angular_router__["c" /* Router */]])
    ], CreatehotelinvoiceComponent);
    return CreatehotelinvoiceComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/createvisainvoice/createvisainvoice.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n          Create Visa Invoice\n          <b style=\"float: right; font-size: 12px; font-weight: 100;\">*All figures in Rs.</b>\n      </nb-card-header>\n      <nb-card-body class=\"box\">\n        <div class=\"col-lg-12\" style=\"padding:10px;\"> \n          <table>\n            <tr>\n              <td></td>\n            </tr>\n          </table>\n        </div>\n        <div class=\"box2\">\n          <div class=\"col-lg-6 vl\">\n            <table cellpadding=8px>\n              <tr>\n                <td>\n                  <b>Customer Name:</b>\n                </td>\n                <td>\n                  {{selectedCustomer.name}}\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Customer No:</b>\n                </td>\n                <td>\n                  {{selectedCustomer.phone}}\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>State:</b>\n                </td>\n                <td>\n                  {{selectedCustomer.state}}\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Pan:</b>\n                </td>\n                <td>\n                  {{selectedCustomer.panNo}}\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>GSTIN:</b>\n                </td>\n                <td>\n                  {{selectedCustomer.gstin}}\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Billing Address:</b>\n                </td>\n                <td>\n                  {{selectedCustomer.billingAddress}}\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <button mat-raised-button color=\"primary\" (click)=\"selectCustomer()\">Add Customer</button>\n                </td>\n              </tr>\n            </table>\n          </div>\n          <div class=\"col-lg-6\">\n            <table>\n              <tr>\n                <td>\n                  <b>Invoice Number:</b>\n                </td>\n                <td *ngIf=\"businessSettings.invoiceDatesAndNumbering == 'Manual'\">\n                  <mat-form-field>\n                    <input matInput type=\"text\" [(ngModel)]=\"newInvoiceNumber\">\n                  </mat-form-field>                  \n                </td>\n                <td *ngIf=\"businessSettings.invoiceDatesAndNumbering == 'Automatic'\">\n                  {{newInvoiceNumber}}\n                </td>\n              </tr>\n              <tr *ngIf=\"businessSettings.invoiceDatesAndNumbering == 'Manual'\">\n                <td>\n                  <b>Invoice Date:</b>\n                </td>\n                <td>\n                  <mat-form-field>\n                    <input matInput type=\"date\" name=\"date\" [(ngModel)]=\"invoice.invoiceDate\">\n                  </mat-form-field>\n                </td>\n              </tr>\n              <tr *ngIf=\"businessSettings.invoiceDatesAndNumbering == 'Automatic'\">\n                <td>\n                  <b>Invoice Date:</b>\n                </td>\n                <td>\n                  <mat-form-field>\n                    <input matInput type=\"date\" name=\"date\" [(ngModel)]=\"invoice.invoiceDate\" readonly>\n                  </mat-form-field>\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Invoice Period:</b>\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <mat-form-field>\n                    <input matInput type=\"date\" placeholder=\"from\" [(ngModel)]=\"invoice.invoicePeriodFrom\" name=\"date\">\n                  </mat-form-field>\n                </td>\n                <td>\n                  <mat-form-field>\n                    <input matInput type=\"date\" placeholder=\"to\" [(ngModel)]=\"invoice.invoicePeriodTo\" name=\"date\">\n                  </mat-form-field>\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>CC Number</b>\n                </td>\n                <td>\n                  <b>PO Number</b>\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <mat-form-field>\n                    <input matInput [(ngModel)]=\"invoice.PONumber\">\n                  </mat-form-field>\n                </td>\n                <td>\n                  <mat-form-field>\n                    <input matInput [(ngModel)]=\"invoice.CCNumber\">\n                  </mat-form-field>\n                </td>\n              </tr>\n            </table>\n          </div>\n        </div>\n        <div class=\"col-lg-12\">\n          <h4></h4>\n          <form [formGroup]=\"myForm\">\n            <div formArrayName=\"rows\">\n              <table style=\"width:100%;margin-top:10px;\" cellpadding=\"10\">\n                <tr class=\"invoiceTable\">\n                  <th>Sr.</th>\n                  <th>Description</th>\n                  <th>Rate</th>\n                  <th>Quantity</th>\n                  <th>Amount</th>\n                  <th></th>\n                </tr>\n                \n                  <tr *ngFor=\"let temp of selectedBookings; let i=index\" [formGroupName]=\"i\" style=\"text-align:center;\" class=\"invoiceTable\">                      \n                    <td>\n                      {{i+1}}\n                    </td>\n                    <td class=\"tdleft\">\n                      <b>Travellers:</b>{{temp.travellers}}<br>\n                      <b>Country Name:</b>{{temp.location}}<br>\n                      <b>Visa Type:</b>{{temp.visaType}}<br>\n                      <b>Date:</b>{{temp.from | date: 'dd-MM-yyyy'}} - {{temp.to | date: 'dd-MM-yyyy'}}                      \n                    </td>\n                    <td>\n                      {{temp.visaCost}}\n                    </td>\n                    <td>\n                      1\n                    </td>\n                    <td>\n                      {{temp.visaCost}}\n                    </td>\n                    <td>\n                      <button mat-icon-button (click)=\"deleteBooking(i)\"><mat-icon style=\"font-size: 20px\">clear</mat-icon></button>\n                    </td>\n                  </tr>\n              \n                <tr *ngFor=\"let aRow of invoiceForms.controls; let i=index\" \n                  [formGroupName]=\"i\" class=\"invoiceTable\">                  \n                  <td>\n                    {{i+1}}\n                  </td>\n                  <td>\n                    <mat-form-field>\n                      <input matInput formControlName=\"description\" placeholder=\"Charges\">\n                    </mat-form-field>\n                    <i *ngIf=\"aRow.controls.taxable.value\">(taxable)</i>\n                    <i *ngIf=\"!aRow.controls.taxable.value\">(non-taxable)</i>\n                  </td>\n                  <td>\n                    <mat-form-field>\n                      <input matInput type=\"number\" formControlName=\"rate\" (change)=\"calculateCharges(aRow)\" >\n                    </mat-form-field>\n                  </td>\n                  <td>\n                    <mat-form-field>\n                      <input matInput type=\"number\" formControlName=\"quantity\" (change)=\"calculateCharges(aRow)\">\n                    </mat-form-field>\n                  </td>\n                  <td>\n                    <mat-form-field>\n                      <input matInput type=\"number\" formControlName=\"amount\" disabled>\n                    </mat-form-field>\n                  </td>\n                  <td>\n                    <button mat-icon-button (click)=\"deleteRow(i)\"><mat-icon style=\"font-size: 20px\">clear</mat-icon></button>\n                  </td>\n                </tr>\n                <tr *ngIf=\"isDiscounted\">\n                  <td></td>\n                  <td>\n                    <mat-form-field>\n                      <input matInput placeholder=\"Discount\">\n                    </mat-form-field>\n                    <mat-form-field>\n                      <mat-select [(value)]=\"invoice.discountType\" placeholder=\"Select Type\">\n                        <mat-option value=\"Amount\" (click)=\"getDiscount(1)\">\n                          by Amount\n                        </mat-option>\n                        <mat-option value=\"Percentage\" (click)=\"getDiscount(2)\">\n                          by %\n                        </mat-option>\n                        <mat-option value=\"PercentByHireCharges\" (click)=\"getDiscount(3)\">\n                          by % on Car Hire Charges\n                        </mat-option>\n                      </mat-select>\n                    </mat-form-field>\n                  </td>\n                  <td>\n                    <mat-form-field>\n                      <input matInput type=\"number\" (change)=\"discountRates($event.target.value)\">\n                    </mat-form-field>\n                  </td>\n                  <td></td>\n                  <td>\n                    {{invoice.discountAmount}}\n                  </td>\n                  <td>\n                    <button mat-icon-button (click)=\"isDiscount()\"><mat-icon style=\"font-size: 20px\">clear</mat-icon></button>\n                  </td>\n                </tr>\n                <tr class=\"trcenter\"><td colspan=\"4\">Taxable Amount</td>\n                  <td>\n                    {{totalTaxablePrice}}\n                  </td>\n                </tr>\n                <tr class=\"trcenter\" *ngIf=\"tax\">\n                  <td>\n                    <mat-form-field>\n                      <mat-select [value]=\"custTax\">\n                        <mat-option *ngFor=\"let element of tax\" [value]=\"element.name+' - '+element.percent\" (onSelectionChange)=\"getTax(element.name, element.percent, $event)\">\n                          {{element.name}} -{{element.percent}}%\n                        </mat-option>\n                      </mat-select>                                            \n                    </mat-form-field>\n                  </td>\n                  <td>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">CGST</p>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">SGST</p>\n                    <p *ngIf=\"invoice.taxType == 'IGST'\">IGST</p>\n                  </td>\n                  <td>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">{{invoice.taxRate/2}}</p>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">{{invoice.taxRate/2}}</p>\n                    <p *ngIf=\"invoice.taxType == 'IGST'\">{{invoice.taxRate}}</p>\n                  </td>\n                  <td>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">1</p>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">1</p>\n                    <p *ngIf=\"invoice.taxType == 'IGST'\">1</p>\n                  </td>\n                  <td>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">{{invoice.taxAmount/2}}</p>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">{{invoice.taxAmount/2}}</p>\n                    <p *ngIf=\"invoice.taxType == 'IGST'\">{{invoice.taxAmount}}</p>\n                  </td>\n                  <td></td>\n                </tr>\n                <tr class=\"trcenter\"><td colspan=\"4\">Non-Taxable Amount</td>\n                  <td>\n                    {{totalNonTaxablePrice}}\n                  </td>\n                </tr>\n                <tr class=\"trcenter\"><td colspan=\"4\">Gross Total(Rounded Off to nearest whole number):</td>\n                  <td>\n                    {{totalPrice}}\n                  </td>\n                </tr>\n                <tr class=\"trcenter\"><td colspan=\"4\">Advance Paid:</td>\n                  <td>\n                    {{advanceReceived}}\n                  </td>\n                </tr>   \n                <tr class=\"trcenter\"><td colspan=\"4\">Net Total Amount:</td>\n                  <td>\n                    {{totalPrice - advanceReceived}}\n                  </td>\n                </tr>                  \n              </table>              \n            </div>\n          </form>\n        </div>\n        <div class=\"invoice-button-container\">\n          <button class=\"invoice-button\" mat-raised-button color=\"primary\" (click)=\"viewBookings()\">Select Bookings</button>          \n          <button class=\"invoice-button\" mat-raised-button color=\"primary\" (click)=\"addRow(true)\">Add Row</button>\n          <button class=\"invoice-button\" mat-raised-button color=\"primary\" (click)=\"addRow(false)\">Add Row(NON-TAXABLE)</button>\n          <button class=\"invoice-button\" *ngIf=\"!isDiscounted\" mat-raised-button color=\"primary\" (click)=\"isDiscount()\">Add Discount</button>\n          <button class=\"invoice-button\" mat-raised-button color=\"primary\" (click)=\"addInvoice()\">Save</button>            \n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>  \n</div>"

/***/ }),

/***/ "./src/app/pages/masters/createvisainvoice/createvisainvoice.component.scss":
/***/ (function(module, exports) {

module.exports = "th {\n  text-align: center; }\n\n.box2 {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  border-bottom: 0.1px solid;\n  border-bottom-color: darkgrey; }\n\n.vl {\n  border-right: 0.1px solid;\n  border-right-color: darkgrey; }\n\n.tdleft {\n  text-align: left; }\n\n.trcenter {\n  text-align: center; }\n\n.invoiceTable {\n  border-bottom: 1px solid;\n  border-bottom-color: lightblue; }\n"

/***/ }),

/***/ "./src/app/pages/masters/createvisainvoice/createvisainvoice.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreatevisainvoiceComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__customerselection_customerselection_component__ = __webpack_require__("./src/app/pages/masters/customerselection/customerselection.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ng_bootstrap_ng_bootstrap_util_util__ = __webpack_require__("./node_modules/@ng-bootstrap/ng-bootstrap/util/util.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__circles_companyprofile_companyprofile_service__ = __webpack_require__("./src/app/pages/circles/companyprofile/companyprofile.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__operations_bookings_service__ = __webpack_require__("./src/app/pages/operations/bookings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__visadispinvoice_visadispinvoice_component__ = __webpack_require__("./src/app/pages/masters/visadispinvoice/visadispinvoice.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var CreatevisainvoiceComponent = (function () {
    function CreatevisainvoiceComponent(fb, dialog, invoiceService, bookingService, customerService, snackBar, auth, route, companyProfileService, router) {
        this.fb = fb;
        this.dialog = dialog;
        this.invoiceService = invoiceService;
        this.bookingService = bookingService;
        this.customerService = customerService;
        this.snackBar = snackBar;
        this.auth = auth;
        this.route = route;
        this.companyProfileService = companyProfileService;
        this.router = router;
        this.selectedBookings = [];
        this.advanceReceived = 0;
        this.fyear1 = new Date;
        this.fyear2 = new Date;
        this.fmonth = new Date;
        this.totalTaxablePrice = 0;
        this.totalNonTaxablePrice = 0;
        this.totalTaxablePriceAfterTax = 0;
        this.totalPrice = 0;
        this.bookingData = null;
        this.tax = [];
        this.isDiscounted = false;
        this.businessSettings = {};
        this.custTax = "";
        this.selectedCustomer = {
            panNo: '',
            caddress: '',
            gstin: '',
            name: '',
            applicableTaxes: 0,
        };
        this.invoice = {
            ownerId: '',
            customerId: '',
            invoiceNumber: '',
            invoiceDate: new Date().toISOString().split('T')[0],
            invoicePeriodFrom: new Date().toISOString().split('T')[0],
            invoicePeriodTo: new Date().toISOString().split('T')[0],
            PONumber: '',
            CCNumber: '',
            discountType: '',
            discountRate: 0,
            discountAmount: 0,
            taxType: '',
            taxRate: 0,
            taxAmount: 0,
            totalAmount: 0,
            advanceReceived: 0,
            taxableAmount: 0,
            nonTaxableAmount: 0,
        };
    }
    CreatevisainvoiceComponent.prototype.unloadHandler = function (event) {
        console.log("Processing beforeunload...");
        event.returnValue = false;
    };
    CreatevisainvoiceComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.invoice.ownerId = data[0].ownerId;
            var temp = {
                ownerId: data[0].ownerId
            };
            console.log(temp);
            _this.invoiceService.getTaxes(temp).subscribe(function (data) {
                console.log(data);
                _this.tax = data;
                // this.getTax(this.tax[0].name, this.tax[0].percent);
            });
            console.log(_this.tax);
            _this.invoiceService.getInvoices(temp).subscribe(function (data) {
                var temp = {
                    ownerId: data[0].ownerId
                };
                _this.invoiceNumber = data[0].invoiceNumber;
                _this.companyProfileService.getCompanyProfile(temp).subscribe(function (data) {
                    if (data[0].invoicePrefix == null) {
                        _this.prefix = data[0].name;
                        _this.prefix = _this.prefix.substr(0, 3).toUpperCase();
                    }
                    else {
                        _this.prefix = data[0].invoicePrefix;
                    }
                    if ((_this.fmonth.getMonth() + 1) > 3) {
                        _this.newYear1 = ((_this.fyear1.getFullYear())).toString().slice(2, 4);
                        _this.newYear2 = ((_this.fyear2.getFullYear()) + 1).toString().slice(2, 4);
                    }
                    else if ((_this.fmonth.getMonth() + 1) < 4) {
                        _this.newYear1 = ((_this.fyear1.getFullYear()) - 1).toString().slice(2, 4);
                        _this.newYear2 = ((_this.fyear2.getFullYear())).toString().slice(2, 4);
                    }
                    // if((this.fmonth.getMonth()+1) > 9) {
                    //   this.newMonth = (this.fmonth.getMonth()+1).toString();
                    //   console.log(this.newMonth);
                    // }
                    // else if((this.fmonth.getMonth()+1) < 10) {
                    //   this.newMonth = "0"+(this.fmonth.getMonth()+1).toString();
                    //   console.log(this.newMonth);
                    // }
                    _this.invoiceNumber = _this.invoiceNumber.replace(_this.prefix, "");
                    _this.oldYear1 = _this.invoiceNumber.substr(0, 2);
                    _this.oldYear2 = _this.invoiceNumber.substr(2, 2);
                    // this.oldMonth = this.invoiceNumber.substr(4,2);
                    _this.subInvoiceNumber = _this.invoiceNumber.substr(4);
                    if ((_this.newYear1 == _this.oldYear1) && (_this.newYear2 == _this.oldYear2) /*&& (this.oldMonth == this.newMonth)*/) {
                        if (_this.subInvoiceNumber == "9999") {
                            _this.newSubInvoiceNumber = Object(__WEBPACK_IMPORTED_MODULE_3__ng_bootstrap_ng_bootstrap_util_util__["h" /* toInteger */])(_this.subInvoiceNumber);
                            _this.newSubInvoiceNumber++;
                            _this.newInvoiceNumber = _this.prefix + _this.newYear1 + _this.newYear2 /*+this.newMonth*/ + _this.newSubInvoiceNumber;
                        }
                        else {
                            _this.newSubInvoiceNumber = Object(__WEBPACK_IMPORTED_MODULE_3__ng_bootstrap_ng_bootstrap_util_util__["h" /* toInteger */])(_this.invoiceNumber);
                            _this.newSubInvoiceNumber++;
                            _this.newInvoiceNumber = _this.prefix + _this.newSubInvoiceNumber;
                        }
                    }
                    else if (_this.newYear1 != _this.oldYear1) {
                        _this.newInvoiceNumber = _this.prefix + _this.newYear1 + _this.newYear2 /*+this.newMonth*/ + "0001";
                    }
                    // else if(this.newMonth != this.oldMonth) {
                    //   this.newInvoiceNumber = this.prefix+this.newYear1+this.newYear2+this.newMonth+"0001";
                    // }
                    console.log(_this.newInvoiceNumber);
                });
            });
        });
        this.auth.businessSettings.subscribe(function (data) {
            _this.businessSettings = data;
        });
        this.myForm = this.fb.group({
            rows: this.fb.array([])
        });
        this.taxForm = this.fb.group({
            taxrows: this.fb.array([]),
        });
        this.bookingData = this.bookingService.getBookingId();
        if (this.bookingData != null) {
            this.getCustomer();
            this.getBookings();
            console.log(this.bookingData);
        }
        this.bookingService.setBookingId(null);
    };
    CreatevisainvoiceComponent.prototype.getCustomer = function () {
        var _this = this;
        this.customerService.getSingleCustomer(this.bookingData).subscribe(function (data) {
            console.log(data);
            _this.selectedCustomer = data[0];
        });
    };
    CreatevisainvoiceComponent.prototype.getBookings = function () {
        var _this = this;
        this.bookingService.getBookingsForInvoice(this.bookingData).subscribe(function (data) {
            console.log(data);
            _this.selectedBookings = data;
        });
    };
    CreatevisainvoiceComponent.prototype.viewBookings = function () {
        var _this = this;
        if (this.selectedCustomer.id != null) {
            var temp = {
                customer: this.selectedCustomer.id,
                bookings: this.selectedBookings
            };
            console.log(temp);
            var dialTemp = this.dialog.open(__WEBPACK_IMPORTED_MODULE_11__visadispinvoice_visadispinvoice_component__["a" /* VisadispinvoiceComponent */], { autoFocus: false, disableClose: true, data: { temp: temp } });
            dialTemp.afterClosed().subscribe(function (data) {
                if (data) {
                    _this.selectedBookings = data;
                    console.log(_this.selectedBookings);
                    _this.selectedBookings.forEach(function (element) {
                        if (element.advance != null) {
                            _this.advanceReceived += element.advance;
                        }
                    });
                    _this.invoice.advanceReceived = _this.advanceReceived;
                }
                _this.calculateTotal();
                // this.getTax(1);
            });
        }
        else {
            this.snackBar.open('Select Customer', null, {
                duration: 5000,
            });
        }
    };
    CreatevisainvoiceComponent.prototype.selectCustomer = function () {
        var _this = this;
        var dial = this.dialog.open(__WEBPACK_IMPORTED_MODULE_2__customerselection_customerselection_component__["a" /* CustomerselectionComponent */], { autoFocus: false, disableClose: true });
        dial.afterClosed().subscribe(function (data) {
            if (data) {
                _this.selectedCustomer = data;
                console.log(_this.selectedCustomer);
                _this.invoice.customerId = data.id;
                console.log(_this.selectedCustomer.applicableTaxes);
                var cTax = _this.tax.find(function (x) { return x.id === Number(_this.selectedCustomer.applicableTaxes); });
                console.log(cTax);
                _this.custTax = cTax.name;
            }
        });
    };
    Object.defineProperty(CreatevisainvoiceComponent.prototype, "invoiceForms", {
        get: function () {
            return this.myForm.get('rows');
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CreatevisainvoiceComponent.prototype, "taxableForms", {
        get: function () {
            return this.taxForm.get('taxrows');
        },
        enumerable: true,
        configurable: true
    });
    CreatevisainvoiceComponent.prototype.addRow = function (taxableTemp) {
        var row = this.fb.group({
            description: '',
            rate: '',
            quantity: '',
            amount: '',
            taxable: taxableTemp,
        });
        this.invoiceForms.push(row);
    };
    CreatevisainvoiceComponent.prototype.addBookingRow = function (booking) {
        var row = this.fb.group({
            description: "Reporting Address:\r\n" + booking.reportingAddress,
            rate: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */](''),
            quantity: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */](''),
            amount: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */](''),
            taxable: true,
        });
        this.invoiceForms.push(row);
    };
    CreatevisainvoiceComponent.prototype.addTax = function () {
        var row = this.fb.group({
            taxtype: '',
            percentage: ''
        });
        this.taxableForms.push(row);
    };
    CreatevisainvoiceComponent.prototype.deleteRow = function (i) {
        this.invoiceForms.removeAt(i);
        this.calculateTotal();
    };
    CreatevisainvoiceComponent.prototype.deleteTaxRow = function (i) {
        this.taxableForms.removeAt(i);
    };
    CreatevisainvoiceComponent.prototype.deleteBooking = function (i) {
        this.selectedBookings.splice(i, 1);
    };
    CreatevisainvoiceComponent.prototype.getTax = function (option1, option2, event) {
        if (event.source.selected == true) {
            this.invoice.taxType = option1;
            this.invoice.taxRate = option2;
            this.calculateTotal();
        }
    };
    CreatevisainvoiceComponent.prototype.calculateCharges = function (element) {
        element.get('amount').setValue(element.value.rate * element.value.quantity);
        this.calculateTotal();
    };
    CreatevisainvoiceComponent.prototype.calculateTotal = function () {
        var _this = this;
        this.totalPrice = 0;
        //taxable row calculation
        this.totalTaxablePrice = 0;
        this.totalNonTaxablePrice = 0;
        this.invoice.taxAmount = 0;
        this.selectedBookings.forEach(function (element) {
            _this.totalTaxablePrice = _this.totalTaxablePrice + Number(element.visaCost);
        });
        if (this.isDiscounted == true) {
            if (this.invoice.discountType == "Hire") {
                this.invoice.discountAmount = this.invoice.discountRate / 100 * this.totalTaxablePrice;
            }
        }
        this.invoiceForms.controls.forEach(function (element) {
            if (element.value.taxable) {
                _this.totalTaxablePrice += element.value.amount;
            }
            else if (!element.value.taxable) {
                _this.totalNonTaxablePrice += element.value.amount;
            }
        });
        if (this.isDiscounted)
            this.calculateDiscount();
        this.invoice.taxAmount = ((Number(this.invoice.taxRate) / 100) * Number(this.totalTaxablePrice));
        this.invoice.taxAmount = (Math.round(this.invoice.taxAmount * 100) / 100);
        this.totalTaxablePriceAfterTax = Number(this.totalTaxablePrice) + Number(this.invoice.taxAmount);
        this.totalPrice = Number(this.totalTaxablePriceAfterTax) + Number(this.totalNonTaxablePrice);
        console.log((Math.ceil(this.totalPrice) - this.totalPrice));
        if ((Math.ceil(this.totalPrice) - this.totalPrice) < 0.50) {
            this.totalPrice = Math.ceil(this.totalPrice);
            console.log(this.totalPrice);
        }
        else if ((Math.ceil(this.totalPrice) - this.totalPrice) > 0.50) {
            this.totalPrice = Math.floor(this.totalPrice);
            console.log(this.totalPrice);
        }
    };
    //add invoice
    CreatevisainvoiceComponent.prototype.addInvoice = function () {
        var _this = this;
        var extra = [];
        this.invoiceForms.controls.forEach(function (element) {
            extra.push(element.value);
        });
        this.invoice.invoiceNumber = this.newInvoiceNumber;
        this.invoice.customerId = this.selectedCustomer.id;
        this.invoice.totalAmount = this.totalPrice;
        this.invoice.taxableAmount = this.totalTaxablePrice;
        this.invoice.nonTaxableAmount = this.totalNonTaxablePrice;
        var temp = {
            invoice: this.invoice,
            booking: this.selectedBookings,
            extra: extra
        };
        console.log(temp);
        this.invoiceService.addInvoiceVisa(temp).subscribe(function (data) { }, function (err) { }, function () {
            _this.snackBar.open("Invoice Created", "X", { duration: 3000 });
            _this.router.navigateByUrl('/pages/masters/invoicedisplay');
        });
    };
    CreatevisainvoiceComponent.prototype.isDiscount = function () {
        this.isDiscounted = !this.isDiscounted;
        this.calculateTotal();
    };
    CreatevisainvoiceComponent.prototype.calculateDiscount = function () {
        if (this.isDiscounted == true) {
            if (this.invoice.discountType == "Amount") {
                this.invoice.discountAmount = Number(this.invoice.discountRate);
            }
            else if (this.invoice.discountType == "Percent") {
                this.invoice.discountAmount = Number(this.invoice.discountRate / 100 * this.totalTaxablePrice);
            }
            this.totalTaxablePrice = this.totalTaxablePrice - this.invoice.discountAmount;
        }
    };
    CreatevisainvoiceComponent.prototype.getDiscount = function (option) {
        if (option == 1)
            this.invoice.discountType = "Amount";
        else if (option == 2)
            this.invoice.discountType = "Percent";
        else if (option == 3)
            this.invoice.discountType = "Hire";
        this.calculateTotal();
    };
    CreatevisainvoiceComponent.prototype.discountRates = function (discountRate) {
        this.invoice.discountRate = discountRate;
        this.calculateTotal();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])("window:beforeunload", ["$event"]),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Event]),
        __metadata("design:returntype", void 0)
    ], CreatevisainvoiceComponent.prototype, "unloadHandler", null);
    CreatevisainvoiceComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'createvisainvoice',
            template: __webpack_require__("./src/app/pages/masters/createvisainvoice/createvisainvoice.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/createvisainvoice/createvisainvoice.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_7__angular_material__["n" /* MatDialog */], __WEBPACK_IMPORTED_MODULE_10__createinvoice_invoice_service__["a" /* InvoiceService */],
            __WEBPACK_IMPORTED_MODULE_9__operations_bookings_service__["a" /* BookingsService */],
            __WEBPACK_IMPORTED_MODULE_8__customer_customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_7__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_6__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_5__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_4__circles_companyprofile_companyprofile_service__["a" /* CompanyprofileService */],
            __WEBPACK_IMPORTED_MODULE_5__angular_router__["c" /* Router */]])
    ], CreatevisainvoiceComponent);
    return CreatevisainvoiceComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/customergroupdisplay/customergroupdisplay.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\" >\n    <nb-card>\n      <nb-card-header>\n          Customer Groups\n       </nb-card-header>\n      <nb-card-body>\n          <div align=\"center\">\n              <mat-form-field class=\"filter-field\">\n                <input matInput   placeholder=\"Filter\"   (keyup)=\"search($event.target.value)\">\n              </mat-form-field>\n      \n              <button mat-icon-button><mat-icon class=\"filter-icon\">search</mat-icon></button>\n              <button mat-icon-button><mat-icon class=\"filter-icon\">highlight_off</mat-icon></button>\n            </div>\n            <mat-table  [dataSource]=\"dataSource\" matSort>\n  \n              <!-- Weight Column -->\n              <ng-container matColumnDef=\"name\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Name </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.name}} </mat-cell>\n              </ng-container>\n\n              <ng-container matColumnDef=\"Options\">\n                  <mat-header-cell *matHeaderCellDef> Options</mat-header-cell>\n                  <mat-cell *matCellDef=\"let element ;let row\" (click)=\"$event.stopPropagation()\">\n                    <button mat-icon-button *ngIf=\"permission.manageCustomerGroup==1\"  [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>\n                    <mat-menu  #menu=\"matMenu\">\n                    <!-- <button mat-menu-item (click)=\"editCustomerGroup(row)\">Edit</button> -->\n                    <button (click)=\"deleteCustomerGroup(row)\" mat-menu-item>Delete</button>\n                    </mat-menu>\n                  </mat-cell>\n                </ng-container>\n          \n              <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n              <mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"editCustomerGroup(row)\"></mat-row>\n            </mat-table>\n            <mat-paginator [length]=\"length\"\n            [pageSize]=\"pageSize\"\n            [pageSizeOptions]=\"pageSizeOptions\"></mat-paginator>\n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"col-lg-12\" align=\"right\">\n    <a *ngIf=\"permission.addCustomerGroup==1\" (click)=\"addCustomerGroup()\" class=\"float\">\n        <i style=\"color: ghostwhite\" class=\"fa fa-plus my-float\"></i>\n    </a>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/customergroupdisplay/customergroupdisplay.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/customergroupdisplay/customergroupdisplay.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CustomergroupdisplayComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__newcustomergroup_newcustomergroup_component__ = __webpack_require__("./src/app/pages/masters/newcustomergroup/newcustomergroup.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__sub_users_sub_user_service__ = __webpack_require__("./src/app/pages/masters/sub-users/sub-user.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var CustomergroupdisplayComponent = (function () {
    function CustomergroupdisplayComponent(customerGroupService, auth, dialog, permissionService) {
        this.customerGroupService = customerGroupService;
        this.auth = auth;
        this.dialog = dialog;
        this.permissionService = permissionService;
        this.pageSize = 10; // set default to 10
        this.pageSizeOptions = [10, 15, 25, 40];
        this.user = {};
        this.permission = {};
        this.displayedColumns = ['name', 'Options'];
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_3__angular_material__["O" /* MatTableDataSource */]();
    }
    CustomergroupdisplayComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.auth.permissions.subscribe(function (data) {
                _this.permission = data[0];
                if (_this.permission.manageCustomerGroup === 0) {
                    _this.displayedColumns.pop();
                }
                if (data[0].viewCustomerGroup == 1) {
                    _this.customerGroupService.getCustomerGroups(_this.user).subscribe(function (data) {
                        _this.dataSource.data = data;
                        _this.length = data.length;
                    });
                }
                else {
                    window.alert("You do not have permission to view customer group");
                }
            });
        });
    };
    CustomergroupdisplayComponent.prototype.search = function (filterValue) {
        this.dataSource.filter = filterValue.trim().toLowerCase();
    };
    CustomergroupdisplayComponent.prototype.addCustomerGroup = function () {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_1__newcustomergroup_newcustomergroup_component__["a" /* NewcustomergroupComponent */], { autoFocus: false, disableClose: true });
    };
    CustomergroupdisplayComponent.prototype.editCustomerGroup = function (temp) {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_1__newcustomergroup_newcustomergroup_component__["a" /* NewcustomergroupComponent */], { data: temp, autoFocus: false, disableClose: true });
    };
    CustomergroupdisplayComponent.prototype.deleteCustomerGroup = function (temp) {
        this.customerGroupService.deleteCustomerGroups(temp).subscribe();
    };
    CustomergroupdisplayComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'customergroupdisplay',
            template: __webpack_require__("./src/app/pages/masters/customergroupdisplay/customergroupdisplay.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/customergroupdisplay/customergroupdisplay.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__newcustomergroup_newcustomergroup_component__["a" /* NewcustomergroupComponent */], __WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_3__angular_material__["n" /* MatDialog */], __WEBPACK_IMPORTED_MODULE_4__sub_users_sub_user_service__["a" /* SubUserService */]])
    ], CustomergroupdisplayComponent);
    return CustomergroupdisplayComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/driver-disp/driver-disp.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\" >\n    <nb-card>\n      <nb-card-header>\n        Drivers\n        <button style=\"float: right;margin-top: -10px;\" mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>settings</mat-icon></button>\n        <mat-menu #menu=\"matMenu\" class=\"mat-menu-panel\">\n          <button mat-menu-item (click)=\"importDrivers()\">Import Drivers</button>\n        </mat-menu>\n      </nb-card-header>\n      <nb-card-body>\n        <div align=\"center\">\n          <mat-form-field class=\"filter-field\">\n            <input matInput   placeholder=\"Filter\"   [(ngModel)]=\"searchTerm\" (keyup)=\"search($event.target.value)\">\n          </mat-form-field>\n        \n          <button mat-icon-button><mat-icon class=\"filter-icon\">search</mat-icon></button>\n          <button mat-icon-button (click)=\"clear()\"><mat-icon class=\"filter-icon\">highlight_off</mat-icon></button>\n        </div>\n        <mat-table #table [dataSource]=\"datasource\" matSort>\n  \n          <!-- Name Column -->\n          <ng-container matColumnDef=\"name\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Name </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> <mat-icon *ngIf=\"element.userId != null\">phone_iphone</mat-icon> {{element.name}} </mat-cell>\n          </ng-container>\n    \n          <!-- Weight Column -->\n          <ng-container matColumnDef=\"mobileNumber\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> MobileNumber </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.mobileNumber}} </mat-cell>\n          </ng-container>\n    \n          <!-- Symbol Column --> \n          <ng-container matColumnDef=\"userName\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> User Name </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\">\n              <p style=\"margin: auto\" *ngIf=\"element.userName\">{{element.userName}}</p>\n              <p style=\"margin: auto\" *ngIf=\"element.userName == null\">App Login not created</p>\n            </mat-cell>\n          </ng-container>\n\n          <!-- Symbol Column --> \n          <ng-container matColumnDef=\"status\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>Active</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\">\n              <p style=\"margin:auto\" *ngIf=\"element.active==1\">Yes</p><p style=\"margin:auto\" *ngIf=\"element.active==0\">No</p>\n            </mat-cell>          \n          </ng-container>\n\n          <!-- Symbol Column --> \n        <!-- <ng-container matColumnDef=\"salaryPerMonth\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Salary Per Month </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.salaryPerMonth}} </mat-cell>\n          </ng-container> -->\n\n          <ng-container matColumnDef=\"Options\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Options</mat-header-cell>\n            <mat-cell *matCellDef=\"let element ;let row\" (click)=\"$event.stopPropagation()\">\n              <button mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>\n              <mat-menu #menu=\"matMenu\">\n                <!-- <button mat-menu-item (click)=\"selectRow(row)\">Edit</button> -->\n                <button *ngIf=\"permission.addUsers && element.userName == null\" mat-menu-item (click)=\"createUser(row)\">Create User</button>\n                <button *ngIf=\"element.active && permission.manageDrivers\" (click)=\"deactivateDriver(row)\" mat-menu-item>Deactivate</button>\n                <button *ngIf=\"!element.active && permission.manageDrivers\" (click)=\"activateDriver(row)\" mat-menu-item>Activate</button>\n              </mat-menu>\n            </mat-cell>\n          </ng-container>\n    \n          <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n          <mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"openProfile(row)\"></mat-row>\n        </mat-table>\n        \n        <mat-paginator [length]=\"length\"\n          [pageSize]=\"pageSize\"\n          [pageSizeOptions]=\"pageSizeOptions\"\n        ></mat-paginator>\n                \n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"col-lg-12\" align=\"right\">\n    <a *ngIf=\"permission.addDrivers==1\" (click)=\"selectRow(null)\" class=\"float\">\n      <i style=\"color: ghostwhite\" class=\"fa fa-plus my-float\"></i>\n    </a>      \n</div>"

/***/ }),

/***/ "./src/app/pages/masters/driver-disp/driver-disp.component.scss":
/***/ (function(module, exports) {

module.exports = "button.mat-menu-item {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px; }\n\n.mat-chip {\n  height: 30px;\n  line-height: 30px; }\n\n.mat-icon {\n  font-size: 17px; }\n"

/***/ }),

/***/ "./src/app/pages/masters/driver-disp/driver-disp.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DriverDispComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__new_driver_new_driver_component__ = __webpack_require__("./src/app/pages/masters/new-driver/new-driver.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__new_driver_driver_service__ = __webpack_require__("./src/app/pages/masters/new-driver/driver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__modals_confirm_confirm_component__ = __webpack_require__("./src/app/pages/modals/confirm/confirm.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__sub_users_sub_user_service__ = __webpack_require__("./src/app/pages/masters/sub-users/sub-user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__importdriver_importdriver_component__ = __webpack_require__("./src/app/pages/masters/importdriver/importdriver.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__newuser_newuser_component__ = __webpack_require__("./src/app/pages/masters/newuser/newuser.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__driverprofile_driverprofile_component__ = __webpack_require__("./src/app/pages/masters/driverprofile/driverprofile.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var DriverDispComponent = (function () {
    function DriverDispComponent(dialog, driverService, auth, snackBar, permissionService) {
        this.dialog = dialog;
        this.driverService = driverService;
        this.auth = auth;
        this.snackBar = snackBar;
        this.permissionService = permissionService;
        this.pageSize = 10;
        this.pageSizeOptions = [10, 15, 25, 40];
        this.displayedColumns = ['name', 'mobileNumber', 'userName', 'status', 'Options'];
        this.permission = {};
        this.datasource = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
        this.user = {};
    }
    DriverDispComponent.prototype.ngOnInit = function () {
        var _this = this;
        var HOST = location.origin.replace(/^http/, 'ws');
        this.ws = new WebSocket(HOST);
        this.ws.onmessage = function (event) {
            var _this = this;
            if (event.data == this.user.ownerId + 'driver-disp')
                this.driverService.getDriver(this.user).subscribe(function (data) {
                    _this.tempArray = data;
                    _this.datasource.data = _this.tempArray;
                });
        }.bind(this);
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.auth.permissions.subscribe(function (data) {
                _this.permission = data[0];
                // if(this.permission.manageDrivers === 0) {
                //   this.displayedColumns.pop();
                // }
                if (data[0].viewDriver == 1) {
                    _this.driverService.getDriver(_this.user).subscribe(function (data) {
                        _this.tempArray = data;
                        _this.datasource.data = _this.tempArray;
                    });
                }
                else {
                    window.alert("You do not have permission to view drivers");
                }
            });
        });
        this.datasource.sort = this.sort;
        this.datasource.paginator = this.paginator;
    };
    DriverDispComponent.prototype.ngOnDestroy = function () {
        this.ws.close();
    };
    DriverDispComponent.prototype.selectRow = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_2__new_driver_new_driver_component__["a" /* NewDriverComponent */], { autoFocus: false, disableClose: true, data: { row: row } }).afterClosed().subscribe(function (data) {
            if (data == undefined) {
            }
            else {
                if (data.inserted == 'yes') {
                    _this.tempArray.push(data.data);
                    _this.datasource.data = _this.tempArray;
                }
            }
        });
    };
    DriverDispComponent.prototype.createUser = function (row) {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_8__newuser_newuser_component__["a" /* NewuserComponent */], { data: {
                data: row,
                'driver': 'true'
            } });
    };
    DriverDispComponent.prototype.search = function (filterValue) {
        this.datasource.filter = filterValue.trim().toLowerCase();
    };
    DriverDispComponent.prototype.clear = function () {
        this.searchTerm = '';
        this.datasource.filter = '';
    };
    DriverDispComponent.prototype.deleteDriver = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_5__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.driverService.deleteDriver(row).subscribe(function (data) {
                    if (data.errno == undefined) {
                        var i = _this.tempArray.indexOf(row);
                        _this.tempArray.splice(i, 1);
                        _this.datasource.data = _this.tempArray;
                        _this.snackBar.open("Driver Deleted", "X", { duration: 3000 });
                    }
                    else {
                        if (data.errno == 1451) {
                            window.alert("Cannot delete because you have corresponding Data");
                        }
                        else {
                            window.alert("Error Cannot Delete Booking");
                        }
                    }
                });
            }
        });
    };
    DriverDispComponent.prototype.deactivateDriver = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_5__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.driverService.deactivateDriver(row).subscribe(function (data) {
                    if (data.errno == undefined) {
                        _this.ws.send(_this.user.ownerId + "driver-disp");
                        // var i=this.tempArray.indexOf(row);
                        // this.tempArray.splice(i,1);
                        // this.datasource.data=this.tempArray;
                        _this.snackBar.open("Driver Deactivated", "X", { duration: 3000 });
                    }
                });
            }
        });
    };
    DriverDispComponent.prototype.activateDriver = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_5__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.driverService.deactivateDriver(row).subscribe(function (data) {
                    if (data.errno == undefined) {
                        _this.ws.send(_this.user.ownerId + "driver-disp");
                        // var i=this.tempArray.indexOf(row);
                        // this.tempArray.splice(i,1);
                        // this.datasource.data=this.tempArray;
                        _this.snackBar.open("Driver Activated", "X", { duration: 3000 });
                    }
                });
            }
        });
    };
    DriverDispComponent.prototype.importDrivers = function () {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_7__importdriver_importdriver_component__["a" /* ImportdriverComponent */], { autoFocus: false, disableClose: true });
    };
    DriverDispComponent.prototype.openProfile = function (row) {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_9__driverprofile_driverprofile_component__["a" /* DriverprofileComponent */], { autoFocus: false, disableClose: true, data: { row: row } });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], DriverDispComponent.prototype, "sort", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */])
    ], DriverDispComponent.prototype, "paginator", void 0);
    DriverDispComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-driver-disp',
            template: __webpack_require__("./src/app/pages/masters/driver-disp/driver-disp.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/driver-disp/driver-disp.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_3__new_driver_driver_service__["a" /* DriverService */],
            __WEBPACK_IMPORTED_MODULE_4__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_6__sub_users_sub_user_service__["a" /* SubUserService */]])
    ], DriverDispComponent);
    return DriverDispComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/driverprofile/driverprofile.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\" >\n    <nb-card>\n      <nb-card-header>Driver Profile</nb-card-header>\n      <nb-card-body>\n        <div class=\"row\">\n          <div class=\"col-lg-12 col-12\">\n            <div style=\"margin-bottom: 10px;\">\n              <img class=\"center\" [src]=\"imgUrl\" alt=\"\" height=\"150px\" (click)=\"open(_albums)\">\n            </div>\n          </div>          \n        </div>\n        <div class=\"row pb-10\">\n          <div class=\"col-lg-3 col-12\">\n            <b>Name: </b>\n            <br>\n            {{driver.name}}\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <b>Mobile Number: </b>\n            <br>\n            {{driver.mobileNumber}}\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <b>Alternate Number: </b>\n            <br>\n            {{driver.alternateNumber}}\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <b>Email: </b>\n            <br>\n            {{driver.email}}\n          </div>          \n        </div>\n        <div class=\"row pb-10\">\n          <div class=\"col-lg-3 col-12\">              \n            <b>PAN Card Number: </b>\n            <br>\n            {{driver.panCardNumber}}\n          </div>\n          <div class=\"col-lg-3 col-12\">              \n            <b>Aadhar Card Number: </b>\n            <br>\n            {{driver.aadharCardNumber}}                \n          </div>\n          <div class=\"col-lg-3 col-12\">            \n            <b>Birth Date: </b>\n            <br>\n            <p style=\"margin: auto\" *ngIf=\"driver.birthDate != 'Invalid date' && driver.birthDate != null\">{{driver.birthDate | date: 'dd-MM-yyyy'}}</p>\n          </div>\n          <div class=\"col-lg-3 col-12\">            \n            <b>Joining Date: </b>\n            <br>\n            <p style=\"margin: auto\" *ngIf=\"driver.joiningDate != 'Invalid date' && driver.joiningDate != null\">{{driver.joiningDate | date: 'dd-MM-yyyy'}}</p>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-3 col-12\">\n            <b>Salary Per Month: </b>\n            <br>\n            &#x20B9; {{driver.salaryPerMonth}}\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <b>Daily Wages: </b>\n            <br>\n            &#x20B9; {{driver.dailyWages}}\n          </div>\n        </div>\n        <hr>\n        <div class=\"row\">\n          <div class=\"col-lg-12\">            \n            <h5>Address</h5>\n            <div class=\"row\">\n              <div class=\"col-lg-6 col-12\">                    \n                <b>Permanent Address: </b>\n                <br>\n                {{driver.permanentAddress}}                                  \n              </div>\n              <div class=\"col-lg-6 col-12\">                \n                <b>Current Address: </b>\n                <br>\n                {{driver.currentAddress}}                  \n              </div>\n            </div>                    \n          </div>    \n        </div>\n        <hr>\n        <div class=\"row\">\n          <div class=\"col-lg-12\">            \n            <h5>Allowances</h5>              \n            <div class=\"row\">\n              <div class=\"col-lg-3\">                    \n                <b>Daily Allowances: </b> &#x20B9; {{driver.dailyAllowance}}                      \n              </div>\n              <div class=\"col-lg-3\">                    \n                <b>Over time per hour: </b> &#x20B9; {{driver.overTimeAllowance}}                      \n              </div>\n              <div class=\"col-lg-3\">                    \n                <b>OutStation Allowances per day: </b> &#x20B9; {{driver.outstationAllowancePerDay}}                      \n              </div>\n              <div class=\"col-lg-3\">                    \n                <b>Outstation overnight Allowances: </b> &#x20B9; {{driver.outstationOvernightAllowance}}                      \n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-lg-3\">                    \n                <b>Sunday Allowances: </b> &#x20B9; {{driver.sundayAllowance}}                      \n              </div>\n              <div class=\"col-lg-3\">                    \n                <b>Early Start Allowances: </b> &#x20B9; {{driver.earlyStartAllowance}}                      \n              </div>\n              <div class=\"col-lg-3\">                    \n                <b>Night Allowances: </b> &#x20B9; {{driver.nightAllowancePerDay}}                      \n              </div>\n            </div>\n          </div>\n        </div>\n        <hr>\n        <div class=\"row\">\n          <div class=\"col-lg-12\">            \n            <h5>Extra Duty Allowances</h5>\n            <div class=\"row\">\n              <div class=\"col-lg-3 col-12\">                    \n                <b>Second duty: </b> &#x20B9; {{driver.secondDuty}}                                 \n              </div>\n              <div class=\"col-lg-3 col-12\">                    \n                <b>Third Duty: </b> &#x20B9; {{driver.thirdDuty}}                                     \n              </div>        \n              <div class=\"col-lg-3 col-12\">     \n                <b>Fourth Duty: </b> &#x20B9; {{driver.fourthDuty}}\n              </div>\n              <div class=\"col-lg-3 col-12\">                    \n                <b>Fifth Duty: </b> &#x20B9; {{driver.fifthDuty}}\n              </div>\n            </div>              \n          </div>\n        </div>\n        <hr>\n        <div class=\"row\">\n          <div class=\"col-lg-6\">            \n            <h4>Working Hours</h4>              \n            <div class=\"row\">\n              <div class=\"col-lg-6 col-12\">\n                <b>Start: </b> {{driver.workingHoursStart}}                    \n              </div>\n              <div class=\"col-lg-6 col-12\">\n                <b>End: </b> {{driver.workingHoursEnd}}                    \n              </div>\n            </div>            \n          </div>\n          <div class=\"col-lg-6\">            \n            <h4>License Information</h4>              \n            <div class=\"row\">\n              <div class=\"col-lg-6 col-12\">                    \n                <b>Number: </b> {{driver.licenseNumber}}                                 \n              </div>\n              <div class=\"col-lg-6 col-12\">                    \n                <b>Valid Upto: </b>\n                <p style=\"margin: auto\" *ngIf=\"driver.licenseValidUpto != 'Invalid date' && driver.licenseValidUpto != null\">{{driver.licenseValidUpto | date: 'dd-MM-yyyy'}}</p>\n              </div>\n            </div>              \n          </div>    \n        </div>\n        <hr>\n        <div class=\"row\">\n          <div class=\"col-lg-12\">\n            <h5>Documents</h5>\n            <div class=\"row\" *ngIf=\"imgLicenseUrl != ''\">\n              <div class=\"col-lg-3 col-12\">\n                <mat-list>\n                  <mat-list-item> <a target=\"_blank\" href=\"{{imgLicense}}\">License</a> </mat-list-item>\n                </mat-list>\n              </div>\n              <div class=\"col-lg-9 col-12\">\n                <img *ngIf=\"imgLicenseUrl!=null\" [src]=\"imgLicenseUrl\" alt=\"\" height=\"150px\" (click)=\"open(_licenseAlbums)\">\n                <mat-list *ngIf=\"imgLicenseUrl==null\">\n                  <mat-list-item> No Preview Available </mat-list-item>\n                </mat-list>\n              </div>\n            </div>\n            <div class=\"row\" *ngIf=\"imgAadharUrl != ''\">\n              <div class=\"col-lg-3 col-12\">\n                <mat-list>\n                  <mat-list-item> <a target=\"_blank\" href=\"{{imgAadhar}}\">Aadhar Card</a> </mat-list-item>\n                </mat-list>\n              </div>\n              <div class=\"col-lg-9 col-12\">\n                <img *ngIf=\"imgAadharUrl!=null\" [src]=\"imgAadharUrl\" alt=\"\" height=\"150px\" (click)=\"open(_aadharAlbums)\">\n                <mat-list *ngIf=\"!imgAadharUrl==null\">\n                  <mat-list-item> No Preview Available </mat-list-item>\n                </mat-list>                \n              </div>\n            </div>\n            <div class=\"row\" *ngIf=\"imgPanUrl != ''\">\n              <div class=\"col-lg-3 col-12\">\n                <mat-list>\n                  <mat-list-item> <a target=\"_blank\" href=\"{{imgPan}}\">PAN Card</a> </mat-list-item>\n                </mat-list>\n              </div>\n              <div class=\"col-lg-9 col-12\">\n                <img *ngIf=\"imgPanUrl!=null\" [src]=\"imgPanUrl\" alt=\"\" height=\"150px\" (click)=\"open(_panAlbums)\">\n                <mat-list *ngIf=\"!imgPanUrl==null\">\n                  <mat-list-item> No Preview Available </mat-list-item>\n                </mat-list>\n              </div>\n            </div>\n            <div class=\"row\" *ngIf=\"imgLicenseUrl == '' && imgAadharUrl == '' && imgPanUrl == ''\">\n              <mat-list>\n                <mat-list-item> No Images Uploaded </mat-list-item>\n              </mat-list>\n            </div>\n          </div>\n        </div>\n        <hr>\n        <div class=\"row\">\n          <div class=\"col-lg-12 col-12\">\n            <b>Notes: </b>\n            <br>\n            {{driver.additionalInfo}}\n          </div>\n        </div>\n        <div class=\"row ptb-10\">\n          <div class=\"col-lg-12\">\n            <mat-checkbox disabled [(ngModel)]=\"driver.isContractor\">Is Contractor?</mat-checkbox><br>          \n            <mat-checkbox disabled [(ngModel)]=\"driver.active\">Active</mat-checkbox><br>          \n          </div>\n        </div>\n        <!-- <div class=\"row ptb-10\">\n          <div class=\"col-lg-12\">\n            <a (click)=\"edit()\"><mat-icon>edit</mat-icon>Edit</a> -->\n            <!-- <a (click)=\"delete()\"><mat-icon>delete</mat-icon>Delete</a> -->\n          <!-- </div>                          \n        </div> -->\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <button mat-raised-button color=\"primary\" (click)=\"edit()\">Edit</button>\n    <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/pages/masters/driverprofile/driverprofile.component.scss":
/***/ (function(module, exports) {

module.exports = ".center {\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  width: auto; }\n"

/***/ }),

/***/ "./src/app/pages/masters/driverprofile/driverprofile.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DriverprofileComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__modals_confirm_confirm_component__ = __webpack_require__("./src/app/pages/modals/confirm/confirm.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__new_driver_new_driver_component__ = __webpack_require__("./src/app/pages/masters/new-driver/new-driver.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__new_driver_driver_service__ = __webpack_require__("./src/app/pages/masters/new-driver/driver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_ngx_lightbox__ = __webpack_require__("./node_modules/ngx-lightbox/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_ngx_lightbox___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_ngx_lightbox__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};









var DriverprofileComponent = (function () {
    function DriverprofileComponent(auth, _sanitizer, uploadService, snackBar, dialog, data, driverService, _lightbox) {
        this.auth = auth;
        this._sanitizer = _sanitizer;
        this.uploadService = uploadService;
        this.snackBar = snackBar;
        this.dialog = dialog;
        this.data = data;
        this.driverService = driverService;
        this._lightbox = _lightbox;
        this.driver = {
            name: '',
            mobileNumber: '',
            alternateNumber: '',
            panCardNumber: '',
            aadharCardNumber: '',
            birthDate: null,
            joiningDate: null,
            salaryPerMonth: '',
            branches: '',
            email: '',
            branchId: null,
            addressType: '',
            permanentAddress: '',
            currentAddress: '',
            dailyAllowance: '',
            overTimeAllowance: '',
            overTimePerHour: '',
            outstationAllowancePerDay: '',
            outstationOvernightAllowance: '',
            extraDutyAllowance: '',
            //extra duty
            secondDuty: '',
            thirdDuty: '',
            fourthDuty: '',
            fifthDuty: '',
            //license
            licenseNumber: '',
            licenseValidUpto: null,
            workingHoursStart: '',
            workingHoursEnd: '',
            fileName: '',
            licenseFileName: '',
            aadharFileName: '',
            panFileName: '',
            isContractor: false,
            active: true,
            ownerId: '',
            userId: null,
            dailyWages: '',
            sundayAllowance: '',
            earlyStartAllowance: '',
            nightAllowancePerDay: '',
            additionalInfo: '',
        };
        this.loader = false;
        this.editState = false;
        this.currUser = {};
        this.imgUrl = '';
        this.previousImgUrl = '';
        this.user = {};
        this.isOwner = false;
        this.isError = false;
        this.error = '';
        this.isProfileImage = true;
        this._albums = [];
        this._licenseAlbums = [];
        this._aadharAlbums = [];
        this._panAlbums = [];
        this.imgLicenseUrl = '';
        this.imgAadharUrl = '';
        this.imgPanUrl = '';
        this.previousImgLicenseUrl = '';
        this.previousImgAadharUrl = '';
        this.previousImgPanUrl = '';
    }
    DriverprofileComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            if (_this.data.row != null) {
                _this.driver = _this.data.row;
            }
            if (_this.driver.fileName != '' && _this.driver.fileName != null) {
                _this.uploadService.getFile(_this.user.companyName, 'driverList', _this.driver.fileName).subscribe(function (data) {
                    _this.imgUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                        + data.text());
                    _this.previousImgUrl = _this.imgUrl;
                    var album = {
                        src: _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' + data.text())
                    };
                    _this._albums.push(album);
                });
            }
            else {
                _this.imgUrl = "../../../../assets/icons/iconfinder_user_925901.svg";
                var album = {
                    src: '../../../../assets/icons/iconfinder_user_925901.svg'
                };
                _this._albums.push(album);
            }
            if (_this.driver.licenseFileName != '' && _this.driver.licenseFileName != null) {
                _this.uploadService.getFile(_this.user.companyName, 'driverList', _this.driver.licenseFileName).subscribe(function (data) {
                    if (data.text().includes("PDF")) {
                        _this.imgLicenseUrl = null;
                    }
                    else {
                        _this.imgLicenseUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                            + data.text());
                        _this.previousImgLicenseUrl = _this.imgLicenseUrl;
                    }
                    _this.uploadService.getPresignedUrl(_this.user.companyName, _this.driver.licenseFileName, 'driverList').subscribe(function (data) {
                        _this.imgLicense = data._body;
                    });
                    var album = {
                        src: _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' + data.text())
                    };
                    _this._licenseAlbums.push(album);
                });
            }
            if (_this.driver.aadharFileName != '' && _this.driver.aadharFileName != null) {
                _this.uploadService.getFile(_this.user.companyName, 'driverList', _this.driver.aadharFileName).subscribe(function (data) {
                    if (data.text().includes("PDF")) {
                        _this.imgAadharUrl = null;
                    }
                    else {
                        _this.imgAadharUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                            + data.text());
                        _this.previousImgAadharUrl = _this.imgAadharUrl;
                    }
                    _this.uploadService.getPresignedUrl(_this.user.companyName, _this.driver.aadharFileName, 'driverList').subscribe(function (data) {
                        _this.imgAadhar = data._body;
                    });
                    var album = {
                        src: _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' + data.text())
                    };
                    _this._aadharAlbums.push(album);
                });
            }
            if (_this.driver.panFileName != '' && _this.driver.panFileName != null) {
                _this.uploadService.getFile(_this.user.companyName, 'driverList', _this.driver.panFileName).subscribe(function (data) {
                    if (data.text().includes("PDF")) {
                        _this.imgPanUrl = null;
                    }
                    else {
                        _this.imgPanUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                            + data.text());
                        _this.previousImgPanUrl = _this.imgPanUrl;
                    }
                    _this.uploadService.getPresignedUrl(_this.user.companyName, _this.driver.panFileName, 'driverList').subscribe(function (data) {
                        _this.imgPan = data._body;
                    });
                    var album = {
                        src: _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' + data.text())
                    };
                    _this._panAlbums.push(album);
                });
            }
        });
    };
    DriverprofileComponent.prototype.selectFile = function (event) {
        var _this = this;
        this.isProfileImage = true;
        var file = event.target.files[0];
        var reader = new FileReader();
        reader.onload = function (e) { return _this.imgUrl = reader.result; };
        reader.readAsDataURL(file);
    };
    DriverprofileComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    DriverprofileComponent.prototype.edit = function () {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_6__new_driver_new_driver_component__["a" /* NewDriverComponent */], { autoFocus: false, disableClose: true, data: {
                row: this.data.row
            } });
    };
    DriverprofileComponent.prototype.delete = function () {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_5__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.driverService.deleteDriver(_this.data.row).subscribe(function (data) {
                    if (data.errno == undefined) {
                        _this.ws.send(_this.user.ownerId + "driver-disp");
                        _this.snackBar.open("Driver Deleted", "X", { duration: 3000 });
                    }
                    else {
                        if (data.errno == 1451) {
                            window.alert("Cannot delete because you have corresponding Data");
                        }
                        else {
                            window.alert("Error Cannot Delete Booking");
                        }
                    }
                });
            }
        });
    };
    DriverprofileComponent.prototype.upload = function () {
        if (this.isProfileImage == true) {
            this.driver.fileName = this.driver.id + this.driver.name + "_profilePhoto.jpg";
            this.uploadService.uploadfile(this.user.companyName, 'driverList', this.driver.fileName, this.imgUrl);
        }
    };
    // save()
    // {
    //   if(this.isOwner==false)
    //   {
    //     if(this.isProfileImage==true)
    //     {
    //       var temp={
    //         mobilenumber:this.currUser.mobilenumber,
    //         currentAddress: this.currUser.currentAddress,
    //         bloodGroup:this.currUser.bloodGroup,
    //         userId:this.user.id,
    //         fileName: this.user.id+"_"+this.user.name+"_profilePhoto.jpg"
    //       }
    //     }
    //     else
    //     {
    //       var temp={
    //         mobilenumber:this.currUser.mobilenumber,
    //         currentAddress: this.currUser.currentAddress,
    //         bloodGroup:this.currUser.bloodGroup,
    //         userId:this.user.id,
    //         fileName: ''
    //       }
    //     }
    //     this.auth.EditMyProfile(temp).subscribe(data=>{
    //       this.snackBar.open("Profile has been updated","X",{duration:3000})
    //       if(this.previousImgUrl != this.imgUrl)
    //       {
    //         this.upload()
    //       }
    //     })
    //   }
    //   else
    //   {
    //     console.log("asd");
    //     if(this.isProfileImage==true)
    //     {
    //       var tempOwner={
    //         fileName: this.user.id+"_"+this.user.name+"_profilePhoto.jpg",
    //         phone:this.currUser.phone,
    //         userId:this.user.id
    //       }
    //     }
    //     else
    //     {
    //       var tempOwner={
    //         fileName: '',
    //         phone:this.currUser.phone,
    //         userId:this.user.id
    //       }
    //     }
    //     this.auth.EditMyProfileOwner(tempOwner).subscribe(data=>{
    //       this.snackBar.open("Profile has been updated","X",{duration:3000})
    //       if(this.previousImgUrl != this.imgUrl)
    //       {
    //         this.upload()
    //       }
    //     })
    //   }
    // }
    // changePassword()
    // {
    //   this.loader = true;
    //   this.auth.verifyPassword(this.oldPassword).then(()=>{
    //     if(this.newPassword!=this.confirmPassword)
    //     {
    //       this.loader=false;
    //       this.isError=true
    //       this.error = 'Passwords do not match'
    //     }
    //     else
    //     {
    //       this.dialog.open(ConfirmComponent,{disableClose:true,autoFocus:false}).afterClosed().subscribe(data=>{
    //         if(data=='no'){}
    //         if(data=='yes'){
    //           var temp={
    //             email:this.user.email,
    //             password:this.newPassword,
    //             type:'employee',
    //             userId:this.user.id
    //           }
    //           this.auth.changePasswordFromApp(temp).subscribe(data=>{
    //             this.loader=false;
    //             this.isError=false;
    //             this.snackBar.open("Password updated");
    //           })
    //         }
    //       })
    //     }
    //   }).catch(()=>{
    //     this.loader=false;
    //     this.isError=true
    //     this.error = 'Old password is incorrect'
    //   })
    // }
    DriverprofileComponent.prototype.removeImage = function () {
        this.imgUrl = "../../../../assets/icons/iconfinder_user_925901.svg";
        this.isProfileImage = false;
    };
    DriverprofileComponent.prototype.open = function (albums) {
        this._lightbox.open(albums);
    };
    DriverprofileComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'driverprofile',
            template: __webpack_require__("./src/app/pages/masters/driverprofile/driverprofile.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/driverprofile/driverprofile.component.scss")]
        }),
        __param(5, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_4__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__["DomSanitizer"],
            __WEBPACK_IMPORTED_MODULE_3__fileupload_service__["a" /* FileuploadService */],
            __WEBPACK_IMPORTED_MODULE_4__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_4__angular_material__["n" /* MatDialog */], Object, __WEBPACK_IMPORTED_MODULE_7__new_driver_driver_service__["a" /* DriverService */],
            __WEBPACK_IMPORTED_MODULE_8_ngx_lightbox__["Lightbox"]])
    ], DriverprofileComponent);
    return DriverprofileComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/dutiesdisp/dutiesdisp.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        Customer\n      </nb-card-header>\n      <nb-card-body>\n        <mat-table #table [dataSource]=\"dataSource\" matSort>\n                    \n          <ng-container matColumnDef=\"Date\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Date </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.startDate | date: 'dd-MM-yyyy'}} </mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"Booked by\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Booked by </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.bookBy}} </mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"Passenger\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Passenger</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.passenger}} </mat-cell>    \n          </ng-container>\n\n          <ng-container matColumnDef=\"Price\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Price </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.totalPrice}} </mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"Selector\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Selector</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"><mat-checkbox (change)=\"chooseDuty(element,$event)\" [checked]=\"isSelected(element.id)\"></mat-checkbox>\n            </mat-cell>   \n          </ng-container>\n            \n          <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n          <mat-row *matRowDef=\"let row; columns: displayedColumns;\"></mat-row>\n        </mat-table>\n\n        <div align=\"center\" style=\"padding-top:10px\">\n          <button mat-raised-button color=\"primary\" (click)=\"selectBooking()\">Close</button>\n          <!-- <button mat-fab color=\"warn\"(click)=\"selectRow(null)\">Add</button>-->\n          <br><br>\n          <!--  <input type=\"button\" action=\"#\"(click)=\"selectRow(null)\" value=\"+\" class=\"btn btn-success btn-semi-round btn-demo\"> -->\n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/pages/masters/dutiesdisp/dutiesdisp.component.scss":
/***/ (function(module, exports) {

module.exports = "button.mat-menu-item {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px; }\n\n.mat-chip {\n  height: 30px;\n  line-height: 30px; }\n\n.mat-icon {\n  font-size: 17px; }\n"

/***/ }),

/***/ "./src/app/pages/masters/dutiesdisp/dutiesdisp.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DutiesdispComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__circles_circle_service__ = __webpack_require__("./src/app/pages/circles/circle.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};




var DutiesdispComponent = (function () {
    function DutiesdispComponent(dialog, data, dutiesService, auth) {
        this.dialog = dialog;
        this.data = data;
        this.dutiesService = dutiesService;
        this.auth = auth;
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_3__angular_material__["O" /* MatTableDataSource */]();
        this.displayedColumns = ['Booked by', 'Passenger', 'Date', 'Price', 'Selector'];
        this.user = {};
        this.selectedDuties = [];
        this.checkedDuties = [];
        this.selectedSupplier = [];
        console.log(data);
        this.selectedSupplier = data.temp.supplierName;
        this.checkedDuties = data.temp.duties;
        this.selectedDuties = this.checkedDuties;
    }
    DutiesdispComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            var temp = {
                user: _this.user,
                clientId: _this.data.temp.clientId
            };
            console.log(temp);
            _this.dutiesService.getCompletedReceivedDuty(temp).subscribe(function (data) {
                console.log(data);
                _this.dataSource = data;
            });
        });
    };
    DutiesdispComponent.prototype.chooseDuty = function (duty, event) {
        var index = this.selectedDuties.indexOf(duty);
        if (event.checked) {
            this.selectedDuties.push(duty);
        }
        else {
            this.selectedDuties.splice(index, 1);
        }
        //   //this.invoice.DutselectedDuties.push(booking);
    };
    DutiesdispComponent.prototype.isSelected = function (id) {
        return this.checkedDuties.find(function (val) { return val.id === id; });
    };
    DutiesdispComponent.prototype.selectBooking = function () {
        this.dialog.close(this.selectedDuties);
    };
    DutiesdispComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-dutiesdisp',
            template: __webpack_require__("./src/app/pages/masters/dutiesdisp/dutiesdisp.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/dutiesdisp/dutiesdisp.component.scss")]
        }),
        __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_3__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__angular_material__["p" /* MatDialogRef */], Object, __WEBPACK_IMPORTED_MODULE_1__circles_circle_service__["a" /* CircleService */], __WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */]])
    ], DutiesdispComponent);
    return DutiesdispComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/dutytype/dutytype.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\" >\r\n    <div class=\"col-lg-12\">\r\n        <nb-card>\r\n            <nb-card-header>New Duty Type</nb-card-header>\r\n            <nb-card-body>\r\n                <p align=\"left\"><br>\r\n                <!--Type<sup>*</sup>:<br>-->\r\n                <mat-form-field>\r\n                    <mat-select [(ngModel)]=\"dutyType.dType\" (ngModelChange)=\"onDutyTypeChange($event)\" #dType placeholder=\"Select Duty Type\">\r\n                        <mat-option value=\"Day-KM(Outstation)\">Day-KM(Outstation)</mat-option>\r\n                        <mat-option value=\"Flat Rate\">Flat Rate</mat-option>\r\n                        <mat-option value=\"Long Duration-Total KM Daily HR(Monthly Bookings)\">Long Duration-Total KM Daily HR(Monthly Bookings)</mat-option>\r\n                        <mat-option value=\"HR-KM(Local)\">HR-KM(Local)</mat-option>\r\n                        <mat-option value=\"Long Duration-Total KM and HR(Monthly Bookings)\">Long Duration-Total KM and HR(Monthly Bookings)</mat-option>\r\n                        <mat-option value=\"Self Drive\">Self Drive</mat-option>\r\n                    </mat-select></mat-form-field><br><br>\r\n                    Duty type Name<sup>*</sup>:<br><br>\r\n                    <mat-form-field><input matInput style=\"width:250px\" [readonly]=\"dutyType.dType=='Self Drive'\" [(ngModel)]=\"dutyType.name\"></mat-form-field><br>\r\n                </p>\r\n                     \r\n                <ng-container *ngIf=\"dutyType.dType=='Day-KM(Outstation)'\">\r\n                    <div>\r\n                        <p align=\"left\">\r\n                            Max Kilometers per day<br>\r\n                            <mat-form-field><input matInput style=\"width:400px\"  [(ngModel)]=\"dutyType.maxKms\"></mat-form-field><br>\r\n                        </p>\r\n                    </div>\r\n                </ng-container>\r\n                    \r\n                <ng-container *ngIf=\"dutyType.dType=='HR-KM(Local)'\">\r\n                    <p align=\"left\">\r\n                        Max Hours<br>\r\n                        <mat-form-field><input matInput style=\"width:400px\" [(ngModel)]=\"dutyType.maxHrs\"></mat-form-field><br>\r\n                        Max Kilometers<br>\r\n                        <mat-form-field><input matInput style=\"width:400px\" [(ngModel)]=\"dutyType.maxKms\"></mat-form-field><br><br>\r\n                    </p>\r\n                </ng-container>\r\n                    \r\n                    \r\n                <ng-container *ngIf=\"dutyType.dType=='Long Duration-Total KM Daily HR(Monthly Bookings)'\">\r\n                    <p align=\"left\">    \r\n                        Max Hours per day<br>\r\n                        <mat-form-field><input matInput style=\"width:400px\" [(ngModel)]=\"dutyType.maxHrs\"></mat-form-field><br>\r\n                        Total Kilometers<br>\r\n                        <mat-form-field><input matInput style=\"width:400px\" [(ngModel)]=\"dutyType.totalKms\"></mat-form-field> <br>\r\n                        Maximum days<br>\r\n                        <mat-form-field><input matInput style=\"width:400px\" [(ngModel)]=\"dutyType.maxDays\"></mat-form-field><br><br>\r\n                    </p>\r\n                </ng-container>\r\n                    \r\n                <ng-container *ngIf=\"dutyType.dType=='Long Duration-Total KM and HR(Monthly Bookings)'\">\r\n                    <p align=\"left\">    \r\n                        Total hours<br>\r\n                        <mat-form-field><input matInput style=\"width:400px\" [(ngModel)]=\"dutyType.totalHrs\"></mat-form-field><br>\r\n                        Total Kilometers<br>\r\n                        <mat-form-field><input matInput style=\"width:400px\" [(ngModel)]=\"dutyType.totalKms\"></mat-form-field><br>\r\n                        Maximum days<br>    \r\n                        <mat-form-field><input matInput style=\"width:400px\"  [(ngModel)]=\"dutyType.maxDays\"></mat-form-field><br><br>\r\n                    </p>\r\n                </ng-container>\r\n\r\n                <ng-container *ngIf=\"dutyType.dType=='Self Drive'\">\r\n                    <p align=\"left\">\r\n                        Max Hours<br>\r\n                        <mat-form-field><input matInput style=\"width:400px\" [(ngModel)]=\"dutyType.maxHrs\"></mat-form-field><br>                        \r\n                    </p>\r\n                </ng-container>\r\n\r\n                <div align=\"left\">                         \r\n                    <mat-checkbox name=\"p2p\" (change)=\"checkP2P($event)\" [(ngModel)]=\"dutyType.p2p\" value=\"P2P\"> is Point to Point(Reporting to drop address)?-For use with YourFleetMan driver mobile app only.</mat-checkbox><br>\r\n                    <mat-checkbox name=\"c2\" (change)=\"checkG2G($event)\" [(ngModel)]=\"dutyType.g2g\" value=\"G2G\"> is Garage to Garage(Garage to garage)?-For use with YourFleetMan driver mobile app only.</mat-checkbox>\r\n                </div>\r\n                <div *ngIf=\"isG2GChecked===true\" align=\"left\">\r\n                    <mat-checkbox name=\"p2p\" [(ngModel)]=\"dutyType.dontCalculateGarageStartKmTime\" value=\"P2P\"> Dont calculate garage start Km and Time</mat-checkbox><br>\r\n                    <mat-checkbox name=\"c2\" [(ngModel)]=\"dutyType.dontCalculateGarageEndKmTime\" value=\"G2G\"> Dont calculate garage end Km and Time</mat-checkbox>\r\n                </div>\r\n            </nb-card-body>\r\n        </nb-card>\r\n        <div class=\"row ptb-10\">\r\n            <div class=\"col-lg-12\">\r\n                <button *ngIf=\"!editState\" (click)=\"saveDuty()\" mat-raised-button color=\"primary\">Save</button>                         \r\n                <button *ngIf=\"editState\" (click)=\"updateDuty()\" mat-raised-button color=\"primary\">Update</button>\r\n                <button (click)=\"closeDialog()\" mat-raised-button color=\"warn\">Close</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/dutytype/dutytype.component.scss":
/***/ (function(module, exports) {

module.exports = ".full-width {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  min-width: 100px; }\n\nnb-checkbox {\n  margin-bottom: 1rem; }\n\n.form-inline > * {\n  margin: 0 1.5rem 1.5rem 0; }\n\nnb-card.inline-form-card nb-card-body {\n  padding-bottom: 0; }\n"

/***/ }),

/***/ "./src/app/pages/masters/dutytype/dutytype.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DutyTypeComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__duty_type_service__ = __webpack_require__("./src/app/pages/masters/dutytype/duty-type.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};




var DutyTypeComponent = (function () {
    function DutyTypeComponent(matDialogRef, data, dutyTypeService, dialog, auth, snackBar) {
        this.matDialogRef = matDialogRef;
        this.data = data;
        this.dutyTypeService = dutyTypeService;
        this.dialog = dialog;
        this.auth = auth;
        this.snackBar = snackBar;
        this.myValue = null;
        this.isG2GChecked = false;
        this.param = {
            inserted: 'no',
            data: null
        };
        this.dutyType = {
            dType: '',
            name: '',
            maxKms: '',
            maxHrs: '',
            totalKms: '',
            totalHrs: '',
            maxDays: '',
            ownerId: '',
            p2p: false,
            g2g: false,
            dontCalculateGarageStartKmTime: false,
            dontCalculateGarageEndKmTime: false
        };
        if (data.row != null) {
            this.editState = true;
            this.dutyType = data.row;
        }
        else {
            this.editState = false;
        }
    }
    DutyTypeComponent.prototype.unloadHandler = function (event) {
        console.log("Processing beforeunload...");
        event.returnValue = false;
    };
    DutyTypeComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.dutyType.ownerId = data[0].ownerId;
        });
    };
    DutyTypeComponent.prototype.onDutyTypeChange = function (event) {
        console.log(this.dutyType.name);
        if (this.dutyType.dType === 'Self Drive') {
            this.dutyType.name = 'Self Drive';
        }
        else {
            this.dutyType.name = '';
        }
    };
    DutyTypeComponent.prototype.saveDuty = function () {
        var _this = this;
        if (this.dutyType.name === '') {
            this.snackBar.open("Please enter a Duty Type name", "X", { verticalPosition: 'top', horizontalPosition: 'right' });
        }
        else if (this.dutyType.dType === 'Day-KM(Outstation)' && this.dutyType.maxHrs === '') {
            this.snackBar.open("Please enter Max Hours");
        }
        else if (this.dutyType.dType === 'Long Duration-Total KM Daily HR(Monthly Bookings)' && this.dutyType.maxHrs === '' &&
            this.dutyType.totalKms === '' && this.dutyType.maxDays === '') {
            this.snackBar.open("Please fill all the required field", "X", { verticalPosition: 'top', horizontalPosition: 'right' });
        }
        else if (this.dutyType.dType === 'HR-KM(Local)' && this.dutyType.maxHrs === '' && this.dutyType.totalKms === '') {
            this.snackBar.open("Please fill all the required field", "X", { verticalPosition: 'top', horizontalPosition: 'right' });
        }
        else if (this.dutyType.dType === 'Long Duration-Total KM and HR(Monthly Bookings)' && this.dutyType.maxHrs === '' &&
            this.dutyType.totalKms === '' && this.dutyType.maxDays === '') {
            this.snackBar.open("Please fill all the required field", "X", { verticalPosition: 'top', horizontalPosition: 'right' });
        }
        else {
            this.dutyTypeService.addDutyType(this.dutyType).subscribe(function (data) {
                if (data.affectedRows == 1) {
                    _this.param.inserted = 'yes';
                    _this.dutyType.id = data.insertId;
                    _this.param.data = _this.dutyType;
                    _this.matDialogRef.close(_this.param);
                }
            }, function (err) { }, function () {
                _this.snackBar.open("Duty Type Added", null, { duration: 3000 });
            });
        }
    };
    DutyTypeComponent.prototype.updateDuty = function () {
        var _this = this;
        if (this.dutyType.name === '') {
            this.snackBar.open("Please enter a Duty Type name", "X", { verticalPosition: 'top', horizontalPosition: 'right' });
        }
        else if (this.dutyType.dType === 'Day-KM(Outstation)' && this.dutyType.maxHrs === '') {
            this.snackBar.open("Please enter Max Hours");
        }
        else if (this.dutyType.dType === 'Long Duration-Total KM Daily HR(Monthly Bookings)' && this.dutyType.maxHrs === '' &&
            this.dutyType.totalKms === '' && this.dutyType.maxDays === '') {
            this.snackBar.open("Please fill all the required field", "X", { verticalPosition: 'top', horizontalPosition: 'right' });
        }
        else if (this.dutyType.dType === 'HR-KM(Local)' && this.dutyType.maxHrs === '' && this.dutyType.totalKms === '') {
            this.snackBar.open("Please fill all the required field", "X", { verticalPosition: 'top', horizontalPosition: 'right' });
        }
        else if (this.dutyType.dType === 'Long Duration-Total KM and HR(Monthly Bookings)' && this.dutyType.maxHrs === '' &&
            this.dutyType.totalKms === '' && this.dutyType.maxDays === '') {
            this.snackBar.open("Please fill all the required field", "X", { verticalPosition: 'top', horizontalPosition: 'right' });
        }
        else {
            this.dutyTypeService.updateDutyType(this.dutyType).subscribe(function (data) {
            }, function (err) { }, function () {
                _this.snackBar.open("Duty type updated", "X", { duration: 4000 });
                _this.matDialogRef.close();
            });
        }
    };
    DutyTypeComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    DutyTypeComponent.prototype.checkP2P = function (event) {
        if (event.checked === true) {
            this.dutyType.g2g = false;
            this.isG2GChecked = false;
        }
    };
    DutyTypeComponent.prototype.checkG2G = function (event) {
        if (event.checked === true) {
            this.isG2GChecked = true;
            this.dutyType.p2p = false;
        }
        if (event.checked === false) {
            this.isG2GChecked = false;
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])("window:beforeunload", ["$event"]),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Event]),
        __metadata("design:returntype", void 0)
    ], DutyTypeComponent.prototype, "unloadHandler", null);
    DutyTypeComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ngx-form-layouts',
            styles: [__webpack_require__("./src/app/pages/masters/dutytype/dutytype.component.scss")],
            template: __webpack_require__("./src/app/pages/masters/dutytype/dutytype.component.html"),
        }),
        __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_2__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_material__["p" /* MatDialogRef */], Object, __WEBPACK_IMPORTED_MODULE_1__duty_type_service__["a" /* DutyTypeService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_3__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["I" /* MatSnackBar */]])
    ], DutyTypeComponent);
    return DutyTypeComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/dutytypedisp/dutytypedisp.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\" >\n    <nb-card>\n      <nb-card-header>Duty Type</nb-card-header>\n      <nb-card-body>\n          <div align=\"center\">\n              <mat-form-field class=\"filter-field\">\n                <input matInput   placeholder=\"Filter\"   [(ngModel)]=\"searchTerm\" (keyup)=\"search($event.target.value)\">\n              </mat-form-field>\n      \n              <button mat-icon-button><mat-icon class=\"filter-icon\">search</mat-icon></button>\n              <button mat-icon-button (click)=\"clear()\"><mat-icon class=\"filter-icon\">highlight_off</mat-icon></button>\n          </div>\n    <mat-table #table [dataSource]=\"dataSource\" matSort>\n      \n\n      <!-- Symbol Column --> \n      <ng-container matColumnDef=\"name\">\n          <mat-header-cell *matHeaderCellDef mat-sort-header> Name </mat-header-cell>\n          <mat-cell *matCellDef=\"let element\"> {{element.name}} </mat-cell>\n        </ng-container>\n\n      <!-- Name Column -->\n      <ng-container matColumnDef=\"dType\">\n        <mat-header-cell *matHeaderCellDef mat-sort-header> Duty Type </mat-header-cell>\n        <mat-cell *matCellDef=\"let element\"> {{element.dType}} </mat-cell>\n      </ng-container>\n  \n  \n      <!-- Symbol Column --> \n      <ng-container matColumnDef=\"maxHrs\">\n        <mat-header-cell *matHeaderCellDef mat-sort-header> Max Hours</mat-header-cell>\n        <mat-cell *matCellDef=\"let element\"> {{element.maxHrs}} </mat-cell>\n      </ng-container>\n\n        <!-- Symbol Column --> \n      <ng-container matColumnDef=\"totalKms\">\n          <mat-header-cell *matHeaderCellDef mat-sort-header> Total Kms </mat-header-cell>\n          <mat-cell *matCellDef=\"let element\"> {{element.maxKms}} </mat-cell>\n        </ng-container>\n\n      <ng-container matColumnDef=\"Options\">\n        <mat-header-cell *matHeaderCellDef mat-sort-header> Options</mat-header-cell>\n        <mat-cell *matCellDef=\"let element ;let row\" (click)=\"$event.stopPropagation()\">\n          <button mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>\n          <mat-menu #menu=\"matMenu\">\n          <!-- <button mat-menu-item (click)=\"selectRow(row)\">Edit</button> -->\n          <button (click)=\"deleteDutyType(row)\" mat-menu-item>Delete</button>\n          </mat-menu>\n        </mat-cell>\n      </ng-container>\n  \n      <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n      <mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"selectRow(row)\"></mat-row>\n    </mat-table>\n    \n    <mat-paginator [length]=\"length\"\n    [pageSize]=\"pageSize\"\n    [pageSizeOptions]=\"pageSizeOptions\"></mat-paginator>\n    \n    </nb-card-body>\n</nb-card>\n  </div>\n  <div class=\"col-lg-12\" align=\"right\">\n    \n      <a *ngIf=\"permission.addDutyType\" (click)=\"selectRow(null)\" class=\"float\">\n          <i style=\"color: ghostwhite\" class=\"fa fa-plus my-float\"></i>\n      </a>\n    \n  </div>\n\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/dutytypedisp/dutytypedisp.component.scss":
/***/ (function(module, exports) {

module.exports = "button.mat-menu-item {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px; }\n\n.mat-chip {\n  height: 30px;\n  line-height: 30px; }\n\n.mat-icon {\n  font-size: 17px; }\n\n.float {\n  position: fixed;\n  width: 60px;\n  height: 60px;\n  bottom: 40px;\n  right: 40px;\n  background-color: #0C9;\n  color: #FFF;\n  border-radius: 50px;\n  text-align: center;\n  -webkit-box-shadow: 2px 2px 3px #999;\n          box-shadow: 2px 2px 3px #999; }\n\n.my-float {\n  margin-top: 22px; }\n\na:hover {\n  cursor: pointer; }\n"

/***/ }),

/***/ "./src/app/pages/masters/dutytypedisp/dutytypedisp.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DutytypedispComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__dutytype_duty_type_service__ = __webpack_require__("./src/app/pages/masters/dutytype/duty-type.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__dutytype_dutytype_component__ = __webpack_require__("./src/app/pages/masters/dutytype/dutytype.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__modals_confirm_confirm_component__ = __webpack_require__("./src/app/pages/modals/confirm/confirm.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var DutytypedispComponent = (function () {
    function DutytypedispComponent(dutytypeService, dialog, auth, snackBar) {
        this.dutytypeService = dutytypeService;
        this.dialog = dialog;
        this.auth = auth;
        this.snackBar = snackBar;
        this.pageSize = 10; // set default to 10
        this.pageSizeOptions = [10, 15, 25, 40];
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
        this.user = {};
        this.displayedColumns = ['name', 'dType', 'maxHrs', 'totalKms', 'Options'];
        this.permission = {};
    }
    DutytypedispComponent.prototype.selectRow = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_3__dutytype_dutytype_component__["a" /* DutyTypeComponent */], { autoFocus: false, disableClose: true, data: { row: row } }).afterClosed().subscribe(function (data) {
            if (data == undefined) {
            }
            else {
                if (data.inserted == 'yes') {
                    _this.tempArray.push(data.data);
                    _this.dataSource.data = _this.tempArray;
                }
            }
        });
    };
    DutytypedispComponent.prototype.ngOnInit = function () {
        var _this = this;
        var HOST = location.origin.replace(/^http/, 'ws');
        this.ws = new WebSocket(HOST);
        this.ws.onmessage = function (event) {
            var _this = this;
            if (event.data == this.user.ownerId + 'dutytype')
                this.dutytypeService.getDutyType(this.user).subscribe(function (data) {
                    _this.tempArray = data;
                    _this.dataSource.data = _this.tempArray;
                });
        }.bind(this);
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.auth.permissions.subscribe(function (data) {
                _this.permission = data[0];
                console.log(_this.permission);
                if (_this.permission.manageDutyType === 0) {
                    _this.displayedColumns.pop();
                }
            });
            _this.dutytypeService.getDutyType(_this.user).subscribe(function (data) {
                _this.tempArray = data;
                _this.dataSource.data = _this.tempArray;
            });
        });
        this.dataSource.sort = this.sort;
        this.dataSource.paginator = this.paginator;
    };
    DutytypedispComponent.prototype.ngOnDestroy = function () {
        this.ws.close();
    };
    DutytypedispComponent.prototype.search = function (filterValue) {
        this.dataSource.filter = filterValue.trim().toLowerCase();
    };
    DutytypedispComponent.prototype.clear = function () {
        this.searchTerm = '';
        this.dataSource.filter = "";
    };
    DutytypedispComponent.prototype.deleteDutyType = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_5__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.dutytypeService.deleteDutyType(row).subscribe(function (data) {
                    if (data.errno == undefined) {
                        var i = _this.tempArray.indexOf(row);
                        _this.tempArray.splice(i, 1);
                        _this.dataSource.data = _this.tempArray;
                        _this.snackBar.open("Duty Type Deleted", "X", { duration: 3000 });
                    }
                });
            }
            else {
                if (data.errno == 1451) {
                    window.alert("Cannot delete because you have corresponding data");
                }
                else {
                    window.alert("Error Cannot be Deleted");
                }
            }
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], DutytypedispComponent.prototype, "sort", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */])
    ], DutytypedispComponent.prototype, "paginator", void 0);
    DutytypedispComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-dutytypedisp',
            template: __webpack_require__("./src/app/pages/masters/dutytypedisp/dutytypedisp.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/dutytypedisp/dutytypedisp.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__dutytype_duty_type_service__["a" /* DutyTypeService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_4__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["I" /* MatSnackBar */]])
    ], DutytypedispComponent);
    return DutytypedispComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/editrecurringbookby/editrecurringbookby.component.html":
/***/ (function(module, exports) {

module.exports = "<div>\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        Booked By\n      </nb-card-header>\n      <nb-card-body>\n        <form>\n          <tr>\n            <mat-form-field>\n              <input matInput placeholder=\"Name\" [(ngModel)]=\"editRecurringBookBy.name\" name=\"name\"> \n            </mat-form-field>\n          </tr>\n          <tr>\n            <mat-form-field>\n              <input matInput placeholder=\"Email\" [(ngModel)]=\"editRecurringBookBy.emailId\" name=\"emailId\">\n            </mat-form-field>\n          </tr>\n          <tr>\n            <mat-form-field>\n              <input matInput placeholder=\"Phone No\" [(ngModel)]=\"editRecurringBookBy.phoneNo\" name=\"phoneNo\">\n            </mat-form-field>\n          </tr>\n          <tr>\n            <mat-form-field>\n              <input matInput placeholder=\"Address\" [(ngModel)]=\"editRecurringBookBy.address\" name=\"address\">\n            </mat-form-field>\n          </tr>\n        </form>\n      </nb-card-body>\n    </nb-card>\n    <div class=\"row ptb-10\">\n      <div class=\"col-lg-12\">\n        <button mat-raised-button *ngIf=\"editState==true\" (click)=\"edit()\" color=\"primary\">Save</button>\n        <button mat-raised-button *ngIf=\"editState==false\" (click)=\"submit()\" color=\"primary\">Submit</button>\n        <button mat-raised-button color=\"warn\"(click)=\"closeDialog()\">Close</button>\n      </div>\n    </div>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/editrecurringbookby/editrecurringbookby.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/editrecurringbookby/editrecurringbookby.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EditrecurringbookbyComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};




var EditrecurringbookbyComponent = (function () {
    function EditrecurringbookbyComponent(data, http, dialog, snackBar, auth, matdialog) {
        this.data = data;
        this.http = http;
        this.dialog = dialog;
        this.snackBar = snackBar;
        this.auth = auth;
        this.matdialog = matdialog;
        this.editState = false;
        this.editRecurringBookBy = {
            name: '',
            phoneNo: '',
            emailId: '',
            address: '',
            customerId: null,
            id: '',
            ownerId: ''
        };
        this.param = {
            inserted: 'no',
            data: null
        };
        if (data) {
            console.log(data);
            this.editState = true;
            this.editRecurringBookBy = data;
        }
    }
    EditrecurringbookbyComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.editRecurringBookBy.ownerId = data[0].ownerId;
        });
    };
    EditrecurringbookbyComponent.prototype.submit = function () {
        var _this = this;
        if (this.editRecurringBookBy.name === '') {
            this.snackBar.open("Enter a name", "X", { duration: 3000 });
        }
        else if (this.editRecurringBookBy.phoneNo === '') {
            this.snackBar.open("Enter a phone Number", "X", { duration: 3000 });
        }
        else if (this.editRecurringBookBy.emailId === '') {
            this.snackBar.open("Enter a email", "X", { duration: 3000 });
        }
        else if (this.editRecurringBookBy.address === '') {
            this.snackBar.open("Enter a address", "X", { duration: 3000 });
        }
        else {
            delete this.editRecurringBookBy.id;
            this.addBookBy(this.editRecurringBookBy).subscribe(function (data) {
                console.log(data);
                if (data.affectedRows == 1) {
                    _this.param.inserted = 'yes';
                    _this.editRecurringBookBy.id = data.insertId;
                    _this.param.data = _this.editRecurringBookBy;
                    _this.matdialog.close(_this.param);
                }
            });
        }
    };
    EditrecurringbookbyComponent.prototype.edit = function () {
        var _this = this;
        if (this.editRecurringBookBy.name === '') {
            this.snackBar.open("Enter a name", "X", { duration: 3000 });
        }
        else if (this.editRecurringBookBy.phoneNo === '') {
            this.snackBar.open("Enter a phone Number", "X", { duration: 3000 });
        }
        else if (this.editRecurringBookBy.emailId === '') {
            this.snackBar.open("Enter a email", "X", { duration: 3000 });
        }
        else if (this.editRecurringBookBy.address === '') {
            this.snackBar.open("Enter a address", "X", { duration: 3000 });
        }
        else {
            this.editBookBy(this.editRecurringBookBy).subscribe(function (data) {
                console.log(data);
                _this.snackBar.open("Booked By edited successfully", "", { duration: 3000 });
                _this.matdialog.close("edit");
            });
        }
    };
    EditrecurringbookbyComponent.prototype.addBookBy = function (temp) {
        console.log(temp);
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/addRecurringBookedBy', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    EditrecurringbookbyComponent.prototype.editBookBy = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/editRecurringBookedBy', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    EditrecurringbookbyComponent.prototype.deleteBookBy = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/deleteRecurringBookedBy', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    EditrecurringbookbyComponent.prototype.closeDialog = function () {
        this.matdialog.close();
    };
    EditrecurringbookbyComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'editrecurringbookby',
            template: __webpack_require__("./src/app/pages/masters/editrecurringbookby/editrecurringbookby.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/editrecurringbookby/editrecurringbookby.component.scss")]
        }),
        __param(0, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [Object, __WEBPACK_IMPORTED_MODULE_2__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_3__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["p" /* MatDialogRef */]])
    ], EditrecurringbookbyComponent);
    return EditrecurringbookbyComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/editrecurringpassenger/editrecurringpassenger.component.html":
/***/ (function(module, exports) {

module.exports = "<div>\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        Passenger\n      </nb-card-header>\n      <nb-card-body>\n        <form>\n          <tr>\n            <mat-form-field>\n              <input matInput placeholder=\"Name\" [(ngModel)]=\"editPassenger.name\" name=\"name\"> \n            </mat-form-field>\n          </tr>\n          <tr>\n            <mat-form-field>\n              <input matInput placeholder=\"Email\" [(ngModel)]=\"editPassenger.emailId\" name=\"emailId\">\n            </mat-form-field>\n          </tr>\n          <tr>\n            <mat-form-field>\n              <input matInput placeholder=\"Phone No\" [(ngModel)]=\"editPassenger.phoneNo\" name=\"phoneNo\">\n            </mat-form-field>\n          </tr>\n          <tr>\n            <mat-form-field>\n              <input matInput placeholder=\"Address\" [(ngModel)]=\"editPassenger.address\" name=\"address\">\n            </mat-form-field>\n          </tr>\n        </form>\n      </nb-card-body>\n    </nb-card>\n    <div class=\"row ptb-10\">\n      <div class=\"col-lg-12\">\n        <button mat-raised-button *ngIf=\"editState==false\" color=\"primary\" (click)=\"submit()\">Submit</button>\n        <button mat-raised-button *ngIf=\"editState==true\" color=\"primary\" (click)=\"edit()\">Save</button>\n        <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n      </div>\n    </div>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/editrecurringpassenger/editrecurringpassenger.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/editrecurringpassenger/editrecurringpassenger.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EditrecurringpassengerComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};




var EditrecurringpassengerComponent = (function () {
    function EditrecurringpassengerComponent(data, http, dialog, snackBar, auth) {
        this.data = data;
        this.http = http;
        this.dialog = dialog;
        this.snackBar = snackBar;
        this.auth = auth;
        this.editState = false;
        this.editPassenger = {
            name: '',
            phoneNo: '',
            emailId: '',
            address: '',
            ownerId: '',
            id: ''
        };
        this.param = {
            inserted: 'no',
            data: null
        };
        if (data) {
            console.log(data);
            this.editState = true;
            this.editPassenger = data;
        }
    }
    EditrecurringpassengerComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.editPassenger.ownerId = data[0].ownerId;
        });
    };
    EditrecurringpassengerComponent.prototype.submit = function () {
        var _this = this;
        if (this.editPassenger.name === '') {
            this.snackBar.open("Enter a name", "X", { duration: 3000 });
        }
        else if (this.editPassenger.phoneNo === '') {
            this.snackBar.open("Enter a phone Number", "X", { duration: 3000 });
        }
        else if (this.editPassenger.emailId === '') {
            this.snackBar.open("Enter a email", "X", { duration: 3000 });
        }
        else if (this.editPassenger.address === '') {
            this.snackBar.open("Enter a address", "X", { duration: 3000 });
        }
        else {
            delete this.editPassenger.id;
            this.addRecurringPassenger(this.editPassenger).subscribe(function (data) {
                _this.snackBar.open("Passenger Added", "X", { duration: 2000 });
                if (data.affectedRows == 1) {
                    _this.param.inserted = 'yes';
                    _this.editPassenger.id = data.insertId;
                    _this.param.data = _this.editPassenger;
                    _this.dialog.close(_this.param);
                }
            });
        }
    };
    EditrecurringpassengerComponent.prototype.edit = function () {
        var _this = this;
        if (this.editPassenger.name === '') {
            this.snackBar.open("Enter a name", "X", { duration: 3000 });
        }
        else if (this.editPassenger.phoneNo === '') {
            this.snackBar.open("Enter a phone Number", "X", { duration: 3000 });
        }
        else if (this.editPassenger.emailId === '') {
            this.snackBar.open("Enter a email", "X", { duration: 3000 });
        }
        else if (this.editPassenger.address === '') {
            this.snackBar.open("Enter a address", "X", { duration: 3000 });
        }
        else {
            this.editRecurringPassenger(this.editPassenger).subscribe(function (data) {
                _this.snackBar.open("Passenger Updated", "X", { duration: 2000 });
                _this.dialog.close('edit');
            });
        }
    };
    EditrecurringpassengerComponent.prototype.addRecurringPassenger = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/addRecurringPassenger', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    EditrecurringpassengerComponent.prototype.editRecurringPassenger = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/editRecurringPassenger', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    EditrecurringpassengerComponent.prototype.deleteRecurringPassenger = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/deleteRecurringPassenger', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    EditrecurringpassengerComponent.prototype.closeDialog = function () {
        this.dialog.close();
    };
    EditrecurringpassengerComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'editrecurringpassenger',
            template: __webpack_require__("./src/app/pages/masters/editrecurringpassenger/editrecurringpassenger.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/editrecurringpassenger/editrecurringpassenger.component.scss")]
        }),
        __param(0, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [Object, __WEBPACK_IMPORTED_MODULE_2__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["p" /* MatDialogRef */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_3__core_auth_service__["a" /* AuthService */]])
    ], EditrecurringpassengerComponent);
    return EditrecurringpassengerComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/employeedisp/employeedisp.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\" >\n    <nb-card>\n      <nb-card-header>Employees</nb-card-header>\n      <nb-card-body>\n        <div align=\"center\">\n          <mat-form-field class=\"filter-field\">\n            <input matInput   placeholder=\"Filter\"   [(ngModel)]=\"searchTerm\" (keyup)=\"search($event.target.value)\">\n          </mat-form-field>\n      \n          <button mat-icon-button><mat-icon class=\"filter-icon\">search</mat-icon></button>\n          <button mat-icon-button (click)=\"clear()\"><mat-icon class=\"filter-icon\">highlight_off</mat-icon></button>\n        </div>\n        <mat-table #table [dataSource]=\"dataSource\" matSort>\n\n          <!-- Name Column -->\n          <ng-container matColumnDef=\"name\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Name </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.name}} </mat-cell>\n          </ng-container>\n  \n          <!-- Weight Column -->\n          <ng-container matColumnDef=\"email\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> email </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.email}} </mat-cell>\n          </ng-container>\n  \n          <!-- Symbol Column --> \n          <ng-container matColumnDef=\"mobilenumber\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Mobile Number</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.mobilenumber}} </mat-cell>\n          </ng-container>\n\n          <!-- Symbol Column --> \n          <ng-container matColumnDef=\"designation\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Designation </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.designation}} </mat-cell>\n          </ng-container>\n\n          <!-- Symbol Column --> \n          <ng-container matColumnDef=\"employeeId\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Employee Id </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.employeeId}} </mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"Options\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Options</mat-header-cell>\n            <mat-cell *matCellDef=\"let element ;let row\" (click)=\"$event.stopPropagation()\">\n              <button mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>\n              <mat-menu #menu=\"matMenu\">\n              <button mat-menu-item *ngIf=\"permission.manageEmployees\" (click)=\"selectRow(row)\">Edit</button>\n              <!-- <button (click)=\"deleteEmployee(row)\" mat-menu-item>Delete</button> -->\n              <button *ngIf=\"permission.addUsers\" (click)=\"createUser(row)\" mat-menu-item>Create User</button>\n              <button *ngIf=\"permission.manageEmployees\" (click)=\"deactivateEmployee(row)\" mat-menu-item>Deactivate</button>\n              <button *ngIf=\"permission.manageEmployees\" (click)=\"activateEmployee(row)\" mat-menu-item>Activate</button>\n              </mat-menu>\n            </mat-cell>\n          </ng-container>\n  \n          <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n          <mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"openProfile(row)\"></mat-row>\n        </mat-table>\n        \n        <mat-paginator [length]=\"length\"\n          [pageSize]=\"pageSize\"\n          [pageSizeOptions]=\"pageSizeOptions\"\n        ></mat-paginator>      \n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"col-lg-12\" align=\"right\">    \n    <a *ngIf=\"permission.addEmployees\" (click)=\"selectRow(null)\" class=\"float\">\n      <i style=\"color: ghostwhite\" class=\"fa fa-plus my-float\"></i>\n    </a>    \n  </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/employeedisp/employeedisp.component.scss":
/***/ (function(module, exports) {

module.exports = "button.mat-menu-item {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px; }\n\n.mat-chip {\n  height: 30px;\n  line-height: 30px; }\n\n.mat-icon {\n  font-size: 17px; }\n"

/***/ }),

/***/ "./src/app/pages/masters/employeedisp/employeedisp.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EmployeedispComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__new_employees_employee_service__ = __webpack_require__("./src/app/pages/masters/new-employees/employee.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__new_employees_new_employees_component__ = __webpack_require__("./src/app/pages/masters/new-employees/new-employees.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__modals_confirm_confirm_component__ = __webpack_require__("./src/app/pages/modals/confirm/confirm.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__newuser_newuser_component__ = __webpack_require__("./src/app/pages/masters/newuser/newuser.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__employeeprofile_employeeprofile_component__ = __webpack_require__("./src/app/pages/masters/employeeprofile/employeeprofile.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var EmployeedispComponent = (function () {
    function EmployeedispComponent(employeeService, dialog, auth, snackBar) {
        this.employeeService = employeeService;
        this.dialog = dialog;
        this.auth = auth;
        this.snackBar = snackBar;
        this.pageSize = 10; // set default to 10
        this.pageSizeOptions = [10, 15, 25, 40];
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
        this.displayedColumns = ['name', 'email', 'mobilenumber', 'designation', 'employeeId', 'Options'];
        this.user = {};
        this.permission = {};
    }
    EmployeedispComponent.prototype.selectRow = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_3__new_employees_new_employees_component__["a" /* NewEmployeesComponent */], { autoFocus: false, disableClose: true, data: { row: row } }).afterClosed().subscribe(function (data) {
            if (data == undefined) {
            }
            else {
                if (data.inserted == 'yes') {
                    _this.tempArray.push(data.data);
                    _this.dataSource.data = _this.tempArray;
                }
            }
        });
    };
    EmployeedispComponent.prototype.ngOnInit = function () {
        var _this = this;
        var HOST = location.origin.replace(/^http/, 'ws');
        this.ws = new WebSocket(HOST);
        this.ws.onmessage = function (event) {
            var _this = this;
            if (event.data == this.user.ownerId + 'employeedisp')
                this.employeeService.getEmployee(this.user).subscribe(function (data) {
                    _this.tempArray = data;
                    _this.dataSource.data = _this.tempArray;
                });
        }.bind(this);
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.auth.permissions.subscribe(function (data) {
                _this.permission = data[0];
            });
            // if(this.permission.manageEmployees === 0) {
            //   this.displayedColumns.pop();
            // }
            _this.employeeService.getEmployee(_this.user).subscribe(function (data) {
                _this.tempArray = data;
                _this.dataSource.data = _this.tempArray;
            });
        });
        this.dataSource.sort = this.sort;
        this.dataSource.paginator = this.paginator;
    };
    EmployeedispComponent.prototype.ngOnDestroy = function () {
        this.ws.close();
    };
    EmployeedispComponent.prototype.search = function (filterValue) {
        this.dataSource.filter = filterValue.trim().toLowerCase();
    };
    EmployeedispComponent.prototype.clear = function () {
        this.searchTerm = '';
        this.dataSource.filter = '';
    };
    EmployeedispComponent.prototype.deleteEmployee = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_4__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.employeeService.deleteEmployee(row).subscribe(function (data) {
                    if (data.errno == undefined) {
                        var i = _this.tempArray.indexOf(row);
                        _this.tempArray.splice(i, 1);
                        _this.dataSource.data = _this.tempArray;
                        _this.snackBar.open("Employee Deleted", "X", { duration: 3000 });
                    }
                    else {
                        if (data.errno == 1451) {
                            window.alert("Cannot delete because you have corresponding Duties");
                        }
                        else {
                            window.alert("Error Cannot Delete Booking");
                        }
                    }
                });
            }
        });
    };
    EmployeedispComponent.prototype.deactivateEmployee = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_4__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.employeeService.deactivateEmployee(row).subscribe(function (data) {
                    if (data.errno == undefined) {
                        _this.ws.send(_this.user.ownerId + "employeedisp");
                        // var i=this.tempArray.indexOf(row);
                        // this.tempArray.splice(i,1);
                        // this.datasource.data=this.tempArray;
                        _this.snackBar.open("Employee Deactivated", "X", { duration: 3000 });
                    }
                });
            }
        });
    };
    EmployeedispComponent.prototype.activateEmployee = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_4__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.employeeService.deactivateEmployee(row).subscribe(function (data) {
                    if (data.errno == undefined) {
                        _this.ws.send(_this.user.ownerId + "employeedisp");
                        // var i=this.tempArray.indexOf(row);
                        // this.tempArray.splice(i,1);
                        // this.datasource.data=this.tempArray;
                        _this.snackBar.open("Employee Activated", "X", { duration: 3000 });
                    }
                });
            }
        });
    };
    EmployeedispComponent.prototype.createUser = function (row) {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_6__newuser_newuser_component__["a" /* NewuserComponent */], { data: {
                data: row,
                'employee': 'true'
            } });
    };
    EmployeedispComponent.prototype.openProfile = function (row) {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_7__employeeprofile_employeeprofile_component__["a" /* EmployeeprofileComponent */], { autoFocus: false, disableClose: true, data: { row: row } });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], EmployeedispComponent.prototype, "sort", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */])
    ], EmployeedispComponent.prototype, "paginator", void 0);
    EmployeedispComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-employeedisp',
            template: __webpack_require__("./src/app/pages/masters/employeedisp/employeedisp.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/employeedisp/employeedisp.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__new_employees_employee_service__["a" /* EmployeeService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_5__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["I" /* MatSnackBar */]])
    ], EmployeedispComponent);
    return EmployeedispComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/employeeprofile/employeeprofile.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>Employee Profile</nb-card-header>    \n      <nb-card-body>\n        <div class=\"row pb-10\">\n          <div class=\"col-lg-12 col-12\">\n            <img class=\"center\" [src]=\"imgUrl\" alt=\"\" height=\"150px\" (click)=\"open(_albums)\">\n          </div>\n        </div>\n        <div class=\"row ptb-10\">\n          <div class=\"col-lg-3 col-12\">\n            <b>Name: </b>\n            <br>\n            {{employee.name}}\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <b>Employee ID</b>\n            <br>\n            {{employee.employeeId}}\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <b>Designation</b>\n            <br>\n            {{employee.designation}}\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <b>E-Mail</b>\n            <br>\n            {{employee.email}}\n          </div>\n        </div>\n        <div class=\"row pb-10\">\n          <div class=\"col-lg-3 col-12\">\n            <b>Mobile Number</b>\n            <br>\n            {{employee.mobilenumber}}\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <b>Alternate Number</b>\n            <br>\n            {{employee.alternateNumber}}\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <b>Badge Number</b>\n            <br>\n            {{employee.badgeNumber}}            \n          </div>\n          <div class=\"col-lg-3 col-12\">            \n            <b>Badge ExpiryDate</b>\n            <br>\n            <p style=\"margin: auto\" *ngIf=\"employee.badgeExpiry != 'Invalid date' && employee.badgeExpiry != null\">{{employee.badgeExpiry | date: 'dd-MM-yyyy'}}</p>\n          </div>\n        </div>\n        <div class=\"row pb-10\">\n          <div class=\"col-lg-3 col-12\">            \n            <b>Date of Birth</b>\n            <br>\n            <p style=\"margin: auto\" *ngIf=\"employee.dateOfBirth != 'Invalid date' && employee.dateOfBirth != null\">{{employee.dateOfBirth | date: 'dd-MM-yyyy'}}</p>\n          </div>\n          <div class=\"col-lg-3 col-12\">            \n            <b>Marriage Date</b>\n            <br>\n            <p style=\"margin: auto\" *ngIf=\"employee.marriageDate != 'Invalid date' && employee.marriageDate != null\">{{employee.marriageDate | date: 'dd-MM-yyyy'}}</p>\n          </div>\n          <div class=\"col-lg-3 col-12\">            \n            <b>Joining Date</b>\n            <br>\n            <p style=\"margin: auto\" *ngIf=\"employee.joiningDate != 'Invalid date' && employee.joiningDate != null\">{{employee.joiningDate | date: 'dd-MM-yyyy'}}</p>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <b>Blood Group</b>\n            <br>\n            {{employee.bloodGroup}}              \n          </div>\n        </div>\n        <div class=\"row pb-10\">\n          <div class=\"col-lg-3 col-12\">\n            <b>Father's Name</b>\n            <br>\n            {{employee.fatherName}}              \n          </div>\n          <div class=\"col-lg-3 col-12\">            \n            <b>Father's Date of Birth</b>\n            <br>\n            <p style=\"margin: auto\" *ngIf=\"employee.fatherDateOfBirth != 'Invalid date' && employee.fatherDateOfBirth != null\">{{employee.fatherDateOfBirth | date: 'dd-MM-yyyy'}}</p>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <b>Mother's Name</b>\n            <br>\n            {{employee.motherName}}              \n          </div>\n          <div class=\"col-lg-3 col-12\">            \n            <b>Mother's Date of Birth</b>\n            <br>\n            <p style=\"margin: auto\" *ngIf=\"employee.mothersDateOfBirth != 'Invalid date' && employee.mothersDateOfBirth != null\">{{employee.mothersDateOfBirth | date: 'dd-MM-yyyy'}}</p>\n          </div>\n        </div>\n        <div class=\"row pb-10\">\n          <div class=\"col-lg-6 col-12\">            \n            <b>Permanant Address</b>\n            <br>\n            {{employee.currentAddress}}              \n          </div>\n          <div class=\"col-lg-6 col-12\">            \n            <b>Current Address</b>\n            <br>\n            {{employee.currentAddress}}              \n          </div>\n        </div>        \n        <div class=\"row pb-10\">\n          <div class=\"col-lg-3 col-12\">\n            <b>Pan Number</b>\n            <br>\n            {{employee.panNumber}}            \n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <b>Aadhar Number</b>\n            <br>\n            {{employee.aadharNumber}}\n          </div>        \n          <div class=\"col-lg-3 col-12\">\n            <b>DL Number</b>\n            <br>\n            {{employee.dlNumber}}              \n          </div>\n          <div class=\"col-lg-3 col-12\">            \n            <b>DL ExpiryDate</b>\n            <br>\n            <p style=\"margin: auto\" *ngIf=\"employee.dlExpiry != 'Invalid date' && employee.dlExpiry != null\">{{employee.dlExpiry | date: 'dd-MM-yyyy'}}</p>\n          </div>\n        </div>\n        <div class=\"row pb-10\">        \n          <div class=\"col-lg-3 col-12\">\n            <b>PF Number</b>\n            <br>\n            {{employee.pfAcNumber}}\n          </div>        \n          <div class=\"col-lg-3 col-12\">\n            <b>ESI</b>\n            <br>\n            {{employee.esi}}\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <b>UAN Number</b>\n            <br>\n            {{employee.uanNumber}}              \n          </div>\n        </div>\n        <hr>\n        <div class=\"row\">\n          <div class=\"col-lg-12\">\n            <h5>License</h5>\n            <div class=\"row\">\n              <div class=\"col-lg-3 col-12\">\n                <b>Issued By</b>\n                <br>\n                {{employee.licenseIssuedBy}}\n              </div>\n              <div class=\"col-lg-3 col-12\">\n                <b>City</b>\n                <br>\n                {{employee.licenseCity}}\n              </div>            \n              <div class=\"col-lg-3 col-12\">\n                <b>State</b>\n                <br>\n                {{employee.licenseState}}\n              </div>\n              <div class=\"col-lg-3 col-12\">            \n                <b>Date</b>\n                <br>\n                <p style=\"margin: auto\" *ngIf=\"employee.licenseDate != 'Invalid date' && employee.licenseDate != null\">{{employee.licenseDate | date: 'dd-MM-yyyy'}}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <hr>\n        <div class=\"row\">\n          <div class=\"col-lg-12\">\n            <h5>Police</h5>\n            <div class=\"row\">\n              <div class=\"col-lg-3 col-12\">\n                <b>Display Card Number</b>\n                <br>\n                {{employee.policeDisplayCardNumber}}\n              </div>\n              <div class=\"col-lg-3 col-12\">\n                <b>Display Card Expiry</b>\n                <br>\n                <p style=\"margin: auto\" *ngIf=\"employee.policeDisplayCardExpiry != 'Invalid date' && employee.policeDisplayCardExpiry != null\">{{employee.policeDisplayCardExpiry | date: 'dd-MM-yyyy'}}</p>\n              </div>            \n              <div class=\"col-lg-3 col-12\">\n                <b>Verification Number</b>\n                <br>\n                {{employee.policeVerificationNumber}}\n              </div>\n              <div class=\"col-lg-3 col-12\">\n                <b>Verification ExpiryDate</b>\n                <br>\n                <p style=\"margin: auto\" *ngIf=\"employee.policeVerificationExpiryDate != 'Invalid date' && employee.policeVerificationExpiryDate != null\">{{employee.policeVerificationExpiryDate | date: 'dd-MM-yyyy'}}</p>\n              </div>\n            </div>\n          </div>          \n        </div>\n        <hr>\n        <div class=\"row\">\n          <div class=\"col-lg-12\">\n            <h5>Bank</h5>          \n            <div class=\"row\">\n              <div class=\"col-lg-3 col-12\">\n                <b>Display Card Number</b>\n                <br>\n                {{employee.bankDisplayCardNumber}}\n              </div>\n              <div class=\"col-lg-3 col-12\">\n                <b>Account Number</b>\n                <br>\n                {{employee.bankAccountNumber}}              \n              </div>            \n              <div class=\"col-lg-3 col-12\">\n                <b>IFSC Code</b>\n                <br>\n                {{employee.bankIfscCode}}              \n              </div>\n              <div class=\"col-lg-3 col-12\">\n                <b>ESI Dispensary Code</b>\n                <br>\n                {{employee.esiDispensaryCode}}\n              </div>\n            </div>\n          </div>          \n        </div>\n        <hr>\n        <div class=\"row\">\n          <div class=\"col-lg-12\">\n            <div class=\"row\">            \n              <div class=\"col-lg-6 col-12\">\n                <b>Branch</b>\n                <br>\n                {{employee.branches}}\n              </div>\n            </div>\n          </div>          \n        </div>\n        <hr>\n        <div class=\"row\">\n          <div class=\"col-lg-12\">\n            <h5>Visible Customers</h5>\n            <div class=\"row\" *ngFor=\"let element of visibleCustomers\">\n              <div class=\"col-lg-12 col-12\">\n                <mat-list>\n                  <mat-list-item> {{element.cname}} </mat-list-item>\n                </mat-list>\n              </div>              \n            </div>\n            <div class=\"row\" *ngIf=\"visibleCustomers.length == 0\">\n              <mat-list>\n                <mat-list-item> All </mat-list-item>                  \n              </mat-list>\n            </div>\n          </div>\n        </div>\n        <hr>\n        <div class=\"row\">\n          <div class=\"col-lg-12\">\n            <h5>Documents</h5>\n            <div class=\"row\" *ngIf=\"aadharImgUrl != ''\">\n              <div class=\"col-lg-3 col-12\">\n                <mat-list>\n                  <mat-list-item> <a target=\"_blank\" href=\"{{imgAadhar}}\">Aadhar Card</a> </mat-list-item>\n                </mat-list>\n              </div>\n              <div class=\"col-lg-9 col-12\">\n                <img *ngIf=\"aadharImgUrl!=null\" [src]=\"aadharImgUrl\" alt=\"\" height=\"150px\" (click)=\"open(_aadharAlbums)\">\n                <mat-list *ngIf=\"aadharImgUrl == null\">\n                  <mat-list-item> No Image Uploaded </mat-list-item>\n                </mat-list>                \n              </div>\n            </div>\n            <div class=\"row\" *ngIf=\"panImgUrl != ''\">\n              <div class=\"col-lg-3 col-12\">\n                <mat-list>\n                  <mat-list-item> <a target=\"_blank\" href=\"{{imgPan}}\">PAN Card</a> </mat-list-item>\n                </mat-list>\n              </div>\n              <div class=\"col-lg-9 col-12\">\n                <img *ngIf=\"panImgUrl!=null\" [src]=\"panImgUrl\" alt=\"\" height=\"150px\" (click)=\"open(_panAlbums)\">\n                <mat-list *ngIf=\"panImgUrl == null\">\n                  <mat-list-item> No Image Uploaded </mat-list-item>\n                </mat-list>\n              </div>\n            </div>\n            <div class=\"row\" *ngIf=\"aadharImgUrl == '' && panImgUrl == ''\">\n              <mat-list>\n                <mat-list-item> No Images Uploaded </mat-list-item>\n              </mat-list>\n            </div>\n          </div>\n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12\">\n    <button mat-raised-button color=\"primary\" (click)=\"edit()\">Edit</button>\n    <button mat-raised-button color=\"warn\"(click)=\"closeDialog()\">Close</button>\n  </div> \n</div>\n"

/***/ }),

/***/ "./src/app/pages/masters/employeeprofile/employeeprofile.component.scss":
/***/ (function(module, exports) {

module.exports = ".center {\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  width: auto; }\n"

/***/ }),

/***/ "./src/app/pages/masters/employeeprofile/employeeprofile.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EmployeeprofileComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__new_employees_employee_service__ = __webpack_require__("./src/app/pages/masters/new-employees/employee.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__new_employees_new_employees_component__ = __webpack_require__("./src/app/pages/masters/new-employees/new-employees.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__modals_confirm_confirm_component__ = __webpack_require__("./src/app/pages/modals/confirm/confirm.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_ngx_lightbox__ = __webpack_require__("./node_modules/ngx-lightbox/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_ngx_lightbox___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_ngx_lightbox__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};









var EmployeeprofileComponent = (function () {
    function EmployeeprofileComponent(auth, _sanitizer, uploadService, snackBar, dialog, data, employeeService, _lightbox) {
        this.auth = auth;
        this._sanitizer = _sanitizer;
        this.uploadService = uploadService;
        this.snackBar = snackBar;
        this.dialog = dialog;
        this.data = data;
        this.employeeService = employeeService;
        this._lightbox = _lightbox;
        this.employee = {
            name: '',
            mobilenumber: '',
            alternateNumber: '',
            email: '',
            profilePhoto: '',
            employeeId: '',
            designation: '',
            dateOfBirth: '',
            fatherName: '',
            fatherDateOfBirth: '',
            motherName: '',
            mothersDateOfBirth: '',
            currentAddress: '',
            permanentAddress: '',
            marriageDate: '',
            joiningDate: '',
            bloodGroup: '',
            pfAcNumber: '',
            esi: '',
            uanNumber: '',
            panNumber: '',
            aadharNumber: '',
            dlNumber: '',
            dlExpiry: '',
            badgeNumber: '',
            badgeExpiry: '',
            licenseIssuedBy: '',
            licenseCity: '',
            licenseState: '',
            licenseDate: '',
            policeDisplayCardNumber: '',
            policeDisplayCardExpiry: '',
            policeVerificationNumber: '',
            policeVerificationExpiryDate: '',
            bankDisplayCardNumber: '',
            bankAccountNumber: '',
            bankIfscCode: '',
            esiDispensaryCode: '',
            branches: '',
            branchId: null,
            visibleCustomers: '',
            aadharPhoto: '',
            panCardPhoto: '',
            ownerId: '',
            userId: null
        };
        this.loader = false;
        this.editState = false;
        this.currUser = {};
        this.imgUrl = '';
        this.previousImgUrl = '';
        this.user = {};
        this.isOwner = false;
        this.isError = false;
        this.error = '';
        this.isProfileImage = true;
        this.visibleCustomers = [];
        this._albums = [];
        this._panAlbums = [];
        this._aadharAlbums = [];
        this.panImgUrl = '';
        this.previousPanImgUrl = '';
        this.aadharImgUrl = '';
        this.previousAadharImgUrl = '';
    }
    EmployeeprofileComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            if (_this.data.row != null) {
                console.log(_this.data.row);
                _this.employee = _this.data.row;
                _this.employeeService.getEmployeeLimitCustomer(_this.employee).subscribe(function (data) {
                    console.log(data);
                    _this.visibleCustomers = data;
                });
                if (_this.employee.profilePhoto != '' && _this.employee.profilePhoto != null) {
                    _this.uploadService.getFile(_this.user.companyName, 'employeeList', _this.employee.profilePhoto).subscribe(function (data) {
                        _this.imgUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                            + data.text());
                        _this.previousImgUrl = _this.imgUrl;
                        var album = {
                            src: _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' + data.text())
                        };
                        _this._albums.push(album);
                    });
                }
                else {
                    _this.imgUrl = "../../../../assets/icons/iconfinder_user_925901.svg";
                    var album = {
                        src: "../../../../assets/icons/iconfinder_user_925901.svg"
                    };
                    _this._albums.push(album);
                }
                if (_this.employee.aadharPhoto != '' && _this.employee.aadharPhoto != null) {
                    _this.uploadService.getFile(_this.user.companyName, 'employeeList', _this.employee.aadharPhoto).subscribe(function (data) {
                        if (data.text().includes("PDF")) {
                            _this.aadharImgUrl = null;
                        }
                        else {
                            _this.aadharImgUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                                + data.text());
                            _this.previousAadharImgUrl = _this.aadharImgUrl;
                        }
                        _this.uploadService.getPresignedUrl(_this.user.companyName, _this.employee.aadharPhoto, 'employeeList').subscribe(function (data) {
                            _this.imgAadhar = data._body;
                        });
                        var album = {
                            src: _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' + data.text())
                        };
                        _this._aadharAlbums.push(album);
                    });
                }
                if (_this.employee.panCardPhoto != '' && _this.employee.panCardPhoto != null) {
                    _this.uploadService.getFile(_this.user.companyName, 'employeeList', _this.employee.panCardPhoto).subscribe(function (data) {
                        if (data.text().includes("PDF")) {
                            _this.panImgUrl = null;
                        }
                        else {
                            _this.panImgUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                                + data.text());
                            _this.previousPanImgUrl = _this.panImgUrl;
                        }
                        _this.uploadService.getPresignedUrl(_this.user.companyName, _this.employee.panCardPhoto, 'employeeList').subscribe(function (data) {
                            _this.imgPan = data._body;
                        });
                        var album = {
                            src: _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' + data.text())
                        };
                        _this._panAlbums.push(album);
                    });
                }
            }
        });
    };
    EmployeeprofileComponent.prototype.selectFile = function (event) {
        var _this = this;
        this.isProfileImage = true;
        var file = event.target.files[0];
        var reader = new FileReader();
        reader.onload = function (e) { return _this.imgUrl = reader.result; };
        reader.readAsDataURL(file);
    };
    EmployeeprofileComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    EmployeeprofileComponent.prototype.edit = function () {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_6__new_employees_new_employees_component__["a" /* NewEmployeesComponent */], { autoFocus: false, disableClose: true, data: {
                row: this.data.row
            } });
    };
    EmployeeprofileComponent.prototype.delete = function () {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_7__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.employeeService.deleteEmployee(_this.employee).subscribe(function (data) {
                    if (data.errno == undefined) {
                        _this.ws.send(_this.user.ownerId + 'employeedisp');
                        _this.snackBar.open("Employee Deleted", "X", { duration: 3000 });
                    }
                    else {
                        if (data.errno == 1451) {
                            window.alert("Cannot delete because you have corresponding Duties");
                        }
                        else {
                            window.alert("Error Cannot Delete Booking");
                        }
                    }
                });
            }
        });
    };
    EmployeeprofileComponent.prototype.upload = function () {
        if (this.isProfileImage == true) {
            this.employee.profilePhoto = this.employee.id + this.employee.name + "_profilePhoto.jpg";
            this.uploadService.uploadfile(this.user.companyName, 'employeeList', this.employee.profilePhoto, this.imgUrl);
        }
    };
    EmployeeprofileComponent.prototype.removeImage = function () {
        this.imgUrl = "../../../../assets/icons/iconfinder_user_925901.svg";
        this.isProfileImage = false;
    };
    EmployeeprofileComponent.prototype.open = function (album) {
        this._lightbox.open(album);
    };
    EmployeeprofileComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'employeeprofile',
            template: __webpack_require__("./src/app/pages/masters/employeeprofile/employeeprofile.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/employeeprofile/employeeprofile.component.scss")]
        }),
        __param(5, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_4__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__["DomSanitizer"],
            __WEBPACK_IMPORTED_MODULE_3__fileupload_service__["a" /* FileuploadService */],
            __WEBPACK_IMPORTED_MODULE_4__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_4__angular_material__["n" /* MatDialog */], Object, __WEBPACK_IMPORTED_MODULE_5__new_employees_employee_service__["a" /* EmployeeService */],
            __WEBPACK_IMPORTED_MODULE_8_ngx_lightbox__["Lightbox"]])
    ], EmployeeprofileComponent);
    return EmployeeprofileComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/flightbookinginvoice/flightbookinginvoice.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n          Flights\n      </nb-card-header>\n      <nb-card-body>\n        <mat-table #table [dataSource]=\"dataSource\" matSort matSortActive=\"name\" matSortDirection=\"asc\" matSortDisableClear>\n\n          <ng-container matColumnDef=\"name\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Passenger Name</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.guestName}} </mat-cell>\n          </ng-container>\n                    \n          <ng-container matColumnDef=\"from\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>From</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.from}} </mat-cell>\n          </ng-container>\n        \n          <ng-container matColumnDef=\"to\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>To</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.to}} </mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"departureDate\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>Departure Date</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.departureDate}} </mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"arrivalDate\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>Arrival Date</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.arrivalDate}} </mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"price\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>Price</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.price}} </mat-cell>\n          </ng-container>\n        \n          <ng-container matColumnDef=\"Selector\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Selector</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"><mat-checkbox (change)=\"chooseBooking(element,$event)\" [checked]=\"isSelected(element.id)\"></mat-checkbox>\n            </mat-cell>   \n          </ng-container>\n        \n          <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n          <mat-row *matRowDef=\"let row; columns: displayedColumns;\"></mat-row>\n        \n        </mat-table>\n          \n        <mat-paginator [length]=\"length\" [pageSize]=\"pageSize\" [pageSizeOptions]=\"pageSizeOptions\"></mat-paginator>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12\">\n    <button mat-raised-button (click)=\"closeDialog()\" color=\"primary\">Close</button>    \n  </div>\n</div>\n\n\n"

/***/ }),

/***/ "./src/app/pages/masters/flightbookinginvoice/flightbookinginvoice.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/flightbookinginvoice/flightbookinginvoice.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FlightbookinginvoiceComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__hotels_displayhotels_hotel_service__ = __webpack_require__("./src/app/pages/hotels/displayhotels/hotel.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__airline_airlinedisp_airline_service__ = __webpack_require__("./src/app/pages/airline/airlinedisp/airline.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var FlightbookinginvoiceComponent = (function () {
    function FlightbookinginvoiceComponent(auth, hotelService, flightService, data, dialogRef, dialog) {
        this.auth = auth;
        this.hotelService = hotelService;
        this.flightService = flightService;
        this.data = data;
        this.dialogRef = dialogRef;
        this.dialog = dialog;
        this.pageSize = 10; // set default to 10
        this.pageSizeOptions = [10, 15, 25, 40];
        this.user = {};
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
        this.selectedBookings = [];
        this.checkedBookings = [];
        this.displayedColumns = ['name', 'from', 'to', 'departureDate', 'arrivalDate', 'price', 'Selector'];
        console.log(data);
        this.customerId = data.temp.customer;
        this.checkedBookings = data.temp.bookings;
        this.selectedBookings = this.checkedBookings;
    }
    FlightbookinginvoiceComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.flightService.getFlightsAccordingToCustomer(_this.customerId).subscribe(function (data) {
                console.log(data);
                _this.dataSource = data;
            });
        });
    };
    FlightbookinginvoiceComponent.prototype.chooseBooking = function (booking, event) {
        var index = this.selectedBookings.indexOf(booking);
        if (event.checked) {
            this.selectedBookings.push(booking);
        }
        else {
            this.selectedBookings.splice(index, 1);
        }
        console.log(this.selectedBookings);
    };
    FlightbookinginvoiceComponent.prototype.isSelected = function (id) {
        return this.checkedBookings.find(function (val) { return val.id === id; });
    };
    FlightbookinginvoiceComponent.prototype.closeDialog = function () {
        this.dialogRef.close(this.selectedBookings);
    };
    FlightbookinginvoiceComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'flightbookinginvoice',
            template: __webpack_require__("./src/app/pages/masters/flightbookinginvoice/flightbookinginvoice.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/flightbookinginvoice/flightbookinginvoice.component.scss")]
        }),
        __param(3, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__hotels_displayhotels_hotel_service__["a" /* HotelService */],
            __WEBPACK_IMPORTED_MODULE_4__airline_airlinedisp_airline_service__["a" /* AirlineService */], Object, __WEBPACK_IMPORTED_MODULE_1__angular_material__["p" /* MatDialogRef */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */]])
    ], FlightbookinginvoiceComponent);
    return FlightbookinginvoiceComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/hotelbookingsinvoice/hotelbookingsinvoice.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        Hotels\n      </nb-card-header>\n      <nb-card-body>\n        <mat-table #table [dataSource]=\"dataSource\" matSort matSortActive=\"name\" matSortDirection=\"asc\" matSortDisableClear>\n\n          <ng-container matColumnDef=\"name\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Guest Name</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.guestName}} </mat-cell>\n          </ng-container>\n                    \n          <ng-container matColumnDef=\"hotelName\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>Hotel</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.hotelName}} </mat-cell>\n          </ng-container>\n        \n          <ng-container matColumnDef=\"phoneNumber\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>Phone Number</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.guestMobile}} </mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"price\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>Price</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.intTotal}} </mat-cell>\n          </ng-container>\n        \n          <ng-container matColumnDef=\"Selector\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Selector</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"><mat-checkbox (change)=\"chooseBooking(element,$event)\" [checked]=\"isSelected(element.id)\"></mat-checkbox>\n            </mat-cell>   \n          </ng-container>\n        \n          <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n          <mat-row *matRowDef=\"let row; columns: displayedColumns;\"></mat-row>\n        \n        </mat-table>\n          \n        <mat-paginator [length]=\"length\" [pageSize]=\"pageSize\" [pageSizeOptions]=\"pageSizeOptions\"></mat-paginator>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12\">\n    <button mat-raised-button (click)=\"closeDialog()\" color=\"primary\">Close</button>    \n  </div>\n</div>\n\n\n"

/***/ }),

/***/ "./src/app/pages/masters/hotelbookingsinvoice/hotelbookingsinvoice.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/hotelbookingsinvoice/hotelbookingsinvoice.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HotelbookingsinvoiceComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__hotels_displayhotels_hotel_service__ = __webpack_require__("./src/app/pages/hotels/displayhotels/hotel.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};




var HotelbookingsinvoiceComponent = (function () {
    function HotelbookingsinvoiceComponent(auth, hotelService, data, dialogRef, dialog) {
        this.auth = auth;
        this.hotelService = hotelService;
        this.data = data;
        this.dialogRef = dialogRef;
        this.dialog = dialog;
        this.pageSize = 10; // set default to 10
        this.pageSizeOptions = [10, 15, 25, 40];
        this.user = {};
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
        this.selectedBookings = [];
        this.checkedBookings = [];
        this.displayedColumns = ['name', 'phoneNumber', 'price', 'hotelName', 'Selector'];
        console.log(data);
        this.customerId = data.temp.customer;
        this.checkedBookings = data.temp.bookings;
        this.selectedBookings = this.checkedBookings;
    }
    HotelbookingsinvoiceComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.hotelService.getBookings(_this.customerId).subscribe(function (data) {
                console.log(data);
                _this.dataSource = data;
            });
        });
    };
    HotelbookingsinvoiceComponent.prototype.chooseBooking = function (booking, event) {
        var index = this.selectedBookings.indexOf(booking);
        if (event.checked) {
            this.selectedBookings.push(booking);
        }
        else {
            this.selectedBookings.splice(index, 1);
        }
        console.log(this.selectedBookings);
    };
    HotelbookingsinvoiceComponent.prototype.isSelected = function (id) {
        return this.checkedBookings.find(function (val) { return val.id === id; });
    };
    HotelbookingsinvoiceComponent.prototype.closeDialog = function () {
        this.dialogRef.close(this.selectedBookings);
    };
    HotelbookingsinvoiceComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'hotelbookingsinvoice',
            template: __webpack_require__("./src/app/pages/masters/hotelbookingsinvoice/hotelbookingsinvoice.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/hotelbookingsinvoice/hotelbookingsinvoice.component.scss")]
        }),
        __param(2, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__hotels_displayhotels_hotel_service__["a" /* HotelService */], Object, __WEBPACK_IMPORTED_MODULE_1__angular_material__["p" /* MatDialogRef */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */]])
    ], HotelbookingsinvoiceComponent);
    return HotelbookingsinvoiceComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/importdriver/importdriver.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n    <div class=\"col-lg-12\">\n      <div style=\"margin-bottom:15px; color: brown;\">Please use the following format to import bookings: <a style=\"color:#14902b;\" (click)=\"getDownloadFormat()\">Driver Import Format</a> </div>\n      <input type=\"file\" accept=\".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\" style=\"display: inline-block;\" (change)=\"incomingfile($event)\" placeholder=\"Upload file\" accept=\".xlsx\">\n      <button mat-raised-button style=\"float:right\" [disabled]=\"disable\" (click)=\"Upload()\">Upload</button>\n      <div *ngIf=\"totalRows>0\" style=\"padding-top:5px;\">\n        <mat-progress-bar color=\"primary\" mode=\"determinate\" [value]=\"progressBarValue\"></mat-progress-bar>\n        <p style=\"float:right;\">{{rowsCompleted}}/{{totalRows}} Completed</p>\n      </div>\n      <div *ngIf=\"invalidData.length>0\" style=\"padding-top:5px;\">\n        Invalid Data in Rows:\n        <ul>\n          <li *ngFor=\"let rows of invalidData\">\n            {{rows}}\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  <div class=\"row ptb-10\">\n    <div class=\"col-lg-12\">\n      <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n    </div>\n  </div>\n  "

/***/ }),

/***/ "./src/app/pages/masters/importdriver/importdriver.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/importdriver/importdriver.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImportdriverComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_xlsx__ = __webpack_require__("./node_modules/xlsx/xlsx.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_xlsx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_xlsx__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__new_driver_driver_service__ = __webpack_require__("./src/app/pages/masters/new-driver/driver.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __asyncValues = (this && this.__asyncIterator) || function (o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator];
    return m ? m.call(o) : typeof __values === "function" ? __values(o) : o[Symbol.iterator]();
};







var ImportdriverComponent = (function () {
    function ImportdriverComponent(dialog, auth, http, driverService) {
        this.dialog = dialog;
        this.auth = auth;
        this.http = http;
        this.driverService = driverService;
        this.driver = {};
        this.user = {};
        this.disable = true;
        this.rowsCompleted = 0;
        this.totalRows = 0;
        this.temp = [];
        this.observables = [];
        this.invalidData = [];
        this.i = 0;
        this.progressBarValue = 0;
    }
    ImportdriverComponent.prototype.getDownloadFormat = function () {
        window.open("http://www.yourfleetman.com/importExcel/driverFormat", '_blank'); //change domain
    };
    ImportdriverComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    ImportdriverComponent.prototype.incomingfile = function (event) {
        this.file = event.target.files[0];
        this.disable = false;
    };
    ImportdriverComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
        });
        this.setDefault();
    };
    ImportdriverComponent.prototype.Upload = function () {
        var _this = this;
        var fileReader = new FileReader();
        fileReader.onload = function () {
            _this.arrayBuffer = fileReader.result;
            var data = new Uint8Array(_this.arrayBuffer);
            var arr = new Array();
            for (var i = 0; i != data.length; ++i)
                arr[i] = String.fromCharCode(data[i]);
            var bstr = arr.join("");
            var workbook = __WEBPACK_IMPORTED_MODULE_1_xlsx__["read"](bstr, { type: "binary" });
            var first_sheet_name = workbook.SheetNames[0];
            var worksheet = workbook.Sheets[first_sheet_name];
            _this.temp = __WEBPACK_IMPORTED_MODULE_1_xlsx__["utils"].sheet_to_json(worksheet, { raw: true });
        };
        fileReader.readAsArrayBuffer(this.file);
        setTimeout(function () {
            _this.totalRows = _this.temp.length;
            if (_this.totalRows > 0) {
                _this.disable = true;
                _this.log();
            }
            else {
                window.alert("There are no rows to be inserted");
            }
        }, 1000);
    };
    ImportdriverComponent.prototype.log = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a, _b, element, res, e_1_1, e_1, _c;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        this.i = 0;
                        _d.label = 1;
                    case 1:
                        _d.trys.push([1, 8, 9, 14]);
                        _a = __asyncValues(this.temp);
                        _d.label = 2;
                    case 2: return [4 /*yield*/, _a.next()];
                    case 3:
                        if (!(_b = _d.sent(), !_b.done)) return [3 /*break*/, 7];
                        return [4 /*yield*/, _b.value];
                    case 4:
                        element = _d.sent();
                        this.i++;
                        return [4 /*yield*/, this.compute(element)];
                    case 5:
                        res = _d.sent();
                        this.rowsCompleted = this.i;
                        this.progressBarValue = ((this.rowsCompleted / this.totalRows) * 100);
                        _d.label = 6;
                    case 6: return [3 /*break*/, 2];
                    case 7: return [3 /*break*/, 14];
                    case 8:
                        e_1_1 = _d.sent();
                        e_1 = { error: e_1_1 };
                        return [3 /*break*/, 14];
                    case 9:
                        _d.trys.push([9, , 12, 13]);
                        if (!(_b && !_b.done && (_c = _a.return))) return [3 /*break*/, 11];
                        return [4 /*yield*/, _c.call(_a)];
                    case 10:
                        _d.sent();
                        _d.label = 11;
                    case 11: return [3 /*break*/, 13];
                    case 12:
                        if (e_1) throw e_1.error;
                        return [7 /*endfinally*/];
                    case 13: return [7 /*endfinally*/];
                    case 14: return [2 /*return*/];
                }
            });
        });
    };
    ImportdriverComponent.prototype.compute = function (element) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var bDate, jDate, temp, lDate;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (element["Name"] == undefined) {
                            this.driver.name = '';
                            this.invalidData.push("Row number: " + this.i);
                        }
                        else {
                            this.driver.name = element["Name"];
                        }
                        if (element["Mobile Number"] == undefined) {
                            this.driver.mobileNumber = '';
                            this.invalidData.push("Row number: " + this.i);
                        }
                        else {
                            this.driver.mobileNumber = element["Mobile Number"];
                        }
                        if (element["Alternate Number"] == undefined) {
                            this.driver.alternateNumber = '';
                        }
                        else {
                            this.driver.alternateNumber = element["Alternate Number"];
                        }
                        if (element["PAN Number"] == undefined) {
                            this.driver.panCardNumber = '';
                        }
                        else {
                            this.driver.panCardNumber = element["PAN Number"];
                        }
                        if (element["Aadhar Number"] == undefined) {
                            this.driver.aadharCardNumber = '';
                        }
                        else {
                            this.driver.aadharCardNumber = element["Aadhar Number"];
                        }
                        if (element["Birth Date"] == undefined) {
                            this.driver.birthDate = '';
                        }
                        else {
                            bDate = element["Birth Date"];
                            this.driver.birthDate = __WEBPACK_IMPORTED_MODULE_4_moment__(bDate).format("YYYY-MM-DD");
                        }
                        if (element["Joining Date"] == undefined) {
                            this.driver.joiningDate = '';
                        }
                        else {
                            jDate = element["Joining Date"];
                            this.driver.joiningDate = __WEBPACK_IMPORTED_MODULE_4_moment__(jDate).format("YYYY-MM-DD");
                        }
                        if (element["Salary Per Month"] == undefined) {
                            this.driver.salaryPerMonth = '';
                        }
                        else {
                            this.driver.salaryPerMonth = element["Salary Per Month"];
                        }
                        if (!(element["Branch"] == undefined)) return [3 /*break*/, 1];
                        this.driver.branches = '';
                        this.driver.branchId = '';
                        return [3 /*break*/, 3];
                    case 1:
                        temp = {
                            ownerId: this.user.ownerId,
                            branchName: element["Branch"]
                        };
                        return [4 /*yield*/, this.getBranchId(temp).subscribe(function (data) {
                                if (data.length > 0) {
                                    _this.driver.branches = element["Branch"];
                                    _this.driver.branchId = data[0].id;
                                }
                                else {
                                    _this.driver.branches = '';
                                    _this.driver.branchId = '';
                                }
                            })];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3:
                        if (element["Permanent Address"] == undefined) {
                            this.driver.permanentAddress = '';
                        }
                        else {
                            this.driver.permanentAddress = element["Permanent Address"];
                        }
                        if (element["Current Address"] == undefined) {
                            this.driver.currentAddress = '';
                        }
                        else {
                            this.driver.currentAddress = element["Current Address"];
                        }
                        if (element["License Number"] == undefined) {
                            this.driver.licenseNumber = '';
                        }
                        else {
                            this.driver.licenseNumber = element["License Number"];
                        }
                        if (element["License Valid Upto"] == undefined) {
                            this.driver.licenseValidUpto = '';
                        }
                        else {
                            lDate = element["License Valid Upto"];
                            this.driver.licenseValidUpto = __WEBPACK_IMPORTED_MODULE_4_moment__(lDate).format("YYYY-MM-DD");
                        }
                        if (element["Daily Allowances"] == undefined) {
                            this.driver.dailyAllowance = '';
                        }
                        else {
                            this.driver.dailyAllowance = element["Daily Allowances"];
                        }
                        if (element["Overtime per hour"] == undefined) {
                            this.driver.overTimePerHour = '';
                        }
                        else {
                            this.driver.overTimePerHour = element["Overtime per hour"];
                        }
                        if (element["Outstation Allowance"] == undefined) {
                            this.driver.outstationAllowancePerDay = '';
                        }
                        else {
                            this.driver.outstationAllowancePerDay = element["Outstation Allowance"];
                        }
                        if (element["Outstation Overnight Allowance"] == undefined) {
                            this.driver.outstationOvernightAllowance = '';
                        }
                        else {
                            this.driver.outstationOvernightAllowance = element["Outstation Overnight Allowance"];
                        }
                        if (element["Second Extra Duty"] == undefined) {
                            this.driver.secondDuty = '';
                        }
                        else {
                            this.driver.secondDuty = element["Second Extra Duty"];
                        }
                        if (element["Third Duty"] == undefined) {
                            this.driver.thirdDuty = '';
                        }
                        else {
                            this.driver.thirdDuty = element["Third Duty"];
                        }
                        if (element["Fourth Duty"] == undefined) {
                            this.driver.fourthDuty = '';
                        }
                        else {
                            this.driver.fourthDuty = element["Fourth Duty"];
                        }
                        if (element["Fifth Duty"] == undefined) {
                            this.driver.fifthDuty = '';
                        }
                        else {
                            this.driver.fifthDuty = element["Fifth Duty"];
                        }
                        if (element["Working hours Start"] == undefined) {
                            this.driver.workingHoursStart = '';
                        }
                        else {
                            this.driver.workingHoursStart = element["Working hours Start"];
                        }
                        if (element["Working hours End"] == undefined) {
                            this.driver.workingHoursEnd = '';
                        }
                        else {
                            this.driver.workingHoursEnd = element["Working hours End"];
                        }
                        if (!(this.driver.name != '' && this.driver.mobileNumber != '')) return [3 /*break*/, 5];
                        this.driver.ownerId = this.user.ownerId;
                        return [4 /*yield*/, this.driverService.addDriver(this.driver).toPromise().then(function (res) {
                                _this.setDefault();
                            })];
                    case 4:
                        _a.sent();
                        _a.label = 5;
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    ImportdriverComponent.prototype.getBranchId = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/importExcel/getBranchId', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ImportdriverComponent.prototype.setDefault = function () {
        this.driver = {
            name: '',
            mobileNumber: '',
            alternateNumber: '',
            panCardNumber: '',
            aadharCardNumber: '',
            birthDate: '',
            joiningDate: '',
            salaryPerMonth: '',
            branches: '',
            branchId: '',
            addressType: '',
            permanentAddress: '',
            currentAddress: '',
            dailyAllowance: '',
            overTimeAllowance: '',
            overTimePerHour: '',
            outstationAllowancePerDay: '',
            outstationOvernightAllowance: '',
            extraDutyAllowance: '',
            //extra duty
            secondDuty: '',
            thirdDuty: '',
            fourthDuty: '',
            fifthDuty: '',
            //license
            licenseNumber: '',
            licenseValidUpto: '',
            workingHoursStart: '',
            workingHoursEnd: '',
            fileName: '',
            licenseFileName: '',
            aadharFileName: '',
            panFileName: '',
            isContractor: false,
            active: true,
            ownerId: '',
        };
    };
    ImportdriverComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'importdriver',
            template: __webpack_require__("./src/app/pages/masters/importdriver/importdriver.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/importdriver/importdriver.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__angular_material__["n" /* MatDialog */], __WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_3__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_6__new_driver_driver_service__["a" /* DriverService */]])
    ], ImportdriverComponent);
    return ImportdriverComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/incomingcalldutyinfo/incomingcalldutyinfo.component.html":
/***/ (function(module, exports) {

module.exports = "<!-- <nb-card>  \n  <nb-card-body class=\"w-100 hide-overflow\">     \n    <div id=\"div1\">      \n      <div class=\"row\" *ngFor=\"let element of dutyData; let i=index\">\n        <div class=\"col-lg-1\">\n          <b>Sr.&nbsp;</b><br>\n          <b>{{i+1}}&nbsp;</b>\n        </div>\n        <div class=\"col-lg-2\">\n          <b>Booking ID&nbsp;</b><br>\n          {{element.id}}&nbsp;\n        </div>\n        <div class=\"col-lg-5\">\n          <b>Details&nbsp;</b><br>\n          Date: {{element.startDate}}&nbsp; <br>\n          From: {{element.fromLoc}}&nbsp; <br>\n          To: {{element.toLoc}}&nbsp; <br>\n          Passenger Name: {{element.passenger}}&nbsp; <br>\n          Mobile No.: {{element.passengerNo}}&nbsp; <br>\n          Reporting Address: {{element.reportingAddress}}&nbsp; <br>\n          Drop Address: {{element.dropAddress}}&nbsp; <br>        \n        </div>\n        <div class=\"col-lg-2\">\n          <b>Reporting Time&nbsp;</b><br>\n          {{element.reportingTime}}&nbsp;\n        </div>\n        <div class=\"col-lg-2\">\n            <b>Vehicle Group&nbsp;</b><br>\n          {{element.vehicleGroup}}&nbsp;\n        </div>\n        <div class=\"col-lg-12 pt-10\" *ngIf=\"element.operatorNotes\">\n          <p class=\"text-align\">Operator Notes: {{element.operatorNotes}}&nbsp;</p>\n        </div>\n        <hr>\n      </div>\n    </div>       \n  </nb-card-body>      \n</nb-card>  -->"

/***/ }),

/***/ "./src/app/pages/masters/incomingcalldutyinfo/incomingcalldutyinfo.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/incomingcalldutyinfo/incomingcalldutyinfo.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return IncomingcalldutyinfoComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};


var IncomingcalldutyinfoComponent = (function () {
    function IncomingcalldutyinfoComponent(data) {
        this.data = data;
        console.log(data);
    }
    IncomingcalldutyinfoComponent.prototype.ngOnInit = function () {
        console.log(":akjlsd");
    };
    IncomingcalldutyinfoComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'incomingcalldutyinfo',
            template: __webpack_require__("./src/app/pages/masters/incomingcalldutyinfo/incomingcalldutyinfo.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/incomingcalldutyinfo/incomingcalldutyinfo.component.scss")]
        }),
        __param(0, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [Object])
    ], IncomingcalldutyinfoComponent);
    return IncomingcalldutyinfoComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/invoiceattachmentmodal/invoiceattachmentmodal.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    \n    <mat-checkbox (change)=\"printDocs($event,'invoice')\">Invoice</mat-checkbox>\n    <mat-checkbox (change)=\"printDocs($event,'dutySummary')\">Duty Summary</mat-checkbox>\n    <br>\n    <button mat-raised-button color=\"primary\" (click)=\"printDoc()\">Submit</button>\n    <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/pages/masters/invoiceattachmentmodal/invoiceattachmentmodal.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/invoiceattachmentmodal/invoiceattachmentmodal.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return InvoiceattachmentmodalComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var InvoiceattachmentmodalComponent = (function () {
    function InvoiceattachmentmodalComponent(matDialogRef, dialog) {
        this.matDialogRef = matDialogRef;
        this.dialog = dialog;
        this.docs = {
            invoice: false,
            dutySummary: false
        };
    }
    InvoiceattachmentmodalComponent.prototype.ngOnInit = function () {
    };
    InvoiceattachmentmodalComponent.prototype.printDocs = function (event, type) {
        if (event.checked) {
            if (type == 'invoice') {
                this.docs.invoice = true;
            }
            if (type == 'dutySummary') {
                this.docs.dutySummary = true;
            }
        }
        else {
            if (type == 'invoice') {
                this.docs.invoice = false;
            }
            if (type == 'dutySummary') {
                this.docs.dutySummary = false;
            }
        }
    };
    InvoiceattachmentmodalComponent.prototype.printDoc = function () {
        this.matDialogRef.close(this.docs);
    };
    InvoiceattachmentmodalComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    InvoiceattachmentmodalComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'invoiceattachmentmodal',
            template: __webpack_require__("./src/app/pages/masters/invoiceattachmentmodal/invoiceattachmentmodal.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/invoiceattachmentmodal/invoiceattachmentmodal.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_material__["p" /* MatDialogRef */], __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */]])
    ], InvoiceattachmentmodalComponent);
    return InvoiceattachmentmodalComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/invoicedisplay/invoicedisplay.animations.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return speedDialFabAnimations; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_animations__ = __webpack_require__("./node_modules/@angular/animations/esm5/animations.js");

var speedDialFabAnimations = [
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["n" /* trigger */])('fabToggler', [
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["k" /* state */])('inactive', Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["l" /* style */])({
            transform: 'rotate(0deg)'
        })),
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["k" /* state */])('active', Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["l" /* style */])({
            transform: 'rotate(225deg)'
        })),
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["m" /* transition */])('* <=> *', Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["e" /* animate */])('200ms cubic-bezier(0.4, 0.0, 0.2, 1)')),
    ]),
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["n" /* trigger */])('speedDialStagger', [
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["m" /* transition */])('* => *', [
            Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["h" /* query */])(':enter', Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["l" /* style */])({ opacity: 0 }), { optional: true }),
            Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["h" /* query */])(':enter', Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["j" /* stagger */])('40ms', [
                Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["e" /* animate */])('200ms cubic-bezier(0.4, 0.0, 0.2, 1)', Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["g" /* keyframes */])([
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["l" /* style */])({ opacity: 0, transform: 'translateY(10px)' }),
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["l" /* style */])({ opacity: 1, transform: 'translateY(0)' }),
                ]))
            ]), { optional: true }),
            Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["h" /* query */])(':leave', Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["e" /* animate */])('200ms cubic-bezier(0.4, 0.0, 0.2, 1)', Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["g" /* keyframes */])([
                Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["l" /* style */])({ opacity: 1 }),
                Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["l" /* style */])({ opacity: 0 }),
            ])), { optional: true })
        ])
    ])
];


/***/ }),

/***/ "./src/app/pages/masters/invoicedisplay/invoicedisplay.component.html":
/***/ (function(module, exports) {

module.exports = "<div id=\"fab-dismiss\" \n  *ngIf=\"fabTogglerState==='active'\" \n  (click)=\"onToggleFab()\">\n</div>\n<div>\n  <nb-card>\n    <nb-card-header>\n      Invoices        \n    </nb-card-header>      \n    <nb-card-body>\n      <mat-tab-group mat-stretch-tabs (selectedTabChange)=\"tabClick($event)\">\n        <mat-tab *ngIf=\"permission.viewCabInvoices\" label=\"Cab Bookings\">\n          <div align=\"center\">\n            <mat-form-field class=\"filter-field\">\n              <input matInput  placeholder=\"Filter\"  [(ngModel)]=\"searchTermInvoice\" (keyup)=\"searchInvoice($event.target.value)\">\n            </mat-form-field>\n        \n            <button mat-icon-button><mat-icon class=\"filter-icon\">search</mat-icon></button>\n            <button mat-icon-button (click)=\"clear()\"><mat-icon class=\"filter-icon\">highlight_off</mat-icon></button>\n          </div>\n          <div>\n            <mat-table #sort1='matSort' [dataSource]=\"dataSource\" matSort>\n        \n              <!-- Date Column -->\n              <!-- <ng-container matColumnDef=\"name\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Name</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.name}} </mat-cell>\n              </ng-container> -->\n  \n              <ng-container matColumnDef=\"invoiceNumber\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice Number</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.invoiceNumber}} </mat-cell>\n              </ng-container>\n  \n              <ng-container matColumnDef=\"invoiceDate\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice Date</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.invoiceDate | date: 'dd-MM-yyyy'}} </mat-cell>\n              </ng-container>\n  \n              <ng-container matColumnDef=\"invoicePeriodFrom\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice Period From</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.invoicePeriodFrom}} </mat-cell>\n              </ng-container>\n  \n              <ng-container matColumnDef=\"invoicePeriodTo\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice Period To</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.invoicePeriodTo}} </mat-cell>\n              </ng-container>\n  \n              <ng-container matColumnDef=\"discountAmount\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Discount Amount</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.discountAmount}} </mat-cell>\n              </ng-container>\n  \n              <ng-container matColumnDef=\"taxAmount\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Tax Amount</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.taxAmount}} </mat-cell>\n              </ng-container>\n  \n              <ng-container matColumnDef=\"totalAmount\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Total Amount</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.totalAmount}} </mat-cell>\n              </ng-container>\n  \n              <!-- Symbol Column -->\n              <ng-container matColumnDef=\"status\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Status</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\">\n                  <mat-chip-list>\n                    <mat-chip class=\"matChip\" color=\"primary\" selected=\"true\">{{element.status}}</mat-chip>\n                  </mat-chip-list> \n                </mat-cell>              \n              </ng-container>\n\n              <ng-container matColumnDef=\"stats\">                \n                <mat-header-cell *matHeaderCellDef></mat-header-cell>\n                <mat-cell *matCellDef=\"let element\">\n                  <mat-icon *ngIf=\"element.isDownloaded\" [matTooltip]=\"Downloaded\">save</mat-icon>\n                  <mat-icon *ngIf=\"element.isPrinted\" [matTooltip]=\"Printed\">print</mat-icon>\n                  <mat-icon *ngIf=\"element.isMailed\" [matTooltip]=\"Mailed\">mail</mat-icon>\n                </mat-cell>              \n              </ng-container>\n  \n              <ng-container matColumnDef=\"Options\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Options</mat-header-cell>\n                <mat-cell *matCellDef=\"let element ;let row\" (click)=\"$event.stopPropagation()\">   \n                  <button mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>                 \n                  <mat-menu #menu=\"matMenu\">\n                    <!-- <button *ngIf=\"permission.downloadInvoices\" mat-menu-item (click)=\"viewInvoice(row)\">View/Print</button>                       -->\n                    <button *ngIf=\"permission.emailCabInvoices\" mat-menu-item (click)=\"mailInvoice(row)\">Mail</button>\n                  </mat-menu>\n                </mat-cell>\n              </ng-container>\n                  \n              <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n              <mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"viewInvoice(row)\"></mat-row>\n  \n            </mat-table>\n    \n            <mat-paginator [length]=\"lengthInvoice\"\n              [pageSize]=\"pageSizeInvoice\"\n              [pageSizeOptions]=\"pageSizeOptionsInvoice\"></mat-paginator>\n      \n          </div>\n        </mat-tab>\n        <mat-tab *ngIf=\"permission.viewHotelInvoices\" label=\"Hotels\">\n          <div align=\"center\">\n            <mat-form-field class=\"filter-field\">\n              <input matInput  placeholder=\"Filter\"  [(ngModel)]=\"searchTermHotels\" (keyup)=\"searchHotelInvoice($event.target.value)\">\n            </mat-form-field>\n      \n            <button mat-icon-button><mat-icon class=\"filter-icon\">search</mat-icon></button>\n            <button mat-icon-button (click)=\"clear()\"><mat-icon class=\"filter-icon\">highlight_off</mat-icon></button>\n          </div>\n          <div>\n            <mat-table #sort2='matSort' [dataSource]=\"dataSourceHotels\" matSort>\n      \n              <!-- Date Column -->\n              <!-- <ng-container matColumnDef=\"name\">\n                  <mat-header-cell *matHeaderCellDef mat-sort-header> Name</mat-header-cell>\n                  <mat-cell *matCellDef=\"let element\"> {{element.name}} </mat-cell>\n              </ng-container> -->\n  \n              <ng-container matColumnDef=\"invoiceNumber\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice Number</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.invoiceNumber}} </mat-cell>\n              </ng-container>\n  \n              <ng-container matColumnDef=\"invoiceDate\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice Date</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.invoiceDate}} </mat-cell>\n              </ng-container>\n  \n              <ng-container matColumnDef=\"invoicePeriodFrom\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice Period From</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.invoicePeriodFrom}} </mat-cell>\n              </ng-container>\n  \n              <ng-container matColumnDef=\"invoicePeriodTo\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice Period To</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.invoicePeriodTo}} </mat-cell>\n              </ng-container>\n  \n              <ng-container matColumnDef=\"discountAmount\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Discount Amount</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.discountAmount}} </mat-cell>\n              </ng-container>\n  \n              <ng-container matColumnDef=\"taxAmount\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Tax Amount</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.taxAmount}} </mat-cell>\n              </ng-container>\n  \n              <ng-container matColumnDef=\"totalAmount\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Total Amount</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.totalAmount}} </mat-cell>\n              </ng-container>\n  \n              <!-- Symbol Column -->\n              <ng-container matColumnDef=\"status\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Status</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\">\n                  <mat-chip-list>\n                    <mat-chip class=\"matChip\" color=\"primary\" selected=\"true\">{{element.status}}</mat-chip>\n                  </mat-chip-list> \n                </mat-cell>              \n              </ng-container>\n\n              <ng-container matColumnDef=\"stats\">                \n                <mat-header-cell *matHeaderCellDef></mat-header-cell>\n                <mat-cell *matCellDef=\"let element\">\n                  <mat-icon *ngIf=\"element.isDownloaded\" [matTooltip]=\"Downloaded\">save</mat-icon>\n                  <mat-icon *ngIf=\"element.isPrinted\" [matTooltip]=\"Printed\">print</mat-icon>\n                  <mat-icon *ngIf=\"element.isMailed\" [matTooltip]=\"Mailed\">mail</mat-icon>\n                </mat-cell>              \n              </ng-container>\n  \n              <ng-container matColumnDef=\"Options\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Options</mat-header-cell>\n                <mat-cell *matCellDef=\"let element ;let row\" (click)=\"$event.stopPropagation()\">\n                  <button mat-icon-button [matMenuTriggerFor]=\"hotelmenu\"><mat-icon>more_vert</mat-icon></button>                 \n                  <mat-menu #hotelmenu=\"matMenu\">\n                    <!-- <button *ngIf=\"permission.downloadInvoices\" mat-menu-item (click)=\"viewHotelInvoice(row)\">View/Print</button>                       -->\n                    <button *ngIf=\"permission.emailHotelInvoices\" (click)=\"mailHotelInvoice(row)\" mat-menu-item>Mail</button>\n                  </mat-menu>\n                </mat-cell>\n              </ng-container>\n              \n              <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n              <mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"viewHotelInvoice(row)\"></mat-row>\n  \n            </mat-table>\n  \n            <mat-paginator [length]=\"lengthHotels\"\n              [pageSize]=\"pageSizeHotels\"\n              [pageSizeOptions]=\"pageSizeOptionsHotels\"></mat-paginator>\n    \n          </div>\n        </mat-tab>\n        <mat-tab *ngIf=\"permission.viewFlightInvoices\" label=\"Flights\">\n\n          <div align=\"center\">\n            <mat-form-field class=\"filter-field\">\n              <input matInput  placeholder=\"Filter\"  [(ngModel)]=\"searchTermFlights\" (keyup)=\"searchFlightInvoice($event.target.value)\">\n            </mat-form-field>\n    \n            <button mat-icon-button><mat-icon class=\"filter-icon\">search</mat-icon></button>\n            <button mat-icon-button (click)=\"clear()\"><mat-icon class=\"filter-icon\">highlight_off</mat-icon></button>\n          </div>\n          <div>\n            <mat-table #sort3='matSort' [dataSource]=\"dataSourceFlights\" matSort>\n    \n              <!-- Date Column -->\n              <!-- <ng-container matColumnDef=\"name\">\n                  <mat-header-cell *matHeaderCellDef mat-sort-header> Name</mat-header-cell>\n                  <mat-cell *matCellDef=\"let element\"> {{element.name}} </mat-cell>\n              </ng-container> -->\n  \n              <ng-container matColumnDef=\"invoiceNumber\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice Number</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.invoiceNumber}} </mat-cell>\n              </ng-container>\n  \n              <ng-container matColumnDef=\"invoiceDate\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice Date</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.invoiceDate}} </mat-cell>\n              </ng-container>\n  \n              <ng-container matColumnDef=\"invoicePeriodFrom\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice Period From</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.invoicePeriodFrom}} </mat-cell>\n              </ng-container>\n  \n              <ng-container matColumnDef=\"invoicePeriodTo\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice Period To</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.invoicePeriodTo}} </mat-cell>\n              </ng-container>\n  \n              <ng-container matColumnDef=\"discountAmount\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Discount Amount</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.discountAmount}} </mat-cell>\n              </ng-container>\n  \n              <ng-container matColumnDef=\"taxAmount\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Tax Amount</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.taxAmount}} </mat-cell>\n              </ng-container>\n  \n              <ng-container matColumnDef=\"totalAmount\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Total Amount</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.totalAmount}} </mat-cell>\n              </ng-container>\n  \n              <!-- Symbol Column -->\n              <ng-container matColumnDef=\"status\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Status</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\">\n                  <mat-chip-list>\n                    <mat-chip class=\"matChip\" color=\"primary\" selected=\"true\">{{element.status}}</mat-chip>\n                  </mat-chip-list> \n                </mat-cell>              \n              </ng-container>\n\n              <ng-container matColumnDef=\"stats\">           \n                <mat-header-cell *matHeaderCellDef></mat-header-cell>     \n                <mat-cell *matCellDef=\"let element\">\n                  <mat-icon *ngIf=\"element.isDownloaded\" [matTooltip]=\"Downloaded\">save</mat-icon>\n                  <mat-icon *ngIf=\"element.isPrinted\" [matTooltip]=\"Printed\">print</mat-icon>\n                  <mat-icon *ngIf=\"element.isMailed\" [matTooltip]=\"Mailed\">mail</mat-icon>\n                </mat-cell>              \n              </ng-container>\n  \n              <ng-container matColumnDef=\"Options\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Options</mat-header-cell>\n                <mat-cell *matCellDef=\"let element ;let row\" (click)=\"$event.stopPropagation()\">\n                  <button mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>                 \n                  <mat-menu #menu=\"matMenu\">\n                    <!-- <button *ngIf=\"permission.downloadInvoices\" mat-menu-item (click)=\"viewFlightInvoice(row)\">View/Print</button>                       -->\n                    <button *ngIf=\"permission.emailFlightInvoices\" (click)=\"mailFlightInvoice(row)\" mat-menu-item>Mail</button>\n                  </mat-menu>\n                </mat-cell>\n              </ng-container>\n              \n              <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n              <mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"viewFlightInvoice(row)\"></mat-row>\n  \n            </mat-table>\n  \n            <mat-paginator [length]=\"lengthFlights\"\n              [pageSize]=\"pageSizeFlights\"\n              [pageSizeOptions]=\"pageSizeOptionsFlights\"></mat-paginator>  \n          </div>\n        </mat-tab>\n        <mat-tab *ngIf=\"permission.viewVisaInvoices\" label=\"Visa\">\n\n          <div align=\"center\">\n            <mat-form-field class=\"filter-field\">\n              <input matInput  placeholder=\"Filter\"  [(ngModel)]=\"searchTermVisa\" (keyup)=\"searchVisaInvoice($event.target.value)\">\n            </mat-form-field>\n    \n            <button mat-icon-button><mat-icon class=\"filter-icon\">search</mat-icon></button>\n            <button mat-icon-button (click)=\"clear()\"><mat-icon class=\"filter-icon\">highlight_off</mat-icon></button>\n          </div>\n          <div>\n            <mat-table #sort4='matSort' [dataSource]=\"dataSourceVisa\" matSort>\n    \n              <!-- Date Column -->\n              <!-- <ng-container matColumnDef=\"name\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Name</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.name}} </mat-cell>\n              </ng-container> -->\n  \n              <ng-container matColumnDef=\"invoiceNumber\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice Number</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.invoiceNumber}} </mat-cell>\n              </ng-container>\n  \n              <ng-container matColumnDef=\"invoiceDate\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice Date</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.invoiceDate | date:'dd-MM-yyyy'}} </mat-cell>\n              </ng-container>\n  \n              <ng-container matColumnDef=\"invoicePeriodFrom\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice Period From</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.invoicePeriodFrom | date:'dd-MM-yyyy'}} </mat-cell>\n              </ng-container>\n  \n              <ng-container matColumnDef=\"invoicePeriodTo\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice Period To</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.invoicePeriodTo | date:'dd-MM-yyyy'}} </mat-cell>\n              </ng-container>\n  \n              <ng-container matColumnDef=\"discountAmount\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Discount Amount</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.discountAmount}} </mat-cell>\n              </ng-container>\n  \n              <ng-container matColumnDef=\"taxAmount\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Tax Amount</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.taxAmount}} </mat-cell>\n              </ng-container>\n  \n              <ng-container matColumnDef=\"totalAmount\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Total Amount</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.totalAmount}} </mat-cell>\n              </ng-container>\n  \n              <!-- Symbol Column -->\n              <ng-container matColumnDef=\"status\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Status</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\">\n                  <mat-chip-list>\n                    <mat-chip class=\"matChip\" color=\"primary\" selected=\"true\">{{element.status}}</mat-chip>\n                  </mat-chip-list> \n                </mat-cell>              \n              </ng-container>\n\n              <ng-container matColumnDef=\"stats\">                \n                <mat-header-cell *matHeaderCellDef></mat-header-cell>\n                <mat-cell *matCellDef=\"let element\">\n                  <mat-icon *ngIf=\"element.isDownloaded\" [matTooltip]=\"Downloaded\">save</mat-icon>\n                  <mat-icon *ngIf=\"element.isPrinted\" [matTooltip]=\"Printed\">print</mat-icon>\n                  <mat-icon *ngIf=\"element.isMailed\" [matTooltip]=\"Mailed\">mail</mat-icon>\n                </mat-cell>              \n              </ng-container>\n  \n              <ng-container matColumnDef=\"Options\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Options</mat-header-cell>\n                <mat-cell *matCellDef=\"let element ;let row\" (click)=\"$event.stopPropagation()\">\n                  <button mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>                 \n                  <mat-menu #menu=\"matMenu\">\n                    <!-- <button *ngIf=\"permission.downloadInvoices\" mat-menu-item (click)=\"viewVisaInvoice(row)\">View/Print</button>                       -->\n                    <button *ngIf=\"permission.emailVisaInvoices\" (click)=\"mailVisaInvoice(row)\" mat-menu-item>Mail</button>\n                  </mat-menu>\n                </mat-cell>\n              </ng-container>\n              \n              <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n              <mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"viewVisaInvoice(row)\"></mat-row>\n  \n            </mat-table>\n  \n            <mat-paginator [length]=\"lengthVisa\"\n              [pageSize]=\"pageSizeVisa\"\n              [pageSizeOptions]=\"pageSizeOptionsVisa\"></mat-paginator>  \n          </div>\n        </mat-tab>\n\n      </mat-tab-group>\n\n      <div class=\"col-lg-12\" align=\"right\">\n        <div class=\"fab-container\">\n          <button mat-fab class=\"fab-toggler\"\n            (click)=\"onToggleFab()\">\n            <i class=\"material-icons\" [@fabToggler]=\"{value: fabTogglerState}\">add</i> <!-- Animation here -->\n          </button>\n          <div [@speedDialStagger]=\"buttons.length\"> <!-- and here -->\n            <button *ngFor=\"let btn of buttons; let i = index\"\n              mat-mini-fab\n              class=\"fab-secondary\"\n              color=\"secondary\"\n              (click)=\"openInvoice(i)\">\n              <i class=\"material-icons\" matTooltipPosition=\"left\" [matTooltip]=\"btn.tooltip\">{{btn.icon}}</i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </nb-card-body>\n  </nb-card>\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/invoicedisplay/invoicedisplay.component.scss":
/***/ (function(module, exports) {

module.exports = ".fab-container {\n  position: fixed;\n  bottom: 15px;\n  right: 15px;\n  z-index: 100;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: reverse;\n      -ms-flex-direction: column-reverse;\n          flex-direction: column-reverse;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n  .fab-container > div {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: reverse;\n        -ms-flex-direction: column-reverse;\n            flex-direction: column-reverse;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    margin-bottom: 5px; }\n  .fab-container > div button {\n      margin-bottom: 17px; }\n  .fab-toggler {\n  float: right;\n  z-index: 100; }\n  #fab-dismiss {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 99; }\n  .mat-fab.mat-accent, .mat-mini-fab.mat-accent, .mat-raised-button.mat-accent {\n  background-color: #0C9; }\n  .mat-chip {\n  font-size: 12px;\n  height: 35px;\n  line-height: 12px; }\n  .fab-container > div {\n  margin: auto !important; }\n"

/***/ }),

/***/ "./src/app/pages/masters/invoicedisplay/invoicedisplay.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return InvoicedisplayComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__sub_users_sub_user_service__ = __webpack_require__("./src/app/pages/masters/sub-users/sub-user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__invoicedisplay_animations__ = __webpack_require__("./src/app/pages/masters/invoicedisplay/invoicedisplay.animations.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__mailinvoice_mailinvoice_component__ = __webpack_require__("./src/app/pages/masters/mailinvoice/mailinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__mailhotelinvoice_mailhotelinvoice_component__ = __webpack_require__("./src/app/pages/masters/mailhotelinvoice/mailhotelinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__mailflightinvoice_mailflightinvoice_component__ = __webpack_require__("./src/app/pages/masters/mailflightinvoice/mailflightinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__mailvisainvoice_mailvisainvoice_component__ = __webpack_require__("./src/app/pages/masters/mailvisainvoice/mailvisainvoice.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var InvoicedisplayComponent = (function () {
    function InvoicedisplayComponent(router, invoiceService, auth, dialog, permissionService) {
        this.router = router;
        this.invoiceService = invoiceService;
        this.auth = auth;
        this.dialog = dialog;
        this.permissionService = permissionService;
        this.lengthInvoice = 0;
        this.pageSizeInvoice = 10;
        this.pageSizeOptionsInvoice = [10, 15, 25, 40];
        this.lengthHotels = 0;
        this.pageSizeHotels = 10;
        this.pageSizeOptionsHotels = [10, 15, 25, 40];
        this.lengthFlights = 0;
        this.pageSizeFlights = 10;
        this.pageSizeOptionsFlights = [10, 15, 25, 40];
        this.lengthVisa = 0;
        this.pageSizeVisa = 10;
        this.pageSizeOptionsVisa = [10, 15, 25, 40];
        this.displayedColumns = ['invoiceNumber', 'invoiceDate', 'invoicePeriodFrom', 'invoicePeriodTo', 'discountAmount', 'taxAmount', 'totalAmount', 'status', 'stats', 'Options'];
        this.displayedColumnsHotels = ['invoiceNumber', 'invoiceDate', 'invoicePeriodFrom', 'invoicePeriodTo', 'discountAmount', 'taxAmount', 'totalAmount', 'status', 'Options'];
        this.displayedColumnsFlights = ['invoiceNumber', 'invoiceDate', 'invoicePeriodFrom', 'invoicePeriodTo', 'discountAmount', 'taxAmount', 'totalAmount', 'status', 'Options'];
        this.permission = {};
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
        this.dataSourceHotels = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
        this.dataSourceFlights = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
        this.dataSourceVisa = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
        this.user = {};
        this.hotelRetrieved = false;
        this.flightRetrieved = false;
        this.visaRetrieved = false;
        this.fabButtons = [
            {
                icon: 'flight',
                click: 'createFlightInvoice()',
                tooltip: 'Flights'
            },
            {
                icon: 'directions_car',
                click: 'createInvoice()',
                tooltip: 'Cars'
            },
            {
                icon: 'store',
                click: 'createHotelInvoice()',
                tooltip: 'Hotels'
            },
            {
                icon: 'chrome_reader_mode',
                click: 'createVisaInvoice()',
                tooltip: 'Visa'
            }
        ];
        this.buttons = [];
        this.fabTogglerState = 'inactive';
    }
    InvoicedisplayComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.auth.permissions.subscribe(function (data) {
                _this.permission = data[0];
                if (_this.permission.addCabInvoices === 0) {
                    var index = _this.fabButtons.findIndex(function (x) { return x.icon === "directions_car"; });
                    _this.fabButtons.splice(index, 1);
                }
                if (_this.permission.addHotelInvoices === 0) {
                    var index = _this.fabButtons.findIndex(function (x) { return x.icon === "store"; });
                    _this.fabButtons.splice(index, 1);
                }
                if (_this.permission.addFlightInvoices === 0) {
                    var index = _this.fabButtons.findIndex(function (x) { return x.icon === "flight"; });
                    _this.fabButtons.splice(index, 1);
                }
                if (_this.permission.addVisaInvoices === 0) {
                    var index = _this.fabButtons.findIndex(function (x) { return x.icon === "chrome_reader_mode"; });
                    _this.fabButtons.splice(index, 1);
                }
                _this.invoiceService.getInvoices(_this.user).subscribe(function (data) {
                    _this.dataSource.data = data;
                    _this.lengthInvoice = _this.dataSource.data.length;
                    _this.dataSource.sort = _this.sort1;
                    _this.dataSource.paginator = _this.paginator1;
                });
            });
        });
    };
    InvoicedisplayComponent.prototype.tabClick = function (event) {
        var _this = this;
        if (event.index == 1) {
            if (this.hotelRetrieved == false) {
                console.log("H2");
                this.hotelRetrieved = true;
                this.invoiceService.getHotelInvoices(this.user).subscribe(function (data) {
                    _this.dataSourceHotels = data;
                    _this.lengthHotels = data.length;
                    _this.dataSourceHotels.sort = _this.sort2;
                    _this.dataSourceHotels.paginator = _this.paginator2;
                });
            }
        }
        if (event.index == 2) {
            if (this.flightRetrieved == false) {
                console.log("F2");
                this.flightRetrieved = true;
                this.invoiceService.getFlightsInvoices(this.user).subscribe(function (data) {
                    _this.dataSourceFlights = data;
                    _this.lengthFlights = data.length;
                    _this.dataSourceFlights.sort = _this.sort3;
                    _this.dataSourceFlights.paginator = _this.paginator3;
                });
            }
        }
        if (event.index == 3) {
            if (this.visaRetrieved == false) {
                console.log("V2");
                this.visaRetrieved = true;
                this.invoiceService.getVisaInvoices(this.user).subscribe(function (data) {
                    _this.dataSourceVisa = data;
                    _this.lengthVisa = data.length;
                    _this.dataSourceVisa.sort = _this.sort4;
                    _this.dataSourceVisa.paginator = _this.paginator4;
                });
            }
        }
    };
    InvoicedisplayComponent.prototype.searchInvoice = function (filterValue) {
        this.dataSource.filter = filterValue.trim().toLowerCase();
    };
    InvoicedisplayComponent.prototype.searchHotelInvoice = function (filterValue) {
        this.dataSourceHotels.filter = filterValue.trim().toLowerCase();
    };
    InvoicedisplayComponent.prototype.searchFlightInvoice = function (filterValue) {
        this.dataSourceFlights.filter = filterValue.trim().toLowerCase();
    };
    InvoicedisplayComponent.prototype.searchVisaInvoice = function (filterValue) {
        this.dataSourceVisa.filter = filterValue.trim().toLowerCase();
    };
    InvoicedisplayComponent.prototype.clear = function () {
        this.searchTermInvoice = '';
        this.searchTermHotels = '';
        this.searchTermFlights = '';
        this.searchTermVisa = '';
        this.dataSource.filter = '';
        this.dataSourceFlights.filter = '';
        this.dataSourceHotels.filter = '';
        this.dataSourceVisa.filter = '';
    };
    InvoicedisplayComponent.prototype.openInvoice = function (i) {
        if (i == 0) {
            this.createFlightInvoice();
        }
        else if (i == 1) {
            this.createInvoice();
        }
        else if (i == 2) {
            this.createHotelInvoice();
        }
        else if (i == 3) {
            this.createVisaInvoice();
        }
    };
    InvoicedisplayComponent.prototype.createInvoice = function () {
        this.router.navigateByUrl('/pages/masters/createinvoice');
    };
    InvoicedisplayComponent.prototype.createFlightInvoice = function () {
        this.router.navigateByUrl('/pages/masters/createflightinvoice');
    };
    InvoicedisplayComponent.prototype.createHotelInvoice = function () {
        this.router.navigateByUrl('/pages/masters/createhotelinvoice');
    };
    InvoicedisplayComponent.prototype.createVisaInvoice = function () {
        this.router.navigateByUrl('/pages/masters/createvisainvoice');
    };
    InvoicedisplayComponent.prototype.viewInvoice = function (row) {
        // this.dialog.open(ViewinvoiceComponent,{data:row,autoFocus:false,disableClose:true});
        this.invoiceService.setEditData(row);
        this.router.navigateByUrl('/pages/masters/viewinvoice');
    };
    InvoicedisplayComponent.prototype.mailInvoice = function (row) {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_7__mailinvoice_mailinvoice_component__["a" /* MailinvoiceComponent */], { data: row, autoFocus: false, disableClose: true, width: '750px' });
    };
    InvoicedisplayComponent.prototype.mailHotelInvoice = function (row) {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_8__mailhotelinvoice_mailhotelinvoice_component__["a" /* MailhotelinvoiceComponent */], { data: row, autoFocus: false, disableClose: true });
    };
    InvoicedisplayComponent.prototype.mailFlightInvoice = function (row) {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_9__mailflightinvoice_mailflightinvoice_component__["a" /* MailflightinvoiceComponent */], { data: row, autoFocus: false, disableClose: true });
    };
    InvoicedisplayComponent.prototype.mailVisaInvoice = function (row) {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_10__mailvisainvoice_mailvisainvoice_component__["a" /* MailvisainvoiceComponent */], { data: row, autoFocus: false, disableClose: true });
    };
    InvoicedisplayComponent.prototype.showItems = function () {
        this.fabTogglerState = 'active';
        this.buttons = this.fabButtons;
    };
    InvoicedisplayComponent.prototype.hideItems = function () {
        this.fabTogglerState = 'inactive';
        this.buttons = [];
    };
    InvoicedisplayComponent.prototype.onToggleFab = function () {
        this.buttons.length ? this.hideItems() : this.showItems();
    };
    InvoicedisplayComponent.prototype.viewHotelInvoice = function (row) {
        this.invoiceService.setViewHotelInvoice(row);
        this.router.navigateByUrl('/pages/masters/viewhotelinvoice');
        // this.dialog.open(ViewhotelinvoiceComponent,{data:row,autoFocus:false,disableClose:true})
    };
    InvoicedisplayComponent.prototype.viewFlightInvoice = function (row) {
        this.invoiceService.setViewFlightInvoice(row);
        this.router.navigateByUrl('/pages/masters/viewflightinvoice');
        // this.dialog.open(ViewflightinvoiceComponent,{data:row,autoFocus:false,disableClose:true})
    };
    InvoicedisplayComponent.prototype.viewVisaInvoice = function (row) {
        this.invoiceService.setViewVisaInvoice(row);
        this.router.navigateByUrl('/pages/masters/viewvisainvoice');
        // this.dialog.open(ViewflightinvoiceComponent,{data:row,autoFocus:false,disableClose:true})
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('sort1'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], InvoicedisplayComponent.prototype, "sort1", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('sort2'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], InvoicedisplayComponent.prototype, "sort2", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('sort3'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], InvoicedisplayComponent.prototype, "sort3", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('sort4'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], InvoicedisplayComponent.prototype, "sort4", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */])
    ], InvoicedisplayComponent.prototype, "paginator1", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */])
    ], InvoicedisplayComponent.prototype, "paginator2", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */])
    ], InvoicedisplayComponent.prototype, "paginator3", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */])
    ], InvoicedisplayComponent.prototype, "paginator4", void 0);
    InvoicedisplayComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'invoicedisplay',
            template: __webpack_require__("./src/app/pages/masters/invoicedisplay/invoicedisplay.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/invoicedisplay/invoicedisplay.component.scss")],
            animations: __WEBPACK_IMPORTED_MODULE_6__invoicedisplay_animations__["a" /* speedDialFabAnimations */]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__createinvoice_invoice_service__["a" /* InvoiceService */],
            __WEBPACK_IMPORTED_MODULE_4__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_5__sub_users_sub_user_service__["a" /* SubUserService */]])
    ], InvoicedisplayComponent);
    return InvoicedisplayComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/labeldisplay/labeldisplay.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        Tags\n      </nb-card-header>\n      <nb-card-body>\n        <div align=\"center\">\n          <mat-form-field class=\"filter-field\">\n            <input matInput   placeholder=\"Filter\"   [(ngModel)]=\"searchTerm\" (keyup)=\"search($event.target.value)\">\n          </mat-form-field>\n  \n          <button mat-icon-button><mat-icon class=\"filter-icon\">search</mat-icon></button>\n          <button mat-icon-button (click)=\"clear()\"><mat-icon class=\"filter-icon\">highlight_off</mat-icon></button>\n        </div>\n        <mat-table #table [dataSource]=\"dataSource\" matSort>\n  \n          <!-- Name Column -->\n          <ng-container matColumnDef=\"name\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Name </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.name}} </mat-cell>\n          </ng-container>\n\n          <!-- Name Column -->\n          <ng-container matColumnDef=\"color\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Color </mat-header-cell>\n            <mat-cell style=\"justify-content: center; display:flex;\" *matCellDef=\"let element\"> <div class=\"box\" [style.background]=\"element.color\"></div> </mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"Options\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Options</mat-header-cell>\n            <mat-cell *matCellDef=\"let element ;let row\" (click)=\"$event.stopPropagation()\">\n              <button mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>\n              <mat-menu #menu=\"matMenu\">\n              <!-- <button mat-menu-item (click)=\"selectRow(row)\">Edit</button> -->\n              <button (click)=\"deleteLabel(row)\" mat-menu-item>Delete</button>\n              </mat-menu>\n            </mat-cell>\n          </ng-container>\n\n          <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n          <mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"selectRow(row)\"></mat-row>\n        </mat-table>\n        \n        <mat-paginator [length]=\"length\"\n          [pageSize]=\"pageSize\"\n          [pageSizeOptions]=\"pageSizeOptions\">\n        </mat-paginator>\n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"col-lg-12\" align=\"right\">\n    <a *ngIf=\"permission.addLabels\" (click)=\"selectRow(null)\" class=\"float\">\n      <i style=\"color: ghostwhite\" class=\"fa fa-plus my-float\"></i>\n    </a>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/labeldisplay/labeldisplay.component.scss":
/***/ (function(module, exports) {

module.exports = ".box {\n  float: left;\n  width: 60px;\n  height: 20px;\n  margin: 5px;\n  border: 1px solid rgba(0, 0, 0, 0.2); }\n"

/***/ }),

/***/ "./src/app/pages/masters/labeldisplay/labeldisplay.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LabeldisplayComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__labels_labels_service__ = __webpack_require__("./src/app/pages/masters/labels/labels.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__labels_labels_component__ = __webpack_require__("./src/app/pages/masters/labels/labels.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__modals_confirm_confirm_component__ = __webpack_require__("./src/app/pages/modals/confirm/confirm.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var LabeldisplayComponent = (function () {
    function LabeldisplayComponent(auth, labelsService, dialog, snackBar) {
        this.auth = auth;
        this.labelsService = labelsService;
        this.dialog = dialog;
        this.snackBar = snackBar;
        this.pageSize = 10;
        this.pageSizeOptions = [10, 15, 25, 40];
        this.displayedColumns = ['name', 'color', 'Options'];
        this.user = {};
        this.permission = {};
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_3__angular_material__["O" /* MatTableDataSource */]();
    }
    LabeldisplayComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.auth.permissions.subscribe(function (data) {
                _this.permission = data[0];
                if (_this.permission.manageLabels === 0) {
                    _this.displayedColumns.pop();
                }
            });
            _this.labelsService.getLabels(_this.user).subscribe(function (data) {
                _this.tempArray = data;
                _this.dataSource.data = _this.tempArray;
            });
        });
    };
    // addLabels(){
    //   this.dialog.open(LabelsComponent,{autoFocus:false,disableClose:true,data:{null}})
    // }
    LabeldisplayComponent.prototype.search = function (filterValue) {
        this.dataSource.filter = filterValue.trim().toLowerCase();
    };
    LabeldisplayComponent.prototype.clear = function () {
        this.searchTerm = '';
        this.dataSource.filter = '';
    };
    LabeldisplayComponent.prototype.selectRow = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_4__labels_labels_component__["a" /* LabelsComponent */], { autoFocus: false, disableClose: true, data: { row: row } }).afterClosed().subscribe(function (data) {
            if (data == undefined) {
                console.log('no');
            }
            else {
                console.log('yes');
                _this.tempArray.push(data.data);
                _this.dataSource.data = _this.tempArray;
                console.log(data.data);
            }
        });
    };
    LabeldisplayComponent.prototype.deleteLabel = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_5__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { autoFocus: false, disableClose: true }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.labelsService.deleteLabels(row).subscribe(function (data) {
                    if (data.errno == undefined) {
                        var i = _this.tempArray.indexOf(row);
                        _this.tempArray.splice(i, 1);
                        _this.dataSource.data = _this.tempArray;
                    }
                }, function (err) { }, function () {
                    _this.snackBar.open("Label Deleted", "X", { duration: 3000 });
                    _this.dialog.closeAll();
                });
            }
            else {
                if (data.errno == 1451) {
                    window.alert("Cannot delete because you have corresponding data");
                }
                else {
                    window.alert("Error Cannot be Deleted");
                }
            }
        });
    };
    LabeldisplayComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'labeldisplay',
            template: __webpack_require__("./src/app/pages/masters/labeldisplay/labeldisplay.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/labeldisplay/labeldisplay.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__labels_labels_service__["a" /* LabelsService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_3__angular_material__["I" /* MatSnackBar */]])
    ], LabeldisplayComponent);
    return LabeldisplayComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/labels/labels.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12 col-12\">\n    <nb-card>\n      <nb-card-header>\n          Add Tags\n      </nb-card-header>\n      <nb-card-body>\n        <div class=\"row\">\n          <div class=\"col-lg-12 col-12\">\n            <mat-form-field>\n              <input class=\"w-100\" matInput placeholder=\"Name\" [(ngModel)]=\"addLabel.name\">\n            </mat-form-field>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-4 col-12\">\n            <h5 class=\"pt-10\">Selected Color:</h5>\n            <input type=\"color\" [style.backgroud]=\"selectedColor\" [(ngModel)]=\"selectedColor\" style=\"width: 100%\"/>\n          </div>\n          <div class=\"col-lg-4 col-12\">  \n            <h5 class=\"pt-10\">Select from preset:</h5>\n\n            <div class=\"color-box\" [style.background]=\"arrayColors['color1']\" (click)=\"selectedColor=color1\"></div>\n\n            <div class=\"color-box\" [style.background]=\"arrayColors['color2']\" (click)=\"selectedColor=color2\"></div>\n\n            <div class=\"color-box\" [style.background]=\"arrayColors['color3']\" (click)=\"selectedColor=color3\"></div>\n\n            <div class=\"color-box\" [style.background]=\"arrayColors['color4']\" (click)=\"selectedColor=color4\"></div>\n\n            <div class=\"color-box\" [style.background]=\"arrayColors['color5']\" (click)=\"selectedColor=color5\"></div>\n\n          </div>\n          <div class=\"col-lg-4 col-12\">\n            <h5 class=\"pt-10\" style=\"visibility: hidden\">Select from preset:</h5>\n\n            <div class=\"color-box\" [style.background]=\"arrayColors['color6']\" (click)=\"selectedColor=color6\"></div>\n\n            <div class=\"color-box\" [style.background]=\"arrayColors['color7']\" (click)=\"selectedColor=color7\"></div>\n\n            <div class=\"color-box\" [style.background]=\"arrayColors['color8']\" (click)=\"selectedColor=color8\"></div>\n\n            <div class=\"color-box\" [style.background]=\"arrayColors['color9']\" (click)=\"selectedColor=color9\"></div>\n\n            <div class=\"color-box\" [style.background]=\"arrayColors['color10']\" (click)=\"selectedColor=color10\"></div>\n\n          </div>\n        </div>\n      </nb-card-body>\n    </nb-card>\n    <div class=\"row ptb-10\">\n      <div class=\"col-lg-12\">\n        <button mat-raised-button color=\"primary\" (click)=\"addLabels()\">Submit</button>\n        <button mat-raised-button color=\"warn\"(click)=\"closeDialog()\">Close</button>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- <input\n          [style.background]=\"selectedColor\"\n          [cpOKButton]=\"true\"\n          [cpSaveClickOutside]=\"false\"\n          [cpOKButtonClass]= \"'btn btn-primary btn-xs'\"\n          [cpPosition]=\"'bottom'\"\n          [(colorPicker)]=\"selectedColor\"/> -->\n"

/***/ }),

/***/ "./src/app/pages/masters/labels/labels.component.scss":
/***/ (function(module, exports) {

module.exports = ".color-box {\n  width: 100%;\n  height: 25px;\n  margin: 16px auto;\n  cursor: pointer; }\n"

/***/ }),

/***/ "./src/app/pages/masters/labels/labels.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LabelsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__labels_service__ = __webpack_require__("./src/app/pages/masters/labels/labels.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};




var LabelsComponent = (function () {
    function LabelsComponent(auth, labelService, dialog, matDialogRef, snackBar, data) {
        this.auth = auth;
        this.labelService = labelService;
        this.dialog = dialog;
        this.matDialogRef = matDialogRef;
        this.snackBar = snackBar;
        this.data = data;
        this.user = {};
        this.color = '#a51ad633';
        this.arrayColors = {
            color1: '#2883e9',
            color2: '#e920e9',
            color3: '#fff500',
            color4: '#ec4040',
            color5: '#2dd02d',
            color6: '#1973c0',
            color7: '#f200bd',
            color8: '#a8ff00',
            color9: '#278ce2',
            color10: '#0a6211'
        };
        this.color1 = '#2889e9';
        this.color2 = '#e920e9';
        this.color3 = '#fff500';
        this.color4 = '#ec4040';
        this.color5 = '#2dd02d';
        this.color6 = '#1973c0';
        this.color7 = '#f200bd';
        this.color8 = '#a8ff00';
        this.color9 = '#278ce2';
        this.color10 = '#0a6211';
        this.selectedColor = this.color1;
        this.addLabel = {
            ownerId: '',
            name: '',
            color: ''
        };
        if (data.row != null) {
            this.addLabel = data.row;
            this.selectedColor = data.row.color;
        }
    }
    LabelsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.addLabel.ownerId = data[0].ownerId;
        });
    };
    LabelsComponent.prototype.addLabels = function () {
        var _this = this;
        this.addLabel.color = this.selectedColor;
        if (this.addLabel.name === "") {
            this.snackBar.open("Enter a label name", "X", { verticalPosition: 'top', horizontalPosition: 'right' });
        }
        else if (this.addLabel.color === "") {
            this.snackBar.open("Select a label color", "X", { verticalPosition: 'top', horizontalPosition: 'right' });
        }
        else {
            this.labelService.addLabels(this.addLabel).subscribe(function (data) {
                _this.addLabel.id = data.insertId;
            }, function (err) { }, function () {
                _this.snackBar.open("Label Added", "X", { duration: 3000 });
                _this.matDialogRef.close({ data: _this.addLabel });
            });
        }
    };
    LabelsComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    LabelsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'labels',
            template: __webpack_require__("./src/app/pages/masters/labels/labels.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/labels/labels.component.scss")]
        }),
        __param(5, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_3__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__labels_service__["a" /* LabelsService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_3__angular_material__["p" /* MatDialogRef */],
            __WEBPACK_IMPORTED_MODULE_3__angular_material__["I" /* MatSnackBar */], Object])
    ], LabelsComponent);
    return LabelsComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/labels/labels.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LabelsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var LabelsService = (function () {
    function LabelsService(http) {
        this.http = http;
    }
    LabelsService.prototype.getLabels = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/label/retrieve', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    LabelsService.prototype.addLabels = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/label/add', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    LabelsService.prototype.deleteLabels = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/label/delete', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    LabelsService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], LabelsService);
    return LabelsService;
}());



/***/ }),

/***/ "./src/app/pages/masters/mailflightinvoice/mailflightinvoice.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        Invoice\n      </nb-card-header>\n      <nb-card-body>\n        <mat-horizontal-stepper #stepper>\n          <mat-step label=\"Email To:\">\n            <div class=\"row\">\n              <div class=\"col-lg-12 col-12\">\n                <b>To:</b>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-lg-6 col-12\">\n                <mat-checkbox [(ngModel)]=\"customer\">\n                  Customer: <br> {{customerDetails.name}} &nbsp;\n                </mat-checkbox>\n              </div>\n              <div class=\"col-lg-6 col-12\">\n                <mat-form-field>\n                  <input matInput [(ngModel)]=\"customerDetails.email\" readonly>\n                </mat-form-field>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-lg-6 col-12\">\n                <mat-checkbox [(ngModel)]=\"bookBy\">\n                  Booked By: <br> {{bookedBy.name}} &nbsp;\n                </mat-checkbox>\n              </div>\n              <div class=\"col-lg-6 col-12\">\n                <mat-form-field>                      \n                  <input matInput [(ngModel)]=\"bookedBy.email\" readonly>\n                </mat-form-field>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-lg-6 col-12\">\n                Custom:\n              </div>\n              <div class=\"col-lg-6 col-12\">\n                <mat-form-field>\n                  <input [(ngModel)]=\"customEmail\" matInput>\n                </mat-form-field>\n              </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-lg-12 col-12\">\n                  <mat-checkbox [(ngModel)]=\"singleMail\">\n                    Send a single email to selected email IDs \n                  </mat-checkbox>            \n                </div>\n            </div>\n            <div class=\"row ptb-10\">\n              <div class=\"col-lg-12\">\n                <button style=\"float:right;\" mat-button matStepperNext>Next</button>\n              </div>\n            </div>                \n          </mat-step>\n          <mat-step label=\"Attachments\">\n            <div class=\"row\">\n              <div class=\"col-lg-12 col-12\">\n                <h5>Attachments:</h5><br>\n                <mat-checkbox (change)=\"mailDocs('Invoice', $event)\">Invoice</mat-checkbox><br>                \n              </div>\n            </div>            \n            <div class=\"row ptb-10\">\n              <div class=\"col-lg-12\">\n                <button style=\"float:left;\" mat-button matStepperPrevious>Back</button>\n                <button style=\"float:right;\" mat-button matStepperNext>Next</button>\n              </div>\n            </div>\n          </mat-step>\n          <mat-step label=\"Mail\">\n            <div class=\"row\">\n              <div id=\"template\" #template>\n                <!DOCTYPE html>\n                <html lang=\"en\">          \n                  <head>\n                    <title></title>\n                    <meta charset=\"utf-8\">\n                    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n                    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n                    <style type=\"text/css\">\n                      @font-face {font-family: 'sofia';  src: url('http://media.firebox.com/fonts/sofiapro_regular_macroman/SofiaProRegular-webfont.woff') format('woff');  mso-font-alt: 'Arial';  font-weight: normal !important;  font-style: normal !important;}\n                      body,table,td,a{\n                        -webkit-text-size-adjust:100%;\n                        -ms-text-size-adjust:100%;\n                        -webkit-font-smoothing: antialiased;\n                      }\n                      table,td{\n                        mso-table-lspace:0pt;\n                        mso-table-rspace:0pt;\n                      }\n                      img{\n                        -ms-interpolation-mode:bicubic;\n                      }\n                      body{\n                        margin:0;\n                        padding:0;\n                      }\n                      img{\n                        border:0;\n                        height:auto;\n                        line-height:100%;\n                        outline:none;\n                        text-decoration:none;\n                      }\n                      table{\n                        border-collapse:collapse !important;\n                      }\n                      body{\n                        height:100% !important;\n                        margin:0;\n                        padding:0;\n                        width:100% !important;\n                      }\n                    \n                      .appleBody a{\n                        color: #0087DB !important;\n                        text-decoration: underline !important;;\n                      }\n                    \n                      .appleFooter a{\n                        color: #343434 !important;\n                        text-decoration: none;\n                      }\n                      td[class=btn]{\n                        width:50% !important;\n                      }\n                    \n                      span.preheader { display: none !important; }\n                      @media screen and (max-width: 525px){\n                        table[class=wrapper]{\n                          width:100% !important;\n                        }\n                      \n                      }\t/*@media screen and (max-width: 525px){\n                        td[class=wrapper]{\n                          width:100% !important;\n                        }*/\n                      \n                      @media screen and (max-width: 525px){\n                        td[class=mobile-hide]{\n                          display:none;\n                        }\n                      \n                      }\n                      @media screen and (max-width: 525px){\n                        img[class=mobile-show]{\n                          display:block !important;\n                          height:60px !important;\n                          width:60px !important;\n                          overflow:auto !important;\n                        }\n                      \n                      }\n                      @media screen and (max-width: 525px){\n                        img[class=mobile-hide]{\n                          display:none !important;\n                        }\n                      \n                      }\t\n                      @media screen and (max-width: 525px){\n                        img[class=img-max]{\n                          max-width:100% !important;\n                          width:100% !important;\n                          height:auto !important;\n                        }\n                      \n                      }\t\n                      @media screen and (max-width: 525px){\n                        img[class=img-picture]{\n                          max-width:60% !important;\n                          width:60% !important;\n                          height:auto !important;\n                          float:right !important;\n                        }\n                      \n                      }\t\n                      @media screen and (max-width: 525px){\n                        table[class=responsive-table]{\n                          width:100%!important;\n                        }\n                      \n                      }\t\n                      @media screen and (max-width: 525px){\n                        table[class=responsive-column]{\n                          width:100%!important;\n                          padding:0px 0px 15px 0px !important;\n                          display:block !important;\n                        }\n                      }\t\n                      @media screen and (max-width: 525px){\n                        td[class=top-padding]{\n                          padding: 0px 0px 10px 0px !important;\n                        }\n                      \n                      } \n                      @media screen and (max-width: 525px){\n                        td[class=slice-padding]{\n                          padding:0px 15px 0px 15px !important;\n                        }\n                      \n                      }\t\n                      @media screen and (max-width: 525px){\n                        td[class=smaller-padding]{\n                          padding:15px 0px 15px 0px !important;\n                        }\n                      \n                      }\n                      @media screen and (max-width: 525px){\n                        td[class=section-padding]{\n                          padding: 0px 10px 20px 10px !important;\n                        }\n                      }\n                      @media screen and (max-width: 525px){\n                        .height {\n                          height: 100% !important;\n                        }        \n                      }\n                      @media screen and (max-width: 525px){\n                        td[class=mobile-wrapper]{\n                          padding:0 !important;\n                        }\n                      \n                      }\t\n                      @media screen and (max-width: 525px){\n                        td[class=title]{\n                          font-size: 16px !important;\n                        }\n                      \n                      }\t\n                      @media screen and (max-width: 525px){\n                        td[class=btn]{\n                          width:80% !important;\n                        }\n                      \n                      }\n                    </style>\n                    <!--[if gte mso 9]>\n                      <style type=\"text/css\">\n                        .img-max {\n                            width: 246px !important;\n                        }\n                      </style>\n                    <![endif]-->\n                  </head>\n                \n                  <body style=\"margin: 0; padding: 0;\">\n                    <div style=\"display:none !important; font-size:1px; color:#FFFFFF;\">\n                      <!-- It&#039;s on the way to XXXXX, Really Good Emails -->\n                    </div>\n                    <!-- HEADER LOGO -->\n                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                      <tr>\n                        <td bgcolor=\"#00C186\" style=\"background-color: #00C186;\">\n                          <div align=\"center\" style=\"padding: 0px 20px 0px 20px;\">\n                            <table boidrder=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                              <tr>\n                                <td bgcolor=\"#00C186\" style=\"background-color: #00C186;\">\n                                  <div align=\"center\" style=\"padding: 0px 20px 0px 20px;\">\n                                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"wrapper\" align=\"center\">\n                                      <tr align=\"center\">\n                                        <td style=\"padding: 10px 0px 10px 0px; text-align: center; width: 400px;\" class=\"logo\" align=\"center\">\n                                          <a>\n                                            <!-- <img alt=\"header\" src=\"http://media.firebox.com/i/nl/fb_light.png\" width=\"130\" border=\"0\"> -->\n                                            <img alt=\"header\" [src]=\"companyLogo\" width=\"70\" border=\"0\">\n                                          </a>\n                                        </td>\n                                      </tr>\n                                      <!-- <tr align=\"center\">\n                                        <td style=\"padding: 0px 0px 15px 0px; text-align: center; width: 400px;\" class=\"logo\" align=\"center\"> -->\n                                          <!-- <img src=\"https://media.firebox.com/i/transactional/header-dispatch.png\" width=\"100%\" class=\"img-max\"> -->\n                                        <!-- </td>\n                                      </tr> -->\n                                    </table>\n                                  </div>\n                                </td>\n                              </tr>\n                            </table>   \n                          </div>\n                        </td>\n                      </tr>\n                    </table>\n                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                      <tr>\n                        <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 10px 15px 10px 15px;\" class=\"top-padding\">\n                          <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                            <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                            <tr>\n                              <td>\n                                <!-- TWO COLUMNS -->\n                                <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                  <tr>\n                                    <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                      <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"600\" align=\"left\" class=\"responsive-table\">\n                                        <tr>\n                                          <td valign=\"top\" align=\"left\">\n                                            <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" class=\"responsive-table\">\n                                              <tr>\n                                                <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 10px; border: 1px solid #EFEFEF;\">\n                                                  <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"300\" valign=\"top\">\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" width=\"33%\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888 !important; font-size: 16px; line-height: 20px; font-weight: normal;\">\n                                                        <p>\n                                                          PFA The copy of invoice for the following bookings\n                                                        </p>\n                                                      </td>\n                                                    </tr>\n                                                  </table>\n                                                </td>\n                                              </tr>\n                                            </table>\n                                          </td>\n                                        </tr>\n                                      </table>\n                                    </td>\n                                  </tr>\n                                </table>\n                              </td>\n                            </tr>\n                          </table>\n                        </td>\n                      </tr>\n                    </table>\n                    <!-- ORDER CONFIRMATION -->\n                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" *ngFor=\"let element of bookings\">\n                      <tr>\n                        <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 0px 15px 10px 15px;\" class=\"top-padding\">\n                          <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                            <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                            <tr>\n                              <td>\n                                <!-- TWO COLUMNS -->\n                                <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                  <tr>\n                                    <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                      <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"600\" align=\"left\" class=\"responsive-table\">\n                                        <tr>\n                                          <td valign=\"top\" align=\"left\">\n                                            <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" class=\"responsive-table\">\n                                              <tr>\n                                                <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 10px; border: 1px solid #EFEFEF;\">\n                                                  <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"300\" valign=\"top\">\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">                                                  \n                                                      <td cellspacing=\"0\" cellpadding=\"0\" width=\"33%\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888 !important; font-size: 16px; line-height: 20px; font-weight: normal;\">\n                                                        <span style=\"color: #343434; text-transform: uppercase; font-size: 16px; -webkit-font-smoothing: auto; font-weight: bold;\" class=\"appleBody\">\n                                                          Booking no.\n                                                        </span>\n                                                        \n                                                        <span style=\"color: #0087DB !important; display: inline; float: right;\">\n                                                          {{element.id}}\n                                                        </span>\n                                                        <br />\n                                                        <span style=\"color: #343434; text-transform: uppercase; font-size: 16px; -webkit-font-smoothing: auto; font-weight: bold;\" class=\"appleBody\">\n                                                          Booked By\n                                                        </span>\n                                                        \n                                                        <span style=\"color: #0087DB !important; display: inline; float: right;\">\n                                                          {{element.bookedBy}}\n                                                        </span>\n                                                        <br />\n                                                        <span style=\"color: #343434; text-transform: uppercase; font-size: 16px; -webkit-font-smoothing: auto; font-weight: bold;\" class=\"appleBody\">\n                                                          Date\n                                                        </span>\n                                                        \n                                                        <span style=\"color: #0087DB !important; display: inline; float: right;\">\n                                                          {{element.departureDate}}\n                                                        </span>                                                        \n                                                      </td>\n                                                    </tr>\n                                                  </table>\n                                                </td>\n                                              </tr>\n                                            </table>\n                                          </td>\n                                        </tr>\n                                      </table>\n                                    </td>\n                                  </tr>\n                                </table>\n                              </td>\n                            </tr>\n                          </table>\n                        </td>\n                      </tr>\n                    </table>\n                    <!-- END ORDER CONFIRMATION -->                                                                            \n                    <!-- ROW CS CONTACT SECTION-->\n                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                      <tr>\n                        <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 0px 15px 10px 15px;\" class=\"section-padding\">\n                          <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                            <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                            <tr>\n                              <td>\n                                <!-- TWO COLUMNS -->\n                                <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                  <tr>\n                                    <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                      <!-- LEFT COLUMN -->\n                                      <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"290\" align=\"left\" class=\"responsive-table\">\n                                        <tr>\n                                          <td valign=\"top\" align=\"left\">\n                                            <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                              <tr>\n                                                <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" height=\"310\" width=\"290\" class=\"wrapper\" style=\"border: 1px solid #EFEFEF; width: 400px;\">\n                                                  <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\" style=\"width: 100%;\" class=\"responsive-table\">\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #333333; font-size: 18px; font-weight: bold; text-align: center; padding: 15px 20px 10px 20px; width: 400px;\">\n                                                        <img alt=\"\" src=\"https://media.firebox.com/i/transactional/icon-customer-service.png\" width=\"100\">\n                                                      </td>\n                                                    </tr>\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #333333; font-size: 16px; font-weight: bold; text-align: center; padding: 0px 20px 10px 20px; width: 400px; text-transform: uppercase;\">\n                                                        Got a query?\n                                                        <br />\n                                                        Get in touch\n                                                      </td>\n                                                    </tr>                                          \n                                                  </table>\n                                                </td>\n                                              </tr>\n                                            </table>\n                                          </td>\n                                        </tr>\n                                      </table>\n                                      <!-- RIGHT COLUMN -->\n                                      <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"290\" align=\"right\" class=\"responsive-table\">\n                                        <tr>\n                                          <td valign=\"top\" align=\"left\">\n                                            <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                              <tr>\n                                                <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" height=\"310\" width=\"290\" class=\"wrapper\" style=\"border: 1px solid #EFEFEF; width: 400px;\">\n                                                  <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\" style=\"width: 100%;\" class=\"responsive-table\">\n                                                    <!-- STYLE WIDTH FOR CHROME BROWSER -->\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: center; font-family:'sofia', Helvetica, Arial, sans-serif; padding: 10px 20px 10px 20px; color: #343434; text-transform: uppercase; width: 400px;\">\n                                                        Phone\n                                                      </td>\n                                                    </tr>\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #0087DB; font-size: 18px; font-weight: bold; text-align: center; padding: 0px 20px 10px 20px;\">\n                                                        <span class=\"appleBody\">{{customerDetails.phone}}</span>                                              \n                                                      </td>\n                                                    </tr>\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: center; font-family:'sofia', Helvetica, Arial, sans-serif; padding: 10px 20px 10px 20px; color: #343434; text-transform: uppercase;\">\n                                                        Email\n                                                      </td>\n                                                    </tr>\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: center; font-family:'sofia', Helvetica, Arial, sans-serif; color: #0087DB; padding: 0px 20px 20px 20px; font-weight: bold; font-size: 18px;\">\n                                                        <span class=\"appleBody\">                                                              \n                                                          {{customerDetails.email}}                                                              \n                                                        </span>\n                                                      </td>\n                                                    </tr>\n                                                  </table>\n                                                </td>\n                                              </tr>\n                                            </table>\n                                          </td>\n                                        </tr>\n                                      </table>\n                                    </td>\n                                  </tr>\n                                </table>\n                              </td>\n                            </tr>\n                          </table>\n                        </td>\n                      </tr>\n                    </table>\n                    <!-- END CS CONTACT ROW SECTION-->\n                    \n                    <!-- FOOTER -->\n                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                        <tr>\n                          <td bgcolor=\"#ffffff\" align=\"center\" style=\"padding: 20px 0px;\">\n                            <!-- UNSUBSCRIBE COPY -->\n                            <table width=\"600\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\" class=\"responsive-table\">\n                              <tr>\n                                <td width=\"100%\" align=\"center\" style=\"padding: 0 0 20px 0; font-size: 14px; line-height: 18px; font-family: Helvetica, Arial, sans-serif; color:#888888;\">\n                                  Until next time, <strong>Techsimians Team</strong>\n                                </td>\n                              </tr>\n                              <!-- <tr>\n                                <td>\n                                  <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" align=\"center\">\n                                    <tr width=\"183\">\n                                      <td>\n                                        <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" align=\"center\">\n                                          <tr width=\"157\">\n                                            <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                              <a href=\"https://www.facebook.com/Firebox\" target=\"blank\">\n                                                <img src=\"http://media.firebox.com/i/nl/facebook_icon.png\" width=\"16\" height=\"16\">\n                                              </a>\n                                            </td>\n                                            <td width=\"19\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                              <a href=\"https://twitter.com/Firebox\" target=\"blank\">\n                                                <img src=\"http://media.firebox.com/i/nl/twitter_icon.png\" width=\"19\" height=\"16\">\n                                              </a>\n                                            </td>\n                                            <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                              <a href=\"https://www.instagram.com/Firebox/\" target=\"blank\">\n                                                <img src=\"http://media.firebox.com/i/nl/instagram_icon.png\" width=\"16\" height=\"16\">\n                                              </a>\n                                            </td>\n                                            <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                              <a href=\"https://www.pinterest.com/firebox/\" target=\"blank\">\n                                                <img src=\"http://media.firebox.com/i/nl/pinterest_icon.png\" width=\"16\" height=\"16\">\n                                              </a>\n                                            </td>\n                                          </tr>\n                                        </table>\n                                      </td>\n                                    </tr>\n                                  </table>\n                                </td>\n                              </tr> -->\n                              <tr>\n                                <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 0 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                  <span class=\"appleBody\">\n                                    <strong>Techsimians</strong><br /> Mumbai, Maharashtra, India.\n                                  </span>\n                                </td>\n                              </tr>\n                              <!-- <tr>\n                                <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 20px 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                  <span class=\"appleBody\">\n                                    VAT Reg. No.: 798 6593 41 Registered in England & Wales, No. 3874477\n                                  </span>\n                                </td>\n                              </tr> -->\n                              <tr>\n                                <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 20px 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                  <span class=\"appleBody\" style=\"color:#888888;\">\n                                    <a style=\"color:#888888 !important;\">info@yourfleetman.com</a>\n                                  </span>\n                                  <span class=\"hide-mobile\">&nbsp; | &nbsp;</span>\n                                  <span class=\"appleBody break\" style=\"color:#888888;\">\n                                    <a href=\"http://www.techsimians.com\"\n                                      style=\"color: #888888 !important;\">www.techsimians.com</a>\n                                  </span>\n                                  <span class=\"hide-mobile\">&nbsp; | &nbsp;</span>\n                                  <span class=\"appleBody break\" style=\"color:#888888;\">\n                                    8080 425 120\n                                  </span>\n                                </td>\n                              </tr>\n                            </table>\n                          </td>                \n                      </tr>\n                    </table>\n                  </body>\n                </html>\n              </div>\n            </div>\n            <div class=\"row ptb-10\">\n              <div class=\"col-lg-12\">\n                <button style=\"float:left;\" mat-button matStepperPrevious>Back</button>\n                <button style=\"float:right;\" color=\"primary\" (click)=\"sendMail(template)\" mat-raised-button>Send Mail</button>\n              </div>\n            </div>\n          </mat-step>\n        </mat-horizontal-stepper>                      \n        \n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12\" style=\"text-align: center;\">\n    <!-- <button color=\"primary\" (click)=\"sendMail(template)\" mat-raised-button>Send Mail</button> -->\n    <button color=\"warn\" (click)=\"closeDialog()\" mat-raised-button>Close</button>\n  </div>\n</div>\n\n<!---------------------------------------------- Invoice -------------------------------------------------->\n<!---------------------------------------------- Invoice -------------------------------------------------->\n\n<div id=\"demo\" style=\"padding: 0 5px 0 5px\" hidden>\n  <div class=\"col-lg-12\" style=\"padding:10px;\"> \n    <table *ngIf=\"!businessSettings.HideBusinessLetterHead\" style=\"width: 100%;\" border-spacing=\"0\">\n      <tr>\n        <td rowspan=\"3\" style=\"border-bottom: 1px solid darkgrey; width: 10%; padding-left: 5%; padding-bottom: 10px;\">\n          <img [src]=\"companyLogo\" height=\"70px\" width=\"auto\" />\n        </td>\n        <td style=\"text-align:left; padding-left: 10%;\">\n          <b style=\"font-size: 18px; font-weight: 600 ;\">{{user.companyName}}</b>\n        </td>\n      </tr>\n      <tr>\n        <td style=\"text-align: left; padding-left: 10%;\">\n          <b>{{companyProfile.address}}</b>\n        </td>\n      </tr>\n      <tr>\n        <td style=\"border-bottom: 1px solid darkgrey; text-align: left; padding-bottom: 10px; padding-left: 10%;\">\n          <b><b>Email:</b> {{companyProfile.email}} <b>Mobile:</b> {{companyProfile.phone}}</b>\n        </td>\n      </tr>\n    </table>\n    <table style=\"width:100%\">\n      <tr>\n        <td style=\"border-bottom: 1px solid darkgrey; text-align: center;\"><b style=\"font-size: medium;\">Tax Invoice</b></td>\n      </tr>\n    </table>\n  </div>\n  <div class=\"box2\" style=\"display: flex; flex-direction: row; border-bottom: 0.1px solid; border-bottom-color: darkgrey;\">\n    <div class=\"col-lg-6 vl\" style=\"border-right: 0.1px solid; border-right-color: darkgrey; width: 50%;\">\n      <table cellpadding=2px>\n        <tr>\n          <td>\n            <b>\n              Customer Name:\n            </b>\n          </td>\n          <td>\n            {{customerDetails.name}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <b>\n              Customer No:\n            </b>\n          </td>\n          <td>\n            {{customerDetails.phone}}\n          </td>\n        </tr>\n        <tr>\n            <td>\n              <b>\n                Address:\n              </b>\n            </td>\n            <td>\n              {{customerDetails.caddress}}\n            </td>\n        </tr>\n        <tr>\n          <td>\n            <b>\n              State:\n            </b>\n          </td>\n          <td>\n            {{customerDetails.state}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <b>\n              PAN:\n            </b>\n          </td>\n          <td>\n            {{customerDetails.panNo}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <b>\n              GSTIN:\n            </b>\n          </td>\n          <td>\n            {{customerDetails.gstin}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <b>Billing Address:</b>\n          </td>\n          <td>\n            {{customerDetails.billingAddress}}\n          </td>\n        </tr>\n      </table>\n    </div>\n    <div class=\"col-lg-6\">\n      <table cellpadding=2px>\n        <tr>\n          <td><b>&nbsp;Invoice Number:</b></td>\n          <td>\n            {{invoiceDetails.invoiceNumber}}\n          </td>\n        </tr>\n          <tr><td><b>&nbsp;Invoice Date:</b></td>\n            <td>\n              {{invoiceDetails.invoiceDate | date: 'dd/MM/yyyy'}}\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <b>&nbsp;Invoice Period From:</b>\n            </td>\n            <td>\n              {{invoiceDetails.invoicePeriodFrom | date: 'dd/MM/yyyy'}}\n            </td>\n          </tr>\n          <tr>  \n            <td>\n              <b>&nbsp;Invoice Period To:</b>\n            </td>\n            <td>\n              {{invoiceDetails.invoicePeriodTo | date: 'dd/MM/yyyy'}}\n            </td>\n          </tr>\n        <tr>\n          <td>\n            <b>\n              &nbsp;CC Number:\n            </b>\n          </td>\n          <td>\n            {{invoiceDetails.CCNumber}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <b>\n              &nbsp;PO Number\n            </b>\n          </td>\n          <td>\n              {{invoiceDetails.PONumber}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n          </td>\n          <td>\n          </td>\n        </tr>\n      </table>\n    </div>\n  </div>\n  <div class=\"col-lg-12\">                \n    <table style=\"width:100%\" cellpadding=\"4\">\n      <tr class=\"invoiceTable\" style=\"border-bottom:1px solid;\">\n        <th>Sr.</th>\n        <th>Description</th>\n        <th>Rate</th>\n        <th>Quantity</th>\n        <th>Amount</th>\n      </tr>\n      <tr *ngFor=\"let temp of flightDetails; let i=index\" style=\" text-align:center;\" class=\"invoiceTable\" style=\"border-bottom:1px solid;\">                    \n        <td style=\"text-align:center;\">{{i+1}}</td>\n        <td class=\"tdleft\">\n          Flight Number:\n          <b>\n          {{temp.flightNo}}\n          </b><br>\n          Departure Date:\n          <b>\n          {{temp.departureDate}}\n          </b><br>\n          From:\n          <b>\n            {{temp.from}}\n          </b><br>\n          To: \n          <b>\n            {{temp.to}}\n          </b><br>\n          Passenger Name:\n          <b>\n            {{temp.guestName}}\n          </b>\n        </td>\n        <td style=\"text-align:center;\">{{temp.price}}</td>\n        <td style=\"text-align:center;\">1</td>\n        <td style=\"text-align:center;\">{{temp.price}}</td>\n      </tr>\n      <tbody style=\"page-break-inside: avoid;\">\n        <tr *ngFor=\"let temp of flightDetails; let i=index\" style=\" border-bottom:1px solid;\" class=\"invoiceTable\">\n          <td style=\"text-align:center;\">{{i+1}}</td>\n          <td class=\"tdleft\">\n            Handling Charges:\n          </td>\n          <td style=\"text-align:center;\">\n            {{temp.handlingCharges}}\n          </td>\n          <td style=\"text-align:center;\">\n            1\n          </td>\n          <td style=\"text-align:center;\">\n            {{temp.handlingCharges}}\n          </td>\n        </tr>\n        <tr class=\"invoiceTable\" *ngIf=\"invoiceDetails.taxableAmount != null\">\n          <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n            \n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            Taxable Amount\n          </td>\n          <td>&nbsp;</td>\n          <td class=\"tdright\" style=\"text-align: center;\">\n            <b>{{invoiceDetails.taxableAmount}}</b>\n          </td>\n        </tr>\n        <tr *ngIf=\"invoiceDetails.taxType == 'CGST+SGST'\" style=\"border-bottom:1px solid;\" class=\"invoiceTable\">\n          <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n            Tax Type:\n            \n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            <b>\n              &nbsp;CGST\n            </b>\n            <br>\n            <b>\n              SGST\n            </b>\n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            <b>\n              &nbsp;{{invoiceDetails.taxRate/2}}%\n            </b>\n            <br>\n            <b>\n              {{invoiceDetails.taxRate/2}}%\n            </b>\n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            <b>\n              &nbsp;{{invoiceDetails.taxAmount/2}}\n            </b>\n            <br>\n            <b>\n              {{invoiceDetails.taxAmount/2}}\n            </b>\n          </td>\n        </tr>\n        <tr *ngIf=\"invoiceDetails.taxType != 'CGST+SGST'\" style=\"border-bottom:1px solid;\" class=\"invoiceTable\">\n          <td colspan=\"3\" class=\"tdright\" style=\"text-align: right;\">\n            Tax Type:\n            <b>\n              {{invoiceDetails.taxType}}\n            </b>\n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            <b>\n              {{invoiceDetails.taxRate}}%\n            </b>\n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            <b>\n              {{invoiceDetails.taxAmount}}\n            </b>\n          </td>\n        </tr>\n        <tr style=\"border-bottom:1px solid;\" class=\"invoiceTable\">\n          <td colspan=\"3\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n            Discount Type:\n            <b>\n              {{invoiceDetails.discountType}}\n            </b>\n          </td>\n          <td></td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            <b>\n              {{invoiceDetails.discountAmount}}\n            </b>\n          </td>\n        </tr>\n        <tr class=\"invoiceTable\" *ngIf=\"invoiceDetails.nonTaxableAmount > 0\">\n          <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n            \n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            Non Taxable Amount\n          </td>\n          <td>&nbsp;</td>\n          <td class=\"tdright\" style=\"text-align: center;\">\n            <b>{{invoiceDetails.nonTaxableAmount}}</b>\n          </td>\n        </tr>\n        <tr class=\"invoiceTable\">\n          <td colspan=\"2\" style=\"text-align: left; border-bottom:2px solid black;\">\n            In Words: <b style=\"text-transform:capitalize;\">{{totalInWords}}</b>\n          </td>\n          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n            Gross Total:\n          </td>\n          <td style=\"border-bottom:2px solid black;\">&nbsp;</td>\n          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n            <b>{{invoiceDetails.totalAmount}}</b>\n          </td>\n        </tr>\n        <tr class=\"invoiceTable\">\n          <td colspan=\"3\" style=\"text-align: left; border-bottom:2px solid black;\">\n            Advance Paid:\n          </td>                      \n          <td style=\"border-bottom:2px solid black;\">&nbsp;</td>\n          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n            <b>{{invoiceDetails.advanceReceived}}</b>\n          </td>\n        </tr>\n        <tr class=\"invoiceTable\">\n          <td colspan=\"2\" style=\"text-align: left; border-bottom:2px solid black;\">\n            In Words: <b style=\"text-transform:capitalize;\">{{totalInWords}}</b>\n          </td>\n          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n            Net Total:\n          </td>\n          <td style=\"border-bottom:2px solid black;\">&nbsp;</td>\n          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n            <b>{{invoiceDetails.totalAmount - invoiceDetails.advanceReceived}}</b>\n          </td>\n        </tr>\n      </tbody>  \n    </table>  \n  </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/mailflightinvoice/mailflightinvoice.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/mailflightinvoice/mailflightinvoice.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MailflightinvoiceComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material_dialog__ = __webpack_require__("./node_modules/@angular/material/esm5/dialog.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__circles_companyprofile_companyprofile_service__ = __webpack_require__("./src/app/pages/circles/companyprofile/companyprofile.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__operations_new_bank_account_bank_account_service__ = __webpack_require__("./src/app/pages/operations/new-bank-account/bank-account.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_number_to_words__ = __webpack_require__("./node_modules/number-to-words/numberToWords.min.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_number_to_words___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_number_to_words__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};













var MailflightinvoiceComponent = (function () {
    function MailflightinvoiceComponent(data, dialog, auth, invoiceService, http, snackBar, _sanitizer, companyProfileService, bankAccountService, customerService, uploadService) {
        this.data = data;
        this.dialog = dialog;
        this.auth = auth;
        this.invoiceService = invoiceService;
        this.http = http;
        this.snackBar = snackBar;
        this._sanitizer = _sanitizer;
        this.companyProfileService = companyProfileService;
        this.bankAccountService = bankAccountService;
        this.customerService = customerService;
        this.uploadService = uploadService;
        this.totalInWords = '';
        this.companyLogo = '';
        this.user = {};
        this.selectedExtras = [];
        this.extras = [];
        this.bookedBy = {
            name: '',
            email: '',
        };
        this.customerDetails = {};
        this.customEmail = '';
        this.customer = true;
        this.bookBy = false;
        this.singleMail = false;
        this.emailAddresses = [];
        this.ccEmailAddresses = [];
        this.imgUrl = [];
        this.bookings = [];
        this.businessSettings = {};
        this.companyProfile = {};
        this.bankAccount = {};
        this.invoiceDetails = {};
        this.attachments = [];
        // console.log(data);
        this.invoiceDetails = data;
        this.invoiceDetails.invoiceDate = __WEBPACK_IMPORTED_MODULE_8_moment__(this.invoiceDetails.invoiceDate).format("YYYY-MM-DD");
        if (this.invoiceDetails.invoicePeriodFrom != '') {
            this.invoiceDetails.invoicePeriodFrom = __WEBPACK_IMPORTED_MODULE_8_moment__(this.invoiceDetails.invoicePeriodFrom).format("YYYY-MM-DD");
        }
        if (this.invoiceDetails.invoicePeriodTo != '') {
            this.invoiceDetails.invoicePeriodTo = __WEBPACK_IMPORTED_MODULE_8_moment__(this.invoiceDetails.invoicePeriodTo).format("YYYY-MM-DD");
        }
        this.invoiceId = data.id;
        this.totalInWords = __WEBPACK_IMPORTED_MODULE_12_number_to_words__["toWords"](this.invoiceDetails.totalAmount);
        this.invoiceNumber = data.invoiceNumber;
        // this.customerId=data.temp.customer
        // this.checkedBookings = data.temp.bookings
        // this.selectedBookings = this.checkedBookings
        console.log(this.invoiceDetails);
    }
    MailflightinvoiceComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            var temp = {
                id: _this.invoiceId
            };
            _this.companyProfileService.getCompanyProfile(_this.user).subscribe(function (data) {
                _this.companyProfile = data[0];
                _this.uploadService.getPresignedUrl(_this.user.companyName, _this.companyProfile.companyLogo, 'profileImages').subscribe(function (data) {
                    _this.companyLogo = data._body;
                });
                // this.uploadService.getFile(this.user.companyName,'profileImages',this.companyProfile.companyLogo).subscribe(data=>{
                //   this.companyLogo = this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' 
                //   + data.text());
                // })
            });
            _this.bankAccountService.getBankAccount(_this.user).subscribe(function (data) {
                console.log(data);
                _this.bankAccount = data[0];
            });
            _this.invoiceService.getFlightsInInvoice(temp).subscribe(function (data) {
                console.log(data);
                _this.flightDetails = data;
                data.forEach(function (element) {
                    _this.bookings.push({
                        id: element.id,
                        bookedBy: element.bookByName,
                        departureDate: __WEBPACK_IMPORTED_MODULE_8_moment__(element.startDate).format("YYYY-mm-DD")
                    });
                    console.log(_this.bookings);
                });
                _this.bookedBy.name = data[0].bookBy;
                _this.bookedBy.email = data[0].bookByEmail;
                _this.customerService.getSingleCustomer(data[0]).subscribe(function (data) {
                    console.log(data);
                    _this.customerDetails = data[0];
                });
            });
        });
        this.auth.businessSettings.subscribe(function (data) {
            _this.businessSettings = data;
        });
    };
    MailflightinvoiceComponent.prototype.mailDocs = function (element, event) {
        var index = this.selectedExtras.indexOf(element);
        if (event.checked) {
            this.selectedExtras.push(element);
            console.log(this.selectedExtras, index);
        }
        else {
            this.selectedExtras.splice(index, 1);
            console.log(this.selectedExtras, index);
        }
    };
    MailflightinvoiceComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    MailflightinvoiceComponent.prototype.sendMail = function (div1) {
        this.invoiceDetails.isMailed = true;
        if (this.selectedExtras.includes('Invoice')) {
            this.printInvoice();
        }
        if (this.customEmail != '' && !this.customEmail.match(/\b([a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+\.[a-zA-Z]{2,}$)\b/)) {
            this.snackBar.open('Enter a valid Email', null, {
                duration: 5000
            });
        }
        else if (this.customEmail != '') {
            if (this.singleMail) {
                this.emailAddresses.push(this.customEmail);
            }
            else {
                this.ccEmailAddresses.push(this.customEmail);
            }
            if (this.customer) {
                this.emailAddresses.push(this.customerDetails.email);
            }
            if (this.bookBy && this.singleMail) {
                this.emailAddresses.push(this.bookedBy.email);
            }
            else if (this.bookBy && !this.singleMail) {
                this.ccEmailAddresses.push(this.bookedBy.email);
            }
            console.log(this.emailAddresses, this.ccEmailAddresses);
            this.mailSubject = "Invoice #" + this.invoiceNumber + " for your trip has been generated";
            this.mailBody = div1.innerHTML;
            var temp = {
                companyEmail: this.companyProfile.email,
                name: this.companyProfile.name,
                email: this.emailAddresses,
                cc: this.ccEmailAddresses,
                subject: this.mailSubject,
                mailBody: this.mailBody,
            };
            this.invoiceService.updateFlightInvoice(this.invoiceDetails).subscribe();
            console.log(temp);
            this.http.post('/Voip/sendMail', temp).subscribe(function (data) {
                console.log(data);
            });
            this.snackBar.open('Mail Sent', null, {
                duration: 5000
            });
            this.dialog.closeAll();
        }
    };
    MailflightinvoiceComponent.prototype.printInvoice = function () {
        return __awaiter(this, void 0, void 0, function () {
            var data, pdfData;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        data = document.getElementById('demo').innerHTML;
                        pdfData = data;
                        return [4 /*yield*/, this.uploadService.generateInvoicePDF(pdfData, this.invoiceId + "_Invoice_" + __WEBPACK_IMPORTED_MODULE_8_moment__().format("DD-MM-YYYY"), "flightInvoice", this.user, this.companyProfile, this.bankAccount)];
                    case 1:
                        _a.sent();
                        this.attachments.push({ fileName: "Invoice_" + __WEBPACK_IMPORTED_MODULE_8_moment__().format("DD-MM-YYYY"), path: this.invoiceId + "_Invoice_" + __WEBPACK_IMPORTED_MODULE_8_moment__().format("DD-MM-YYYY") + ".pdf" });
                        return [2 /*return*/];
                }
            });
        });
    };
    MailflightinvoiceComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'mailflightinvoice',
            template: __webpack_require__("./src/app/pages/masters/mailflightinvoice/mailflightinvoice.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/mailflightinvoice/mailflightinvoice.component.scss")]
        }),
        __param(0, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_2__angular_material_dialog__["a" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [Object, __WEBPACK_IMPORTED_MODULE_2__angular_material_dialog__["b" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_1__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__createinvoice_invoice_service__["a" /* InvoiceService */],
            __WEBPACK_IMPORTED_MODULE_4__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_6__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_11__angular_platform_browser__["DomSanitizer"],
            __WEBPACK_IMPORTED_MODULE_9__circles_companyprofile_companyprofile_service__["a" /* CompanyprofileService */],
            __WEBPACK_IMPORTED_MODULE_10__operations_new_bank_account_bank_account_service__["a" /* BankAccountService */],
            __WEBPACK_IMPORTED_MODULE_7__customer_customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_5__fileupload_service__["a" /* FileuploadService */]])
    ], MailflightinvoiceComponent);
    return MailflightinvoiceComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/mailhotelinvoice/mailhotelinvoice.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        Invoice\n      </nb-card-header>\n      <nb-card-body>\n        <mat-horizontal-stepper #stepper>\n          <mat-step label=\"Email To:\">\n            <div class=\"row\">\n              <div class=\"col-lg-12 col-12\">\n                <b>To:</b>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-lg-6 col-12\">\n                <mat-checkbox [(ngModel)]=\"customer\">\n                  Customer: <br> {{customerDetails.name}} &nbsp;\n                </mat-checkbox>\n              </div>\n              <div class=\"col-lg-6 col-12\">\n                <mat-form-field>\n                  <input matInput [(ngModel)]=\"customerDetails.email\" readonly>\n                </mat-form-field>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-lg-6 col-12\">\n                <mat-checkbox [(ngModel)]=\"bookBy\">\n                  Booked By: <br> {{bookedBy.name}} &nbsp;\n                </mat-checkbox>\n              </div>\n              <div class=\"col-lg-6 col-12\">\n                <mat-form-field>                      \n                  <input matInput [(ngModel)]=\"bookedBy.email\" readonly>\n                </mat-form-field>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-lg-6 col-12\">\n                Custom:\n              </div>\n              <div class=\"col-lg-6 col-12\">\n                <mat-form-field>\n                  <input [(ngModel)]=\"customEmail\" matInput>\n                </mat-form-field>\n              </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-lg-12 col-12\">\n                  <mat-checkbox [(ngModel)]=\"singleMail\">\n                    Send a single email to selected email IDs \n                  </mat-checkbox>            \n                </div>\n            </div>\n            <div class=\"row ptb-10\">\n              <div class=\"col-lg-12\">\n                <button style=\"float:right;\" mat-button matStepperNext>Next</button>\n              </div>\n            </div>                \n          </mat-step>\n          <mat-step label=\"Attachments\">\n            <div class=\"row\">\n              <div class=\"col-lg-12 col-12\">\n                <h5>Attachments:</h5><br>\n                <mat-checkbox (change)=\"mailDocs('Invoice', $event)\">Invoice</mat-checkbox><br>                \n              </div>\n            </div>            \n            <div class=\"row ptb-10\">\n              <div class=\"col-lg-12\">\n                <button style=\"float:left;\" mat-button matStepperPrevious>Back</button>\n                <button style=\"float:right;\" mat-button matStepperNext>Next</button>\n              </div>\n            </div>\n          </mat-step>\n          <mat-step label=\"Mail\">\n            <div class=\"row\">\n              <div id=\"template\" #template>\n                <!DOCTYPE html>\n                <html lang=\"en\">          \n                  <head>\n                    <title></title>\n                    <meta charset=\"utf-8\">\n                    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n                    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n                    <style type=\"text/css\">\n                      @font-face {font-family: 'sofia';  src: url('http://media.firebox.com/fonts/sofiapro_regular_macroman/SofiaProRegular-webfont.woff') format('woff');  mso-font-alt: 'Arial';  font-weight: normal !important;  font-style: normal !important;}\n                      body,table,td,a{\n                        -webkit-text-size-adjust:100%;\n                        -ms-text-size-adjust:100%;\n                        -webkit-font-smoothing: antialiased;\n                      }\n                      table,td{\n                        mso-table-lspace:0pt;\n                        mso-table-rspace:0pt;\n                      }\n                      img{\n                        -ms-interpolation-mode:bicubic;\n                      }\n                      body{\n                        margin:0;\n                        padding:0;\n                      }\n                      img{\n                        border:0;\n                        height:auto;\n                        line-height:100%;\n                        outline:none;\n                        text-decoration:none;\n                      }\n                      table{\n                        border-collapse:collapse !important;\n                      }\n                      body{\n                        height:100% !important;\n                        margin:0;\n                        padding:0;\n                        width:100% !important;\n                      }\n                    \n                      .appleBody a{\n                        color: #0087DB !important;\n                        text-decoration: underline !important;;\n                      }\n                    \n                      .appleFooter a{\n                        color: #343434 !important;\n                        text-decoration: none;\n                      }\n                      td[class=btn]{\n                        width:50% !important;\n                      }\n                    \n                      span.preheader { display: none !important; }\n                      @media screen and (max-width: 525px){\n                        table[class=wrapper]{\n                          width:100% !important;\n                        }\n                      \n                      }\t/*@media screen and (max-width: 525px){\n                        td[class=wrapper]{\n                          width:100% !important;\n                        }*/\n                      \n                      @media screen and (max-width: 525px){\n                        td[class=mobile-hide]{\n                          display:none;\n                        }\n                      \n                      }\n                      @media screen and (max-width: 525px){\n                        img[class=mobile-show]{\n                          display:block !important;\n                          height:60px !important;\n                          width:60px !important;\n                          overflow:auto !important;\n                        }\n                      \n                      }\n                      @media screen and (max-width: 525px){\n                        img[class=mobile-hide]{\n                          display:none !important;\n                        }\n                      \n                      }\t\n                      @media screen and (max-width: 525px){\n                        img[class=img-max]{\n                          max-width:100% !important;\n                          width:100% !important;\n                          height:auto !important;\n                        }\n                      \n                      }\t\n                      @media screen and (max-width: 525px){\n                        img[class=img-picture]{\n                          max-width:60% !important;\n                          width:60% !important;\n                          height:auto !important;\n                          float:right !important;\n                        }\n                      \n                      }\t\n                      @media screen and (max-width: 525px){\n                        table[class=responsive-table]{\n                          width:100%!important;\n                        }\n                      \n                      }\t\n                      @media screen and (max-width: 525px){\n                        table[class=responsive-column]{\n                          width:100%!important;\n                          padding:0px 0px 15px 0px !important;\n                          display:block !important;\n                        }\n                      }\t\n                      @media screen and (max-width: 525px){\n                        td[class=top-padding]{\n                          padding: 0px 0px 10px 0px !important;\n                        }\n                      \n                      } \n                      @media screen and (max-width: 525px){\n                        td[class=slice-padding]{\n                          padding:0px 15px 0px 15px !important;\n                        }\n                      \n                      }\t\n                      @media screen and (max-width: 525px){\n                        td[class=smaller-padding]{\n                          padding:15px 0px 15px 0px !important;\n                        }\n                      \n                      }\n                      @media screen and (max-width: 525px){\n                        td[class=section-padding]{\n                          padding: 0px 10px 20px 10px !important;\n                        }\n                      }\n                      @media screen and (max-width: 525px){\n                        .height {\n                          height: 100% !important;\n                        }        \n                      }\n                      @media screen and (max-width: 525px){\n                        td[class=mobile-wrapper]{\n                          padding:0 !important;\n                        }\n                      \n                      }\t\n                      @media screen and (max-width: 525px){\n                        td[class=title]{\n                          font-size: 16px !important;\n                        }\n                      \n                      }\t\n                      @media screen and (max-width: 525px){\n                        td[class=btn]{\n                          width:80% !important;\n                        }\n                      \n                      }\n                    </style>\n                    <!--[if gte mso 9]>\n                      <style type=\"text/css\">\n                        .img-max {\n                            width: 246px !important;\n                        }\n                      </style>\n                    <![endif]-->\n                  </head>\n                \n                  <body style=\"margin: 0; padding: 0;\">\n                    <div style=\"display:none !important; font-size:1px; color:#FFFFFF;\">\n                      <!-- It&#039;s on the way to XXXXX, Really Good Emails -->\n                    </div>\n                    <!-- HEADER LOGO -->\n                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                      <tr>\n                        <td bgcolor=\"#00C186\" style=\"background-color: #00C186;\">\n                          <div align=\"center\" style=\"padding: 0px 20px 0px 20px;\">\n                            <table boidrder=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                              <tr>\n                                <td bgcolor=\"#00C186\" style=\"background-color: #00C186;\">\n                                  <div align=\"center\" style=\"padding: 0px 20px 0px 20px;\">\n                                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"wrapper\" align=\"center\">\n                                      <tr align=\"center\">\n                                        <td style=\"padding: 10px 0px 10px 0px; text-align: center; width: 400px;\" class=\"logo\" align=\"center\">\n                                          <a>\n                                            <!-- <img alt=\"header\" src=\"http://media.firebox.com/i/nl/fb_light.png\" width=\"130\" border=\"0\"> -->\n                                            <img alt=\"header\" [src]=\"companyLogo\" width=\"70\" border=\"0\">\n                                          </a>\n                                        </td>\n                                      </tr>\n                                      <!-- <tr align=\"center\">\n                                        <td style=\"padding: 0px 0px 15px 0px; text-align: center; width: 400px;\" class=\"logo\" align=\"center\"> -->\n                                          <!-- <img src=\"https://media.firebox.com/i/transactional/header-dispatch.png\" width=\"100%\" class=\"img-max\"> -->\n                                        <!-- </td>\n                                      </tr> -->\n                                    </table>\n                                  </div>\n                                </td>\n                              </tr>\n                            </table>   \n                          </div>\n                        </td>\n                      </tr>\n                    </table>\n                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                      <tr>\n                        <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 10px 15px 10px 15px;\" class=\"top-padding\">\n                          <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                            <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                            <tr>\n                              <td>\n                                <!-- TWO COLUMNS -->\n                                <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                  <tr>\n                                    <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                      <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"600\" align=\"left\" class=\"responsive-table\">\n                                        <tr>\n                                          <td valign=\"top\" align=\"left\">\n                                            <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" class=\"responsive-table\">\n                                              <tr>\n                                                <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 10px; border: 1px solid #EFEFEF;\">\n                                                  <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"300\" valign=\"top\">\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" width=\"33%\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888 !important; font-size: 16px; line-height: 20px; font-weight: normal;\">\n                                                        <p>\n                                                          PFA The copy of invoice for the following bookings\n                                                        </p>\n                                                      </td>\n                                                    </tr>\n                                                  </table>\n                                                </td>\n                                              </tr>\n                                            </table>\n                                          </td>\n                                        </tr>\n                                      </table>\n                                    </td>\n                                  </tr>\n                                </table>\n                              </td>\n                            </tr>\n                          </table>\n                        </td>\n                      </tr>\n                    </table>\n                    <!-- ORDER CONFIRMATION -->\n                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" *ngFor=\"let element of bookings\">\n                      <tr>\n                        <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 0px 15px 10px 15px;\" class=\"top-padding\">\n                          <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                            <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                            <tr>\n                              <td>\n                                <!-- TWO COLUMNS -->\n                                <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                  <tr>\n                                    <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                      <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"600\" align=\"left\" class=\"responsive-table\">\n                                        <tr>\n                                          <td valign=\"top\" align=\"left\">\n                                            <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" class=\"responsive-table\">\n                                              <tr>\n                                                <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 10px; border: 1px solid #EFEFEF;\">\n                                                  <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"300\" valign=\"top\">\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\" >                                                  \n                                                      <td cellspacing=\"0\" cellpadding=\"0\" width=\"33%\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888 !important; font-size: 16px; line-height: 20px; font-weight: normal;\">\n                                                        <span style=\"color: #343434; text-transform: uppercase; font-size: 16px; -webkit-font-smoothing: auto; font-weight: bold;\" class=\"appleBody\">\n                                                          Booking no.\n                                                        </span>\n                                                        \n                                                        <span style=\"color: #0087DB !important; display: inline; float: right;\">\n                                                          {{element.id}}\n                                                        </span>\n                                                        <br />\n                                                        <span style=\"color: #343434; text-transform: uppercase; font-size: 16px; -webkit-font-smoothing: auto; font-weight: bold;\" class=\"appleBody\">\n                                                          Booked By\n                                                        </span>\n                                                        \n                                                        <span style=\"color: #0087DB !important; display: inline; float: right;\">\n                                                          {{element.bookedBy}}\n                                                        </span>\n                                                        <br />\n                                                        <span style=\"color: #343434; text-transform: uppercase; font-size: 16px; -webkit-font-smoothing: auto; font-weight: bold;\" class=\"appleBody\">\n                                                          Check In Date\n                                                        </span>\n                                                        \n                                                        <span style=\"color: #0087DB !important; display: inline; float: right;\">\n                                                          {{element.checkInDate}}\n                                                        </span>\n                                                        <br />\n                                                        <span style=\"color: #343434; text-transform: uppercase; font-size: 16px; -webkit-font-smoothing: auto; font-weight: bold;\" class=\"appleBody\">\n                                                          Check Out Date\n                                                        </span>\n                                                        \n                                                        <span style=\"color: #0087DB !important; display: inline; float: right;\">\n                                                          {{element.checkOutDate}}\n                                                        </span>\n                                                      </td>\n                                                    </tr>\n                                                  </table>\n                                                </td>\n                                              </tr>\n                                            </table>\n                                          </td>\n                                        </tr>\n                                      </table>\n                                    </td>\n                                  </tr>\n                                </table>\n                              </td>\n                            </tr>\n                          </table>\n                        </td>\n                      </tr>\n                    </table>\n                    <!-- END ORDER CONFIRMATION -->                                                                            \n                    <!-- ROW CS CONTACT SECTION-->\n                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                      <tr>\n                        <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 0px 15px 20px 15px;\" class=\"section-padding\">\n                          <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                            <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                            <tr>\n                              <td>\n                                <!-- TWO COLUMNS -->\n                                <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                  <tr>\n                                    <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                      <!-- LEFT COLUMN -->\n                                      <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"290\" align=\"left\" class=\"responsive-table\">\n                                        <tr>\n                                          <td valign=\"top\" align=\"left\">\n                                            <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                              <tr>\n                                                <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" height=\"310\" width=\"290\" class=\"wrapper\" style=\"border: 1px solid #EFEFEF; width: 400px;\">\n                                                  <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\" style=\"width: 100%;\" class=\"responsive-table\">\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #333333; font-size: 18px; font-weight: bold; text-align: center; padding: 15px 20px 10px 20px; width: 400px;\">\n                                                        <img alt=\"\" src=\"https://media.firebox.com/i/transactional/icon-customer-service.png\" width=\"100\">\n                                                      </td>\n                                                    </tr>\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #333333; font-size: 16px; font-weight: bold; text-align: center; padding: 0px 20px 10px 20px; width: 400px; text-transform: uppercase;\">\n                                                        Got a query?\n                                                        <br />\n                                                        Get in touch\n                                                      </td>\n                                                    </tr>                                          \n                                                  </table>\n                                                </td>\n                                              </tr>\n                                            </table>\n                                          </td>\n                                        </tr>\n                                      </table>\n                                      <!-- RIGHT COLUMN -->\n                                      <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"290\" align=\"right\" class=\"responsive-table\">\n                                        <tr>\n                                          <td valign=\"top\" align=\"left\">\n                                            <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                              <tr>\n                                                <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" height=\"310\" width=\"290\" class=\"wrapper\" style=\"border: 1px solid #EFEFEF; width: 400px;\">\n                                                  <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\" style=\"width: 100%;\" class=\"responsive-table\">\n                                                    <!-- STYLE WIDTH FOR CHROME BROWSER -->\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: center; font-family:'sofia', Helvetica, Arial, sans-serif; padding: 10px 20px 10px 20px; color: #343434; text-transform: uppercase; width: 400px;\">\n                                                        Phone\n                                                      </td>\n                                                    </tr>\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #0087DB; font-size: 18px; font-weight: bold; text-align: center; padding: 0px 20px 10px 20px;\">\n                                                        <span class=\"appleBody\">{{customerDetails.phone}}</span>                                              \n                                                      </td>\n                                                    </tr>\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: center; font-family:'sofia', Helvetica, Arial, sans-serif; padding: 10px 20px 10px 20px; color: #343434; text-transform: uppercase;\">\n                                                        Email\n                                                      </td>\n                                                    </tr>\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: center; font-family:'sofia', Helvetica, Arial, sans-serif; color: #0087DB; padding: 0px 20px 20px 20px; font-weight: bold; font-size: 18px;\">\n                                                        <span class=\"appleBody\">                                                              \n                                                          {{customerDetails.email}}                                                              \n                                                        </span>\n                                                      </td>\n                                                    </tr>\n                                                  </table>\n                                                </td>\n                                              </tr>\n                                            </table>\n                                          </td>\n                                        </tr>\n                                      </table>\n                                    </td>\n                                  </tr>\n                                </table>\n                              </td>\n                            </tr>\n                          </table>\n                        </td>\n                      </tr>\n                    </table>\n                    <!-- END CS CONTACT ROW SECTION-->\n                    \n                    <!-- FOOTER -->\n                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                        <tr>\n                          <td bgcolor=\"#ffffff\" align=\"center\" style=\"padding: 20px 0px;\">\n                            <!-- UNSUBSCRIBE COPY -->\n                            <table width=\"600\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\" class=\"responsive-table\">\n                              <tr>\n                                <td width=\"100%\" align=\"center\" style=\"padding: 0 0 20px 0; font-size: 14px; line-height: 18px; font-family: Helvetica, Arial, sans-serif; color:#888888;\">\n                                  Until next time, <strong>Techsimians Team</strong>\n                                </td>\n                              </tr>\n                              <!-- <tr>\n                                <td>\n                                  <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" align=\"center\">\n                                    <tr width=\"183\">\n                                      <td>\n                                        <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" align=\"center\">\n                                          <tr width=\"157\">\n                                            <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                              <a href=\"https://www.facebook.com/Firebox\" target=\"blank\">\n                                                <img src=\"http://media.firebox.com/i/nl/facebook_icon.png\" width=\"16\" height=\"16\">\n                                              </a>\n                                            </td>\n                                            <td width=\"19\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                              <a href=\"https://twitter.com/Firebox\" target=\"blank\">\n                                                <img src=\"http://media.firebox.com/i/nl/twitter_icon.png\" width=\"19\" height=\"16\">\n                                              </a>\n                                            </td>\n                                            <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                              <a href=\"https://www.instagram.com/Firebox/\" target=\"blank\">\n                                                <img src=\"http://media.firebox.com/i/nl/instagram_icon.png\" width=\"16\" height=\"16\">\n                                              </a>\n                                            </td>\n                                            <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                              <a href=\"https://www.pinterest.com/firebox/\" target=\"blank\">\n                                                <img src=\"http://media.firebox.com/i/nl/pinterest_icon.png\" width=\"16\" height=\"16\">\n                                              </a>\n                                            </td>\n                                          </tr>\n                                        </table>\n                                      </td>\n                                    </tr>\n                                  </table>\n                                </td>\n                              </tr> -->\n                              <tr>\n                                <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 0 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                  <span class=\"appleBody\">\n                                    <strong>Techsimians</strong><br /> Mumbai, Maharashtra, India.\n                                  </span>\n                                </td>\n                              </tr>\n                              <!-- <tr>\n                                <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 20px 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                  <span class=\"appleBody\">\n                                    VAT Reg. No.: 798 6593 41 Registered in England & Wales, No. 3874477\n                                  </span>\n                                </td>\n                              </tr> -->\n                              <tr>\n                                <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 20px 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                  <span class=\"appleBody\" style=\"color:#888888;\">\n                                    <a style=\"color:#888888 !important;\">info@yourfleetman.com</a>\n                                  </span>\n                                  <span class=\"hide-mobile\">&nbsp; | &nbsp;</span>\n                                  <span class=\"appleBody break\" style=\"color:#888888;\">\n                                    <a href=\"http://www.techsimians.com\"\n                                      style=\"color: #888888 !important;\">www.techsimians.com</a>\n                                  </span>\n                                  <span class=\"hide-mobile\">&nbsp; | &nbsp;</span>\n                                  <span class=\"appleBody break\" style=\"color:#888888;\">\n                                    8080 425 120\n                                  </span>\n                                </td>\n                              </tr>\n                            </table>\n                          </td>                \n                      </tr>\n                    </table>\n                  </body>\n                </html>\n              </div>\n            </div>\n            <div class=\"row ptb-10\">\n              <div class=\"col-lg-12\">\n                <button style=\"float:left;\" mat-button matStepperPrevious>Back</button>\n                <button style=\"float:right;\" color=\"primary\" (click)=\"sendMail(template)\" mat-raised-button>Send Mail</button>\n              </div>\n            </div>\n          </mat-step>\n        </mat-horizontal-stepper>                      \n        \n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12\" style=\"text-align: center;\">\n    <!-- <button color=\"primary\" (click)=\"sendMail(template)\" mat-raised-button>Send Mail</button> -->\n    <button color=\"warn\" (click)=\"closeDialog()\" mat-raised-button>Close</button>\n  </div>\n</div>\n\n\n<!---------------------------------------------- Invoice -------------------------------------------------->\n<!---------------------------------------------- Invoice -------------------------------------------------->\n\n<div id=\"demo\" style=\"padding: 0 5px 0 5px\" hidden>\n  <div class=\"col-lg-12\" style=\"padding:10px;\"> \n    <table *ngIf=\"!businessSettings.HideBusinessLetterHead\" style=\"width: 100%;\" border-spacing=\"0\">\n      <tr>\n        <td rowspan=\"3\" style=\"border-bottom: 1px solid darkgrey; width: 10%; padding-left: 5%; padding-bottom: 10px;\">\n          <img alt=\"\" [src]=\"companyLogo\" height=\"70px\" width=\"auto\" />\n        </td>\n        <td style=\"text-align:left; padding-left: 10%;\">\n          <b style=\"font-size: 18px; font-weight: 600 ;\">{{user.companyName}}</b>\n        </td>\n      </tr>\n      <tr>\n        <td style=\"text-align: left; padding-left: 10%;\">\n          <b>{{companyProfile.address}}</b>\n        </td>\n      </tr>\n      <tr>\n        <td style=\"border-bottom: 1px solid darkgrey; text-align: left; padding-bottom: 10px; padding-left: 10%;\">\n          <b><b>Email:</b> {{companyProfile.email}} <b>Mobile:</b> {{companyProfile.phone}}</b>\n        </td>\n      </tr>\n    </table>\n    <table style=\"width:100%\">\n      <tr>\n        <td style=\"border-bottom: 1px solid darkgrey; text-align: center;\"><b style=\"font-size: medium;\">Tax Invoice</b></td>\n      </tr>\n    </table>\n  </div>\n  <div class=\"box2\" style=\"display: flex; flex-direction: row; border-bottom: 0.1px solid; border-bottom-color: darkgrey;\">\n    <div class=\"col-lg-6 vl\" style=\"border-right: 0.1px solid; border-right-color: darkgrey; width: 50%;\">\n      <table cellpadding=2px>\n        <tr>\n          <td>\n            <b>\n              Customer Name:\n            </b>\n          </td>\n          <td>\n            {{customerDetails.name}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <b>\n              Customer No:\n            </b>\n          </td>\n          <td>\n            {{customerDetails.phone}}\n          </td>\n        </tr>\n        <tr>\n            <td>\n              <b>\n                Address:\n              </b>\n            </td>\n            <td>\n              {{customerDetails.caddress}}\n            </td>\n        </tr>\n        <tr>\n          <td>\n            <b>\n              State:\n            </b>\n          </td>\n          <td>\n            {{customerDetails.state}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <b>\n              PAN:\n            </b>\n          </td>\n          <td>\n            {{customerDetails.panNo}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <b>GSTIN:</b>\n          </td>\n          <td>\n            {{customerDetails.gstin}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <b>Billing Address:</b>\n          </td>\n          <td>\n            {{customerDetails.billingAddress}}\n          </td>\n        </tr>\n      </table>\n    </div>\n    <div class=\"col-lg-6\">\n      <table cellpadding=2px>\n        <tr>\n          <td><b>&nbsp;Invoice Number:</b></td>\n          <td>\n            {{invoiceDetails.invoiceNumber}}\n          </td>\n        </tr>\n          <tr><td><b>&nbsp;Invoice Date:</b></td>\n            <td>\n              {{invoiceDetails.invoiceDate | date: 'dd/MM/yyyy'}}\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <b>&nbsp;Invoice Period From:</b>\n            </td>\n            <td>\n              {{invoiceDetails.invoicePeriodFrom | date: 'dd/MM/yyyy'}}\n            </td>\n          </tr>\n          <tr>  \n            <td>\n              <b>&nbsp;Invoice Period To:</b>\n            </td>\n            <td>\n              {{invoiceDetails.invoicePeriodTo | date: 'dd/MM/yyyy'}}\n            </td>\n          </tr>\n        <tr>\n          <td>\n            <b>\n              &nbsp;CC Number:\n            </b>\n          </td>\n          <td>\n            {{invoiceDetails.CCNumber}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <b>\n              &nbsp;PO Number\n            </b>\n          </td>\n          <td>\n              {{invoiceDetails.PONumber}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n          </td>\n          <td>\n          </td>\n        </tr>\n      </table>\n    </div>\n  </div>\n  <div class=\"col-lg-12\">                \n    <table style=\"width:100%\" cellpadding=\"4\">\n      <tr class=\"invoiceTable\" style=\"border-bottom:1px solid;\">\n        <th>Sr.</th>\n        <th>Description</th>\n        <th>Rate</th>\n        <th>Quantity</th>\n        <th>Amount</th>\n      </tr>\n      <tr *ngFor=\"let temp of selectedBookings; let i=index\" style=\" text-align:center;\" class=\"invoiceTable\" style=\"border-bottom:1px solid;\">                      \n        <td style=\"text-align:center;\">{{i+1}}</td>\n        <td class=\"tdleft\">\n          Hotel Name:\n          <b>\n            {{temp.hotelName}}\n          </b><br>\n          Hotel City:\n          <b>\n            {{temp.hotelCity}}\n          </b><br>\n          Check-in Date:\n          <b>\n            {{temp.checkInDate}}\n          </b><br>\n          Check-out Date:\n          <b>\n            {{temp.checkOutDate}}\n          </b><br>\n          Guest Name:\n          <b>\n            {{temp.guestName}}  \n          </b>\n        </td>\n        <td style=\"text-align:center;\">{{temp.intTotal}}</td>\n        <td style=\"text-align:center;\">1</td>\n        <td style=\"text-align:center;\">{{temp.intTotal}}</td>\n      </tr>\n      <tbody style=\"page-break-inside: avoid\">\n        <tr class=\"invoiceTable\" *ngIf=\"invoiceDetails.taxableAmount != null\">\n          <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n            \n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            Taxable Amount\n          </td>\n          <td>&nbsp;</td>\n          <td class=\"tdright\" style=\"text-align: center;\">\n            <b>{{invoiceDetails.taxableAmount}}</b>\n          </td>\n        </tr>\n        <tr *ngIf=\"invoiceDetails.taxType == 'CGST+SGST'\" style=\"border-bottom:1px solid;\" class=\"invoiceTable\">\n          <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n            Tax Type:\n            \n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            <b>\n              &nbsp;CGST\n            </b>\n            <br>\n            <b>\n              SGST\n            </b>\n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            <b>\n              &nbsp;{{invoiceDetails.taxRate/2}}%\n            </b>\n            <br>\n            <b>\n              {{invoiceDetails.taxRate/2}}%\n            </b>\n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            <b>\n              &nbsp;{{invoiceDetails.taxAmount/2}}\n            </b>\n            <br>\n            <b>\n              {{invoiceDetails.taxAmount/2}}\n            </b>\n          </td>\n        </tr>\n        <tr *ngIf=\"invoiceDetails.taxType != 'CGST+SGST'\" style=\"border-bottom:1px solid;\" class=\"invoiceTable\">\n          <td colspan=\"3\" class=\"tdright\" style=\"text-align: right;\">\n            Tax Type:\n            <b>\n              {{invoiceDetails.taxType}}\n            </b>\n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            <b>\n              {{invoiceDetails.taxRate}}%\n            </b>\n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            <b>\n              {{invoiceDetails.taxAmount}}\n            </b>\n          </td>\n        </tr>\n        <tr style=\"border-bottom:1px solid;\" class=\"invoiceTable\">\n          <td colspan=\"3\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n            Discount Type:\n            <b>\n              {{invoiceDetails.discountType}}\n            </b>\n          </td>\n          <td></td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            <b>\n              {{invoiceDetails.discountAmount}}\n            </b>\n          </td>\n        </tr>\n        <tr class=\"invoiceTable\" *ngIf=\"invoiceDetails.nonTaxableAmount > 0\">\n          <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n            \n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            Non Taxable Amount\n          </td>\n          <td>&nbsp;</td>\n          <td class=\"tdright\" style=\"text-align: center;\">\n            <b>{{invoiceDetails.nonTaxableAmount}}</b>\n          </td>\n        </tr>\n        <tr class=\"invoiceTable\">\n          <td colspan=\"2\" style=\"text-align: left; border-bottom:2px solid black;\">\n            In Words: <b style=\"text-transform:capitalize;\">{{totalInWords}}</b>\n          </td>\n          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n            Gross Total:\n          </td>\n          <td style=\"border-bottom:2px solid black;\">&nbsp;</td>\n          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n            <b>{{invoiceDetails.totalAmount}}</b>\n          </td>\n        </tr>\n        <tr class=\"invoiceTable\">\n          <td colspan=\"3\" style=\"text-align: left; border-bottom:2px solid black;\">\n            Advance Paid:\n          </td>                      \n          <td style=\"border-bottom:2px solid black;\">&nbsp;</td>\n          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n            <b>{{invoiceDetails.advanceReceived}}</b>\n          </td>\n        </tr>\n        <tr class=\"invoiceTable\">\n          <td colspan=\"2\" style=\"text-align: left; border-bottom:2px solid black;\">\n            In Words: <b style=\"text-transform:capitalize;\">{{totalInWords}}</b>\n          </td>\n          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n            Net Total:\n          </td>\n          <td style=\"border-bottom:2px solid black;\">&nbsp;</td>\n          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n            <b>{{invoiceDetails.totalAmount - invoiceDetails.advanceReceived}}</b>\n          </td>\n        </tr>\n      </tbody>                  \n    </table>  \n  </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/mailhotelinvoice/mailhotelinvoice.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/mailhotelinvoice/mailhotelinvoice.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MailhotelinvoiceComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material_dialog__ = __webpack_require__("./node_modules/@angular/material/esm5/dialog.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_number_to_words__ = __webpack_require__("./node_modules/number-to-words/numberToWords.min.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_number_to_words___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_number_to_words__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__circles_companyprofile_companyprofile_service__ = __webpack_require__("./src/app/pages/circles/companyprofile/companyprofile.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__operations_new_bank_account_bank_account_service__ = __webpack_require__("./src/app/pages/operations/new-bank-account/bank-account.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};













var MailhotelinvoiceComponent = (function () {
    function MailhotelinvoiceComponent(auth, data, dialog, invoiceService, http, snackBar, _sanitizer, companyProfileService, bankAccountService, customerService, uploadService) {
        this.auth = auth;
        this.data = data;
        this.dialog = dialog;
        this.invoiceService = invoiceService;
        this.http = http;
        this.snackBar = snackBar;
        this._sanitizer = _sanitizer;
        this.companyProfileService = companyProfileService;
        this.bankAccountService = bankAccountService;
        this.customerService = customerService;
        this.uploadService = uploadService;
        this.selectedBookings = [];
        this.totalInWords = '';
        this.companyLogo = '';
        this.user = {};
        this.selectedExtras = [];
        this.extras = [];
        this.invoiceDetails = {};
        this.bookedBy = {
            name: '',
            email: '',
        };
        this.customerDetails = {};
        this.customEmail = '';
        this.customer = true;
        this.bookBy = false;
        this.singleMail = false;
        this.emailAddresses = [];
        this.ccEmailAddresses = [];
        this.imgUrl = [];
        this.bookings = [];
        this.companyProfile = {};
        this.bankAccount = {};
        this.businessSettings = {};
        this.attachments = [];
        // console.log(data);
        this.invoiceDetails = data;
        this.invoiceDetails.invoiceDate = __WEBPACK_IMPORTED_MODULE_8_moment__(this.invoiceDetails.invoiceDate).format("YYYY-MM-DD");
        if (this.invoiceDetails.invoicePeriodFrom != '') {
            this.invoiceDetails.invoicePeriodFrom = __WEBPACK_IMPORTED_MODULE_8_moment__(this.invoiceDetails.invoicePeriodFrom).format("YYYY-MM-DD");
        }
        if (this.invoiceDetails.invoicePeriodTo != '') {
            this.invoiceDetails.invoicePeriodTo = __WEBPACK_IMPORTED_MODULE_8_moment__(this.invoiceDetails.invoicePeriodTo).format("YYYY-MM-DD");
        }
        this.totalInWords = __WEBPACK_IMPORTED_MODULE_9_number_to_words__["toWords"](this.invoiceDetails.totalAmount);
        this.invoiceId = data.id;
        this.invoiceNumber = data.invoiceNumber;
        // this.customerId=data.temp.customer
        // this.checkedBookings = data.temp.bookings
        // this.selectedBookings = this.checkedBookings
    }
    MailhotelinvoiceComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            var temp = {
                id: _this.invoiceId
            };
            _this.companyProfileService.getCompanyProfile(_this.user).subscribe(function (data) {
                _this.companyProfile = data[0];
                _this.uploadService.getPresignedUrl(_this.user.companyName, _this.companyProfile.companyLogo, 'profileImages').subscribe(function (data) {
                    _this.companyLogo = data._body;
                });
                // this.uploadService.getFile(this.user.companyName,'profileImages',this.companyProfile.companyLogo).subscribe(data=>{
                //   this.companyLogo = this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' 
                //   + data.text());
                // })
            });
            _this.bankAccountService.getBankAccount(_this.user).subscribe(function (data) {
                console.log(data);
                _this.bankAccount = data[0];
            });
            _this.invoiceService.getHotelsInInvoice(temp).subscribe(function (data) {
                console.log(data);
                _this.selectedBookings = data;
                data.forEach(function (element) {
                    _this.bookings.push({
                        id: element.id,
                        bookedBy: element.bookByName,
                        checkInDate: __WEBPACK_IMPORTED_MODULE_8_moment__(element.startDate).format("YYYY-mm-DD"),
                        checkOutDate: __WEBPACK_IMPORTED_MODULE_8_moment__(element.startDate).format("YYYY-mm-DD")
                    });
                    console.log(_this.bookings);
                });
                _this.bookedBy.name = data[0].bookBy;
                _this.bookedBy.email = data[0].bookByEmail;
                _this.customerService.getSingleCustomer(data[0]).subscribe(function (data) {
                    console.log(data);
                    _this.customerDetails = data[0];
                });
            });
        });
        this.auth.businessSettings.subscribe(function (data) {
            _this.businessSettings = data;
        });
    };
    MailhotelinvoiceComponent.prototype.mailDocs = function (element, event) {
        var index = this.selectedExtras.indexOf(element);
        if (event.checked) {
            this.selectedExtras.push(element);
            console.log(this.selectedExtras, index);
        }
        else {
            this.selectedExtras.splice(index, 1);
            console.log(this.selectedExtras, index);
        }
    };
    MailhotelinvoiceComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    MailhotelinvoiceComponent.prototype.sendMail = function (div1) {
        this.invoiceDetails.isMailed = true;
        if (this.selectedExtras.includes('Invoice')) {
            this.printInvoice();
        }
        if (this.customEmail != '' && !this.customEmail.match(/\b([a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+\.[a-zA-Z]{2,}$)\b/)) {
            this.snackBar.open('Enter a valid Email', null, {
                duration: 5000
            });
        }
        else if (this.customEmail != '') {
            if (this.singleMail) {
                this.emailAddresses.push(this.customEmail);
            }
            else {
                this.ccEmailAddresses.push(this.customEmail);
            }
            if (this.customer) {
                this.emailAddresses.push(this.customerDetails.email);
            }
            if (this.bookBy && this.singleMail) {
                this.emailAddresses.push(this.bookedBy.email);
            }
            else if (this.bookBy && !this.singleMail) {
                this.ccEmailAddresses.push(this.bookedBy.email);
            }
            console.log(this.emailAddresses, this.ccEmailAddresses);
            this.mailSubject = "Invoice #" + this.invoiceNumber + " for your trip has been generated";
            this.mailBody = div1.innerHTML;
            var temp = {
                companyEmail: this.companyProfile.email,
                name: this.companyProfile.name,
                email: this.emailAddresses,
                cc: this.ccEmailAddresses,
                subject: this.mailSubject,
                mailBody: this.mailBody,
                attachments: this.attachments,
            };
            this.invoiceService.updateHotelInvoice(this.invoiceDetails).subscribe();
            console.log(temp);
            this.http.post('/Voip/sendMail', temp).subscribe(function (data) {
                console.log(data);
            });
            this.snackBar.open('Mail Sent', null, {
                duration: 5000
            });
            this.dialog.closeAll();
        }
    };
    MailhotelinvoiceComponent.prototype.printInvoice = function () {
        return __awaiter(this, void 0, void 0, function () {
            var data, pdfData;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        data = document.getElementById('demo').innerHTML;
                        pdfData = data;
                        return [4 /*yield*/, this.uploadService.generateInvoicePDF(pdfData, this.invoiceId + "_Invoice_" + __WEBPACK_IMPORTED_MODULE_8_moment__().format("DD-MM-YYYY"), "hotelInvoice", this.user, this.companyProfile, this.bankAccount)];
                    case 1:
                        _a.sent();
                        this.attachments.push({ fileName: "Invoice_" + __WEBPACK_IMPORTED_MODULE_8_moment__().format("DD-MM-YYYY"), path: this.invoiceId + "_Invoice_" + __WEBPACK_IMPORTED_MODULE_8_moment__().format("DD-MM-YYYY") + ".pdf" });
                        return [2 /*return*/];
                }
            });
        });
    };
    MailhotelinvoiceComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'mailhotelinvoice',
            template: __webpack_require__("./src/app/pages/masters/mailhotelinvoice/mailhotelinvoice.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/mailhotelinvoice/mailhotelinvoice.component.scss")]
        }),
        __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_2__angular_material_dialog__["a" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__core_auth_service__["a" /* AuthService */], Object, __WEBPACK_IMPORTED_MODULE_2__angular_material_dialog__["b" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_3__createinvoice_invoice_service__["a" /* InvoiceService */],
            __WEBPACK_IMPORTED_MODULE_4__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_6__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_10__angular_platform_browser__["DomSanitizer"],
            __WEBPACK_IMPORTED_MODULE_11__circles_companyprofile_companyprofile_service__["a" /* CompanyprofileService */],
            __WEBPACK_IMPORTED_MODULE_12__operations_new_bank_account_bank_account_service__["a" /* BankAccountService */],
            __WEBPACK_IMPORTED_MODULE_7__customer_customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_5__fileupload_service__["a" /* FileuploadService */]])
    ], MailhotelinvoiceComponent);
    return MailhotelinvoiceComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/mailinvoice/mailinvoice.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        Invoice\n      </nb-card-header>\n      <nb-card-body>\n        <mat-horizontal-stepper #stepper>\n          <mat-step label=\"Email To:\">\n              <div class=\"row\">\n                  <div class=\"col-lg-12 col-12\">\n                    <b>To:</b>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <div class=\"col-lg-6 col-12\">\n                    <mat-checkbox [(ngModel)]=\"customer\">\n                      Customer: <br> {{customerDetails.name}} &nbsp;\n                    </mat-checkbox>\n                  </div>\n                  <div class=\"col-lg-6 col-12\">\n                    <mat-form-field>\n                      <input matInput [(ngModel)]=\"customerDetails.email\" readonly>\n                    </mat-form-field>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <div class=\"col-lg-6 col-12\">\n                    <mat-checkbox [(ngModel)]=\"bookBy\">\n                      Booked By: <br> {{bookedBy.name}} &nbsp;\n                    </mat-checkbox>\n                  </div>\n                  <div class=\"col-lg-6 col-12\">\n                    <mat-form-field>                      \n                      <input matInput [(ngModel)]=\"bookedBy.email\" readonly>\n                    </mat-form-field>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <div class=\"col-lg-6 col-12\">\n                    Custom:\n                  </div>\n                  <div class=\"col-lg-6 col-12\">\n                    <mat-form-field>\n                      <input [(ngModel)]=\"customEmail\" matInput>\n                    </mat-form-field>\n                  </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-lg-12 col-12\">\n                      <mat-checkbox [(ngModel)]=\"singleMail\">\n                        Send a single email to selected email IDs \n                      </mat-checkbox>            \n                    </div>\n                </div>\n                <div class=\"row ptb-10\">\n                  <div class=\"col-lg-12\">\n                    <button style=\"float:right;\" mat-button matStepperNext>Next</button>\n                  </div>\n                </div>\n          </mat-step>\n          <mat-step label=\"Attachments\">\n              <div class=\"row\">\n                  <div class=\"col-lg-12 col-12\">\n                    <h5>Attachments:</h5><br>\n                    <mat-checkbox (change)=\"mailDocs('Invoice', $event)\">Invoice</mat-checkbox><br>\n                    <mat-checkbox (change)=\"mailDocs('Duty Summary', $event)\">Duty Summary</mat-checkbox><br>\n                  </div>\n                </div>\n                <div class=\"row\" *ngFor=\"let element of extras; let i=index\">\n                  <div class=\"col-lg-6 col-12\" style=\"margin:auto;\">\n                    <mat-checkbox [value]=\"element.name\" (change)=\"mailImages(element, $event , i)\">{{element.name}}<br></mat-checkbox>\n                  </div>\n                  <div class=\"col-lg-6 col-12\">\n                    <img alt=\"\" *ngIf=\"element.fileName != ''\" [src]=\"imgUrl[i]\"  width=\"150px\" height=\"150px\">\n                  </div>\n                </div> \n                <div class=\"row ptb-10\">\n                    <div class=\"col-lg-12\">\n                      <button style=\"float:left;\" mat-button matStepperPrevious>Back</button>\n                      <button style=\"float:right;\" mat-button matStepperNext>Next</button>\n                  </div>\n                </div>\n          </mat-step>\n          <mat-step label=\"Mail\">\n              <div class=\"row\">\n                  <div id=\"template\" #template>\n                    <!DOCTYPE html>\n                    <html lang=\"en\">          \n                      <head>\n                        <title></title>\n                        <meta charset=\"utf-8\">\n                        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n                        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n                        <style type=\"text/css\">\n                          @font-face {font-family: 'sofia';  src: url('http://media.firebox.com/fonts/sofiapro_regular_macroman/SofiaProRegular-webfont.woff') format('woff');  mso-font-alt: 'Arial';  font-weight: normal !important;  font-style: normal !important;}\n                          body,table,td,a{\n                            -webkit-text-size-adjust:100%;\n                            -ms-text-size-adjust:100%;\n                            -webkit-font-smoothing: antialiased;\n                          }\n                          table,td{\n                            mso-table-lspace:0pt;\n                            mso-table-rspace:0pt;\n                          }\n                          img{\n                            -ms-interpolation-mode:bicubic;\n                          }\n                          body{\n                            margin:0;\n                            padding:0;\n                          }\n                          img{\n                            border:0;\n                            height:auto;\n                            line-height:100%;\n                            outline:none;\n                            text-decoration:none;\n                          }\n                          table{\n                            border-collapse:collapse !important;\n                          }\n                          body{\n                            height:100% !important;\n                            margin:0;\n                            padding:0;\n                            width:100% !important;\n                          }\n                        \n                          .appleBody a{\n                            color: #0087DB !important;\n                            text-decoration: underline !important;;\n                          }\n                        \n                          .appleFooter a{\n                            color: #343434 !important;\n                            text-decoration: none;\n                          }\n                          td[class=btn]{\n                            width:50% !important;\n                          }\n                        \n                          span.preheader { display: none !important; }\n                          @media screen and (max-width: 525px){\n                            table[class=wrapper]{\n                              width:100% !important;\n                            }\n                          \n                          }\t/*@media screen and (max-width: 525px){\n                            td[class=wrapper]{\n                              width:100% !important;\n                            }*/\n                          \n                          @media screen and (max-width: 525px){\n                            td[class=mobile-hide]{\n                              display:none;\n                            }\n                          \n                          }\n                          @media screen and (max-width: 525px){\n                            img[class=mobile-show]{\n                              display:block !important;\n                              height:60px !important;\n                              width:60px !important;\n                              overflow:auto !important;\n                            }\n                          \n                          }\n                          @media screen and (max-width: 525px){\n                            img[class=mobile-hide]{\n                              display:none !important;\n                            }\n                          \n                          }\t\n                          @media screen and (max-width: 525px){\n                            img[class=img-max]{\n                              max-width:100% !important;\n                              width:100% !important;\n                              height:auto !important;\n                            }\n                          \n                          }\t\n                          @media screen and (max-width: 525px){\n                            img[class=img-picture]{\n                              max-width:60% !important;\n                              width:60% !important;\n                              height:auto !important;\n                              float:right !important;\n                            }\n                          \n                          }\t\n                          @media screen and (max-width: 525px){\n                            table[class=responsive-table]{\n                              width:100%!important;\n                            }\n                          \n                          }\t\n                          @media screen and (max-width: 525px){\n                            table[class=responsive-column]{\n                              width:100%!important;\n                              padding:0px 0px 15px 0px !important;\n                              display:block !important;\n                            }\n                          }\t\n                          @media screen and (max-width: 525px){\n                            td[class=top-padding]{\n                              padding: 0px 0px 10px 0px !important;\n                            }\n                          \n                          } \n                          @media screen and (max-width: 525px){\n                            td[class=slice-padding]{\n                              padding:0px 15px 0px 15px !important;\n                            }\n                          \n                          }\t\n                          @media screen and (max-width: 525px){\n                            td[class=smaller-padding]{\n                              padding:15px 0px 15px 0px !important;\n                            }\n                          \n                          }\n                          @media screen and (max-width: 525px){\n                            td[class=section-padding]{\n                              padding: 0px 10px 20px 10px !important;\n                            }\n                          }\n                          @media screen and (max-width: 525px){\n                            .height {\n                              height: 100% !important;\n                            }        \n                          }\n                          @media screen and (max-width: 525px){\n                            td[class=mobile-wrapper]{\n                              padding:0 !important;\n                            }\n                          \n                          }\t\n                          @media screen and (max-width: 525px){\n                            td[class=title]{\n                              font-size: 16px !important;\n                            }\n                          \n                          }\t\n                          @media screen and (max-width: 525px){\n                            td[class=btn]{\n                              width:80% !important;\n                            }\n                          \n                          }\n                        </style>\n                        <!--[if gte mso 9]>\n                          <style type=\"text/css\">\n                            .img-max {\n                                width: 246px !important;\n                            }\n                          </style>\n                        <![endif]-->\n                      </head>\n                    \n                      <body style=\"margin: 0; padding: 0;\">\n                        <div style=\"display:none !important; font-size:1px; color:#FFFFFF;\">\n                          <!-- It&#039;s on the way to XXXXX, Really Good Emails -->\n                        </div>\n                        <!-- HEADER LOGO -->\n                        <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                          <tr>\n                            <td bgcolor=\"#00C186\" style=\"background-color: #00C186;\">\n                              <div align=\"center\" style=\"padding: 0px 20px 0px 20px;\">\n                                <table boidrder=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                                  <tr>\n                                    <td bgcolor=\"#00C186\" style=\"background-color: #00C186;\">\n                                      <div align=\"center\" style=\"padding: 0px 20px 0px 20px;\">\n                                        <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"wrapper\" align=\"center\">\n                                          <tr align=\"center\">\n                                            <td style=\"padding: 10px 0px 10px 0px; text-align: center; width: 400px;\" class=\"logo\" align=\"center\">\n                                              <a>\n                                                <!-- <img alt=\"header\" src=\"http://media.firebox.com/i/nl/fb_light.png\" width=\"130\" border=\"0\"> -->\n                                                <img alt=\"header\" [src]=\"companyLogo\" width=\"70\" border=\"0\">\n                                              </a>\n                                            </td>\n                                          </tr>\n                                          <!-- <tr align=\"center\">\n                                            <td style=\"padding: 0px 0px 15px 0px; text-align: center; width: 400px;\" class=\"logo\" align=\"center\"> -->\n                                              <!-- <img src=\"https://media.firebox.com/i/transactional/header-dispatch.png\" width=\"100%\" class=\"img-max\"> -->\n                                            <!-- </td>\n                                          </tr> -->\n                                        </table>\n                                      </div>\n                                    </td>\n                                  </tr>\n                                </table>   \n                              </div>\n                            </td>\n                          </tr>\n                        </table>\n                        <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                          <tr>\n                            <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 10px 15px 10px 15px;\" class=\"top-padding\">\n                              <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                                <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                                <tr>\n                                  <td>\n                                    <!-- TWO COLUMNS -->\n                                    <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                      <tr>\n                                        <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                          <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"600\" align=\"left\" class=\"responsive-table\">\n                                            <tr>\n                                              <td valign=\"top\" align=\"left\">\n                                                <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" class=\"responsive-table\">\n                                                  <tr>\n                                                    <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 10px; border: 1px solid #EFEFEF;\">\n                                                      <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"300\" valign=\"top\">\n                                                        <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                          <td cellspacing=\"0\" cellpadding=\"0\" width=\"33%\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888 !important; font-size: 16px; line-height: 20px; font-weight: normal;\">\n                                                            <p>\n                                                              PFA The copy of invoice for the following bookings\n                                                            </p>\n                                                          </td>\n                                                        </tr>\n                                                      </table>\n                                                    </td>\n                                                  </tr>\n                                                </table>\n                                              </td>\n                                            </tr>\n                                          </table>\n                                        </td>\n                                      </tr>\n                                    </table>\n                                  </td>\n                                </tr>\n                              </table>\n                            </td>\n                          </tr>\n                        </table>\n                        <!-- ORDER CONFIRMATION -->\n                        <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" *ngFor=\"let element of bookings\">\n                          <tr>\n                            <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 0px 15px 10px 15px;\" class=\"top-padding\">\n                              <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                                <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                                <tr>\n                                  <td>\n                                    <!-- TWO COLUMNS -->\n                                    <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                      <tr>\n                                        <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                          <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"600\" align=\"left\" class=\"responsive-table\">\n                                            <tr>\n                                              <td valign=\"top\" align=\"left\">\n                                                <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" class=\"responsive-table\">\n                                                  <tr>\n                                                    <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 10px; border: 1px solid #EFEFEF;\">\n                                                      <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"300\" valign=\"top\">\n                                                        <tr cellspacing=\"0\" cellpadding=\"0\">                                                  \n                                                          <td cellspacing=\"0\" cellpadding=\"0\" width=\"33%\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888 !important; font-size: 16px; line-height: 20px; font-weight: normal;\">\n                                                            <span style=\"color: #343434; text-transform: uppercase; font-size: 14px; -webkit-font-smoothing: auto; font-weight: bold;\" class=\"appleBody\">\n                                                              Booking no.\n                                                            </span>\n                                                            \n                                                            <span style=\"color: #0087DB !important; font-size: 14px; display: inline; float: right;\">\n                                                              {{element.id}}\n                                                            </span>\n                                                            <br />\n                                                            <span style=\"color: #343434; text-transform: uppercase; font-size: 14px; -webkit-font-smoothing: auto; font-weight: bold;\" class=\"appleBody\">\n                                                              Duty Type\n                                                            </span>\n                                                            \n                                                            <span style=\"color: #0087DB !important; font-size: 14px; display: inline; float: right;\">\n                                                              {{element.dutyType}}\n                                                            </span>\n                                                            <br />\n                                                            <span style=\"color: #343434; text-transform: uppercase; font-size: 14px; -webkit-font-smoothing: auto; font-weight: bold;\" class=\"appleBody\">\n                                                              Booked By\n                                                            </span>\n                                                            \n                                                            <span style=\"color: #0087DB !important; font-size: 14px; display: inline; float: right;\">\n                                                              {{element.bookedBy}}\n                                                            </span>\n                                                            <br />\n                                                            <span style=\"color: #343434; text-transform: uppercase; font-size: 14px; -webkit-font-smoothing: auto; font-weight: bold;\" class=\"appleBody\">\n                                                              Date\n                                                            </span>\n                                                            \n                                                            <span style=\"color: #0087DB !important; font-size: 14px; display: inline; float: right;\">\n                                                              {{element.date}}\n                                                            </span>\n                                                          </td>\n                                                        </tr>\n                                                      </table>\n                                                    </td>\n                                                  </tr>\n                                                </table>\n                                              </td>\n                                            </tr>\n                                          </table>\n                                        </td>\n                                      </tr>\n                                    </table>\n                                  </td>\n                                </tr>\n                              </table>\n                            </td>\n                          </tr>\n                        </table>\n                        <!-- END ORDER CONFIRMATION -->                                                                            \n                        <!-- ROW CS CONTACT SECTION-->\n                        <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                          <tr>\n                            <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 0px 15px 20px 15px;\" class=\"section-padding\">\n                              <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                                <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                                <tr>\n                                  <td>\n                                    <!-- TWO COLUMNS -->\n                                    <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                      <tr>\n                                        <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                          <!-- LEFT COLUMN -->\n                                          <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"290\" align=\"left\" class=\"responsive-table\">\n                                            <tr>\n                                              <td valign=\"top\" align=\"left\">\n                                                <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                                  <tr>\n                                                    <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" height=\"310\" width=\"290\" class=\"wrapper\" style=\"border: 1px solid #EFEFEF; width: 400px;\">\n                                                      <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\" style=\"width: 100%;\" class=\"responsive-table\">\n                                                        <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                          <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #333333; font-size: 18px; font-weight: bold; text-align: center; padding: 15px 20px 10px 20px; width: 400px;\">\n                                                            <img alt=\"\" src=\"https://media.firebox.com/i/transactional/icon-customer-service.png\" width=\"100\">\n                                                          </td>\n                                                        </tr>\n                                                        <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                          <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #333333; font-size: 16px; font-weight: bold; text-align: center; padding: 0px 20px 10px 20px; width: 400px; text-transform: uppercase;\">\n                                                            Got a query?\n                                                            <br />\n                                                            Get in touch\n                                                          </td>\n                                                        </tr>                                          \n                                                      </table>\n                                                    </td>\n                                                  </tr>\n                                                </table>\n                                              </td>\n                                            </tr>\n                                          </table>\n                                          <!-- RIGHT COLUMN -->\n                                          <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"290\" align=\"right\" class=\"responsive-table\">\n                                            <tr>\n                                              <td valign=\"top\" align=\"left\">\n                                                <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                                  <tr>\n                                                    <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" height=\"310\" width=\"290\" class=\"wrapper\" style=\"border: 1px solid #EFEFEF; width: 400px;\">\n                                                      <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\" style=\"width: 100%;\" class=\"responsive-table\">\n                                                        <!-- STYLE WIDTH FOR CHROME BROWSER -->\n                                                        <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                          <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: center; font-family:'sofia', Helvetica, Arial, sans-serif; padding: 10px 20px 10px 20px; color: #343434; text-transform: uppercase; width: 400px;\">\n                                                            Phone\n                                                          </td>\n                                                        </tr>\n                                                        <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                          <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #0087DB; font-size: 18px; font-weight: bold; text-align: center; padding: 0px 20px 10px 20px;\">\n                                                            <span class=\"appleBody\">{{customerDetails.phone}}</span>                                              \n                                                          </td>\n                                                        </tr>\n                                                        <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                          <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: center; font-family:'sofia', Helvetica, Arial, sans-serif; padding: 10px 20px 10px 20px; color: #343434; text-transform: uppercase;\">\n                                                            Email\n                                                          </td>\n                                                        </tr>\n                                                        <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                          <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: center; font-family:'sofia', Helvetica, Arial, sans-serif; color: #0087DB; padding: 0px 20px 20px 20px; font-weight: bold; font-size: 18px;\">\n                                                            <span class=\"appleBody\">\n                                                              <a href=\"mailto:info@firebox.com\" style=\"color: #0087DB; text-decoration: none !important;\">\n                                                                {{customerDetails.email}}\n                                                              </a>\n                                                            </span>\n                                                          </td>\n                                                        </tr>\n                                                      </table>\n                                                    </td>\n                                                  </tr>\n                                                </table>\n                                              </td>\n                                            </tr>\n                                          </table>\n                                        </td>\n                                      </tr>\n                                    </table>\n                                  </td>\n                                </tr>\n                              </table>\n                            </td>\n                          </tr>\n                        </table>\n                        <!-- END CS CONTACT ROW SECTION-->\n                        \n                        <!-- FOOTER -->\n                        <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                            <tr>\n                              <td bgcolor=\"#ffffff\" align=\"center\" style=\"padding: 20px 0px;\">\n                                <!-- UNSUBSCRIBE COPY -->\n                                <table width=\"600\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\" class=\"responsive-table\">\n                                  <tr>\n                                    <td width=\"100%\" align=\"center\" style=\"padding: 0 0 20px 0; font-size: 14px; line-height: 18px; font-family: Helvetica, Arial, sans-serif; color:#888888;\">\n                                      Until next time, <strong>Techsimians Team</strong>\n                                    </td>\n                                  </tr>\n                                  <!-- <tr>\n                                    <td>\n                                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" align=\"center\">\n                                        <tr width=\"183\">\n                                          <td>\n                                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" align=\"center\">\n                                              <tr width=\"157\">\n                                                <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                                  <a href=\"https://www.facebook.com/Firebox\" target=\"blank\">\n                                                    <img src=\"http://media.firebox.com/i/nl/facebook_icon.png\" width=\"16\" height=\"16\">\n                                                  </a>\n                                                </td>\n                                                <td width=\"19\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                                  <a href=\"https://twitter.com/Firebox\" target=\"blank\">\n                                                    <img src=\"http://media.firebox.com/i/nl/twitter_icon.png\" width=\"19\" height=\"16\">\n                                                  </a>\n                                                </td>\n                                                <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                                  <a href=\"https://www.instagram.com/Firebox/\" target=\"blank\">\n                                                    <img src=\"http://media.firebox.com/i/nl/instagram_icon.png\" width=\"16\" height=\"16\">\n                                                  </a>\n                                                </td>\n                                                <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                                  <a href=\"https://www.pinterest.com/firebox/\" target=\"blank\">\n                                                    <img src=\"http://media.firebox.com/i/nl/pinterest_icon.png\" width=\"16\" height=\"16\">\n                                                  </a>\n                                                </td>\n                                              </tr>\n                                            </table>\n                                          </td>\n                                        </tr>\n                                      </table>\n                                    </td>\n                                  </tr> -->\n                                  <tr>\n                                    <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 0 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                      <span class=\"appleBody\">\n                                        <strong>Techsimians</strong><br /> Mumbai, Maharashtra, India.\n                                      </span>\n                                    </td>\n                                  </tr>\n                                  <!-- <tr>\n                                    <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 20px 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                      <span class=\"appleBody\">\n                                        VAT Reg. No.: 798 6593 41 Registered in England & Wales, No. 3874477\n                                      </span>\n                                    </td>\n                                  </tr> -->\n                                  <tr>\n                                    <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 20px 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                      <span class=\"appleBody\" style=\"color:#888888;\">\n                                        <a style=\"color:#888888 !important;\">info@yourfleetman.com</a>\n                                      </span>\n                                      <span class=\"hide-mobile\">&nbsp; | &nbsp;</span>\n                                      <span class=\"appleBody break\" style=\"color:#888888;\">\n                                        <a href=\"http://www.techsimians.com\"\n                                          style=\"color: #888888 !important;\">www.techsimians.com</a>\n                                      </span>\n                                      <span class=\"hide-mobile\">&nbsp; | &nbsp;</span>\n                                      <span class=\"appleBody break\" style=\"color:#888888;\">\n                                        8080 425 120\n                                      </span>\n                                    </td>\n                                  </tr>\n                                </table>\n                              </td>                \n                          </tr>\n                        </table>\n                      </body>\n                    </html>\n                  </div>\n                </div>\n                <div class=\"row ptb-10\">\n                    <div class=\"col-lg-12\">\n                      <button style=\"float:left;\" mat-button matStepperPrevious>Back</button>\n                      <button style=\"float:right;\" color=\"primary\" (click)=\"sendMail(template)\" mat-raised-button>Send Mail</button>\n                    </div>\n                  </div>\n          </mat-step>\n        </mat-horizontal-stepper>                      \n        \n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12\" style=\"text-align: center;\">\n    <!-- <button color=\"primary\" (click)=\"sendMail(template)\" mat-raised-button>Send Mail</button> -->\n    <button color=\"warn\" (click)=\"closeDialog()\" mat-raised-button>Close</button>\n  </div>\n</div>\n\n\n<!---------------------------------------------- Invoice -------------------------------------------------->\n<!---------------------------------------------- Invoice -------------------------------------------------->\n\n<div #demo id=\"demo\" style=\"padding: 0 5px 0 5px\" hidden>\n  <div class=\"col-lg-12\" style=\"padding:10px;\"> \n    <table *ngIf=\"!businessSettings.HideBusinessLetterHead\" style=\"width: 100%;\" border-spacing=\"0\">\n      <tr>\n        <td rowspan=\"3\" style=\"border-bottom: 1px solid darkgrey; width: 10%; padding-left: 5%; padding-bottom: 10px;\">\n          <img alt=\"\" [src]=\"companyLogo\" height=\"70px\" width=\"auto\" />\n        </td>\n        <td style=\"text-align:left; padding-left: 10%;\">\n          <b style=\"font-size: 18px; font-weight: 600 ;\">{{user.companyName}}</b>\n        </td>\n      </tr>\n      <tr>\n        <td style=\"text-align: left; padding-left: 10%;\">\n          <b>{{companyProfile.address}}</b>\n        </td>\n      </tr>\n      <tr>\n        <td style=\"border-bottom: 1px solid darkgrey; text-align: left; padding-bottom: 10px; padding-left: 10%;\">\n          <b><b>Email:</b> {{companyProfile.email}} <b>Mobile:</b> {{companyProfile.phone}}</b>\n        </td>\n      </tr>\n    </table>\n    <table style=\"width:100%\">\n      <tr>\n        <td style=\"border-bottom: 1px solid darkgrey; text-align: center;\"><b style=\"font-size: medium;\">Tax Invoice</b></td>\n      </tr>\n    </table>\n  </div>\n  <div class=\"box2\" style=\"display: flex; flex-direction: row; border-bottom: 0.1px solid; border-bottom-color: darkgrey;\">\n    <div class=\"col-lg-6 vl\" style=\"border-right: 0.1px solid; border-right-color: darkgrey; width: 50%;\">\n      <table cellpadding=2px>\n        <tr>\n          <td>\n            <b>\n              Customer Name:\n            </b>\n          </td>\n          <td>\n            {{customerDetails.name}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <b>\n              Customer No:\n            </b>\n          </td>\n          <td>\n            {{customerDetails.phone}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <b>\n              Address:\n            </b>\n          </td>\n          <td>\n            {{customerDetails.caddress}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <b>\n              State:\n            </b>\n          </td>\n          <td>\n            {{customerDetails.state}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <b>\n              PAN:\n            </b>\n          </td>\n          <td>\n            {{customerDetails.panNo}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <b>GSTIN:</b>\n          </td>\n          <td>\n            {{customerDetails.gstin}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <b>Billing Address:</b>\n          </td>\n          <td>\n            {{customerDetails.billingAddress}}\n          </td>\n        </tr>\n      </table>\n    </div>\n    <div class=\"col-lg-6\">\n      <table cellpadding=2px>\n        <tr>\n          <td><b>&nbsp;Invoice Number:</b></td>\n          <td>\n            {{invoiceDetails.invoiceNumber}}\n          </td>\n        </tr>\n        <tr><td><b>&nbsp;Invoice Date:</b></td>\n          <td>\n            {{invoiceDetails.invoiceDate | date: 'dd/MM/yyyy'}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <b>&nbsp;Invoice Period From:</b>\n          </td>\n          <td>\n            {{invoiceDetails.invoicePeriodFrom | date: 'dd/MM/yyyy'}}\n          </td>\n        </tr>\n        <tr>  \n          <td>\n            <b>&nbsp;Invoice Period To:</b>\n          </td>\n          <td>\n            {{invoiceDetails.invoicePeriodTo | date: 'dd/MM/yyyy'}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <b>\n              &nbsp;CC Number:\n            </b>\n          </td>\n          <td>\n            {{invoiceDetails.CCNumber}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <b>\n              &nbsp;PO Number\n            </b>\n          </td>\n          <td>\n            {{invoiceDetails.PONumber}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n          </td>\n          <td>\n          </td>\n        </tr>\n      </table>\n    </div>\n  </div>\n  <div class=\"col-lg-12\">                  \n    <table style=\"width:100%\" cellpadding=\"4\">\n      <tr class=\"invoiceTable\" style=\"border-bottom:1px solid;\">\n        <th>Sr.</th>\n        <th>Description</th>\n        <th>Rate</th>\n        <th>Quantity</th>\n        <th>Amount</th>              \n      </tr>\n      <tbody style=\"page-break-inside: avoid\" *ngFor=\"let temp of selectedBookings; let i=index\">\n        <tr style=\"border-bottom:1px solid;\" class=\"invoiceTable\">\n          <td>{{i+1}}</td>\n          <td class=\"tdleft\" style=\"text-align: left;\">\n            ReportingAddress:\n            <b>\n              {{temp.reportingAddress}}\n            </b><br>\n            DutyType:\n            <b>\n              {{temp.dutyType}}\n            </b><br>\n            Vehicle Group:\n            <b>\n              {{temp.vehicleGroup}}\n            </b><br>\n            Passenger Name:\n            <b>\n              {{temp.passenger}}\n            </b>\n          </td>\n          <td style=\"text-align: center;\">{{temp.totalPrice}}</td>\n          <td style=\"text-align: center;\">1</td>\n          <td style=\"text-align: center;\">{{temp.totalPrice}}</td>              \n        </tr>\n        <tr style=\"text-align:center;\" class=\"invoiceTable\" *ngFor=\"let element of temp.extras\">\n          <td colspan=\"3\" style=\"text-align: center;\" *ngIf=\"temp.extras\">{{element.name}}</td>\n          <td *ngIf=\"temp.extras\">1</td>\n          <td *ngIf=\"temp.extras\">{{element.charges}}</td>\n          <td></td>\n        </tr>\n      </tbody>\n      <tbody style=\"page-break-inside: avoid\">\n        <tr class=\"invoiceTable\" *ngIf=\"invoiceDetails.taxableAmount != null\">\n          <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n            \n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            Taxable Amount\n          </td>\n          <td>&nbsp;</td>\n          <td class=\"tdright\" style=\"text-align: center;\">\n            <b>{{invoiceDetails.taxableAmount}}</b>\n          </td>\n        </tr>\n        <tr *ngIf=\"invoiceDetails.taxType == 'CGST+SGST'\" style=\"border-bottom:1px solid; border-top:1px solid;\" class=\"invoiceTable\">\n          <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n            Tax Type:                        \n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            <b>\n              &nbsp;CGST\n            </b>\n            <br>\n            <b>\n              SGST\n            </b>\n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            <b>\n              &nbsp;{{invoiceDetails.taxRate/2}}%\n            </b>\n            <br>\n            <b>\n              {{invoiceDetails.taxRate/2}}%\n            </b>\n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            <b>\n              &nbsp;{{invoiceDetails.taxAmount/2}}\n            </b>\n            <br>\n            <b>\n              {{invoiceDetails.taxAmount/2}}\n            </b>\n          </td>\n        </tr>\n        <tr *ngIf=\"invoiceDetails.taxType != 'CGST+SGST'\" style=\"border-bottom:1px solid; border-top:1px solid;\" class=\"invoiceTable\">\n          <td colspan=\"3\" class=\"tdright\" style=\"text-align: right;\">\n            Tax Type:\n            <b>\n              {{invoiceDetails.taxType}}\n            </b>\n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            <b>\n              {{invoiceDetails.taxRate}}%\n            </b>\n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            <b>\n              {{invoiceDetails.taxAmount}}\n            </b>\n          </td>\n        </tr>\n        <tr style=\"border-bottom:1px solid;\" class=\"invoiceTable\">\n          <td colspan=\"3\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n            Discount Type:\n            <b>\n              {{invoiceDetails.discountType}}\n            </b>\n          </td>\n          <td></td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            <b>\n              {{invoiceDetails.discountAmount}}\n            </b>\n          </td>\n        </tr>\n        <tr class=\"invoiceTable\" *ngIf=\"invoiceDetails.nonTaxableAmount > 0\">\n          <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n            \n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            Non Taxable Amount\n          </td>\n          <td>&nbsp;</td>\n          <td class=\"tdright\" style=\"text-align: center;\">\n            <b>{{invoiceDetails.nonTaxableAmount}}</b>\n          </td>\n        </tr>\n        <tr class=\"invoiceTable\">\n          <td colspan=\"2\" style=\"text-align: left; border-bottom:2px solid black;\">\n            In Words: <b style=\"text-transform:capitalize;\">{{totalInWords}}</b>\n          </td>\n          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n            Gross Total:\n          </td>\n          <td style=\"border-bottom:2px solid black;\">&nbsp;</td>\n          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n            <b>{{invoiceDetails.totalAmount}}</b>\n          </td>\n        </tr>\n        <tr class=\"invoiceTable\">\n          <td colspan=\"3\" style=\"text-align: left; border-bottom:2px solid black;\">\n            Advance Paid:\n          </td>                      \n          <td style=\"border-bottom:2px solid black;\">&nbsp;</td>\n          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n            <b>{{invoiceDetails.advanceReceived}}</b>\n          </td>\n        </tr>\n        <tr class=\"invoiceTable\">\n          <td colspan=\"2\" style=\"text-align: left; border-bottom:2px solid black;\">\n            In Words: <b style=\"text-transform:capitalize;\">{{totalInWords}}</b>\n          </td>\n          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n            Net Total:\n          </td>\n          <td style=\"border-bottom:2px solid black;\">&nbsp;</td>\n          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n            <b>{{invoiceDetails.totalAmount - invoiceDetails.advanceReceived}}</b>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n\n  \n\n  <!-------------------------------------------- Duty Summary ----------------------------------------------------------->\n  <!-------------------------------------------- Duty Summary ----------------------------------------------------------->\n\n  <div id=\"demo2\" hidden>\n    <table border=\"1\" style=\"font-size: 11px;\">                                                                                                                                                                                                                                                                                                                                                                                                                                                            \n      <tr>\n        <th>Sr.</th>\n        <th *ngIf=\"businessSettings.ShowDutyId\">Duty Id</th>            \n        <th *ngIf=\"businessSettings.ShowBookedByName\">Booked By</th>\n        <th *ngIf=\"businessSettings.ShowPassengerNames\">Passenger</th>\n        <th *ngIf=\"businessSettings.ShowVehicleGroupName\">Veh.Group</th>\n        <th *ngIf=\"businessSettings.ShowVehicleNumber\">Veh.Num.</th>\n        <th *ngIf=\"businessSettings.ShowDutyType\">Duty Type</th>\n        <th *ngIf=\"businessSettings.ShowPrice\">Price</th>\n        <th *ngIf=\"businessSettings.ShowQuantityNumberOfDays\">Qty</th>\n        <th *ngIf=\"businessSettings.ShowTotalPrice\">Total Price</th>\n        <th *ngIf=\"businessSettings.ShowStartDate\">S.Date</th>\n        <th *ngIf=\"businessSettings.ShowEndDate\">E.Date</th>\n        <th *ngIf=\"businessSettings.ShowStartTime\">S.Time</th>\n        <th *ngIf=\"businessSettings.ShowEndTime\">E.Time</th>\n        <th>T.Time</th>\n        <th>Ex.Time</th>\n        <th *ngIf=\"businessSettings.ShowStartKM\">S.Km</th>\n        <th *ngIf=\"businessSettings.ShowEndKM\">E.Km</th>\n        <th *ngIf=\"businessSettings.ShowTotalKM\">T.Km</th>\n        <th *ngIf=\"businessSettings.ShowExtraKM\">Ex.Km</th>\n        <th *ngIf=\"businessSettings.ShowExtraHourRate\">Ex.Hr Rate</th>\n        <th *ngIf=\"businessSettings.ShowExtraKMRate\">Ex.Km Rate</th>\n        <th *ngIf=\"businessSettings.ShowExtraHourCost\">Ex.Hr Cost</th>\n        <th *ngIf=\"businessSettings.ShowExtraKMCost\">Ex.Km Cost</th>\n        <th>Ex.Charges</th>\n        <!-- <th *ngIf=\"\">Ex.Ch.</th>\n        <th *ngIf=\"\">Parking</th>\n        <th *ngIf=\"\">Out.Day</th>\n        <th *ngIf=\"\">Sun</th>\n        <th *ngIf=\"\">Late</th>\n        <th *ngIf=\"\">Car Hire Ch.</th> -->\n        <th *ngIf=\"businessSettings.ShowDutySubtotal\">Sub.Total</th>\n        <!-- <th *ngIf=\"businessSettings.ShowDutySubtotalIncludingAllowances\">Sub.Total (incl. Allowances)</th> -->\n      </tr>\n      <tr *ngFor=\"let element of dutySummary; let i=index;\">\n        <td>{{i+1}}.</td>\n        <td *ngIf=\"businessSettings.ShowDutyId\">{{element.dutyId}}</td>                \n        <td *ngIf=\"businessSettings.ShowBookedByName\">{{element.bookBy}}</td>\n        <td *ngIf=\"businessSettings.ShowPassengerNames\">{{element.passenger}}</td>\n        <td *ngIf=\"businessSettings.ShowVehicleGroupName\">{{element.vehicleGroup}}</td>\n        <td *ngIf=\"businessSettings.ShowVehicleNumber\">{{element.number}}</td>\n        <td *ngIf=\"businessSettings.ShowDutyType\">{{element.dutyType}}</td>\n        <td *ngIf=\"businessSettings.ShowPrice\">{{element.price}}</td>\n        <td *ngIf=\"businessSettings.ShowQuantityNumberOfDays\">1</td>\n        <td *ngIf=\"businessSettings.ShowTotalPrice\">{{element.price}}</td>\n        <td *ngIf=\"businessSettings.ShowStartDate\">{{element.startDate | date: 'dd-MM-yyyy'}}</td>\n        <td *ngIf=\"businessSettings.ShowEndDate\">{{element.endDate | date: 'dd-MM-yyyy'}}</td>\n        <td *ngIf=\"businessSettings.ShowStartTime\">{{element.startTime | date:'HH:mm a'}}</td>\n        <td *ngIf=\"businessSettings.ShowEndTime\">{{element.endTime | date:'HH:mm a'}}</td>\n        <td>{{element.totalTime}}</td>\n        <td>{{element.extraTime}}</td>\n        <td *ngIf=\"businessSettings.ShowStartKM\">{{element.startKm}}</td>\n        <td *ngIf=\"businessSettings.ShowEndKM\">{{element.endKm}}</td>\n        <td *ngIf=\"businessSettings.ShowTotalKM\">{{element.totalKm}}</td>\n        <td *ngIf=\"businessSettings.ShowExtraKM\">{{element.extraKm}}</td>\n        <td *ngIf=\"businessSettings.ShowExtraHourRate\">{{element.extraHrs}}</td>\n        <td *ngIf=\"businessSettings.ShowExtraKMRate\">{{element.extraKm}}</td>\n        <td *ngIf=\"businessSettings.ShowExtraHourCost\">{{element.extraHrRate}}</td>\n        <td *ngIf=\"businessSettings.ShowExtraKMCost\">{{element.extraKmRate}}</td>\n        <td>{{element.charges}}</td>\n        <!-- <td *ngIf=\"\">Ex.Ch.</td>\n        <td *ngIf=\"\">Parking</td> -->\n        <!-- <td *ngIf=\"\">Out.Day</td>\n        <td *ngIf=\"\">Sun</td>\n        <td *ngIf=\"\">Late</td>\n        <td *ngIf=\"\">Car Hire Ch.</td> -->\n        <td *ngIf=\"businessSettings.ShowDutySubtotal\">{{element.finalPrice}}</td>\n        <!-- <td *ngIf=\"businessSettings.ShowDutySubtotalIncludingAllowances\">Sub.Total (incl. Allowances)</td> -->\n      </tr>\n    </table>\n    </div>"

/***/ }),

/***/ "./src/app/pages/masters/mailinvoice/mailinvoice.component.scss":
/***/ (function(module, exports) {

module.exports = "img {\n  padding: 10px; }\n"

/***/ }),

/***/ "./src/app/pages/masters/mailinvoice/mailinvoice.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MailinvoiceComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_number_to_words__ = __webpack_require__("./node_modules/number-to-words/numberToWords.min.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_number_to_words___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_number_to_words__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__circles_companyprofile_companyprofile_service__ = __webpack_require__("./src/app/pages/circles/companyprofile/companyprofile.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__operations_new_bank_account_bank_account_service__ = __webpack_require__("./src/app/pages/operations/new-bank-account/bank-account.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};












var MailinvoiceComponent = (function () {
    function MailinvoiceComponent(auth, data, dialog, invoiceService, http, uploadService, customerService, snackBar, _sanitizer, companyProfileService, bankAccountService) {
        this.auth = auth;
        this.data = data;
        this.dialog = dialog;
        this.invoiceService = invoiceService;
        this.http = http;
        this.uploadService = uploadService;
        this.customerService = customerService;
        this.snackBar = snackBar;
        this._sanitizer = _sanitizer;
        this.companyProfileService = companyProfileService;
        this.bankAccountService = bankAccountService;
        this.totalInWords = '';
        this.companyLogo = '';
        this.dutySummary = [];
        this.extraCharges = [];
        this.businessSettings = {};
        this.invoiceDetails = {};
        this.selectedBookings = [];
        this.user = {};
        this.selectedExtras = [];
        this.extras = [];
        this.bookedBy = {
            name: '',
            email: '',
        };
        this.customerDetails = {};
        this.customEmail = '';
        this.customer = true;
        this.bookBy = false;
        this.singleMail = false;
        this.emailAddresses = [];
        this.ccEmailAddresses = [];
        this.imgUrl = [];
        this.bookings = [];
        this.companyProfile = {};
        this.bankAccount = {};
        this.bookingIds = [];
        this.extras2 = [];
        this.imgFiles = [];
        this.attachments = [];
        this.invoiceDetails = data;
        this.invoiceDetails.invoiceDate = __WEBPACK_IMPORTED_MODULE_8_moment__(this.invoiceDetails.invoiceDate).format("YYYY-MM-DD");
        if (this.invoiceDetails.invoicePeriodFrom != '') {
            this.invoiceDetails.invoicePeriodFrom = __WEBPACK_IMPORTED_MODULE_8_moment__(this.invoiceDetails.invoicePeriodFrom).format("YYYY-MM-DD");
        }
        if (this.invoiceDetails.invoicePeriodTo != '') {
            this.invoiceDetails.invoicePeriodTo = __WEBPACK_IMPORTED_MODULE_8_moment__(this.invoiceDetails.invoicePeriodTo).format("YYYY-MM-DD");
        }
        this.totalInWords = __WEBPACK_IMPORTED_MODULE_9_number_to_words__["toWords"](this.invoiceDetails.totalAmount);
        console.log(data);
        this.invoiceId = data.id;
        this.invoiceNumber = data.invoiceNumber;
        // this.customerId=data.temp.customer
        // this.checkedBookings = data.temp.bookings
        // this.selectedBookings = this.checkedBookings
    }
    MailinvoiceComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            var temp = {
                id: _this.invoiceId
            };
            _this.companyProfileService.getCompanyProfile(_this.user).subscribe(function (data) {
                _this.companyProfile = data[0];
                _this.uploadService.getPresignedUrl(_this.user.companyName, _this.companyProfile.companyLogo, 'profileImages').subscribe(function (data) {
                    _this.companyLogo = data._body;
                });
                // this.uploadService.getFile(this.user.companyName,'profileImages',this.companyProfile.companyLogo).subscribe(data=>{
                //   this.companyLogo = this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' 
                //   + data.text());
                // })
            });
            _this.bankAccountService.getBankAccount(_this.user).subscribe(function (data) {
                console.log(data);
                _this.bankAccount = data[0];
            });
            _this.invoiceService.getBookingsInInvoice(temp).subscribe(function (data) {
                console.log(data);
                _this.selectedBookings = data;
                _this.selectedBookings.forEach(function (element) {
                    _this.bookingIds.push(element.id);
                });
                if (_this.selectedBookings.length > 0) {
                    _this.invoiceService.getExtraCharges({ idArray: _this.bookingIds }).subscribe(function (data) {
                        console.log(data);
                        _this.extras2 = data;
                        for (var v in _this.selectedBookings) {
                            console.log(v);
                            for (var e in _this.extras2) {
                                console.log(e);
                                if (_this.extras2[e].bookyId == _this.selectedBookings[v].id) {
                                    if (_this.selectedBookings[v].extras == undefined) {
                                        _this.selectedBookings[v].extras = [{ name: _this.extras2[e].name, charges: _this.extras2[e].charges }];
                                    }
                                    else {
                                        _this.selectedBookings[v].extras.push({ name: _this.extras2[e].name, charges: _this.extras2[e].charges });
                                    }
                                }
                            }
                        }
                    });
                }
                _this.customerService.getSingleCustomer(_this.invoiceDetails).subscribe(function (data) {
                    console.log(data);
                    _this.customerDetails = data[0];
                });
                if (data.length > 0) {
                    _this.bookedBy.name = data[0].bookBy;
                    _this.bookedBy.email = data[0].bookByEmail;
                    var i = 0;
                    data.forEach(function (element) {
                        console.log(element);
                        _this.bookings.push({ id: element.id, dutyType: element.dutyType, bookedBy: element.bookBy, date: __WEBPACK_IMPORTED_MODULE_8_moment__(element.startDate).format("YYYY-mm-DD") });
                        console.log(_this.bookings);
                    });
                    data.forEach(function (element) {
                        _this.invoiceService.getCloseExtras(element).subscribe(function (data) {
                            data.forEach(function (element) {
                                console.log(element);
                                if (element.fileName != '' && element.fileName != null) {
                                    _this.extras.push(element);
                                    console.log(_this.extras);
                                    _this.uploadService.getFile(_this.user.companyName, 'closeDutyExtras', element.fileName).subscribe(function (data) {
                                        if (data)
                                            _this.imgUrl[i] = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                                                + data.text());
                                        i = i + 1;
                                    });
                                }
                            });
                        });
                    });
                }
            });
            _this.invoiceService.getDutySummary(_this.invoiceDetails).subscribe(function (data) {
                console.log(data);
                _this.dutySummary = data;
                _this.dutySummary.forEach(function (element) {
                    element.charges = 0;
                    var temp = {
                        id: element.bid
                    };
                    _this.invoiceService.getCloseExtras(temp).subscribe(function (data) {
                        _this.extraCharges = data;
                        console.log(data);
                    });
                    _this.extraCharges.forEach(function (data) {
                        console.log(data);
                        if (element.dutyId == data.dutyId) {
                            element.charges += data.charges;
                        }
                    });
                    var startTime = __WEBPACK_IMPORTED_MODULE_8_moment__(element.startDate + " " + element.startTime, "YYYY-MM-DD HH:mm a");
                    var endTime = __WEBPACK_IMPORTED_MODULE_8_moment__(element.endDate + " " + element.endTime, "YYYY-MM-DD HH:mm a");
                    element.endTime = __WEBPACK_IMPORTED_MODULE_8_moment__(element.endTime, "HH:mm a");
                    ;
                    element.startTime = __WEBPACK_IMPORTED_MODULE_8_moment__(element.startTime, "HH:mm a");
                    var totalHrs = endTime.diff(startTime, 'hours');
                    var totalMins = endTime.diff(startTime, 'minutes');
                    var clearMins = totalMins % 60;
                    element.totalTime = totalHrs + "hrs " + clearMins + "mins";
                    element.totalKm = element.endKm - element.startKm;
                    if (element.maxHrs == '') {
                        element.extraTime = 0;
                    }
                    else {
                        element.extraTime = (totalHrs - element.maxHrs) + "hrs " + clearMins + "mins";
                    }
                    if (element.maxKms == '') {
                        element.extraKm = 0;
                    }
                    else {
                        element.extraKm = element.totalKms - element.maxKms;
                    }
                    console.log(element.totalTime);
                });
                console.log(_this.dutySummary);
            });
        });
        this.auth.businessSettings.subscribe(function (data) {
            _this.businessSettings = data;
        });
    };
    MailinvoiceComponent.prototype.mailDocs = function (element, event) {
        var index = this.selectedExtras.indexOf(element);
        if (event.checked) {
            this.selectedExtras.push(element);
            console.log(this.selectedExtras, index);
        }
        else {
            this.selectedExtras.splice(index, 1);
            console.log(this.selectedExtras, index);
        }
    };
    MailinvoiceComponent.prototype.mailImages = function (element, event, i) {
        var index = this.attachments.find(function (x) { return x.fileName == element.name; });
        if (event.checked) {
            var temp = {
                image: this.imgUrl[i],
                fileName: element.fileName,
                title: element.name
            };
            this.imgFiles.push(temp);
            this.attachments.push({ fileName: "Extras_" + __WEBPACK_IMPORTED_MODULE_8_moment__().format("DD-MM-YYYY"), path: this.invoiceId + "_imageAttachments.pdf" });
            console.log(this.imgFiles);
        }
        else {
            this.attachments.splice(index, 1);
            this.imgFiles.splice(i, 1);
            console.log(this.imgFiles);
        }
    };
    MailinvoiceComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    MailinvoiceComponent.prototype.sendMail = function (div1) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var temp;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.invoiceDetails.isMailed = true;
                        if (!this.selectedExtras.includes('Invoice')) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.printInvoice()];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        if (!this.selectedExtras.includes('Duty Summary')) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.printDutySummary()];
                    case 3:
                        _a.sent();
                        _a.label = 4;
                    case 4:
                        if (this.imgFiles.length > 0) {
                            this.uploadService.createImageAttachments(this.imgFiles, this.invoiceId);
                        }
                        if (this.customEmail != '' && !this.customEmail.match(/\b([a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+\.[a-zA-Z]{2,}$)\b/)) {
                            this.snackBar.open('Enter a valid Email', null, {
                                duration: 5000
                            });
                            return [2 /*return*/];
                        }
                        else if (this.customEmail != '') {
                            if (this.singleMail) {
                                this.emailAddresses.push(this.customEmail);
                            }
                            else {
                                this.ccEmailAddresses.push(this.customEmail);
                            }
                        }
                        // else if(this.customEmail == '') {
                        if (this.customer) {
                            this.emailAddresses.push(this.customerDetails.email);
                        }
                        if (this.bookBy && this.singleMail) {
                            this.emailAddresses.push(this.bookedBy.email);
                        }
                        else if (this.bookBy && !this.singleMail) {
                            this.ccEmailAddresses.push(this.bookedBy.email);
                        }
                        console.log(this.emailAddresses, this.ccEmailAddresses);
                        this.mailSubject = "Invoice #" + this.invoiceNumber + " for your trip has been generated";
                        this.mailBody = div1.innerHTML;
                        temp = {
                            companyEmail: this.companyProfile.email,
                            name: this.companyProfile.name,
                            email: this.emailAddresses,
                            cc: this.ccEmailAddresses,
                            subject: this.mailSubject,
                            mailBody: this.mailBody,
                            attachments: this.attachments,
                            imgFiles: this.imgFiles
                        };
                        this.invoiceService.updateInvoice(this.invoiceDetails).subscribe();
                        this.snackBar.open('Generating attachments', null, {
                            duration: 5000
                        });
                        setTimeout(function () {
                            _this.http.post('/Voip/sendMail', temp).subscribe(function (data) {
                                // console.log(data)      
                            });
                            _this.snackBar.open('Mail Sent', null, {
                                duration: 5000
                            });
                        }, 5500);
                        return [2 /*return*/];
                }
            });
        });
    };
    MailinvoiceComponent.prototype.printInvoice = function () {
        return __awaiter(this, void 0, void 0, function () {
            var data, pdfData;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        data = document.getElementById('demo').innerHTML;
                        pdfData = data;
                        return [4 /*yield*/, this.uploadService.generateInvoicePDF(pdfData, this.invoiceId + "_Invoice_" + __WEBPACK_IMPORTED_MODULE_8_moment__().format("DD-MM-YYYY"), "cabInvoice", this.user, this.companyProfile, this.bankAccount)];
                    case 1:
                        _a.sent();
                        this.attachments.push({ fileName: "Invoice_" + __WEBPACK_IMPORTED_MODULE_8_moment__().format("DD-MM-YYYY"), path: this.invoiceId + "_Invoice_" + __WEBPACK_IMPORTED_MODULE_8_moment__().format("DD-MM-YYYY") + ".pdf" });
                        return [2 /*return*/];
                }
            });
        });
    };
    MailinvoiceComponent.prototype.printDutySummary = function () {
        return __awaiter(this, void 0, void 0, function () {
            var data2, pdfData2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        data2 = document.getElementById('demo2').innerHTML;
                        console.log(data2);
                        pdfData2 = data2;
                        return [4 /*yield*/, this.uploadService.generateInvoicePDF(pdfData2, this.invoiceId + "_DutySummary_" + __WEBPACK_IMPORTED_MODULE_8_moment__().format("DD-MM-YYYY"), "dutySummary", this.user, this.companyProfile, this.bankAccount)];
                    case 1:
                        _a.sent();
                        this.attachments.push({ fileName: "DutySummary_" + __WEBPACK_IMPORTED_MODULE_8_moment__().format("DD-MM-YYYY"), path: this.invoiceId + "_DutySummary_" + __WEBPACK_IMPORTED_MODULE_8_moment__().format("DD-MM-YYYY") + ".pdf" });
                        return [2 /*return*/];
                }
            });
        });
    };
    MailinvoiceComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'mailinvoice',
            template: __webpack_require__("./src/app/pages/masters/mailinvoice/mailinvoice.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/mailinvoice/mailinvoice.component.scss")]
        }),
        __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_2__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__core_auth_service__["a" /* AuthService */], Object, __WEBPACK_IMPORTED_MODULE_2__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_3__createinvoice_invoice_service__["a" /* InvoiceService */],
            __WEBPACK_IMPORTED_MODULE_4__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_5__fileupload_service__["a" /* FileuploadService */],
            __WEBPACK_IMPORTED_MODULE_6__customer_customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_7__angular_platform_browser__["DomSanitizer"],
            __WEBPACK_IMPORTED_MODULE_10__circles_companyprofile_companyprofile_service__["a" /* CompanyprofileService */],
            __WEBPACK_IMPORTED_MODULE_11__operations_new_bank_account_bank_account_service__["a" /* BankAccountService */]])
    ], MailinvoiceComponent);
    return MailinvoiceComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/mailvisainvoice/mailvisainvoice.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        Invoice\n      </nb-card-header>\n      <nb-card-body>\n        <mat-horizontal-stepper #stepper>\n          <mat-step label=\"Email To:\">\n            <div class=\"row\">\n              <div class=\"col-lg-12 col-12\">\n                <b>To:</b>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-lg-6 col-12\">\n                <mat-checkbox [(ngModel)]=\"customer\">\n                  Customer: <br> {{customerDetails.name}} &nbsp;\n                </mat-checkbox>\n              </div>\n              <div class=\"col-lg-6 col-12\">\n                <mat-form-field>\n                  <input matInput [(ngModel)]=\"customerDetails.email\" readonly>\n                </mat-form-field>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-lg-6 col-12\">\n                <mat-checkbox [(ngModel)]=\"bookBy\">\n                  Booked By: <br> {{bookedBy.name}} &nbsp;\n                </mat-checkbox>\n              </div>\n              <div class=\"col-lg-6 col-12\">\n                <mat-form-field>                      \n                  <input matInput [(ngModel)]=\"bookedBy.email\" readonly>\n                </mat-form-field>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-lg-6 col-12\">\n                Custom:\n              </div>\n              <div class=\"col-lg-6 col-12\">\n                <mat-form-field>\n                  <input [(ngModel)]=\"customEmail\" matInput>\n                </mat-form-field>\n              </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-lg-12 col-12\">\n                  <mat-checkbox [(ngModel)]=\"singleMail\">\n                    Send a single email to selected email IDs \n                  </mat-checkbox>            \n                </div>\n            </div>\n            <div class=\"row ptb-10\">\n              <div class=\"col-lg-12\">\n                <button style=\"float:right;\" mat-button matStepperNext>Next</button>\n              </div>\n            </div>                \n          </mat-step>\n          <mat-step label=\"Attachments\">\n            <div class=\"row\">\n              <div class=\"col-lg-12 col-12\">\n                <h5>Attachments:</h5><br>\n                <mat-checkbox (change)=\"mailDocs('Invoice', $event)\">Invoice</mat-checkbox><br>                \n              </div>\n            </div>            \n            <div class=\"row ptb-10\">\n              <div class=\"col-lg-12\">\n                <button style=\"float:left;\" mat-button matStepperPrevious>Back</button>\n                <button style=\"float:right;\" mat-button matStepperNext>Next</button>\n              </div>\n            </div>\n          </mat-step>\n          <mat-step label=\"Mail\">\n            <div class=\"row\">\n              <div id=\"template\" #template>\n                <!DOCTYPE html>\n                <html lang=\"en\">          \n                  <head>\n                    <title></title>\n                    <meta charset=\"utf-8\">\n                    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n                    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n                    <style type=\"text/css\">\n                      @font-face {font-family: 'sofia';  src: url('http://media.firebox.com/fonts/sofiapro_regular_macroman/SofiaProRegular-webfont.woff') format('woff');  mso-font-alt: 'Arial';  font-weight: normal !important;  font-style: normal !important;}\n                      body,table,td,a{\n                        -webkit-text-size-adjust:100%;\n                        -ms-text-size-adjust:100%;\n                        -webkit-font-smoothing: antialiased;\n                      }\n                      table,td{\n                        mso-table-lspace:0pt;\n                        mso-table-rspace:0pt;\n                      }\n                      img{\n                        -ms-interpolation-mode:bicubic;\n                      }\n                      body{\n                        margin:0;\n                        padding:0;\n                      }\n                      img{\n                        border:0;\n                        height:auto;\n                        line-height:100%;\n                        outline:none;\n                        text-decoration:none;\n                      }\n                      table{\n                        border-collapse:collapse !important;\n                      }\n                      body{\n                        height:100% !important;\n                        margin:0;\n                        padding:0;\n                        width:100% !important;\n                      }\n                    \n                      .appleBody a{\n                        color: #0087DB !important;\n                        text-decoration: underline !important;;\n                      }\n                    \n                      .appleFooter a{\n                        color: #343434 !important;\n                        text-decoration: none;\n                      }\n                      td[class=btn]{\n                        width:50% !important;\n                      }\n                    \n                      span.preheader { display: none !important; }\n                      @media screen and (max-width: 525px){\n                        table[class=wrapper]{\n                          width:100% !important;\n                        }\n                      \n                      }\t/*@media screen and (max-width: 525px){\n                        td[class=wrapper]{\n                          width:100% !important;\n                        }*/\n                      \n                      @media screen and (max-width: 525px){\n                        td[class=mobile-hide]{\n                          display:none;\n                        }\n                      \n                      }\n                      @media screen and (max-width: 525px){\n                        img[class=mobile-show]{\n                          display:block !important;\n                          height:60px !important;\n                          width:60px !important;\n                          overflow:auto !important;\n                        }\n                      \n                      }\n                      @media screen and (max-width: 525px){\n                        img[class=mobile-hide]{\n                          display:none !important;\n                        }\n                      \n                      }\t\n                      @media screen and (max-width: 525px){\n                        img[class=img-max]{\n                          max-width:100% !important;\n                          width:100% !important;\n                          height:auto !important;\n                        }\n                      \n                      }\t\n                      @media screen and (max-width: 525px){\n                        img[class=img-picture]{\n                          max-width:60% !important;\n                          width:60% !important;\n                          height:auto !important;\n                          float:right !important;\n                        }\n                      \n                      }\t\n                      @media screen and (max-width: 525px){\n                        table[class=responsive-table]{\n                          width:100%!important;\n                        }\n                      \n                      }\t\n                      @media screen and (max-width: 525px){\n                        table[class=responsive-column]{\n                          width:100%!important;\n                          padding:0px 0px 15px 0px !important;\n                          display:block !important;\n                        }\n                      }\t\n                      @media screen and (max-width: 525px){\n                        td[class=top-padding]{\n                          padding: 0px 0px 10px 0px !important;\n                        }\n                      \n                      } \n                      @media screen and (max-width: 525px){\n                        td[class=slice-padding]{\n                          padding:0px 15px 0px 15px !important;\n                        }\n                      \n                      }\t\n                      @media screen and (max-width: 525px){\n                        td[class=smaller-padding]{\n                          padding:15px 0px 15px 0px !important;\n                        }\n                      \n                      }\n                      @media screen and (max-width: 525px){\n                        td[class=section-padding]{\n                          padding: 0px 10px 20px 10px !important;\n                        }\n                      }\n                      @media screen and (max-width: 525px){\n                        .height {\n                          height: 100% !important;\n                        }        \n                      }\n                      @media screen and (max-width: 525px){\n                        td[class=mobile-wrapper]{\n                          padding:0 !important;\n                        }\n                      \n                      }\t\n                      @media screen and (max-width: 525px){\n                        td[class=title]{\n                          font-size: 16px !important;\n                        }\n                      \n                      }\t\n                      @media screen and (max-width: 525px){\n                        td[class=btn]{\n                          width:80% !important;\n                        }\n                      \n                      }\n                    </style>\n                    <!--[if gte mso 9]>\n                      <style type=\"text/css\">\n                        .img-max {\n                            width: 246px !important;\n                        }\n                      </style>\n                    <![endif]-->\n                  </head>\n                \n                  <body style=\"margin: 0; padding: 0;\">\n                    <div style=\"display:none !important; font-size:1px; color:#FFFFFF;\">\n                      <!-- It&#039;s on the way to XXXXX, Really Good Emails -->\n                    </div>\n                    <!-- HEADER LOGO -->\n                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                      <tr>\n                        <td bgcolor=\"#00C186\" style=\"background-color: #00C186;\">\n                          <div align=\"center\" style=\"padding: 0px 20px 0px 20px;\">\n                            <table boidrder=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                              <tr>\n                                <td bgcolor=\"#00C186\" style=\"background-color: #00C186;\">\n                                  <div align=\"center\" style=\"padding: 0px 20px 0px 20px;\">\n                                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"wrapper\" align=\"center\">\n                                      <tr align=\"center\">\n                                        <td style=\"padding: 10px 0px 10px 0px; text-align: center; width: 400px;\" class=\"logo\" align=\"center\">\n                                          <a href=\"https://www.firebox.com?itc=915&utm_source=email&utm_medium=transactional&utm_campaign=order_dispatch\" title=\"Firebox.com\">\n                                            <!-- <img alt=\"header\" src=\"http://media.firebox.com/i/nl/fb_light.png\" width=\"130\" border=\"0\"> -->\n                                            <img alt=\"header\" src=\"https://i.imgur.com/TjtOBZa.png\" width=\"70\" border=\"0\">\n                                          </a>\n                                        </td>\n                                      </tr>\n                                      <!-- <tr align=\"center\">\n                                        <td style=\"padding: 0px 0px 15px 0px; text-align: center; width: 400px;\" class=\"logo\" align=\"center\"> -->\n                                          <!-- <img src=\"https://media.firebox.com/i/transactional/header-dispatch.png\" width=\"100%\" class=\"img-max\"> -->\n                                        <!-- </td>\n                                      </tr> -->\n                                    </table>\n                                  </div>\n                                </td>\n                              </tr>\n                            </table>   \n                          </div>\n                        </td>\n                      </tr>\n                    </table>\n                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                      <tr>\n                        <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 10px 15px 10px 15px;\" class=\"top-padding\">\n                          <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                            <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                            <tr>\n                              <td>\n                                <!-- TWO COLUMNS -->\n                                <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                  <tr>\n                                    <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                      <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"600\" align=\"left\" class=\"responsive-table\">\n                                        <tr>\n                                          <td valign=\"top\" align=\"left\">\n                                            <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" class=\"responsive-table\">\n                                              <tr>\n                                                <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 10px; border: 1px solid #EFEFEF;\">\n                                                  <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"300\" valign=\"top\">\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" width=\"33%\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888 !important; font-size: 16px; line-height: 20px; font-weight: normal;\">\n                                                        <p>\n                                                          PFA The copy of invoice for the following visas\n                                                        </p>\n                                                      </td>\n                                                    </tr>\n                                                  </table>\n                                                </td>\n                                              </tr>\n                                            </table>\n                                          </td>\n                                        </tr>\n                                      </table>\n                                    </td>\n                                  </tr>\n                                </table>\n                              </td>\n                            </tr>\n                          </table>\n                        </td>\n                      </tr>\n                    </table>\n                    <!-- ORDER CONFIRMATION -->\n                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" *ngFor=\"let element of bookings\">\n                      <tr>\n                        <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 0px 15px 10px 15px;\" class=\"top-padding\">\n                          <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                            <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                            <tr>\n                              <td>\n                                <!-- TWO COLUMNS -->\n                                <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                  <tr>\n                                    <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                      <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"600\" align=\"left\" class=\"responsive-table\">\n                                        <tr>\n                                          <td valign=\"top\" align=\"left\">\n                                            <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" class=\"responsive-table\">\n                                              <tr>\n                                                <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 10px; border: 1px solid #EFEFEF;\">\n                                                  <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"300\" valign=\"top\">\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\" >                                                  \n                                                      <td cellspacing=\"0\" cellpadding=\"0\" width=\"33%\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888 !important; font-size: 16px; line-height: 20px; font-weight: normal;\">\n                                                        <span style=\"color: #343434; text-transform: uppercase; font-size: 16px; -webkit-font-smoothing: auto; font-weight: bold;\" class=\"appleBody\">\n                                                          Visa Type\n                                                        </span>\n                                                        \n                                                        <span style=\"color: #0087DB !important; display: inline; float: right;\">\n                                                          {{element.visaType}}\n                                                        </span>\n                                                        <br />\n                                                        <span style=\"color: #343434; text-transform: uppercase; font-size: 16px; -webkit-font-smoothing: auto; font-weight: bold;\" class=\"appleBody\">\n                                                          Booked By\n                                                        </span>\n                                                        \n                                                        <span style=\"color: #0087DB !important; display: inline; float: right;\">\n                                                          {{element.bookBy}}\n                                                        </span>\n                                                        <br />\n                                                        <span style=\"color: #343434; text-transform: uppercase; font-size: 16px; -webkit-font-smoothing: auto; font-weight: bold;\" class=\"appleBody\">\n                                                          From Date\n                                                        </span>\n                                                        \n                                                        <span style=\"color: #0087DB !important; display: inline; float: right;\">\n                                                          {{element.from}}\n                                                        </span>\n                                                        <br />\n                                                        <span style=\"color: #343434; text-transform: uppercase; font-size: 16px; -webkit-font-smoothing: auto; font-weight: bold;\" class=\"appleBody\">\n                                                          To Date\n                                                        </span>\n                                                        \n                                                        <span style=\"color: #0087DB !important; display: inline; float: right;\">\n                                                          {{element.to}}\n                                                        </span>\n                                                      </td>\n                                                    </tr>\n                                                  </table>\n                                                </td>\n                                              </tr>\n                                            </table>\n                                          </td>\n                                        </tr>\n                                      </table>\n                                    </td>\n                                  </tr>\n                                </table>\n                              </td>\n                            </tr>\n                          </table>\n                        </td>\n                      </tr>\n                    </table>\n                    <!-- END ORDER CONFIRMATION -->                                                                            \n                    <!-- ROW CS CONTACT SECTION-->\n                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                      <tr>\n                        <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 0px 15px 20px 15px;\" class=\"section-padding\">\n                          <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                            <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                            <tr>\n                              <td>\n                                <!-- TWO COLUMNS -->\n                                <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                  <tr>\n                                    <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                      <!-- LEFT COLUMN -->\n                                      <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"290\" align=\"left\" class=\"responsive-table\">\n                                        <tr>\n                                          <td valign=\"top\" align=\"left\">\n                                            <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                              <tr>\n                                                <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" height=\"310\" width=\"290\" class=\"wrapper\" style=\"border: 1px solid #EFEFEF; width: 400px;\">\n                                                  <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\" style=\"width: 100%;\" class=\"responsive-table\">\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #333333; font-size: 18px; font-weight: bold; text-align: center; padding: 15px 20px 10px 20px; width: 400px;\">\n                                                        <img alt=\"\" src=\"https://media.firebox.com/i/transactional/icon-customer-service.png\" width=\"100\">\n                                                      </td>\n                                                    </tr>\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #333333; font-size: 16px; font-weight: bold; text-align: center; padding: 0px 20px 10px 20px; width: 400px; text-transform: uppercase;\">\n                                                        Got a query?\n                                                        <br />\n                                                        Get in touch\n                                                      </td>\n                                                    </tr>                                          \n                                                  </table>\n                                                </td>\n                                              </tr>\n                                            </table>\n                                          </td>\n                                        </tr>\n                                      </table>\n                                      <!-- RIGHT COLUMN -->\n                                      <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"290\" align=\"right\" class=\"responsive-table\">\n                                        <tr>\n                                          <td valign=\"top\" align=\"left\">\n                                            <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                              <tr>\n                                                <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" height=\"310\" width=\"290\" class=\"wrapper\" style=\"border: 1px solid #EFEFEF; width: 400px;\">\n                                                  <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\" style=\"width: 100%;\" class=\"responsive-table\">\n                                                    <!-- STYLE WIDTH FOR CHROME BROWSER -->\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: center; font-family:'sofia', Helvetica, Arial, sans-serif; padding: 10px 20px 10px 20px; color: #343434; text-transform: uppercase; width: 400px;\">\n                                                        Phone\n                                                      </td>\n                                                    </tr>\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #0087DB; font-size: 18px; font-weight: bold; text-align: center; padding: 0px 20px 10px 20px;\">\n                                                        <span class=\"appleBody\">{{customerDetails.phone}}</span>                                              \n                                                      </td>\n                                                    </tr>\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: center; font-family:'sofia', Helvetica, Arial, sans-serif; padding: 10px 20px 10px 20px; color: #343434; text-transform: uppercase;\">\n                                                        Email\n                                                      </td>\n                                                    </tr>\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: center; font-family:'sofia', Helvetica, Arial, sans-serif; color: #0087DB; padding: 0px 20px 20px 20px; font-weight: bold; font-size: 18px;\">\n                                                        <span class=\"appleBody\">                                                              \n                                                          {{customerDetails.email}}                                                              \n                                                        </span>\n                                                      </td>\n                                                    </tr>\n                                                  </table>\n                                                </td>\n                                              </tr>\n                                            </table>\n                                          </td>\n                                        </tr>\n                                      </table>\n                                    </td>\n                                  </tr>\n                                </table>\n                              </td>\n                            </tr>\n                          </table>\n                        </td>\n                      </tr>\n                    </table>\n                    <!-- END CS CONTACT ROW SECTION-->\n                    \n                    <!-- FOOTER -->\n                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                        <tr>\n                          <td bgcolor=\"#ffffff\" align=\"center\" style=\"padding: 20px 0px;\">\n                            <!-- UNSUBSCRIBE COPY -->\n                            <table width=\"600\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\" class=\"responsive-table\">\n                              <tr>\n                                <td width=\"100%\" align=\"center\" style=\"padding: 0 0 20px 0; font-size: 14px; line-height: 18px; font-family: Helvetica, Arial, sans-serif; color:#888888;\">\n                                  Until next time, <strong>Techsimians Team</strong>\n                                </td>\n                              </tr>\n                              <!-- <tr>\n                                <td>\n                                  <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" align=\"center\">\n                                    <tr width=\"183\">\n                                      <td>\n                                        <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" align=\"center\">\n                                          <tr width=\"157\">\n                                            <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                              <a href=\"https://www.facebook.com/Firebox\" target=\"blank\">\n                                                <img src=\"http://media.firebox.com/i/nl/facebook_icon.png\" width=\"16\" height=\"16\">\n                                              </a>\n                                            </td>\n                                            <td width=\"19\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                              <a href=\"https://twitter.com/Firebox\" target=\"blank\">\n                                                <img src=\"http://media.firebox.com/i/nl/twitter_icon.png\" width=\"19\" height=\"16\">\n                                              </a>\n                                            </td>\n                                            <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                              <a href=\"https://www.instagram.com/Firebox/\" target=\"blank\">\n                                                <img src=\"http://media.firebox.com/i/nl/instagram_icon.png\" width=\"16\" height=\"16\">\n                                              </a>\n                                            </td>\n                                            <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                              <a href=\"https://www.pinterest.com/firebox/\" target=\"blank\">\n                                                <img src=\"http://media.firebox.com/i/nl/pinterest_icon.png\" width=\"16\" height=\"16\">\n                                              </a>\n                                            </td>\n                                          </tr>\n                                        </table>\n                                      </td>\n                                    </tr>\n                                  </table>\n                                </td>\n                              </tr> -->\n                              <tr>\n                                <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 0 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                  <span class=\"appleBody\">\n                                    <strong>Techsimians</strong><br /> Mumbai, Maharashtra, India.\n                                  </span>\n                                </td>\n                              </tr>\n                              <!-- <tr>\n                                <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 20px 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                  <span class=\"appleBody\">\n                                    VAT Reg. No.: 798 6593 41 Registered in England & Wales, No. 3874477\n                                  </span>\n                                </td>\n                              </tr> -->\n                              <tr>\n                                <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 20px 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                  <span class=\"appleBody\" style=\"color:#888888;\">\n                                    <a style=\"color:#888888 !important;\">info@yourfleetman.com</a>\n                                  </span>\n                                  <span class=\"hide-mobile\">&nbsp; | &nbsp;</span>\n                                  <span class=\"appleBody break\" style=\"color:#888888;\">\n                                    <a href=\"http://www.techsimians.com\"\n                                      style=\"color: #888888 !important;\">www.techsimians.com</a>\n                                  </span>\n                                  <span class=\"hide-mobile\">&nbsp; | &nbsp;</span>\n                                  <span class=\"appleBody break\" style=\"color:#888888;\">\n                                    8080 425 120\n                                  </span>\n                                </td>\n                              </tr>\n                            </table>\n                          </td>                \n                      </tr>\n                    </table>\n                  </body>\n                </html>\n              </div>\n            </div>\n            <div class=\"row ptb-10\">\n              <div class=\"col-lg-12\">\n                <button style=\"float:left;\" mat-button matStepperPrevious>Back</button>\n                <button style=\"float:right;\" color=\"primary\" (click)=\"sendMail(template)\" mat-raised-button>Send Mail</button>\n              </div>\n            </div>\n          </mat-step>\n        </mat-horizontal-stepper>                      \n        \n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12\" style=\"text-align: center;\">\n    <!-- <button color=\"primary\" (click)=\"sendMail(template)\" mat-raised-button>Send Mail</button> -->\n    <button color=\"warn\" (click)=\"closeDialog()\" mat-raised-button>Close</button>\n  </div>\n</div>\n\n\n<!---------------------------------------------- Invoice -------------------------------------------------->\n<!---------------------------------------------- Invoice -------------------------------------------------->\n\n<div id=\"demo\" style=\"padding: 0 5px 0 5px\" hidden>\n  <div class=\"col-lg-12\" style=\"padding:10px;\"> \n    <table *ngIf=\"!businessSettings.HideBusinessLetterHead\" style=\"width: 100%;\" border-spacing=\"0\">\n      <tr>\n        <td rowspan=\"3\" style=\"border-bottom: 1px solid darkgrey; width: 10%; padding-left: 5%; padding-bottom: 10px;\">\n          <img alt=\"\" [src]=\"companyLogo\" height=\"70px\" width=\"auto\" />\n        </td>\n        <td style=\"text-align:left; padding-left: 10%;\">\n          <b style=\"font-size: 18px; font-weight: 600 ;\">{{user.companyName}}</b>\n        </td>\n      </tr>\n      <tr>\n        <td style=\"text-align: left; padding-left: 10%;\">\n          <b>{{companyProfile.address}}</b>\n        </td>\n      </tr>\n      <tr>\n        <td style=\"border-bottom: 1px solid darkgrey; text-align: left; padding-bottom: 10px; padding-left: 10%;\">\n          <b><b>Email:</b> {{companyProfile.email}} <b>Mobile:</b> {{companyProfile.phone}}</b>\n        </td>\n      </tr>\n    </table>\n    <table style=\"width:100%\">\n      <tr>\n        <td style=\"border-bottom: 1px solid darkgrey; text-align: center;\"><b style=\"font-size: medium;\">Tax Invoice</b></td>\n      </tr>\n    </table>\n  </div>\n  <div class=\"box2\" style=\"display: flex; flex-direction: row; border-bottom: 0.1px solid; border-bottom-color: darkgrey;\">\n    <div class=\"col-lg-6 vl\" style=\"border-right: 0.1px solid; border-right-color: darkgrey; width: 50%;\">\n      <table cellpadding=2px>\n        <tr>\n          <td>\n            <b>\n              Customer Name:\n            </b>\n          </td>\n          <td>\n            {{customerDetails.name}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <b>\n              Customer No:\n            </b>\n          </td>\n          <td>\n            {{customerDetails.phone}}\n          </td>\n        </tr>\n        <tr>\n            <td>\n              <b>\n                Address:\n              </b>\n            </td>\n            <td>\n              {{customerDetails.caddress}}\n            </td>\n        </tr>\n        <tr>\n          <td>\n            <b>\n              State:\n            </b>\n          </td>\n          <td>\n            {{customerDetails.state}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <b>\n              PAN:\n            </b>\n          </td>\n          <td>\n            {{customerDetails.panNo}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <b>GSTIN:</b>\n          </td>\n          <td>\n            {{customerDetails.gstin}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <b>Billing Address:</b>\n          </td>\n          <td>\n            {{customerDetails.billingAddress}}\n          </td>\n        </tr>\n      </table>\n    </div>\n    <div class=\"col-lg-6\">\n      <table cellpadding=2px>\n        <tr>\n          <td><b>&nbsp;Invoice Number:</b></td>\n          <td>\n            {{invoiceDetails.invoiceNumber}}\n          </td>\n        </tr>\n          <tr><td><b>&nbsp;Invoice Date:</b></td>\n            <td>\n              {{invoiceDetails.invoiceDate | date: 'dd/MM/yyyy'}}\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <b>&nbsp;Invoice Period From:</b>\n            </td>\n            <td>\n              {{invoiceDetails.invoicePeriodFrom | date: 'dd/MM/yyyy'}}\n            </td>\n          </tr>\n          <tr>  \n            <td>\n              <b>&nbsp;Invoice Period To:</b>\n            </td>\n            <td>\n              {{invoiceDetails.invoicePeriodTo | date: 'dd/MM/yyyy'}}\n            </td>\n          </tr>\n        <tr>\n          <td>\n            <b>\n              &nbsp;CC Number:\n            </b>\n          </td>\n          <td>\n            {{invoiceDetails.CCNumber}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <b>\n              &nbsp;PO Number\n            </b>\n          </td>\n          <td>\n              {{invoiceDetails.PONumber}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n          </td>\n          <td>\n          </td>\n        </tr>\n      </table>\n    </div>\n  </div>\n  <div class=\"col-lg-12\">            \n    <table style=\"width:100%;margin-top:5px;\" cellpadding=\"4\">\n      <tr class=\"invoiceTable\" style=\"border-bottom:1px solid;\">\n        <th>Sr.</th>\n        <th>Description</th>\n        <th>Rate</th>\n        <th>Quantity</th>\n        <th>Amount</th>\n      </tr>\n      <tr *ngFor=\"let temp of selectedBookings; let i=index\" style=\" text-align:center;\" class=\"invoiceTable\" style=\"border-bottom:1px solid;\">                      \n        <td style=\"text-align:center;\">{{i+1}}</td>\n        <td class=\"tdleft\">\n          Travellers:\n          <b>\n            {{temp.travellers}}\n          </b><br>\n          Country Name:\n          <b>\n            {{temp.location}}\n          </b><br>\n          Visa Type:\n          <b>\n            {{temp.visaType}}\n          </b><br>\n          Date:\n          <b>\n            {{temp.from | date:'dd-MM-yyyy'}} - {{temp.to | date:'dd-MM-yyyy'}} \n          </b><br>                  \n        </td>\n        <td style=\"text-align:center;\">{{temp.visaCost}}</td>\n        <td style=\"text-align:center;\">1</td>\n        <td style=\"text-align:center;\">{{temp.visaCost}}</td>\n      </tr>\n      <tbody style=\"page-break-inside: avoid\">\n        <tr class=\"invoiceTable\" *ngIf=\"invoiceDetails.taxableAmount != null\">\n          <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n            \n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            Taxable Amount\n          </td>\n          <td>&nbsp;</td>\n          <td class=\"tdright\" style=\"text-align: center;\">\n            <b>{{invoiceDetails.taxableAmount}}</b>\n          </td>\n        </tr>\n        <tr *ngIf=\"invoiceDetails.taxType == 'CGST+SGST'\" style=\"border-bottom:1px solid;\" class=\"invoiceTable\">\n          <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n            Tax Type:\n            \n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            <b>\n              &nbsp;CGST\n            </b>\n            <br>\n            <b>\n              SGST\n            </b>\n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            <b>\n              &nbsp;{{invoiceDetails.taxRate/2}}%\n            </b>\n            <br>\n            <b>\n              {{invoiceDetails.taxRate/2}}%\n            </b>\n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            <b>\n              &nbsp;{{invoiceDetails.taxAmount/2}}\n            </b>\n            <br>\n            <b>\n              {{invoiceDetails.taxAmount/2}}\n            </b>\n          </td>\n        </tr>\n        <tr *ngIf=\"invoiceDetails.taxType != 'CGST+SGST'\" style=\"border-bottom:1px solid;\" class=\"invoiceTable\">\n          <td colspan=\"3\" class=\"tdright\" style=\"text-align: right;\">\n            Tax Type:\n            <b>\n              {{invoiceDetails.taxType}}\n            </b>\n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            <b>\n              {{invoiceDetails.taxRate}}%\n            </b>\n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            <b>\n              {{invoiceDetails.taxAmount}}\n            </b>\n          </td>\n        </tr>\n        <tr style=\"border-bottom:1px solid;\" class=\"invoiceTable\">\n          <td colspan=\"3\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n            Discount Type:\n            <b>\n              {{invoiceDetails.discountType}}\n            </b>\n          </td>\n          <td></td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            <b>\n              {{invoiceDetails.discountAmount}}\n            </b>\n          </td>\n        </tr>\n        <tr class=\"invoiceTable\" *ngIf=\"invoiceDetails.nonTaxableAmount > 0\">\n          <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n            \n          </td>\n          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n            Non Taxable Amount\n          </td>\n          <td>&nbsp;</td>\n          <td class=\"tdright\" style=\"text-align: center;\">\n            <b>{{invoiceDetails.nonTaxableAmount}}</b>\n          </td>\n        </tr>\n        <tr class=\"invoiceTable\">\n          <td colspan=\"2\" style=\"text-align: left; border-bottom:2px solid black;\">\n            In Words: <b style=\"text-transform:capitalize;\">{{totalInWords}}</b>\n          </td>\n          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n            Gross Total:\n          </td>\n          <td style=\"border-bottom:2px solid black;\">&nbsp;</td>\n          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n            <b>{{invoiceDetails.totalAmount}}</b>\n          </td>\n        </tr>\n        <tr class=\"invoiceTable\">\n          <td colspan=\"3\" style=\"text-align: left; border-bottom:2px solid black;\">\n            Advance Paid:\n          </td>                      \n          <td style=\"border-bottom:2px solid black;\">&nbsp;</td>\n          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n            <b>{{invoiceDetails.advanceReceived}}</b>\n          </td>\n        </tr>\n        <tr class=\"invoiceTable\">\n          <td colspan=\"2\" style=\"text-align: left; border-bottom:2px solid black;\">\n            In Words: <b style=\"text-transform:capitalize;\">{{totalInWords}}</b>\n          </td>\n          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n            Net Total:\n          </td>\n          <td style=\"border-bottom:2px solid black;\">&nbsp;</td>\n          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n            <b>{{invoiceDetails.totalAmount - invoiceDetails.advanceReceived}}</b>\n          </td>\n        </tr>\n      </tbody>                  \n    </table>  \n  </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/mailvisainvoice/mailvisainvoice.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/mailvisainvoice/mailvisainvoice.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MailvisainvoiceComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material_dialog__ = __webpack_require__("./node_modules/@angular/material/esm5/dialog.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_material_snack_bar__ = __webpack_require__("./node_modules/@angular/material/esm5/snack-bar.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__circles_companyprofile_companyprofile_service__ = __webpack_require__("./src/app/pages/circles/companyprofile/companyprofile.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__operations_new_bank_account_bank_account_service__ = __webpack_require__("./src/app/pages/operations/new-bank-account/bank-account.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_number_to_words__ = __webpack_require__("./node_modules/number-to-words/numberToWords.min.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_number_to_words___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_number_to_words__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_moment__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};













var MailvisainvoiceComponent = (function () {
    function MailvisainvoiceComponent(auth, data, dialog, invoiceService, http, snackBar, _sanitizer, companyProfileService, bankAccountService, customerService, uploadService) {
        this.auth = auth;
        this.data = data;
        this.dialog = dialog;
        this.invoiceService = invoiceService;
        this.http = http;
        this.snackBar = snackBar;
        this._sanitizer = _sanitizer;
        this.companyProfileService = companyProfileService;
        this.bankAccountService = bankAccountService;
        this.customerService = customerService;
        this.uploadService = uploadService;
        this.selectedBookings = [];
        this.totalInWords = '';
        this.companyLogo = '';
        this.user = {};
        this.selectedExtras = [];
        this.extras = [];
        this.invoiceDetails = {};
        this.bookedBy = {
            name: '',
            email: '',
        };
        this.customerDetails = {};
        this.customEmail = '';
        this.customer = true;
        this.bookBy = false;
        this.singleMail = false;
        this.emailAddresses = [];
        this.ccEmailAddresses = [];
        this.imgUrl = [];
        this.bookings = [];
        this.companyProfile = {};
        this.bankAccount = {};
        this.businessSettings = {};
        this.attachments = [];
        // console.log(data);
        this.invoiceDetails = data;
        this.invoiceDetails.invoiceDate = __WEBPACK_IMPORTED_MODULE_12_moment__(this.invoiceDetails.invoiceDate).format("YYYY-MM-DD");
        if (this.invoiceDetails.invoicePeriodFrom != '') {
            this.invoiceDetails.invoicePeriodFrom = __WEBPACK_IMPORTED_MODULE_12_moment__(this.invoiceDetails.invoicePeriodFrom).format("YYYY-MM-DD");
        }
        if (this.invoiceDetails.invoicePeriodTo != '') {
            this.invoiceDetails.invoicePeriodTo = __WEBPACK_IMPORTED_MODULE_12_moment__(this.invoiceDetails.invoicePeriodTo).format("YYYY-MM-DD");
        }
        this.totalInWords = __WEBPACK_IMPORTED_MODULE_11_number_to_words__["toWords"](this.invoiceDetails.totalAmount);
        this.invoiceId = data.id;
        this.invoiceNumber = data.invoiceNumber;
        // this.customerId=data.temp.customer
        // this.checkedBookings = data.temp.bookings
        // this.selectedBookings = this.checkedBookings
    }
    MailvisainvoiceComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            var temp = {
                id: _this.invoiceId
            };
            _this.companyProfileService.getCompanyProfile(_this.user).subscribe(function (data) {
                _this.companyProfile = data[0];
                _this.uploadService.getPresignedUrl(_this.user.companyName, _this.companyProfile.companyLogo, 'profileImages').subscribe(function (data) {
                    _this.companyLogo = data._body;
                });
                // this.uploadService.getFile(this.user.companyName,'profileImages',this.companyProfile.companyLogo).subscribe(data=>{
                //   this.companyLogo = this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' 
                //   + data.text());
                // })
            });
            _this.bankAccountService.getBankAccount(_this.user).subscribe(function (data) {
                console.log(data);
                _this.bankAccount = data[0];
            });
            _this.invoiceService.getVisaInInvoice(temp).subscribe(function (data) {
                console.log(data);
                _this.selectedBookings = data;
                data.forEach(function (element) {
                    _this.bookings.push({
                        visaType: element.visaType,
                        bookedBy: element.bookByName,
                        from: __WEBPACK_IMPORTED_MODULE_12_moment__(element.from).format("DD-MM-YYYY"),
                        to: __WEBPACK_IMPORTED_MODULE_12_moment__(element.to).format("DD-MM-YYYY")
                    });
                    console.log(_this.bookings);
                });
                _this.bookedBy.name = data[0].bookBy;
                _this.bookedBy.email = data[0].bookByEmail;
                _this.customerService.getSingleCustomer(data[0]).subscribe(function (data) {
                    console.log(data);
                    _this.customerDetails = data[0];
                });
            });
        });
        this.auth.businessSettings.subscribe(function (data) {
            _this.businessSettings = data;
        });
    };
    MailvisainvoiceComponent.prototype.mailDocs = function (element, event) {
        var index = this.selectedExtras.indexOf(element);
        if (event.checked) {
            this.selectedExtras.push(element);
            console.log(this.selectedExtras, index);
        }
        else {
            this.selectedExtras.splice(index, 1);
            console.log(this.selectedExtras, index);
        }
    };
    MailvisainvoiceComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    MailvisainvoiceComponent.prototype.sendMail = function (div1) {
        this.invoiceDetails.isMailed = true;
        if (this.selectedExtras.includes('Invoice')) {
            this.printInvoice();
        }
        if (this.customEmail != '' && !this.customEmail.match(/\b([a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+\.[a-zA-Z]{2,}$)\b/)) {
            this.snackBar.open('Enter a valid Email', null, {
                duration: 5000
            });
        }
        else if (this.customEmail != '') {
            if (this.singleMail) {
                this.emailAddresses.push(this.customEmail);
            }
            else {
                this.ccEmailAddresses.push(this.customEmail);
            }
            if (this.customer) {
                this.emailAddresses.push(this.customerDetails.email);
            }
            if (this.bookBy && this.singleMail) {
                this.emailAddresses.push(this.bookedBy.email);
            }
            else if (this.bookBy && !this.singleMail) {
                this.ccEmailAddresses.push(this.bookedBy.email);
            }
            console.log(this.emailAddresses, this.ccEmailAddresses);
            this.mailSubject = "Invoice #" + this.invoiceNumber + " for your VISA has been generated";
            this.mailBody = div1.innerHTML;
            var temp = {
                companyEmail: this.companyProfile.email,
                name: this.companyProfile.name,
                email: this.emailAddresses,
                cc: this.ccEmailAddresses,
                subject: this.mailSubject,
                mailBody: this.mailBody,
                attachments: this.attachments,
            };
            console.log(temp);
            this.http.post('/Voip/sendMail', temp).subscribe(function (data) {
                console.log(data);
            });
            this.invoiceService.updateVisaInvoice(this.invoiceDetails).subscribe();
            this.snackBar.open('Mail Sent', null, {
                duration: 5000
            });
            this.dialog.closeAll();
        }
    };
    MailvisainvoiceComponent.prototype.printInvoice = function () {
        return __awaiter(this, void 0, void 0, function () {
            var data, pdfData;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        data = document.getElementById('demo').innerHTML;
                        pdfData = data;
                        return [4 /*yield*/, this.uploadService.generateInvoicePDF(pdfData, this.invoiceId + "_Invoice_" + __WEBPACK_IMPORTED_MODULE_12_moment__().format("DD-MM-YYYY"), "visaInvoice", this.user, this.companyProfile, this.bankAccount)];
                    case 1:
                        _a.sent();
                        this.attachments.push({ fileName: "Invoice_" + __WEBPACK_IMPORTED_MODULE_12_moment__().format("DD-MM-YYYY"), path: this.invoiceId + "_Invoice_" + __WEBPACK_IMPORTED_MODULE_12_moment__().format("DD-MM-YYYY") + ".pdf" });
                        return [2 /*return*/];
                }
            });
        });
    };
    MailvisainvoiceComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'mailvisainvoice',
            template: __webpack_require__("./src/app/pages/masters/mailvisainvoice/mailvisainvoice.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/mailvisainvoice/mailvisainvoice.component.scss")]
        }),
        __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_2__angular_material_dialog__["a" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__core_auth_service__["a" /* AuthService */], Object, __WEBPACK_IMPORTED_MODULE_2__angular_material_dialog__["b" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_3__createinvoice_invoice_service__["a" /* InvoiceService */],
            __WEBPACK_IMPORTED_MODULE_4__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_5__angular_material_snack_bar__["a" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_6__angular_platform_browser__["DomSanitizer"],
            __WEBPACK_IMPORTED_MODULE_7__circles_companyprofile_companyprofile_service__["a" /* CompanyprofileService */],
            __WEBPACK_IMPORTED_MODULE_8__operations_new_bank_account_bank_account_service__["a" /* BankAccountService */],
            __WEBPACK_IMPORTED_MODULE_9__customer_customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_10__fileupload_service__["a" /* FileuploadService */]])
    ], MailvisainvoiceComponent);
    return MailvisainvoiceComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/masters-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MastersRoutingModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return routedComponents; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__masters_component__ = __webpack_require__("./src/app/pages/masters/masters.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__dutytype_dutytype_component__ = __webpack_require__("./src/app/pages/masters/dutytype/dutytype.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__addsuppliers_addsuppliers_component__ = __webpack_require__("./src/app/pages/masters/addsuppliers/addsuppliers.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__addcustomer_addcustomer_component__ = __webpack_require__("./src/app/pages/masters/addcustomer/addcustomer.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__addpurchase_addpurchase_component__ = __webpack_require__("./src/app/pages/masters/addpurchase/addpurchase.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__customer_customer_component__ = __webpack_require__("./src/app/pages/masters/customer/customer.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__vehiclegroups_vehiclegroups_component__ = __webpack_require__("./src/app/pages/masters/vehiclegroups/vehiclegroups.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__addreceipts_addreceipts_component__ = __webpack_require__("./src/app/pages/masters/addreceipts/addreceipts.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__newpettycash_newpettycash_component__ = __webpack_require__("./src/app/pages/masters/newpettycash/newpettycash.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__new_vehicles_new_vehicles_component__ = __webpack_require__("./src/app/pages/masters/new-vehicles/new-vehicles.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__taxes_taxes_component__ = __webpack_require__("./src/app/pages/masters/taxes/taxes.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__new_duty_supporter_new_duty_supporter_component__ = __webpack_require__("./src/app/pages/masters/new-duty-supporter/new-duty-supporter.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__receiptsdisp_receiptsdisp_component__ = __webpack_require__("./src/app/pages/masters/receiptsdisp/receiptsdisp.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__suppliersdisp_suppliersdisp_component__ = __webpack_require__("./src/app/pages/masters/suppliersdisp/suppliersdisp.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__newuser_newuser_component__ = __webpack_require__("./src/app/pages/masters/newuser/newuser.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__subuserdisp_subuserdisp_component__ = __webpack_require__("./src/app/pages/masters/subuserdisp/subuserdisp.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__dutytypedisp_dutytypedisp_component__ = __webpack_require__("./src/app/pages/masters/dutytypedisp/dutytypedisp.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__vehiclegroupdisp_vehiclegroupdisp_component__ = __webpack_require__("./src/app/pages/masters/vehiclegroupdisp/vehiclegroupdisp.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__pettycashdisp_pettycashdisp_component__ = __webpack_require__("./src/app/pages/masters/pettycashdisp/pettycashdisp.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__employeedisp_employeedisp_component__ = __webpack_require__("./src/app/pages/masters/employeedisp/employeedisp.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__createinvoice_createinvoice_component__ = __webpack_require__("./src/app/pages/masters/createinvoice/createinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__pricing_pricing_component__ = __webpack_require__("./src/app/pages/masters/pricing/pricing.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__purchase_duties_purchase_duties_component__ = __webpack_require__("./src/app/pages/masters/purchase-duties/purchase-duties.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__purchase_payments_purchase_payments_component__ = __webpack_require__("./src/app/pages/masters/purchase-payments/purchase-payments.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__purchase_invoice_purchase_invoice_component__ = __webpack_require__("./src/app/pages/masters/purchase-invoice/purchase-invoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__vehicledisp_vehicledisp_component__ = __webpack_require__("./src/app/pages/masters/vehicledisp/vehicledisp.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__driver_disp_driver_disp_component__ = __webpack_require__("./src/app/pages/masters/driver-disp/driver-disp.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__labeldisplay_labeldisplay_component__ = __webpack_require__("./src/app/pages/masters/labeldisplay/labeldisplay.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__customergroupdisplay_customergroupdisplay_component__ = __webpack_require__("./src/app/pages/masters/customergroupdisplay/customergroupdisplay.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__suppliergroupdisplay_suppliergroupdisplay_component__ = __webpack_require__("./src/app/pages/masters/suppliergroupdisplay/suppliergroupdisplay.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__invoicedisplay_invoicedisplay_component__ = __webpack_require__("./src/app/pages/masters/invoicedisplay/invoicedisplay.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__users_users_component__ = __webpack_require__("./src/app/pages/masters/users/users.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__recurringbookby_recurringbookby_component__ = __webpack_require__("./src/app/pages/masters/recurringbookby/recurringbookby.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35__recurringpassenger_recurringpassenger_component__ = __webpack_require__("./src/app/pages/masters/recurringpassenger/recurringpassenger.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36__createflightinvoice_createflightinvoice_component__ = __webpack_require__("./src/app/pages/masters/createflightinvoice/createflightinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37__createhotelinvoice_createhotelinvoice_component__ = __webpack_require__("./src/app/pages/masters/createhotelinvoice/createhotelinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38__taxesdisplay_taxesdisplay_component__ = __webpack_require__("./src/app/pages/masters/taxesdisplay/taxesdisplay.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_39__notifications_notifications_component__ = __webpack_require__("./src/app/pages/masters/notifications/notifications.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_40__viewinvoice_viewinvoice_component__ = __webpack_require__("./src/app/pages/masters/viewinvoice/viewinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_41__core_deactivate_guard__ = __webpack_require__("./src/app/core/deactivate.guard.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_42__viewhotelinvoice_viewhotelinvoice_component__ = __webpack_require__("./src/app/pages/masters/viewhotelinvoice/viewhotelinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_43__viewflightinvoice_viewflightinvoice_component__ = __webpack_require__("./src/app/pages/masters/viewflightinvoice/viewflightinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_44__viewvisainvoice_viewvisainvoice_component__ = __webpack_require__("./src/app/pages/masters/viewvisainvoice/viewvisainvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_45__createvisainvoice_createvisainvoice_component__ = __webpack_require__("./src/app/pages/masters/createvisainvoice/createvisainvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_46__add_flight_receipt_add_flight_receipt_component__ = __webpack_require__("./src/app/pages/masters/add-flight-receipt/add-flight-receipt.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_47__add_hotel_receipt_add_hotel_receipt_component__ = __webpack_require__("./src/app/pages/masters/add-hotel-receipt/add-hotel-receipt.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_48__add_visa_receipt_add_visa_receipt_component__ = __webpack_require__("./src/app/pages/masters/add-visa-receipt/add-visa-receipt.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_49__newpurchasepayment_newpurchasepayment_component__ = __webpack_require__("./src/app/pages/masters/newpurchasepayment/newpurchasepayment.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_50__myprofile_myprofile_component__ = __webpack_require__("./src/app/pages/masters/myprofile/myprofile.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_51__viewpurchaseinvoice_viewpurchaseinvoice_component__ = __webpack_require__("./src/app/pages/masters/viewpurchaseinvoice/viewpurchaseinvoice.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




















































var routes = [{
        path: '',
        component: __WEBPACK_IMPORTED_MODULE_2__masters_component__["a" /* MastersComponent */],
        children: [{
                path: 'dutytypedisp',
                component: __WEBPACK_IMPORTED_MODULE_18__dutytypedisp_dutytypedisp_component__["a" /* DutytypedispComponent */],
            },
            {
                path: 'dutytype',
                component: __WEBPACK_IMPORTED_MODULE_3__dutytype_dutytype_component__["a" /* DutyTypeComponent */]
            },
            {
                path: 'suppliersdisp',
                component: __WEBPACK_IMPORTED_MODULE_15__suppliersdisp_suppliersdisp_component__["a" /* SuppliersdispComponent */],
            },
            {
                path: 'addsupplier',
                component: __WEBPACK_IMPORTED_MODULE_4__addsuppliers_addsuppliers_component__["a" /* AddSuppliersComponent */]
            },
            {
                path: 'customer',
                component: __WEBPACK_IMPORTED_MODULE_7__customer_customer_component__["a" /* CustomerComponent */],
            },
            {
                path: 'addcustomer',
                component: __WEBPACK_IMPORTED_MODULE_5__addcustomer_addcustomer_component__["a" /* AddCustomerComponent */],
                canDeactivate: [__WEBPACK_IMPORTED_MODULE_41__core_deactivate_guard__["a" /* DeactivateGuard */]]
            },
            {
                path: 'purchase-invoice',
                component: __WEBPACK_IMPORTED_MODULE_26__purchase_invoice_purchase_invoice_component__["a" /* PurchaseInvoiceComponent */],
            },
            {
                path: 'receiptsdisp',
                component: __WEBPACK_IMPORTED_MODULE_14__receiptsdisp_receiptsdisp_component__["a" /* ReceiptsdispComponent */],
            },
            // {
            //   path:'customer',
            //   component:CustomerComponent,
            // },
            {
                path: 'pettycashdisp',
                component: __WEBPACK_IMPORTED_MODULE_20__pettycashdisp_pettycashdisp_component__["a" /* PettycashdispComponent */],
            },
            {
                path: 'vehiclegroupdisp',
                component: __WEBPACK_IMPORTED_MODULE_19__vehiclegroupdisp_vehiclegroupdisp_component__["a" /* VehiclegroupdispComponent */],
            },
            {
                path: 'vehicledisp',
                component: __WEBPACK_IMPORTED_MODULE_27__vehicledisp_vehicledisp_component__["a" /* VehicledispComponent */],
            },
            {
                path: 'taxes',
                component: __WEBPACK_IMPORTED_MODULE_12__taxes_taxes_component__["a" /* TaxesComponent */],
            },
            {
                path: 'taxesDisplay',
                component: __WEBPACK_IMPORTED_MODULE_38__taxesdisplay_taxesdisplay_component__["a" /* TaxesdisplayComponent */]
            },
            {
                path: 'driver-disp',
                component: __WEBPACK_IMPORTED_MODULE_28__driver_disp_driver_disp_component__["a" /* DriverDispComponent */],
            },
            {
                path: 'employeedisp',
                component: __WEBPACK_IMPORTED_MODULE_21__employeedisp_employeedisp_component__["a" /* EmployeedispComponent */],
            },
            {
                path: 'new-duty-supporter',
                component: __WEBPACK_IMPORTED_MODULE_13__new_duty_supporter_new_duty_supporter_component__["a" /* NewDutySupporterComponent */]
            },
            {
                path: 'users',
                component: __WEBPACK_IMPORTED_MODULE_33__users_users_component__["a" /* UsersComponent */]
            },
            {
                path: 'subuserdisp',
                component: __WEBPACK_IMPORTED_MODULE_17__subuserdisp_subuserdisp_component__["a" /* SubuserdispComponent */]
            },
            {
                path: 'newuser',
                component: __WEBPACK_IMPORTED_MODULE_16__newuser_newuser_component__["a" /* NewuserComponent */]
            },
            {
                path: 'createinvoice',
                component: __WEBPACK_IMPORTED_MODULE_22__createinvoice_createinvoice_component__["a" /* CreateinvoiceComponent */]
            },
            {
                path: 'createflightinvoice',
                component: __WEBPACK_IMPORTED_MODULE_36__createflightinvoice_createflightinvoice_component__["a" /* CreateflightinvoiceComponent */]
            },
            {
                path: 'createhotelinvoice',
                component: __WEBPACK_IMPORTED_MODULE_37__createhotelinvoice_createhotelinvoice_component__["a" /* CreatehotelinvoiceComponent */]
            },
            {
                path: 'createvisainvoice',
                component: __WEBPACK_IMPORTED_MODULE_45__createvisainvoice_createvisainvoice_component__["a" /* CreatevisainvoiceComponent */]
            },
            {
                path: 'pricing',
                component: __WEBPACK_IMPORTED_MODULE_23__pricing_pricing_component__["a" /* PricingComponent */]
            },
            {
                path: 'purchase-duties',
                component: __WEBPACK_IMPORTED_MODULE_24__purchase_duties_purchase_duties_component__["a" /* PurchaseDutiesComponent */]
            },
            {
                path: 'purchase-payments',
                component: __WEBPACK_IMPORTED_MODULE_25__purchase_payments_purchase_payments_component__["a" /* PurchasePaymentsComponent */]
            },
            {
                path: 'labels',
                component: __WEBPACK_IMPORTED_MODULE_29__labeldisplay_labeldisplay_component__["a" /* LabeldisplayComponent */]
            },
            {
                path: 'customergroupdisplay',
                component: __WEBPACK_IMPORTED_MODULE_30__customergroupdisplay_customergroupdisplay_component__["a" /* CustomergroupdisplayComponent */]
            },
            {
                path: 'suppliergroupdisplay',
                component: __WEBPACK_IMPORTED_MODULE_31__suppliergroupdisplay_suppliergroupdisplay_component__["a" /* SuppliergroupdisplayComponent */]
            },
            {
                path: 'invoicedisplay',
                component: __WEBPACK_IMPORTED_MODULE_32__invoicedisplay_invoicedisplay_component__["a" /* InvoicedisplayComponent */]
            },
            {
                path: 'addPurchase',
                component: __WEBPACK_IMPORTED_MODULE_6__addpurchase_addpurchase_component__["a" /* AddPurchaseComponent */]
            },
            {
                path: 'addReceipts',
                component: __WEBPACK_IMPORTED_MODULE_9__addreceipts_addreceipts_component__["a" /* AddReceiptsComponent */]
            },
            {
                path: 'addFlightReceipts',
                component: __WEBPACK_IMPORTED_MODULE_46__add_flight_receipt_add_flight_receipt_component__["a" /* AddFlightReceiptComponent */]
            },
            {
                path: 'addHotelReceipts',
                component: __WEBPACK_IMPORTED_MODULE_47__add_hotel_receipt_add_hotel_receipt_component__["a" /* AddHotelReceiptComponent */]
            },
            {
                path: 'addVisaReceipts',
                component: __WEBPACK_IMPORTED_MODULE_48__add_visa_receipt_add_visa_receipt_component__["a" /* AddVisaReceiptComponent */]
            },
            {
                path: 'addPurchasePayments',
                component: __WEBPACK_IMPORTED_MODULE_49__newpurchasepayment_newpurchasepayment_component__["a" /* NewpurchasepaymentComponent */]
            },
            {
                path: 'recurringbookby',
                component: __WEBPACK_IMPORTED_MODULE_34__recurringbookby_recurringbookby_component__["a" /* RecurringbookbyComponent */]
            },
            {
                path: 'recurringpassenger',
                component: __WEBPACK_IMPORTED_MODULE_35__recurringpassenger_recurringpassenger_component__["a" /* RecurringpassengerComponent */]
            },
            {
                path: 'notifications',
                component: __WEBPACK_IMPORTED_MODULE_39__notifications_notifications_component__["a" /* NotificationsComponent */]
            },
            {
                path: 'viewinvoice',
                component: __WEBPACK_IMPORTED_MODULE_40__viewinvoice_viewinvoice_component__["a" /* ViewinvoiceComponent */],
                canDeactivate: [__WEBPACK_IMPORTED_MODULE_41__core_deactivate_guard__["a" /* DeactivateGuard */]]
            },
            {
                path: 'viewhotelinvoice',
                component: __WEBPACK_IMPORTED_MODULE_42__viewhotelinvoice_viewhotelinvoice_component__["a" /* ViewhotelinvoiceComponent */],
                canDeactivate: [__WEBPACK_IMPORTED_MODULE_41__core_deactivate_guard__["a" /* DeactivateGuard */]]
            },
            {
                path: 'viewflightinvoice',
                component: __WEBPACK_IMPORTED_MODULE_43__viewflightinvoice_viewflightinvoice_component__["a" /* ViewflightinvoiceComponent */],
                canDeactivate: [__WEBPACK_IMPORTED_MODULE_41__core_deactivate_guard__["a" /* DeactivateGuard */]]
            },
            {
                path: 'viewvisainvoice',
                component: __WEBPACK_IMPORTED_MODULE_44__viewvisainvoice_viewvisainvoice_component__["a" /* ViewvisainvoiceComponent */],
                canDeactivate: [__WEBPACK_IMPORTED_MODULE_41__core_deactivate_guard__["a" /* DeactivateGuard */]]
            },
            {
                path: 'myprofile',
                component: __WEBPACK_IMPORTED_MODULE_50__myprofile_myprofile_component__["a" /* MyprofileComponent */]
            },
            {
                path: 'viewpurchaseinvoice',
                component: __WEBPACK_IMPORTED_MODULE_51__viewpurchaseinvoice_viewpurchaseinvoice_component__["a" /* ViewpurchaseinvoiceComponent */]
            }
        ],
    }];
var MastersRoutingModule = (function () {
    function MastersRoutingModule() {
    }
    MastersRoutingModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_router__["d" /* RouterModule */].forChild(routes),
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_router__["d" /* RouterModule */],
            ],
        })
    ], MastersRoutingModule);
    return MastersRoutingModule;
}());

var routedComponents = [
    __WEBPACK_IMPORTED_MODULE_2__masters_component__["a" /* MastersComponent */],
    __WEBPACK_IMPORTED_MODULE_3__dutytype_dutytype_component__["a" /* DutyTypeComponent */],
    __WEBPACK_IMPORTED_MODULE_4__addsuppliers_addsuppliers_component__["a" /* AddSuppliersComponent */],
    __WEBPACK_IMPORTED_MODULE_5__addcustomer_addcustomer_component__["a" /* AddCustomerComponent */],
    __WEBPACK_IMPORTED_MODULE_6__addpurchase_addpurchase_component__["a" /* AddPurchaseComponent */],
    __WEBPACK_IMPORTED_MODULE_9__addreceipts_addreceipts_component__["a" /* AddReceiptsComponent */],
    __WEBPACK_IMPORTED_MODULE_20__pettycashdisp_pettycashdisp_component__["a" /* PettycashdispComponent */],
    __WEBPACK_IMPORTED_MODULE_7__customer_customer_component__["a" /* CustomerComponent */],
    __WEBPACK_IMPORTED_MODULE_10__newpettycash_newpettycash_component__["a" /* NewPettyCashComponent */],
    __WEBPACK_IMPORTED_MODULE_8__vehiclegroups_vehiclegroups_component__["a" /* VehicleGroupsComponent */],
    __WEBPACK_IMPORTED_MODULE_11__new_vehicles_new_vehicles_component__["a" /* NewVehiclesComponent */],
    __WEBPACK_IMPORTED_MODULE_30__customergroupdisplay_customergroupdisplay_component__["a" /* CustomergroupdisplayComponent */],
];


/***/ }),

/***/ "./src/app/pages/masters/masters.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MastersComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var MastersComponent = (function () {
    function MastersComponent() {
    }
    MastersComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ngx-form-elements',
            template: "\n    <router-outlet></router-outlet>\n  ",
        })
    ], MastersComponent);
    return MastersComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/masters.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MastersModule", function() { return MastersModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__theme_theme_module__ = __webpack_require__("./src/app/@theme/theme.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__masters_routing_module__ = __webpack_require__("./src/app/pages/masters/masters-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__taxes_taxes_component__ = __webpack_require__("./src/app/pages/masters/taxes/taxes.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__new_vehicles_new_vehicles_component__ = __webpack_require__("./src/app/pages/masters/new-vehicles/new-vehicles.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__new_driver_new_driver_component__ = __webpack_require__("./src/app/pages/masters/new-driver/new-driver.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__new_employees_new_employees_component__ = __webpack_require__("./src/app/pages/masters/new-employees/new-employees.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__new_duty_supporter_new_duty_supporter_component__ = __webpack_require__("./src/app/pages/masters/new-duty-supporter/new-duty-supporter.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__sub_users_sub_users_component__ = __webpack_require__("./src/app/pages/masters/sub-users/sub-users.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__suppliersdisp_suppliersdisp_component__ = __webpack_require__("./src/app/pages/masters/suppliersdisp/suppliersdisp.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__dutiesdisp_dutiesdisp_component__ = __webpack_require__("./src/app/pages/masters/dutiesdisp/dutiesdisp.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__receiptsdisp_receiptsdisp_component__ = __webpack_require__("./src/app/pages/masters/receiptsdisp/receiptsdisp.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__newuser_newuser_component__ = __webpack_require__("./src/app/pages/masters/newuser/newuser.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__addsuppliers_addsuppliers_component__ = __webpack_require__("./src/app/pages/masters/addsuppliers/addsuppliers.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__addreceipts_addreceipts_component__ = __webpack_require__("./src/app/pages/masters/addreceipts/addreceipts.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__subuserdisp_subuserdisp_component__ = __webpack_require__("./src/app/pages/masters/subuserdisp/subuserdisp.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__dutytypedisp_dutytypedisp_component__ = __webpack_require__("./src/app/pages/masters/dutytypedisp/dutytypedisp.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__dutytype_dutytype_component__ = __webpack_require__("./src/app/pages/masters/dutytype/dutytype.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__addcustomer_addcustomer_component__ = __webpack_require__("./src/app/pages/masters/addcustomer/addcustomer.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__vehiclegroupdisp_vehiclegroupdisp_component__ = __webpack_require__("./src/app/pages/masters/vehiclegroupdisp/vehiclegroupdisp.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__vehiclegroups_vehiclegroups_component__ = __webpack_require__("./src/app/pages/masters/vehiclegroups/vehiclegroups.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__pettycashdisp_pettycashdisp_component__ = __webpack_require__("./src/app/pages/masters/pettycashdisp/pettycashdisp.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__newpettycash_newpettycash_component__ = __webpack_require__("./src/app/pages/masters/newpettycash/newpettycash.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__employeedisp_employeedisp_component__ = __webpack_require__("./src/app/pages/masters/employeedisp/employeedisp.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__createinvoice_createinvoice_component__ = __webpack_require__("./src/app/pages/masters/createinvoice/createinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__customerselection_customerselection_component__ = __webpack_require__("./src/app/pages/masters/customerselection/customerselection.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__customer_customer_component__ = __webpack_require__("./src/app/pages/masters/customer/customer.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__bookingdispinvoice_bookingdispinvoice_component__ = __webpack_require__("./src/app/pages/masters/bookingdispinvoice/bookingdispinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__pricing_pricing_component__ = __webpack_require__("./src/app/pages/masters/pricing/pricing.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__pricingtables_pricingtables_component__ = __webpack_require__("./src/app/pages/masters/pricingtables/pricingtables.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__purchase_duties_purchase_duties_component__ = __webpack_require__("./src/app/pages/masters/purchase-duties/purchase-duties.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__purchase_payments_purchase_payments_component__ = __webpack_require__("./src/app/pages/masters/purchase-payments/purchase-payments.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__purchase_invoice_purchase_invoice_component__ = __webpack_require__("./src/app/pages/masters/purchase-invoice/purchase-invoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__addpurchase_addpurchase_component__ = __webpack_require__("./src/app/pages/masters/addpurchase/addpurchase.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35__vehicledisp_vehicledisp_component__ = __webpack_require__("./src/app/pages/masters/vehicledisp/vehicledisp.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36__driver_disp_driver_disp_component__ = __webpack_require__("./src/app/pages/masters/driver-disp/driver-disp.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37__newcustomergroup_newcustomergroup_component__ = __webpack_require__("./src/app/pages/masters/newcustomergroup/newcustomergroup.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38__newsuppliergroup_newsuppliergroup_component__ = __webpack_require__("./src/app/pages/masters/newsuppliergroup/newsuppliergroup.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_39__selectinvoices_selectinvoices_component__ = __webpack_require__("./src/app/pages/masters/selectinvoices/selectinvoices.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_40__labels_labels_component__ = __webpack_require__("./src/app/pages/masters/labels/labels.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_41__labels_labels_service__ = __webpack_require__("./src/app/pages/masters/labels/labels.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_42__labeldisplay_labeldisplay_component__ = __webpack_require__("./src/app/pages/masters/labeldisplay/labeldisplay.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_43__customergroupdisplay_customergroupdisplay_component__ = __webpack_require__("./src/app/pages/masters/customergroupdisplay/customergroupdisplay.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_44__suppliergroupdisplay_suppliergroupdisplay_component__ = __webpack_require__("./src/app/pages/masters/suppliergroupdisplay/suppliergroupdisplay.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_45__invoicedisplay_invoicedisplay_component__ = __webpack_require__("./src/app/pages/masters/invoicedisplay/invoicedisplay.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_46__viewinvoice_viewinvoice_component__ = __webpack_require__("./src/app/pages/masters/viewinvoice/viewinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_47__supplierdisp_supplierdisp_component__ = __webpack_require__("./src/app/pages/masters/supplierdisp/supplierdisp.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_48__operations_new_branch_new_branch_service__ = __webpack_require__("./src/app/pages/operations/new-branch/new-branch.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_49__operations_bookingsdisp_bookingsdisp_component__ = __webpack_require__("./src/app/pages/operations/bookingsdisp/bookingsdisp.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_50__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_51__newuser_newuser_service__ = __webpack_require__("./src/app/pages/masters/newuser/newuser.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_52__users_users_component__ = __webpack_require__("./src/app/pages/masters/users/users.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_53__recurringbookby_recurringbookby_component__ = __webpack_require__("./src/app/pages/masters/recurringbookby/recurringbookby.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_54__recurringpassenger_recurringpassenger_component__ = __webpack_require__("./src/app/pages/masters/recurringpassenger/recurringpassenger.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_55__editrecurringbookby_editrecurringbookby_component__ = __webpack_require__("./src/app/pages/masters/editrecurringbookby/editrecurringbookby.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_56__editrecurringpassenger_editrecurringpassenger_component__ = __webpack_require__("./src/app/pages/masters/editrecurringpassenger/editrecurringpassenger.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_57__hotelbookingsinvoice_hotelbookingsinvoice_component__ = __webpack_require__("./src/app/pages/masters/hotelbookingsinvoice/hotelbookingsinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_58__hotels_displayhotels_hotel_service__ = __webpack_require__("./src/app/pages/hotels/displayhotels/hotel.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_59__flightbookinginvoice_flightbookinginvoice_component__ = __webpack_require__("./src/app/pages/masters/flightbookinginvoice/flightbookinginvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_60__airline_airlinedisp_airline_service__ = __webpack_require__("./src/app/pages/airline/airlinedisp/airline.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_61_ngx_color_picker__ = __webpack_require__("./node_modules/ngx-color-picker/dist/ngx-color-picker.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_62__incomingcalldutyinfo_incomingcalldutyinfo_component__ = __webpack_require__("./src/app/pages/masters/incomingcalldutyinfo/incomingcalldutyinfo.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_63__createflightinvoice_createflightinvoice_component__ = __webpack_require__("./src/app/pages/masters/createflightinvoice/createflightinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_64__createhotelinvoice_createhotelinvoice_component__ = __webpack_require__("./src/app/pages/masters/createhotelinvoice/createhotelinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_65__newpurchasepayment_newpurchasepayment_component__ = __webpack_require__("./src/app/pages/masters/newpurchasepayment/newpurchasepayment.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_66__requestinvoice_requestinvoice_component__ = __webpack_require__("./src/app/pages/masters/requestinvoice/requestinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_67__requestdutyslip_requestdutyslip_component__ = __webpack_require__("./src/app/pages/masters/requestdutyslip/requestdutyslip.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_68__senddutyslip_senddutyslip_component__ = __webpack_require__("./src/app/pages/masters/senddutyslip/senddutyslip.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_69__viewdutyslip_viewdutyslip_component__ = __webpack_require__("./src/app/pages/masters/viewdutyslip/viewdutyslip.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_70__selectpurchaseinvoices_selectpurchaseinvoices_component__ = __webpack_require__("./src/app/pages/masters/selectpurchaseinvoices/selectpurchaseinvoices.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_71__viewflightinvoice_viewflightinvoice_component__ = __webpack_require__("./src/app/pages/masters/viewflightinvoice/viewflightinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_72__viewhotelinvoice_viewhotelinvoice_component__ = __webpack_require__("./src/app/pages/masters/viewhotelinvoice/viewhotelinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_73__taxesdisplay_taxesdisplay_component__ = __webpack_require__("./src/app/pages/masters/taxesdisplay/taxesdisplay.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_74__viewpurchaseinvoice_viewpurchaseinvoice_component__ = __webpack_require__("./src/app/pages/masters/viewpurchaseinvoice/viewpurchaseinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_75__notifications_notifications_component__ = __webpack_require__("./src/app/pages/masters/notifications/notifications.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_76__mailinvoice_mailinvoice_component__ = __webpack_require__("./src/app/pages/masters/mailinvoice/mailinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_77__mailhotelinvoice_mailhotelinvoice_component__ = __webpack_require__("./src/app/pages/masters/mailhotelinvoice/mailhotelinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_78__mailflightinvoice_mailflightinvoice_component__ = __webpack_require__("./src/app/pages/masters/mailflightinvoice/mailflightinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_79__importcustomer_importcustomer_component__ = __webpack_require__("./src/app/pages/masters/importcustomer/importcustomer.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_80__importdriver_importdriver_component__ = __webpack_require__("./src/app/pages/masters/importdriver/importdriver.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_81__createvisainvoice_createvisainvoice_component__ = __webpack_require__("./src/app/pages/masters/createvisainvoice/createvisainvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_82__viewvisainvoice_viewvisainvoice_component__ = __webpack_require__("./src/app/pages/masters/viewvisainvoice/viewvisainvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_83__visadispinvoice_visadispinvoice_component__ = __webpack_require__("./src/app/pages/masters/visadispinvoice/visadispinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_84__airline_visa_visa_service__ = __webpack_require__("./src/app/pages/airline/visa/visa.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_85__mailvisainvoice_mailvisainvoice_component__ = __webpack_require__("./src/app/pages/masters/mailvisainvoice/mailvisainvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_86__add_flight_receipt_add_flight_receipt_component__ = __webpack_require__("./src/app/pages/masters/add-flight-receipt/add-flight-receipt.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_87__add_hotel_receipt_add_hotel_receipt_component__ = __webpack_require__("./src/app/pages/masters/add-hotel-receipt/add-hotel-receipt.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_88__add_visa_receipt_add_visa_receipt_component__ = __webpack_require__("./src/app/pages/masters/add-visa-receipt/add-visa-receipt.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_89__selecthotelinvoices_selecthotelinvoices_component__ = __webpack_require__("./src/app/pages/masters/selecthotelinvoices/selecthotelinvoices.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_90__selectflightinvoices_selectflightinvoices_component__ = __webpack_require__("./src/app/pages/masters/selectflightinvoices/selectflightinvoices.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_91__selectvisainvoices_selectvisainvoices_component__ = __webpack_require__("./src/app/pages/masters/selectvisainvoices/selectvisainvoices.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_92__myprofile_myprofile_component__ = __webpack_require__("./src/app/pages/masters/myprofile/myprofile.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_93__changedriverpassword_changedriverpassword_component__ = __webpack_require__("./src/app/pages/masters/changedriverpassword/changedriverpassword.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_94__invoiceattachmentmodal_invoiceattachmentmodal_component__ = __webpack_require__("./src/app/pages/masters/invoiceattachmentmodal/invoiceattachmentmodal.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_95__driverprofile_driverprofile_component__ = __webpack_require__("./src/app/pages/masters/driverprofile/driverprofile.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_96__employeeprofile_employeeprofile_component__ = __webpack_require__("./src/app/pages/masters/employeeprofile/employeeprofile.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_97__vehicleprofile_vehicleprofile_component__ = __webpack_require__("./src/app/pages/masters/vehicleprofile/vehicleprofile.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_98__angular_material_moment_adapter__ = __webpack_require__("./node_modules/@angular/material-moment-adapter/esm5/material-moment-adapter.es5.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



































































































var MastersModule = (function () {
    function MastersModule() {
    }
    MastersModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__theme_theme_module__["a" /* ThemeModule */],
                __WEBPACK_IMPORTED_MODULE_2__masters_routing_module__["a" /* MastersRoutingModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["L" /* MatSortModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["o" /* MatDialogModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["s" /* MatFormFieldModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["F" /* MatSelectModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["v" /* MatInputModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["m" /* MatDatepickerModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["y" /* MatNativeDateModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["g" /* MatButtonModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["j" /* MatCheckboxModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["P" /* MatTableModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["E" /* MatRadioModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["S" /* MatTooltipModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["f" /* MatAutocompleteModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["J" /* MatSnackBarModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["B" /* MatPaginatorModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["x" /* MatMenuModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["u" /* MatIconModule */],
                __WEBPACK_IMPORTED_MODULE_50__angular_forms__["e" /* FormsModule */],
                __WEBPACK_IMPORTED_MODULE_50__angular_forms__["j" /* ReactiveFormsModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["C" /* MatProgressBarModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["Q" /* MatTabsModule */],
                __WEBPACK_IMPORTED_MODULE_61_ngx_color_picker__["a" /* ColorPickerModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["k" /* MatChipsModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["w" /* MatListModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["M" /* MatStepperModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["i" /* MatCardModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["r" /* MatExpansionModule */],
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["g" /* MatButtonModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["S" /* MatTooltipModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["o" /* MatDialogModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["m" /* MatDatepickerModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["y" /* MatNativeDateModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["P" /* MatTableModule */],
            ],
            providers: [
                { provide: __WEBPACK_IMPORTED_MODULE_3__angular_material__["e" /* MAT_DIALOG_DATA */], useValue: {} },
                { provide: __WEBPACK_IMPORTED_MODULE_3__angular_material__["a" /* DateAdapter */], useClass: __WEBPACK_IMPORTED_MODULE_98__angular_material_moment_adapter__["a" /* MomentDateAdapter */], deps: [__WEBPACK_IMPORTED_MODULE_3__angular_material__["c" /* MAT_DATE_LOCALE */]] },
                { provide: __WEBPACK_IMPORTED_MODULE_3__angular_material__["b" /* MAT_DATE_FORMATS */], useValue: {
                        parse: {
                            dateInput: 'input',
                        },
                        display: {
                            dateInput: 'DD/MM/YYYY',
                            monthYearLabel: 'MMM YYYY',
                            dateA11yLabel: 'DD/MM/YYYY',
                            monthYearA11yLabel: 'MMMM YYYY',
                        }
                    }
                },
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["K" /* MatSort */],
                __WEBPACK_IMPORTED_MODULE_41__labels_labels_service__["a" /* LabelsService */],
                __WEBPACK_IMPORTED_MODULE_48__operations_new_branch_new_branch_service__["a" /* NewBranchService */],
                __WEBPACK_IMPORTED_MODULE_49__operations_bookingsdisp_bookingsdisp_component__["a" /* BookingsdispComponent */],
                __WEBPACK_IMPORTED_MODULE_51__newuser_newuser_service__["a" /* NewuserService */],
                __WEBPACK_IMPORTED_MODULE_58__hotels_displayhotels_hotel_service__["a" /* HotelService */],
                __WEBPACK_IMPORTED_MODULE_60__airline_airlinedisp_airline_service__["a" /* AirlineService */],
                __WEBPACK_IMPORTED_MODULE_84__airline_visa_visa_service__["a" /* VisaService */],
                __WEBPACK_IMPORTED_MODULE_55__editrecurringbookby_editrecurringbookby_component__["a" /* EditrecurringbookbyComponent */],
                __WEBPACK_IMPORTED_MODULE_56__editrecurringpassenger_editrecurringpassenger_component__["a" /* EditrecurringpassengerComponent */]
            ],
            declarations: __WEBPACK_IMPORTED_MODULE_2__masters_routing_module__["b" /* routedComponents */].concat([
                __WEBPACK_IMPORTED_MODULE_4__taxes_taxes_component__["a" /* TaxesComponent */],
                __WEBPACK_IMPORTED_MODULE_5__new_vehicles_new_vehicles_component__["a" /* NewVehiclesComponent */],
                __WEBPACK_IMPORTED_MODULE_6__new_driver_new_driver_component__["a" /* NewDriverComponent */],
                __WEBPACK_IMPORTED_MODULE_7__new_employees_new_employees_component__["a" /* NewEmployeesComponent */],
                __WEBPACK_IMPORTED_MODULE_8__new_duty_supporter_new_duty_supporter_component__["a" /* NewDutySupporterComponent */],
                __WEBPACK_IMPORTED_MODULE_9__sub_users_sub_users_component__["a" /* SubUsersComponent */],
                __WEBPACK_IMPORTED_MODULE_10__suppliersdisp_suppliersdisp_component__["a" /* SuppliersdispComponent */],
                __WEBPACK_IMPORTED_MODULE_11__dutiesdisp_dutiesdisp_component__["a" /* DutiesdispComponent */],
                __WEBPACK_IMPORTED_MODULE_12__receiptsdisp_receiptsdisp_component__["a" /* ReceiptsdispComponent */],
                __WEBPACK_IMPORTED_MODULE_13__newuser_newuser_component__["a" /* NewuserComponent */],
                __WEBPACK_IMPORTED_MODULE_16__subuserdisp_subuserdisp_component__["a" /* SubuserdispComponent */],
                __WEBPACK_IMPORTED_MODULE_17__dutytypedisp_dutytypedisp_component__["a" /* DutytypedispComponent */],
                __WEBPACK_IMPORTED_MODULE_20__vehiclegroupdisp_vehiclegroupdisp_component__["a" /* VehiclegroupdispComponent */],
                __WEBPACK_IMPORTED_MODULE_22__pettycashdisp_pettycashdisp_component__["a" /* PettycashdispComponent */],
                __WEBPACK_IMPORTED_MODULE_24__employeedisp_employeedisp_component__["a" /* EmployeedispComponent */],
                __WEBPACK_IMPORTED_MODULE_25__createinvoice_createinvoice_component__["a" /* CreateinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_26__customerselection_customerselection_component__["a" /* CustomerselectionComponent */],
                __WEBPACK_IMPORTED_MODULE_27__customer_customer_component__["a" /* CustomerComponent */],
                __WEBPACK_IMPORTED_MODULE_28__bookingdispinvoice_bookingdispinvoice_component__["a" /* BookingdispinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_29__pricing_pricing_component__["a" /* PricingComponent */],
                __WEBPACK_IMPORTED_MODULE_30__pricingtables_pricingtables_component__["a" /* PricingtablesComponent */],
                __WEBPACK_IMPORTED_MODULE_31__purchase_duties_purchase_duties_component__["a" /* PurchaseDutiesComponent */],
                __WEBPACK_IMPORTED_MODULE_32__purchase_payments_purchase_payments_component__["a" /* PurchasePaymentsComponent */],
                __WEBPACK_IMPORTED_MODULE_33__purchase_invoice_purchase_invoice_component__["a" /* PurchaseInvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_35__vehicledisp_vehicledisp_component__["a" /* VehicledispComponent */],
                __WEBPACK_IMPORTED_MODULE_36__driver_disp_driver_disp_component__["a" /* DriverDispComponent */],
                __WEBPACK_IMPORTED_MODULE_18__dutytype_dutytype_component__["a" /* DutyTypeComponent */],
                __WEBPACK_IMPORTED_MODULE_23__newpettycash_newpettycash_component__["a" /* NewPettyCashComponent */],
                __WEBPACK_IMPORTED_MODULE_37__newcustomergroup_newcustomergroup_component__["a" /* NewcustomergroupComponent */],
                __WEBPACK_IMPORTED_MODULE_38__newsuppliergroup_newsuppliergroup_component__["a" /* NewsuppliergroupComponent */],
                __WEBPACK_IMPORTED_MODULE_39__selectinvoices_selectinvoices_component__["a" /* SelectinvoicesComponent */],
                __WEBPACK_IMPORTED_MODULE_40__labels_labels_component__["a" /* LabelsComponent */],
                __WEBPACK_IMPORTED_MODULE_42__labeldisplay_labeldisplay_component__["a" /* LabeldisplayComponent */],
                __WEBPACK_IMPORTED_MODULE_43__customergroupdisplay_customergroupdisplay_component__["a" /* CustomergroupdisplayComponent */],
                __WEBPACK_IMPORTED_MODULE_44__suppliergroupdisplay_suppliergroupdisplay_component__["a" /* SuppliergroupdisplayComponent */],
                __WEBPACK_IMPORTED_MODULE_45__invoicedisplay_invoicedisplay_component__["a" /* InvoicedisplayComponent */],
                __WEBPACK_IMPORTED_MODULE_46__viewinvoice_viewinvoice_component__["a" /* ViewinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_34__addpurchase_addpurchase_component__["a" /* AddPurchaseComponent */],
                __WEBPACK_IMPORTED_MODULE_47__supplierdisp_supplierdisp_component__["a" /* SupplierdispComponent */],
                __WEBPACK_IMPORTED_MODULE_52__users_users_component__["a" /* UsersComponent */],
                __WEBPACK_IMPORTED_MODULE_53__recurringbookby_recurringbookby_component__["a" /* RecurringbookbyComponent */],
                __WEBPACK_IMPORTED_MODULE_54__recurringpassenger_recurringpassenger_component__["a" /* RecurringpassengerComponent */],
                __WEBPACK_IMPORTED_MODULE_55__editrecurringbookby_editrecurringbookby_component__["a" /* EditrecurringbookbyComponent */],
                __WEBPACK_IMPORTED_MODULE_56__editrecurringpassenger_editrecurringpassenger_component__["a" /* EditrecurringpassengerComponent */],
                __WEBPACK_IMPORTED_MODULE_57__hotelbookingsinvoice_hotelbookingsinvoice_component__["a" /* HotelbookingsinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_59__flightbookinginvoice_flightbookinginvoice_component__["a" /* FlightbookinginvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_62__incomingcalldutyinfo_incomingcalldutyinfo_component__["a" /* IncomingcalldutyinfoComponent */],
                __WEBPACK_IMPORTED_MODULE_63__createflightinvoice_createflightinvoice_component__["a" /* CreateflightinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_64__createhotelinvoice_createhotelinvoice_component__["a" /* CreatehotelinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_65__newpurchasepayment_newpurchasepayment_component__["a" /* NewpurchasepaymentComponent */],
                __WEBPACK_IMPORTED_MODULE_66__requestinvoice_requestinvoice_component__["a" /* RequestinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_67__requestdutyslip_requestdutyslip_component__["a" /* RequestdutyslipComponent */],
                __WEBPACK_IMPORTED_MODULE_68__senddutyslip_senddutyslip_component__["a" /* SenddutyslipComponent */],
                __WEBPACK_IMPORTED_MODULE_69__viewdutyslip_viewdutyslip_component__["a" /* ViewdutyslipComponent */],
                __WEBPACK_IMPORTED_MODULE_70__selectpurchaseinvoices_selectpurchaseinvoices_component__["a" /* SelectpurchaseinvoicesComponent */],
                __WEBPACK_IMPORTED_MODULE_71__viewflightinvoice_viewflightinvoice_component__["a" /* ViewflightinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_46__viewinvoice_viewinvoice_component__["a" /* ViewinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_72__viewhotelinvoice_viewhotelinvoice_component__["a" /* ViewhotelinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_73__taxesdisplay_taxesdisplay_component__["a" /* TaxesdisplayComponent */],
                __WEBPACK_IMPORTED_MODULE_74__viewpurchaseinvoice_viewpurchaseinvoice_component__["a" /* ViewpurchaseinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_75__notifications_notifications_component__["a" /* NotificationsComponent */],
                __WEBPACK_IMPORTED_MODULE_76__mailinvoice_mailinvoice_component__["a" /* MailinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_77__mailhotelinvoice_mailhotelinvoice_component__["a" /* MailhotelinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_78__mailflightinvoice_mailflightinvoice_component__["a" /* MailflightinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_79__importcustomer_importcustomer_component__["a" /* ImportcustomerComponent */],
                __WEBPACK_IMPORTED_MODULE_80__importdriver_importdriver_component__["a" /* ImportdriverComponent */],
                __WEBPACK_IMPORTED_MODULE_81__createvisainvoice_createvisainvoice_component__["a" /* CreatevisainvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_82__viewvisainvoice_viewvisainvoice_component__["a" /* ViewvisainvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_83__visadispinvoice_visadispinvoice_component__["a" /* VisadispinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_85__mailvisainvoice_mailvisainvoice_component__["a" /* MailvisainvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_86__add_flight_receipt_add_flight_receipt_component__["a" /* AddFlightReceiptComponent */],
                __WEBPACK_IMPORTED_MODULE_87__add_hotel_receipt_add_hotel_receipt_component__["a" /* AddHotelReceiptComponent */],
                __WEBPACK_IMPORTED_MODULE_88__add_visa_receipt_add_visa_receipt_component__["a" /* AddVisaReceiptComponent */],
                __WEBPACK_IMPORTED_MODULE_89__selecthotelinvoices_selecthotelinvoices_component__["a" /* SelecthotelinvoicesComponent */],
                __WEBPACK_IMPORTED_MODULE_90__selectflightinvoices_selectflightinvoices_component__["a" /* SelectflightinvoicesComponent */],
                __WEBPACK_IMPORTED_MODULE_91__selectvisainvoices_selectvisainvoices_component__["a" /* SelectvisainvoicesComponent */],
                __WEBPACK_IMPORTED_MODULE_92__myprofile_myprofile_component__["a" /* MyprofileComponent */],
                __WEBPACK_IMPORTED_MODULE_93__changedriverpassword_changedriverpassword_component__["a" /* ChangedriverpasswordComponent */],
                __WEBPACK_IMPORTED_MODULE_94__invoiceattachmentmodal_invoiceattachmentmodal_component__["a" /* InvoiceattachmentmodalComponent */],
                __WEBPACK_IMPORTED_MODULE_95__driverprofile_driverprofile_component__["a" /* DriverprofileComponent */],
                __WEBPACK_IMPORTED_MODULE_96__employeeprofile_employeeprofile_component__["a" /* EmployeeprofileComponent */],
                __WEBPACK_IMPORTED_MODULE_97__vehicleprofile_vehicleprofile_component__["a" /* VehicleprofileComponent */]
            ]),
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_14__addsuppliers_addsuppliers_component__["a" /* AddSuppliersComponent */],
                __WEBPACK_IMPORTED_MODULE_15__addreceipts_addreceipts_component__["a" /* AddReceiptsComponent */],
                __WEBPACK_IMPORTED_MODULE_9__sub_users_sub_users_component__["a" /* SubUsersComponent */],
                __WEBPACK_IMPORTED_MODULE_13__newuser_newuser_component__["a" /* NewuserComponent */],
                __WEBPACK_IMPORTED_MODULE_18__dutytype_dutytype_component__["a" /* DutyTypeComponent */],
                __WEBPACK_IMPORTED_MODULE_19__addcustomer_addcustomer_component__["a" /* AddCustomerComponent */],
                __WEBPACK_IMPORTED_MODULE_21__vehiclegroups_vehiclegroups_component__["a" /* VehicleGroupsComponent */],
                __WEBPACK_IMPORTED_MODULE_23__newpettycash_newpettycash_component__["a" /* NewPettyCashComponent */],
                __WEBPACK_IMPORTED_MODULE_7__new_employees_new_employees_component__["a" /* NewEmployeesComponent */],
                __WEBPACK_IMPORTED_MODULE_25__createinvoice_createinvoice_component__["a" /* CreateinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_26__customerselection_customerselection_component__["a" /* CustomerselectionComponent */],
                __WEBPACK_IMPORTED_MODULE_28__bookingdispinvoice_bookingdispinvoice_component__["a" /* BookingdispinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_30__pricingtables_pricingtables_component__["a" /* PricingtablesComponent */],
                __WEBPACK_IMPORTED_MODULE_34__addpurchase_addpurchase_component__["a" /* AddPurchaseComponent */],
                __WEBPACK_IMPORTED_MODULE_5__new_vehicles_new_vehicles_component__["a" /* NewVehiclesComponent */],
                __WEBPACK_IMPORTED_MODULE_6__new_driver_new_driver_component__["a" /* NewDriverComponent */],
                __WEBPACK_IMPORTED_MODULE_27__customer_customer_component__["a" /* CustomerComponent */],
                __WEBPACK_IMPORTED_MODULE_37__newcustomergroup_newcustomergroup_component__["a" /* NewcustomergroupComponent */],
                __WEBPACK_IMPORTED_MODULE_38__newsuppliergroup_newsuppliergroup_component__["a" /* NewsuppliergroupComponent */],
                __WEBPACK_IMPORTED_MODULE_39__selectinvoices_selectinvoices_component__["a" /* SelectinvoicesComponent */],
                __WEBPACK_IMPORTED_MODULE_40__labels_labels_component__["a" /* LabelsComponent */],
                __WEBPACK_IMPORTED_MODULE_43__customergroupdisplay_customergroupdisplay_component__["a" /* CustomergroupdisplayComponent */],
                __WEBPACK_IMPORTED_MODULE_46__viewinvoice_viewinvoice_component__["a" /* ViewinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_71__viewflightinvoice_viewflightinvoice_component__["a" /* ViewflightinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_72__viewhotelinvoice_viewhotelinvoice_component__["a" /* ViewhotelinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_11__dutiesdisp_dutiesdisp_component__["a" /* DutiesdispComponent */],
                __WEBPACK_IMPORTED_MODULE_47__supplierdisp_supplierdisp_component__["a" /* SupplierdispComponent */],
                __WEBPACK_IMPORTED_MODULE_55__editrecurringbookby_editrecurringbookby_component__["a" /* EditrecurringbookbyComponent */],
                __WEBPACK_IMPORTED_MODULE_56__editrecurringpassenger_editrecurringpassenger_component__["a" /* EditrecurringpassengerComponent */],
                __WEBPACK_IMPORTED_MODULE_57__hotelbookingsinvoice_hotelbookingsinvoice_component__["a" /* HotelbookingsinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_59__flightbookinginvoice_flightbookinginvoice_component__["a" /* FlightbookinginvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_65__newpurchasepayment_newpurchasepayment_component__["a" /* NewpurchasepaymentComponent */],
                __WEBPACK_IMPORTED_MODULE_66__requestinvoice_requestinvoice_component__["a" /* RequestinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_67__requestdutyslip_requestdutyslip_component__["a" /* RequestdutyslipComponent */],
                __WEBPACK_IMPORTED_MODULE_68__senddutyslip_senddutyslip_component__["a" /* SenddutyslipComponent */],
                __WEBPACK_IMPORTED_MODULE_69__viewdutyslip_viewdutyslip_component__["a" /* ViewdutyslipComponent */],
                __WEBPACK_IMPORTED_MODULE_70__selectpurchaseinvoices_selectpurchaseinvoices_component__["a" /* SelectpurchaseinvoicesComponent */],
                __WEBPACK_IMPORTED_MODULE_76__mailinvoice_mailinvoice_component__["a" /* MailinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_77__mailhotelinvoice_mailhotelinvoice_component__["a" /* MailhotelinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_78__mailflightinvoice_mailflightinvoice_component__["a" /* MailflightinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_85__mailvisainvoice_mailvisainvoice_component__["a" /* MailvisainvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_79__importcustomer_importcustomer_component__["a" /* ImportcustomerComponent */],
                __WEBPACK_IMPORTED_MODULE_80__importdriver_importdriver_component__["a" /* ImportdriverComponent */],
                __WEBPACK_IMPORTED_MODULE_83__visadispinvoice_visadispinvoice_component__["a" /* VisadispinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_90__selectflightinvoices_selectflightinvoices_component__["a" /* SelectflightinvoicesComponent */],
                __WEBPACK_IMPORTED_MODULE_89__selecthotelinvoices_selecthotelinvoices_component__["a" /* SelecthotelinvoicesComponent */],
                __WEBPACK_IMPORTED_MODULE_91__selectvisainvoices_selectvisainvoices_component__["a" /* SelectvisainvoicesComponent */],
                __WEBPACK_IMPORTED_MODULE_74__viewpurchaseinvoice_viewpurchaseinvoice_component__["a" /* ViewpurchaseinvoiceComponent */],
                __WEBPACK_IMPORTED_MODULE_93__changedriverpassword_changedriverpassword_component__["a" /* ChangedriverpasswordComponent */],
                __WEBPACK_IMPORTED_MODULE_94__invoiceattachmentmodal_invoiceattachmentmodal_component__["a" /* InvoiceattachmentmodalComponent */],
                __WEBPACK_IMPORTED_MODULE_95__driverprofile_driverprofile_component__["a" /* DriverprofileComponent */],
                __WEBPACK_IMPORTED_MODULE_96__employeeprofile_employeeprofile_component__["a" /* EmployeeprofileComponent */],
                __WEBPACK_IMPORTED_MODULE_97__vehicleprofile_vehicleprofile_component__["a" /* VehicleprofileComponent */]
            ]
        })
    ], MastersModule);
    return MastersModule;
}());



/***/ }),

/***/ "./src/app/pages/masters/myprofile/myprofile.component.html":
/***/ (function(module, exports) {

module.exports = "\n<style>\n  mat-card {\n  max-width: 400px;\n  margin-right: auto;\n  margin-left: auto;\n  text-align: center;\n  border-radius: 8px;\n  box-shadow: 0 3px 24px -1px rgba(0,0,0,.2), 0 3px 2px 0 rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12) !important;\n}\n.signin-content {\n  padding: 0px 0rem;\n}\n.full-width-input {\n  width: 100%;\n}\n\n.mat-form-field{\n  margin-top: 20px;\n}\n</style>\n<div class=\"row\">\n  <div class=\"col-lg-12\" >\n    <nb-card>\n      <nb-card-header>My Profile</nb-card-header>\n      <nb-card-body>\n          <div class=\"row\" style=\"padding-bottom: 20px;\">\n            <div class=\"col-lg-5 col-12\" style=\"padding-left: 50px;\">\n            <div style=\"margin-bottom: 10px;\">\n              <img [src]=\"imgUrl\" alt=\"\" height=\"150px\" width=\"120px\"><button mat-icon-button *ngIf=\"isProfileImage==true\" (click)=\"removeImage()\"><mat-icon>clear</mat-icon></button><br><br>\n              <button (click)=\"profilePhoto.click();profilePhoto.value = null\" mat-raised-button color=\"primary\"> <mat-icon>cloud_upload</mat-icon>Browse</button>\n              <input type=\"file\" accept=\"image/*\" #profilePhoto name=\"driverPhoto\" hidden (change)=\"selectFile($event)\">\n            </div>\n              <b>Name</b><br> \n              <mat-form-field style=\"width:250px\" class=\"my-form\">\n                <input matInput readonly [(ngModel)]=\"currUser.name\">\n              </mat-form-field><br>\n              <b>Email</b><br>\n              <mat-form-field style=\"width:250px\" class=\"my-form\">\n                <input matInput readonly [(ngModel)]=\"currUser.email\">\n              </mat-form-field><br>\n              <b>Contact Number</b><br>\n              <mat-form-field style=\"width:250px\" class=\"my-form\">\n                <input matInput [(ngModel)]=\"currUser.phone\">\n              </mat-form-field><br>\n              <div *ngIf='isOwner==false'>\n              <b>Contact Number</b><br>\n              <mat-form-field style=\"width:250px\" class=\"my-form\">\n                <input matInput [(ngModel)]=\"currUser.mobilenumber\">\n              </mat-form-field><br>\n              <b>Blood Group</b><br>\n              <mat-form-field style=\"width:250px\" class=\"my-form\">\n                <input matInput [(ngModel)]=\"currUser.bloodGroup\">\n              </mat-form-field><br>\n              <b>Address</b><br>\n              <mat-form-field style=\"width:250px\" class=\"my-form\">\n                <textarea matInput [(ngModel)]=\"currUser.currentAddress\"></textarea>\n              </mat-form-field><br>\n              </div>\n              <div>                        \n                  <button (click)=\"save()\" mat-raised-button color=\"primary\">Save</button>\n              </div>\n        </div>\n        <div class=\"col-lg-6 col-12\">\n        <div class=\"signin-content\" id=\"test\">\n            <mat-card>\n              <mat-card-content>\n                <form #formData='ngForm'>\n                  <h5>CHANGE PASSWORD</h5>\n                  <p *ngIf=\"isError\" style=\"color:brown;\">{{error}}</p>\n                  <mat-form-field class=\"full-width-input\">\n                    <input type=\"password\" matInput [(ngModel)]=\"oldPassword\" id=\"oldPassword\" name=\"oldPassword\" placeholder=\"Old Password\">\n                  </mat-form-field>\n                  <mat-form-field class=\"full-width-input\">\n                    <input matInput type=\"password\" [(ngModel)]=\"newPassword\" id=\"newPassword\" name=\"newPassword\" placeholder=\"New Password\">\n                  </mat-form-field>\n                  <mat-form-field class=\"full-width-input\">\n                    <input matInput type=\"password\" [(ngModel)]=\"confirmPassword\" id=\"confirmPassword\" name=\"confirmPassword\" placeholder=\"Confirm Password\">\n                  </mat-form-field>\n                  <button style=\"margin-top:50px; width:200px;\" type=\"submit\" [disabled]=\"!formData.valid\" mat-raised-button color=\"primary\" (click)=\"changePassword()\">Confirm</button>\n                  <mat-progress-bar [hidden]=\"!loader\" style=\"max-width:200px; margin:auto; margin-bottom: 20px\"\n                      color=\"primary\"\n                      mode=\"indeterminate\">\n                  </mat-progress-bar>\n                </form>\n              </mat-card-content>\n            </mat-card>\n          </div>\n        </div>\n      </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/myprofile/myprofile.component.scss":
/***/ (function(module, exports) {

module.exports = ".mat-form-field.my-form {\n  margin-top: unset !important; }\n"

/***/ }),

/***/ "./src/app/pages/masters/myprofile/myprofile.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MyprofileComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__modals_confirm_confirm_component__ = __webpack_require__("./src/app/pages/modals/confirm/confirm.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var MyprofileComponent = (function () {
    function MyprofileComponent(auth, _sanitizer, uploadService, snackBar, dialog) {
        this.auth = auth;
        this._sanitizer = _sanitizer;
        this.uploadService = uploadService;
        this.snackBar = snackBar;
        this.dialog = dialog;
        this.loader = false;
        this.editState = false;
        this.currUser = {};
        this.imgUrl = '';
        this.previousImgUrl = '';
        this.user = {};
        this.isOwner = false;
        this.isError = false;
        this.error = '';
        this.isProfileImage = true;
    }
    MyprofileComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            if (_this.user.type == 'owner') {
                _this.isOwner = true;
                _this.currUser = _this.user;
                console.log(_this.currUser);
            }
            else {
                _this.auth.myProfile(_this.user).subscribe(function (data) {
                    console.log(data);
                    _this.currUser = data[0];
                });
            }
            if (_this.user.fileName != '' && _this.user.fileName != null) {
                _this.uploadService.getFile(_this.user.companyName, 'userImages', _this.user.fileName).subscribe(function (data) {
                    _this.imgUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                        + data.text());
                    _this.previousImgUrl = _this.imgUrl;
                });
                _this.isProfileImage = true;
            }
            else {
                _this.imgUrl = "../../../../assets/icons/iconfinder_user_925901.svg";
            }
        });
    };
    MyprofileComponent.prototype.selectFile = function (event) {
        var _this = this;
        this.isProfileImage = true;
        var file = event.target.files[0];
        var reader = new FileReader();
        reader.onload = function (e) { return _this.imgUrl = reader.result; };
        reader.readAsDataURL(file);
    };
    MyprofileComponent.prototype.upload = function () {
        if (this.isProfileImage == true) {
            this.user.fileName = this.user.id + "_" + this.user.name + "_profilePhoto.jpg";
            this.uploadService.uploadfile(this.user.companyName, 'userImages', this.user.fileName, this.imgUrl);
        }
    };
    MyprofileComponent.prototype.save = function () {
        var _this = this;
        if (this.isOwner == false) {
            if (this.isProfileImage == true) {
                var temp = {
                    mobilenumber: this.currUser.mobilenumber,
                    currentAddress: this.currUser.currentAddress,
                    bloodGroup: this.currUser.bloodGroup,
                    userId: this.user.id,
                    fileName: this.user.id + "_" + this.user.name + "_profilePhoto.jpg"
                };
            }
            else {
                var temp = {
                    mobilenumber: this.currUser.mobilenumber,
                    currentAddress: this.currUser.currentAddress,
                    bloodGroup: this.currUser.bloodGroup,
                    userId: this.user.id,
                    fileName: ''
                };
            }
            this.auth.EditMyProfile(temp).subscribe(function (data) {
                _this.snackBar.open("Profile has been updated", "X", { duration: 3000 });
                if (_this.previousImgUrl != _this.imgUrl) {
                    _this.upload();
                }
            });
        }
        else {
            console.log("asd");
            if (this.isProfileImage == true) {
                var tempOwner = {
                    fileName: this.user.id + "_" + this.user.name + "_profilePhoto.jpg",
                    phone: this.currUser.phone,
                    userId: this.user.id
                };
            }
            else {
                var tempOwner = {
                    fileName: '',
                    phone: this.currUser.phone,
                    userId: this.user.id
                };
            }
            this.auth.EditMyProfileOwner(tempOwner).subscribe(function (data) {
                _this.snackBar.open("Profile has been updated", "X", { duration: 3000 });
                if (_this.previousImgUrl != _this.imgUrl) {
                    _this.upload();
                }
            });
        }
    };
    MyprofileComponent.prototype.changePassword = function () {
        var _this = this;
        this.loader = true;
        this.auth.verifyPassword(this.oldPassword).then(function () {
            if (_this.newPassword != _this.confirmPassword) {
                _this.loader = false;
                _this.isError = true;
                _this.error = 'Passwords do not match';
            }
            else {
                _this.dialog.open(__WEBPACK_IMPORTED_MODULE_5__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
                    if (data == 'no') { }
                    if (data == 'yes') {
                        var temp = {
                            email: _this.user.email,
                            password: _this.newPassword,
                            type: 'employee',
                            userId: _this.user.id
                        };
                        _this.auth.changePasswordFromApp(temp).subscribe(function (data) {
                            _this.loader = false;
                            _this.isError = false;
                            _this.snackBar.open("Password updated");
                        });
                    }
                });
            }
        }).catch(function () {
            _this.loader = false;
            _this.isError = true;
            _this.error = 'Old password is incorrect';
        });
    };
    MyprofileComponent.prototype.removeImage = function () {
        this.imgUrl = "../../../../assets/icons/iconfinder_user_925901.svg";
        this.isProfileImage = false;
    };
    MyprofileComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'myprofile',
            template: __webpack_require__("./src/app/pages/masters/myprofile/myprofile.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/myprofile/myprofile.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__core_auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__["DomSanitizer"], __WEBPACK_IMPORTED_MODULE_3__fileupload_service__["a" /* FileuploadService */], __WEBPACK_IMPORTED_MODULE_4__angular_material__["I" /* MatSnackBar */], __WEBPACK_IMPORTED_MODULE_4__angular_material__["n" /* MatDialog */]])
    ], MyprofileComponent);
    return MyprofileComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/new-driver/new-driver.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>NewDriver</nb-card-header>\n      <nb-card-body>\n        <div class=\"row\">\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              Name*\n              <input matInput [(ngModel)]=\"driver.name\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              Mobile Number\n              <input matInput [(ngModel)]=\"driver.mobileNumber\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              Alternate Number\n              <input matInput [(ngModel)]=\"driver.alternateNumber\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              Email\n              <input matInput [(ngModel)]=\"driver.email\">\n            </mat-form-field>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              PAN Card Number\n              <input matInput [(ngModel)]=\"driver.panCardNumber\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              Aadhar Card Number\n              <input matInput [(ngModel)]=\"driver.aadharCardNumber\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field class=\"w-100\">\n              Birth Date\n              <input matInput [matDatepicker]=\"birthDate\" readonly (click)=\"birthDate.open()\" [(ngModel)]=\"driver.birthDate\">  \n              <mat-datepicker-toggle matSuffix [for]=\"birthDate\"></mat-datepicker-toggle>\n              <mat-datepicker #birthDate></mat-datepicker>\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field class=\"w-100\">\n              Joining Date\n              <input matInput [matDatepicker]=\"joiningDate\" readonly (click)=\"joiningDate.open()\" [(ngModel)]=\"driver.joiningDate\">   \n              <mat-datepicker-toggle matSuffix [for]=\"joiningDate\"></mat-datepicker-toggle>\n              <mat-datepicker #joiningDate></mat-datepicker>               \n            </mat-form-field>\n          </div>\n        </div>\n        <div class=\"row\">          \n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              Salary Per Month\n              <input matInput [(ngModel)]=\"driver.salaryPerMonth\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              Daily Wages\n              <input matInput [(ngModel)]=\"driver.dailyWages\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              Branches\n              <input matInput  [formControl]=\"branchesCtrl\" [matAutocomplete]=\"autobranch\">\n              <mat-autocomplete #autobranch=\"matAutocomplete\">\n                <mat-option *ngFor=\"let item of branch | async\" [value]=\"item.name\" (onSelectionChange)=\"setBranches(item,$event)\">\n                  {{ item.name }}\n                </mat-option>\n              </mat-autocomplete>\n            </mat-form-field>\n          </div>          \n        </div>       \n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-12\">\n      <nb-card>\n        <nb-card-header>Address</nb-card-header>\n        <nb-card-body>\n          <div class=\"row\">\n            <div class=\"col-lg-6 col-12\">\n              <mat-form-field class=\"w-100\">\n                Permanent Address\n                <textarea rows=\"4\" matInput [(ngModel)]=\"driver.permanentAddress\"></textarea>\n              </mat-form-field>\n            </div>\n            <div class=\"col-lg-6 col-12\">\n              <mat-form-field class=\"w-100\">\n                Current Address\n                <textarea rows=\"4\" *ngIf=\"sameAsPermanent\" matInput [(ngModel)]=\"driver.currentAddress\"></textarea>\n                <textarea rows=\"4\" *ngIf=\"!sameAsPermanent\" matInput [(ngModel)]=\"driver.currentAddress\"></textarea>\n              </mat-form-field>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-lg-12 col-12\">\n              <mat-checkbox name=\"sameAsPermanent\" (change)=\"permanentAddress()\">\n                Same as Permanant\n              </mat-checkbox>\n            </div>\n          </div>          \n        </nb-card-body>\n      </nb-card>\n    </div>    \n</div>\n<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>Allowances</nb-card-header>\n      <nb-card-body>\n        <div class=\"row\">\n          <div class=\"col-lg-3\">\n            <mat-form-field>\n              Daily Allowances\n              <input matInput [(ngModel)]=\"driver.dailyAllowance\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3\">\n            <mat-form-field>\n              Over time per hour\n              <input matInput [(ngModel)]=\"driver.overTimeAllowance\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3\">\n            <mat-form-field>\n              OutStation Allowances per day\n              <input matInput [(ngModel)]=\"driver.outstationAllowancePerDay\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3\">\n            <mat-form-field>\n              Outstation overnight Allowances\n              <input matInput [(ngModel)]=\"driver.outstationOvernightAllowance\">\n            </mat-form-field>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-3\">\n            <mat-form-field>\n              Sunday Allowances\n              <input matInput [(ngModel)]=\"driver.sundayAllowance\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3\">\n            <mat-form-field>\n              Early Start Allowances\n              <input matInput [(ngModel)]=\"driver.earlyStartAllowance\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3\">\n            <mat-form-field>\n              Night Allowances\n              <input matInput [(ngModel)]=\"driver.nightAllowancePerDay\">\n            </mat-form-field>\n          </div>\n        </div>          \n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>Extra Duty Allowances</nb-card-header>\n      <nb-card-body>\n        <div class=\"row\">\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              Second duty\n              <input matInput [(ngModel)]=\"driver.secondDuty\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              Third Duty\n              <input matInput [(ngModel)]=\"driver.thirdDuty\">\n            </mat-form-field>\n          </div>        \n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              Fourth Duty\n              <br>\n              <input matInput [(ngModel)]=\"driver.fourthDuty\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              Fifth Duty\n              <br>\n              <input matInput [(ngModel)]=\"driver.fifthDuty\">\n            </mat-form-field>\n          </div>\n        </div>         \n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n    <div class=\"col-lg-6\">\n      <nb-card class=\"workCard\">\n        <nb-card-header>Working Hours</nb-card-header>\n        <nb-card-body>\n          <div class=\"row\">\n            <div class=\"col-lg-6 col-12\">\n              Start\n              <input type=\"time\" matInput [(ngModel)]=\"driver.workingHoursStart\">\n            </div>\n            <div class=\"col-lg-6 col-12\">\n              End\n              <input type=\"time\" matInput [(ngModel)]=\"driver.workingHoursEnd\">\n            </div>\n          </div>       \n        </nb-card-body>\n      </nb-card>\n    </div>\n    <div class=\"col-lg-6\">\n      <nb-card class=\"licenseCard\">\n        <nb-card-header>License Information</nb-card-header>\n        <nb-card-body>\n          <div class=\"row\">\n            <div class=\"col-lg-6 col-12\">\n              <mat-form-field>\n                Number\n                <input matInput [(ngModel)]=\"driver.licenseNumber\">\n              </mat-form-field>\n            </div>\n            <div class=\"col-lg-6 col-12\">\n              <mat-form-field class=\"w-100\">\n                Valid Upto\n                <input matInput [matDatepicker]=\"validUpTo\" readonly (click)=\"validUpTo.open()\" [(ngModel)]=\"driver.licenseValidUpto\">\n                <mat-datepicker-toggle matSuffix [for]=\"validUpTo\"></mat-datepicker-toggle>\n                <mat-datepicker #validUpTo></mat-datepicker>\n              </mat-form-field>\n            </div>\n          </div>          \n        </nb-card-body>\n      </nb-card>\n    </div>    \n</div>\n<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>Files</nb-card-header>\n      <nb-card-body>\n        <div class=\"row\">\n          <!-- <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              File Name\n              <input matInput [(ngModel)]=\"driver.fileName\">\n            </mat-form-field>\n          </div> -->\n          <div class=\"col-lg-3 col-md-6 col-12\" style=\"text-align: center;\">\n            <b>Upload Driver Photo</b>\n            <br>\n            <button *ngIf=\"imgUrl==''\" (click)=\"profilePhoto.click()\" mat-raised-button color=\"primary\"><mat-icon>cloud_upload</mat-icon>Browse</button>\n            <button *ngIf=\"imgUrl!=''\" (click)=\"removeDriverPhoto()\" mat-raised-button color=\"primary\"><mat-icon>clear</mat-icon>Remove</button>\n            <input type=\"file\" accept=\"image/*\" #profilePhoto name=\"driverPhoto\" hidden (change)=\"selectFile($event)\">\n            <br>\n            <img alt=\"\" *ngIf=\"imgUrl!=''\" [src]=\"imgUrl\" width=\"125px\" height=\"150px\"/>\n          </div>\n          <div class=\"col-lg-3 col-md-6 col-12\" style=\"text-align: center;\">\n            <b>Upload License Photo</b>\n            <br>\n            <button *ngIf=\"imgLicenseUrl==''\" (click)=\"licensePhoto.click()\" mat-raised-button color=\"primary\"><mat-icon>cloud_upload</mat-icon>Browse</button>\n            <button *ngIf=\"imgLicenseUrl!=''\" (click)=\"removeLicensePhoto()\" mat-raised-button color=\"primary\"><mat-icon>clear</mat-icon>Remove</button>\n            <input type=\"file\" #licensePhoto name=\"licensePhoto\" hidden (change)=\"selectLicenseFile($event)\">\n            <br>\n            <img alt=\"\" *ngIf=\"imgLicenseUrl!='' && imgLicenseUrl.includes('data:image')\" [src]=\"imgLicenseUrl\" width=\"125px\" height=\"150px\"/>\n            <p style=\"margin: 2rem;\" *ngIf=\"!imgLicenseUrl.includes('data:image')\">{{imgLicenseName}}</p>\n          </div>\n          <div class=\"col-lg-3 col-md-6 col-12\" style=\"text-align: center;\">\n            <b>Upload Aadhar Card Photo</b>\n            <br>\n            <button *ngIf=\"imgAadharUrl==''\" (click)=\"aadharPhoto.click()\" mat-raised-button color=\"primary\"><mat-icon>cloud_upload</mat-icon>Browse</button>\n            <button *ngIf=\"imgAadharUrl!=''\" (click)=\"removeAadharPhoto()\" mat-raised-button color=\"primary\"><mat-icon>clear</mat-icon>Remove</button>\n            <input type=\"file\" #aadharPhoto name=\"aadharPhoto\" hidden (change)=\"selectAadharFile($event)\">\n            <br>\n            <img alt=\"\" *ngIf=\"imgAadharUrl!='' && imgAadharUrl.includes('data:image')\" [src]=\"imgAadharUrl\" width=\"125px\" height=\"150px\"/>\n            <p style=\"margin: 2rem;\" *ngIf=\"!imgAadharUrl.includes('data:image')\">{{imgAadharName}}</p>\n          </div>\n          <div class=\"col-lg-3 col-md-6 col-12\" style=\"text-align: center;\">\n            <b>Upload PAN Card Photo</b>\n            <br>\n            <button *ngIf=\"imgPanUrl==''\" (click)=\"panPhoto.click()\" mat-raised-button color=\"primary\"><mat-icon>cloud_upload</mat-icon>Browse</button>          \n            <button *ngIf=\"imgPanUrl!=''\" (click)=\"removePANPhoto()\" mat-raised-button color=\"primary\"><mat-icon>clear</mat-icon>Remove</button>\n            <input type=\"file\" #panPhoto name=\"panPhoto\" hidden (change)=\"selectPanFile($event)\">\n            <br>\n            <img alt=\"\" *ngIf=\"imgPanUrl!='' && imgPanUrl.includes('data:image')\" [src]=\"imgPanUrl\" width=\"125px\" height=\"150px\"/>\n            <p style=\"margin: 2rem;\" *ngIf=\"!imgPanUrl.includes('data:image')\">{{imgPanName}}</p>\n          </div>\n        </div>\n        <!-- <table>\n          <tr>\n            <td>\n              \n            </td>\n            <td></td>\n          </tr>\n          \n        </table> -->\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-12 col-12\">\n    <nb-card>\n      <nb-card-body>\n        <div class=\"row\">\n          <div class=\"col-lg-12 col-12\">\n            <mat-form-field class=\"w-100\">\n              Notes\n              <textarea matInput [(ngModel)]=\"driver.additionalInfo\" rows=\"2\"></textarea>\n            </mat-form-field>\n          </div>\n        </div>\n        <div class=\"row ptb-10\">\n          <div class=\"col-lg-12\">\n            <mat-checkbox [(ngModel)]=\"driver.isContractor\" name=\"isContractor\">Is Contractor?</mat-checkbox><br>\n            <!-- <mat-checkbox name=\"\">Enable App logout Button</mat-checkbox><br> -->\n            <mat-checkbox [(ngModel)]=\"driver.active\">Active</mat-checkbox><br>\n          </div>\n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12 col-12\">\n    <button mat-raised-button color=\"primary\" *ngIf=\"!editState\" (click)=\"addDriver()\">Add</button>\n    <button mat-raised-button color=\"primary\" *ngIf=\"editState\" (click)=\"editDriver()\">Save</button>\n    <button mat-raised-button color=\"warn\"(click)=\"closeDialog()\">Close</button>\n  </div>\n</div>\n<div class=\"row\">\n  <div style=\"bottom: 5%\" *ngIf=\"logs.length>0\">\n    <ul>\n      <li *ngFor=\"let element of logs\">\n        {{element.message}}\n      </li>\n    </ul>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/pages/masters/new-driver/new-driver.component.scss":
/***/ (function(module, exports) {

module.exports = "table {\n  width: 100%; }\n\n.licenseCard {\n  height: 92%; }\n\n.workCard {\n  height: 90%; }\n\n.material-icons {\n  line-height: 1.3 !important; }\n"

/***/ }),

/***/ "./src/app/pages/masters/new-driver/new-driver.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NewDriverComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__driver_service__ = __webpack_require__("./src/app/pages/masters/new-driver/driver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__operations_new_branch_new_branch_service__ = __webpack_require__("./src/app/pages/operations/new-branch/new-branch.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_operators__ = __webpack_require__("./node_modules/rxjs/_esm5/operators.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__activitylog_service__ = __webpack_require__("./src/app/activitylog.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};












var NewDriverComponent = (function () {
    function NewDriverComponent(matDialogRef, data, driverService, auth, snackBar, dialog, branchService, uploadService, _sanitizer, activityLogs, http) {
        this.matDialogRef = matDialogRef;
        this.data = data;
        this.driverService = driverService;
        this.auth = auth;
        this.snackBar = snackBar;
        this.dialog = dialog;
        this.branchService = branchService;
        this.uploadService = uploadService;
        this._sanitizer = _sanitizer;
        this.activityLogs = activityLogs;
        this.http = http;
        this.sameAsPermanent = false;
        this.user = {};
        this.branchesCtrl = new __WEBPACK_IMPORTED_MODULE_5__angular_forms__["c" /* FormControl */]();
        this.editState = false;
        this.imgUrl = '';
        this.imgLicenseUrl = '';
        this.imgAadharUrl = '';
        this.imgPanUrl = '';
        this.previousImgUrl = '';
        this.previousImgLicenseUrl = '';
        this.previousImgAadharUrl = '';
        this.previousImgPanUrl = '';
        this.logs = [];
        this.param = {
            inserted: 'no',
            data: null
        };
        this.driver = {
            name: '',
            mobileNumber: '',
            alternateNumber: '',
            panCardNumber: '',
            aadharCardNumber: '',
            birthDate: null,
            joiningDate: null,
            salaryPerMonth: '',
            branches: '',
            email: '',
            branchId: null,
            addressType: '',
            permanentAddress: '',
            currentAddress: '',
            dailyAllowance: '',
            overTimeAllowance: '',
            overTimePerHour: '',
            outstationAllowancePerDay: '',
            outstationOvernightAllowance: '',
            extraDutyAllowance: '',
            //extra duty
            secondDuty: '',
            thirdDuty: '',
            fourthDuty: '',
            fifthDuty: '',
            //license
            licenseNumber: '',
            licenseValidUpto: null,
            workingHoursStart: '',
            workingHoursEnd: '',
            fileName: '',
            licenseFileName: '',
            aadharFileName: '',
            panFileName: '',
            isContractor: false,
            active: true,
            ownerId: '',
            userId: null,
            dailyWages: '',
            sundayAllowance: '',
            earlyStartAllowance: '',
            nightAllowancePerDay: '',
            additionalInfo: '',
        };
        if (data.row != null) {
            delete data.row.userName;
        }
    }
    NewDriverComponent.prototype.unloadHandler = function (event) {
        console.log("Processing beforeunload...");
        event.returnValue = false;
    };
    NewDriverComponent.prototype.ngOnInit = function () {
        var _this = this;
        var HOST = location.origin.replace(/^http/, 'ws');
        this.ws = new WebSocket(HOST);
        this.auth.user.subscribe(function (data) {
            _this.driver.ownerId = data[0].ownerId;
            _this.user = data[0];
            _this.branchService.getBranches(_this.user).subscribe(function (data) {
                _this.branches = data;
                _this.branch = _this.branchesCtrl.valueChanges
                    .pipe(Object(__WEBPACK_IMPORTED_MODULE_6_rxjs_operators__["startWith"])(''), Object(__WEBPACK_IMPORTED_MODULE_6_rxjs_operators__["map"])(function (val) { return _this.filterBranches(val); }));
            });
        });
        if (this.data.row != null) {
            console.log(this.data.row);
            this.editState = true;
            this.driver = this.data.row;
            console.log(this.driver);
            this.activityLogs.getDriverLogs({ id: this.data.row.id }).subscribe(function (data) {
                _this.logs = data;
            });
            if (this.driver.fileName != '' && this.driver.fileName != null)
                this.uploadService.getFile(this.user.companyName, 'driverList', this.driver.fileName).subscribe(function (data) {
                    _this.imgUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                        + data.text());
                    _this.previousImgUrl = _this.imgUrl;
                });
            if (this.driver.licenseFileName != '' && this.driver.licenseFileName != null)
                this.uploadService.getFile(this.user.companyName, 'driverList', this.driver.licenseFileName).subscribe(function (data) {
                    if (data.text().includes("PDF")) {
                        _this.imgLicenseUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:application/pdf,' + data.text());
                        _this.previousImgLicenseUrl = _this.imgLicenseUrl.changingThisBreaksApplicationSecurity;
                        _this.imgLicenseUrl = _this.previousImgLicenseUrl;
                        _this.imgLicenseName = _this.driver.licenseFileName;
                    }
                    else {
                        _this.imgLicenseUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                            + data.text());
                        _this.previousImgLicenseUrl = _this.imgLicenseUrl.changingThisBreaksApplicationSecurity;
                        _this.imgLicenseUrl = _this.previousImgLicenseUrl;
                    }
                });
            if (this.driver.aadharFileName != '' && this.driver.aadharCardNumber != null)
                this.uploadService.getFile(this.user.companyName, 'driverList', this.driver.aadharFileName).subscribe(function (data) {
                    if (data.text().includes("PDF")) {
                        _this.imgAadharUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:application/pdf,' + data.text());
                        _this.imgAadharName = _this.driver.aadharFileName;
                        _this.previousImgAadharUrl = _this.imgAadharUrl.changingThisBreaksApplicationSecurity;
                        _this.imgAadharUrl = _this.previousImgAadharUrl;
                    }
                    else {
                        _this.imgAadharUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                            + data.text());
                        _this.previousImgAadharUrl = _this.imgAadharUrl.changingThisBreaksApplicationSecurity;
                        _this.imgAadharUrl = _this.previousImgAadharUrl;
                    }
                });
            if (this.driver.panFileName != '' && this.driver.panFileName != null)
                this.uploadService.getFile(this.user.companyName, 'driverList', this.driver.panFileName).subscribe(function (data) {
                    if (data.text().includes("PDF")) {
                        _this.imgPanUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:application/pdf,' + data.text());
                        ;
                        _this.imgPanName = _this.driver.panFileName;
                        _this.previousImgPanUrl = _this.imgPanUrl.changingThisBreaksApplicationSecurity;
                        _this.imgPanUrl = _this.previousImgPanUrl;
                    }
                    else {
                        _this.imgPanUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                            + data.text());
                        _this.previousImgPanUrl = _this.imgPanUrl.changingThisBreaksApplicationSecurity;
                        _this.imgPanUrl = _this.previousImgPanUrl;
                    }
                });
        }
        else {
            this.editState = false;
        }
    };
    NewDriverComponent.prototype.filterBranches = function (val) {
        return this.branches.filter(function (option) {
            return option.name.toLowerCase().includes(val.toLowerCase());
        });
    };
    NewDriverComponent.prototype.setBranches = function (temp, event) {
        if (event.source.selected == true) {
            this.driver.branches = temp.name;
            this.driver.branchId = temp.id;
        }
    };
    NewDriverComponent.prototype.selectFile = function (event) {
        var _this = this;
        this.selectedFiles = event.target.files;
        this.img = event.target.files[0];
        var file = event.target.files[0];
        var reader = new FileReader();
        reader.onload = function (e) { return _this.imgUrl = reader.result; };
        reader.readAsDataURL(file);
    };
    NewDriverComponent.prototype.selectLicenseFile = function (event) {
        var _this = this;
        this.selectedFiles = event.target.files;
        this.imgLicense = event.target.files[0];
        var file = event.target.files[0];
        var reader = new FileReader();
        reader.onload = function (e) { return _this.imgLicenseUrl = reader.result; };
        this.imgLicenseName = this.imgLicense.name;
        reader.readAsDataURL(file);
    };
    NewDriverComponent.prototype.selectAadharFile = function (event) {
        var _this = this;
        this.selectedFiles = event.target.files;
        this.imgAadhar = event.target.files[0];
        var file = event.target.files[0];
        var reader = new FileReader();
        reader.onload = function (e) { return _this.imgAadharUrl = reader.result; };
        this.imgAadharName = this.imgAadhar.name;
        reader.readAsDataURL(file);
    };
    NewDriverComponent.prototype.selectPanFile = function (event) {
        var _this = this;
        this.selectedFiles = event.target.files;
        this.imgPan = event.target.files[0];
        var file = event.target.files[0];
        var reader = new FileReader();
        reader.onload = function (e) { return _this.imgPanUrl = reader.result; };
        this.imgPanName = this.imgPan.name;
        reader.readAsDataURL(file);
    };
    NewDriverComponent.prototype.upload = function (id) {
        return __awaiter(this, void 0, void 0, function () {
            var uploadData, headers, body, type, uploadData, headers, body, type, uploadData, headers, body, type, uploadData, headers, body;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        console.log(id);
                        if (!(this.imgUrl != '' && this.previousImgUrl != this.imgUrl)) return [3 /*break*/, 2];
                        this.driver.fileName = id + this.driver.name + "_profilePhoto.jpg";
                        uploadData = new FormData();
                        uploadData.append(this.user.companyName + "/" + "driverList/" + this.driver.fileName, this.img, 'driverImage');
                        headers = new Headers();
                        headers.append('Content-Type', 'multipart/form-data');
                        headers.append('Accept', 'application/json');
                        body = JSON.stringify({ headers: headers });
                        return [4 /*yield*/, this.http.post("/files/uploadS3", uploadData, body).map(function (res) { return res.json(); }).subscribe(function (data) {
                                if (data.success) {
                                    // this.snackBar.open("Flight Details Updated","X",{duration: 3000});
                                }
                            })];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        if (!(this.imgLicenseUrl != '' && this.previousImgLicenseUrl != this.imgLicenseUrl)) return [3 /*break*/, 4];
                        type = this.imgLicense.type.split("/");
                        this.driver.licenseFileName = id + this.driver.name + "_licensePhoto." + type[1];
                        uploadData = new FormData();
                        uploadData.append(this.user.companyName + "/" + "driverList/" + this.driver.licenseFileName, this.imgLicense, 'driverLicenseImage');
                        headers = new Headers();
                        headers.append('Content-Type', 'multipart/form-data');
                        headers.append('Accept', 'application/json');
                        body = JSON.stringify({ headers: headers });
                        return [4 /*yield*/, this.http.post("/files/uploadS3", uploadData, body).map(function (res) { return res.json(); }).subscribe(function (data) {
                                if (data.success) {
                                    // this.snackBar.open("Flight Details Updated","X",{duration: 3000});
                                }
                            })];
                    case 3:
                        _a.sent();
                        _a.label = 4;
                    case 4:
                        if (!(this.imgAadharUrl != '' && this.previousImgAadharUrl != this.imgAadharUrl)) return [3 /*break*/, 6];
                        type = this.imgAadhar.type.split("/");
                        this.driver.aadharFileName = id + this.driver.name + "_aadharPhoto." + type[1];
                        uploadData = new FormData();
                        uploadData.append(this.user.companyName + "/" + "driverList/" + this.driver.aadharFileName, this.imgAadhar, 'driverAadharImage');
                        headers = new Headers();
                        headers.append('Content-Type', 'multipart/form-data');
                        headers.append('Accept', 'application/json');
                        body = JSON.stringify({ headers: headers });
                        return [4 /*yield*/, this.http.post("/files/uploadS3", uploadData, body).map(function (res) { return res.json(); }).subscribe(function (data) {
                                if (data.success) {
                                    // this.snackBar.open("Flight Details Updated","X",{duration: 3000});
                                }
                            })];
                    case 5:
                        _a.sent();
                        _a.label = 6;
                    case 6:
                        if (!(this.imgPanUrl != '' && this.previousImgPanUrl != this.imgPanUrl)) return [3 /*break*/, 8];
                        type = this.imgPan.type.split("/");
                        this.driver.panFileName = id + this.driver.name + "_panPhoto." + type;
                        uploadData = new FormData();
                        uploadData.append(this.user.companyName + "/" + "driverList/" + this.driver.panFileName, this.imgPan, 'driverPanImage');
                        headers = new Headers();
                        headers.append('Content-Type', 'multipart/form-data');
                        headers.append('Accept', 'application/json');
                        body = JSON.stringify({ headers: headers });
                        return [4 /*yield*/, this.http.post("/files/uploadS3", uploadData, body).map(function (res) { return res.json(); }).subscribe(function (data) {
                                if (data.success) {
                                    // this.snackBar.open("Flight Details Updated","X",{duration: 3000});
                                }
                            })];
                    case 7:
                        _a.sent();
                        _a.label = 8;
                    case 8:
                        this.driverService.updateDriver(this.driver).subscribe(function (data) {
                            console.log(data);
                            // this.snackBar.open("Driver has been updated",null,{duration:3000});
                            // this.dialog.closeAll()
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    NewDriverComponent.prototype.permanentAddress = function () {
        if (this.sameAsPermanent == false) {
            this.sameAsPermanent = true;
            this.driver.currentAddress = this.driver.permanentAddress;
        }
        else if (this.sameAsPermanent == true) {
            this.sameAsPermanent = false;
            this.driver.currentAddress = '';
        }
    };
    NewDriverComponent.prototype.addDriver = function () {
        var _this = this;
        if (this.driver.name.trim() == "") {
            this.snackBar.open("Please Enter a Name", null, {
                duration: 5000
            });
        }
        else if (this.driver.panCardNumber.trim() != "" && !this.driver.panCardNumber.match(/\b([A-Z]{5}[0-9]{4}[A-Z]{1})\b/)) {
            this.snackBar.open('Enter a valid PAN number', null, {
                duration: 5000
            });
        }
        else {
            if (this.driver.birthDate != '') {
                this.driver.birthDate = __WEBPACK_IMPORTED_MODULE_7_moment__(this.driver.birthDate).format("YYYY-MM-DD");
            }
            if (this.driver.joiningDate != '') {
                this.driver.joiningDate = __WEBPACK_IMPORTED_MODULE_7_moment__(this.driver.joiningDate).format("YYYY-MM-DD");
            }
            if (this.driver.licenseValidUpto) {
                this.driver.licenseValidUpto = __WEBPACK_IMPORTED_MODULE_7_moment__(this.driver.licenseValidUpto).format("YYYY-MM-DD");
            }
            this.driverService.addDriver(this.driver).subscribe(function (data) {
                _this.driver.id = data.insertId;
                _this.upload(data.insertId);
                if (data.affectedRows == 1) {
                    _this.param.inserted = 'yes';
                    _this.param.data = _this.driver;
                    _this.activityLogs.addDriverLogs({
                        driverId: data.insertId,
                        ownerId: _this.driver.ownerId,
                        message: "Driver created on " + __WEBPACK_IMPORTED_MODULE_7_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + _this.user.name
                    }).subscribe();
                }
            }, function (err) { }, function () {
                _this.snackBar.open("Driver Added", "X", { duration: 3000 });
                _this.ws.send(_this.user.ownerId + "driver-disp");
                _this.matDialogRef.close(_this.param);
            });
        }
    };
    NewDriverComponent.prototype.editDriver = function () {
        var _this = this;
        this.driver.birthDate = __WEBPACK_IMPORTED_MODULE_7_moment__(this.driver.birthDate).format("YYYY-MM-DD");
        this.driver.joiningDate = __WEBPACK_IMPORTED_MODULE_7_moment__(this.driver.joiningDate).format("YYYY-MM-DD");
        this.driver.licenseValidUpto = __WEBPACK_IMPORTED_MODULE_7_moment__(this.driver.licenseValidUpto).format("YYYY-MM-DD");
        console.log(this.driver);
        this.driverService.updateDriver(this.driver).subscribe(function (data) {
            _this.upload(_this.driver.id);
            _this.activityLogs.addDriverLogs({
                driverId: _this.driver.id,
                ownerId: _this.driver.ownerId,
                message: "Driver edited on " + __WEBPACK_IMPORTED_MODULE_7_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + _this.user.name
            }).subscribe();
        }, function (err) { }, function () {
            _this.snackBar.open("Driver has been updated", null, { duration: 3000 });
            _this.ws.send(_this.user.ownerId + "driver-disp");
            _this.matDialogRef.close(_this.param);
        });
    };
    NewDriverComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    NewDriverComponent.prototype.removeDriverPhoto = function () {
        this.imgUrl = '';
        this.previousImgUrl = '';
        this.driver.fileName = '';
    };
    NewDriverComponent.prototype.removeLicensePhoto = function () {
        this.imgLicenseUrl = '';
        this.previousImgLicenseUrl = '';
        this.driver.licenseFileName = '';
        this.imgLicenseName = '';
    };
    NewDriverComponent.prototype.removeAadharPhoto = function () {
        this.imgAadharUrl = '';
        this.previousImgAadharUrl = '';
        this.driver.aadharFileName = '';
        this.imgAadharName = '';
    };
    NewDriverComponent.prototype.removePANPhoto = function () {
        this.imgPanUrl = '';
        this.previousImgPanUrl = '';
        this.driver.panFileName = '';
        this.imgPanName = '';
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])("window:beforeunload", ["$event"]),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Event]),
        __metadata("design:returntype", void 0)
    ], NewDriverComponent.prototype, "unloadHandler", null);
    NewDriverComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-new-driver',
            template: __webpack_require__("./src/app/pages/masters/new-driver/new-driver.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/new-driver/new-driver.component.scss")]
        }),
        __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_2__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_material__["p" /* MatDialogRef */], Object, __WEBPACK_IMPORTED_MODULE_1__driver_service__["a" /* DriverService */],
            __WEBPACK_IMPORTED_MODULE_3__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_4__operations_new_branch_new_branch_service__["a" /* NewBranchService */],
            __WEBPACK_IMPORTED_MODULE_8__fileupload_service__["a" /* FileuploadService */],
            __WEBPACK_IMPORTED_MODULE_9__angular_platform_browser__["DomSanitizer"],
            __WEBPACK_IMPORTED_MODULE_10__activitylog_service__["a" /* ActivitylogService */],
            __WEBPACK_IMPORTED_MODULE_11__angular_http__["b" /* Http */]])
    ], NewDriverComponent);
    return NewDriverComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/new-duty-supporter/new-duty-supporter.component.html":
/***/ (function(module, exports) {

module.exports = "<!--Demo CSS-->\n<style>\n\n  .sample{\n    display: flex !important; \n    flex-direction: column; \n  }\n\n  .sample >*{\n    width: 100% !important;\n  }\n</style>\n\n<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>New Duty Supporter</nb-card-header>\n      <nb-card-body>\n        <div class=\"row\">\n          <div class=\"col-lg-6\">            \n            <table>\n              <tr>\n                <td>Name*</td>\n                <td>\n                  <mat-form-field>\n                    <input matInput [(ngModel)]=\"Name\">\n                  </mat-form-field>\n                </td>\n              </tr>\n              <tr>\n                <td>Type*</td>\n                <td>\n                  <mat-form-field>\n                    <mat-select placeholder=\"Select\">\n                      <mat-option value=\"option\">Option</mat-option>\n                    </mat-select>\n                  </mat-form-field>\n                </td>\n              </tr>\n              <tr>\n                <td>Mobile Number</td>\n                <td>\n                  <mat-form-field>\n                    <input matInput [(ngModel)]=\"MobileNumber\">\n                  </mat-form-field>\n                </td>\n              </tr>\n              <tr>\n                <td>Alternate Mobile Number</td>\n                <td>\n                  <mat-form-field>\n                    <input matInput [(ngModel)]=\"AltMobileNumber\">\n                  </mat-form-field>\n                </td>\n              </tr>\n            </table>              \n          </div>\n          <div class=\"col-lg-6\">\n            \n            <table>\n              <tr>\n                <td>Pan Number</td>\n                <td>\n                  <mat-form-field>\n                    <input matInput [(ngModel)]=\"panNumber\">\n                  </mat-form-field>\n                </td>\n              </tr>\n              <tr>\n                <td>Aadhar Number</td>\n                <td>\n                  <mat-form-field>\n                    <input matInput [(ngModel)]=\"aadharNumber\">\n                  </mat-form-field>\n                </td>\n              </tr> \n              <tr>\n                <td>BirthDate</td>\n                <td>\n                  <mat-form-field>\n                    <input matInput [matDatepicker]=\"birthDate\" placeholder=\"Choose a date\">\n                    <mat-datepicker-toggle matSuffix [for]=\"birthDate\"></mat-datepicker-toggle>\n                    <mat-datepicker #birthDate></mat-datepicker>\n                  </mat-form-field>\n                </td>\n              </tr>\n              <tr>\n                <td>Joining Date</td>\n                <td>\n                  <mat-form-field>\n                    <input matInput [matDatepicker]=\"joiningDate\" placeholder=\"Choose a date\">\n                    <mat-datepicker-toggle matSuffix [for]=\"joiningDate\"></mat-datepicker-toggle>\n                    <mat-datepicker #joiningDate></mat-datepicker>\n                  </mat-form-field>\n                </td>\n              </tr>\n            </table>              \n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-6\">            \n            <table>\n              <tr>\n                <td>Branches</td>\n                <div>\n                  <td>\n                    <mat-form-field class=\"sam  ple\">\n                      <mat-select placeholder=\"Select\">\n                        <mat-option value=\"option\">Option</mat-option>\n                      </mat-select>\n                    </mat-form-field>\n                  </td>\n                </div>\n              </tr>\n            </table>\n            <br>\n            <br>\n            <br>\n            <br>\n            <br>          \n            <br>            \n          </div>\n          <div class=\"col-lg-6\">            \n            <table>\n              <h4>Address</h4>\n              <tr>\n                <td>Type</td>\n                <td>\n                  <mat-form-field class=\"sam  ple\">\n                    <mat-select placeholder=\"Select\">\n                      <mat-option value=\"option\">Option</mat-option>\n                    </mat-select>\n                  </mat-form-field>\n                </td>\n              </tr>\n              <tr>\n                <td>Address</td>\n                <td>\n                  <mat-form-field>\n                    <textarea matInput></textarea>\n                  </mat-form-field>\n                </td>\n              </tr>\n            </table>            \n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-6\">            \n            Reference Details\n            <mat-form-field>\n              <textarea matInput></textarea>\n            </mat-form-field>        \n            <br>\n            <br>\n            <br>              \n          </div>\n          <div class=\"col-lg-6\">            \n            <h4>Files</h4>\n            <table>\n              <tr>\n                <td>File Name</td>\n                <td>\n                  <mat-form-field>\n                    <input matInput>\n                  </mat-form-field>\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <input type = \"file\" file-model = \"myFile\"/>\n                </td>\n              </tr>\n            </table>              \n          </div>\n        </div>\n        <div class=\"row ptb-10\">\n          <div class=\"col-lg-12\">\n            <mat-checkbox>Active</mat-checkbox><br>\n            <button mat-raised-button color=\"primary\">Submit</button>\n          </div>\n        </div>        \n      </nb-card-body>\n    </nb-card>    \n  </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/new-duty-supporter/new-duty-supporter.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/new-duty-supporter/new-duty-supporter.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NewDutySupporterComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var NewDutySupporterComponent = (function () {
    function NewDutySupporterComponent() {
    }
    NewDutySupporterComponent.prototype.ngOnInit = function () {
    };
    NewDutySupporterComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-new-duty-supporter',
            template: __webpack_require__("./src/app/pages/masters/new-duty-supporter/new-duty-supporter.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/new-duty-supporter/new-duty-supporter.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], NewDutySupporterComponent);
    return NewDutySupporterComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/new-vehicles/new-vehicles.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card style=\"margin-bottom: 2px;\">\n      <nb-card-header>Vehicle</nb-card-header>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-6\">\n    <nb-card>\n      <nb-card-body>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Model Name*\n              <input matInput [(ngModel)]=\"vehicle.modelname\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Vehicle Number*\n              <input matInput [(ngModel)]=\"vehicle.number\">\n            </mat-form-field>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Color\n              <input matInput [(ngModel)]=\"vehicle.vcolor\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Fuel Type*\n              <mat-select [(ngModel)]=\"vehicle.fuelType\">\n                <mat-option value=\"petrol\">Petrol</mat-option>\n                <mat-option value=\"diesel\">Diesel</mat-option>\n                <mat-option value=\"cng\">CNG</mat-option>\n              </mat-select>\n            </mat-form-field>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Seating Capacity*\n            <input matInput [(ngModel)]=\"vehicle.seating\">\n          </mat-form-field>\n          </div>\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field *ngIf=\"!supplierVehicle\">\n              Assigned Driver\n              <input matInput  [formControl]=\"driverCtrl\" [matAutocomplete]=\"autoDrivers\">\n              <mat-autocomplete #autoDrivers=\"matAutocomplete\">\n                  <mat-option *ngFor=\"let item of driver | async\" [value]=\"item.name\" (onSelectionChange)=\"setAssignedDriver(item,$event)\">\n                    {{ item.name }}\n                  </mat-option>\n              </mat-autocomplete>\n            </mat-form-field>\n            <mat-form-field *ngIf=\"supplierVehicle\">\n              Assigned Driver\n              <input matInput [(ngModel)]=\"vehicle.assignedDriver\">\n            </mat-form-field>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Vehicle Group\n              <input matInput  [formControl]=\"vehicleGroupCtrl\" [matAutocomplete]=\"autoVehicleGroups\">\n              <mat-autocomplete #autoVehicleGroups=\"matAutocomplete\">\n                <mat-option *ngFor=\"let item of vehicleGroup | async\" [value]=\"item.name\" (onSelectionChange)=\"setVehicleGroup(item,$event)\">\n                  {{ item.name }}\n                </mat-option>\n              </mat-autocomplete>\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Branches\n              <input matInput [formControl]=\"branchesCtrl\" [matAutocomplete]=\"autobranch\">\n              <mat-autocomplete #autobranch=\"matAutocomplete\">\n                <mat-option *ngFor=\"let item of branch | async\" [value]=\"item.name\" (onSelectionChange)=\"setBranches(item,$event)\">\n                  {{ item.name }}\n                </mat-option>\n              </mat-autocomplete>\n            </mat-form-field>\n          </div>\n        </div>        \n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"col-lg-6\">\n    <nb-card class=\"cardheight\">\n      <nb-card-header>Insurance</nb-card-header>\n      <nb-card-body>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Company Name\n              <input matInput [(ngModel)]=\"vehicle.companyName\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Policy Number\n              <input matInput [(ngModel)]=\"vehicle.policyNumber\">\n            </mat-form-field>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field class=\"w-100\">\n              Issue Date\n              <input matInput [matDatepicker]=\"issueDate\" [(ngModel)]=\"vehicle.issueDate\" readonly (click)=\"issueDate.open()\">   \n              <mat-datepicker-toggle matSuffix [for]=\"issueDate\"></mat-datepicker-toggle>\n              <mat-datepicker #issueDate></mat-datepicker>\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field class=\"w-100\">\n              Due Date\n              <input matInput [matDatepicker]=\"dueDate\" [(ngModel)]=\"vehicle.dueDate\" readonly (click)=\"dueDate.open()\">    \n              <mat-datepicker-toggle matSuffix [for]=\"dueDate\"></mat-datepicker-toggle>\n              <mat-datepicker #dueDate></mat-datepicker>\n            </mat-form-field>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Premium Amount\n              <input matInput [(ngModel)]=\"vehicle.premiumAmount\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Cover Amount\n              <input matInput [(ngModel)]=\"vehicle.coverAmount\">\n            </mat-form-field>\n          </div>\n        </div>          \n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-6\">\n    <nb-card>\n      <nb-card-header>Parts</nb-card-header>\n      <nb-card-body>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Chassis Number\n              <input matInput [(ngModel)]=\"vehicle.chassisNumber\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Engine Number\n              <input matInput [(ngModel)]=\"vehicle.engineNumber\">\n            </mat-form-field>\n          </div>\n        </div>        \n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"col-lg-6\">\n    <nb-card>\n      <nb-card-header>Registration</nb-card-header>\n      <nb-card-body>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Registered Owner Name\n              <input matInput [(ngModel)]=\"vehicle.regName\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Registration Date\n              <input matInput [matDatepicker]=\"regDate\" readonly (click)=\"regDate.open()\" [(ngModel)]=\"vehicle.regDate\">\n              <mat-datepicker-toggle matSuffix [for]=\"regDate\"></mat-datepicker-toggle>\n              <mat-datepicker #regDate></mat-datepicker>\n            </mat-form-field>\n          </div>\n        </div>        \n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>RTO</nb-card-header>\n      <nb-card-body>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field class=\"w-100\">\n              Address\n              <textarea matInput [(ngModel)]=\"vehicle.RTOAddress\"></textarea>\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              Tax Efficiency\n              <input matInput [(ngModel)]=\"vehicle.taxEfficiency\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              Expiry Date\n              <input matInput [matDatepicker]=\"expiryDate\" readonly (click)=\"expiryDate.open()\" [(ngModel)]=\"vehicle.expiryDateRTO\">\n              <mat-datepicker-toggle matSuffix [for]=\"expiryDate\"></mat-datepicker-toggle>\n              <mat-datepicker #expiryDate></mat-datepicker>\n            </mat-form-field>\n          </div>\n        </div>        \n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-6\">\n    <nb-card>\n      <nb-card-header>Authorization</nb-card-header>\n      <nb-card-body>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Authorization Number\n              <input matInput [(ngModel)]=\"vehicle.authorizationNumber\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Expiry Date\n              <input matInput [matDatepicker]=\"expiryDateAuth\" [(ngModel)]=\"vehicle.expiryDateAuth\" readonly (click)=\"expiryDateAuth.open()\">\n              <mat-datepicker-toggle matSuffix [for]=\"expiryDateAuth\"></mat-datepicker-toggle>\n              <mat-datepicker #expiryDateAuth></mat-datepicker>\n            </mat-form-field>\n          </div>\n        </div>        \n      </nb-card-body>\n    </nb-card>\n  </div>      \n  <div class=\"col-lg-6\">\n    <nb-card>\n      <nb-card-header>PUC</nb-card-header>\n      <nb-card-body>\n        <div class=\"row\">\n            <div class=\"col-lg-6 col-12\">\n              <mat-form-field>\n                Number\n                <input matInput [(ngModel)]=\"vehicle.PUCNumber\">\n              </mat-form-field>\n            </div>\n            <div class=\"col-lg-6 col-12\">\n              <mat-form-field>\n                Expiry Date\n                <input matInput [matDatepicker]=\"expiryDatePUC\" [(ngModel)]=\"vehicle.expiryDatePUC\" readonly (click)=\"expiryDatePUC.open()\">\n                <mat-datepicker-toggle matSuffix [for]=\"expiryDatePUC\"></mat-datepicker-toggle>\n                <mat-datepicker #expiryDatePUC></mat-datepicker>\n              </mat-form-field>\n            </div>\n        </div>        \n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>Loan</nb-card-header>\n      <nb-card-body>\n        <div class=\"row\">\n          <div class=\"col-lg-4 col-12\">\n            <mat-form-field>\n              EMI Amount\n              <input matInput [(ngModel)]=\"vehicle.EMIAmount\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-4 col-12\">\n            <mat-form-field>\n              Start Date\n              <input matInput [matDatepicker]=\"startDate\" [(ngModel)]=\"vehicle.startDate\" readonly (click)=\"startDate.open()\">   \n              <mat-datepicker-toggle matSuffix [for]=\"startDate\"></mat-datepicker-toggle>\n              <mat-datepicker #startDate></mat-datepicker>   \n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-4 col-12\">\n            <mat-form-field>\n              End Date\n              <input matInput [matDatepicker]=\"endDate\" [(ngModel)]=\"vehicle.endDate\" readonly (click)=\"endDate.open()\"/>  \n              <mat-datepicker-toggle matSuffix [for]=\"endDate\"></mat-datepicker-toggle>\n              <mat-datepicker #endDate></mat-datepicker>\n            </mat-form-field>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-4 col-12\">\n            <mat-form-field>\n              Bank Name\n              <input matInput [(ngModel)]=\"vehicle.bankName\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-4 col-12\">\n            <mat-form-field>\n              EMI Day\n              <mat-select [(ngModel)]=\"vehicle.EMIDay\">\n                <mat-option *ngFor=\"let element of emiDay\" [value]=\"element\">{{element}}</mat-option>\n              </mat-select>\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-4 col-12\"></div>\n        </div>        \n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>Fitness</nb-card-header>\n      <nb-card-body>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Fitness Number\n              <input matInput [(ngModel)]=\"vehicle.fitnessNumber\">\n            </mat-form-field>\n          </div>        \n          <div class=\"col-lg-6 col-12\" style=\"text-align: center;margin:auto;\">\n            <mat-form-field>\n              Expiry Date\n              <input matInput [matDatepicker]=\"expiryDateFitness\" [(ngModel)]=\"vehicle.expiryDateFitness\" readonly (click)=\"expiryDateFitness.open()\">\n              <mat-datepicker-toggle matSuffix [for]=\"expiryDateFitness\"></mat-datepicker-toggle>\n              <mat-datepicker #expiryDateFitness></mat-datepicker>\n            </mat-form-field>\n          </div>\n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>Vehicle Photo</nb-card-header>\n      <nb-card-body>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\" style=\"margin:auto;\">\n            <button (click)=\"profilePhoto.click()\" mat-raised-button color=\"primary\"> <mat-icon>cloud_upload</mat-icon>Browse</button>\n            <input type = \"file\" accept=\"image/*\" #profilePhoto hidden (change)=\"selectFile($event)\"/>\n          </div>        \n          <div class=\"col-lg-6 col-12\" style=\"text-align: center;margin:auto;\">\n            <img alt=\"\" *ngIf=\"imgUrl!=''\" [src]=\"imgUrl\" width=\"200px\" height=\"200px\"><br><button mat-icon-button *ngIf=\"imgUrl!=''\" (click)=\"removeImage()\"><mat-icon>clear</mat-icon></button>\n          </div>\n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card class=\"permitCard\">\n      <nb-card-header>Permits</nb-card-header>\n      <nb-card-body>\n        <form [formGroup]=\"myForm\">\n          <div formArrayName=\"rows\">\n            <div class=\"row\" *ngFor=\"let aRow of vehicleForms.controls; let i=index\" [formGroupName]=\"i\">\n              <div class=\"col-lg-3 col-12\">\n                <mat-form-field>\n                  Type\n                  <!-- <input mayInput [(ngModel)]=\"vehicle.permitType\"> -->\n                  <input matInput formControlName=\"permitType\">\n                </mat-form-field>\n              </div>\n              <div class=\"col-lg-3 col-12\">\n                <mat-form-field>\n                  Expiry Date\n                  <input matInput formControlName=\"permitExpiryDate\" [matDatepicker]=\"permitExpiryDate\" readonly (click)=\"permitExpiryDate.open()\">\n                  <mat-datepicker-toggle matSuffix [for]=\"permitExpiryDate\"></mat-datepicker-toggle>\n                  <mat-datepicker #permitExpiryDate></mat-datepicker>\n                </mat-form-field>\n              </div>\n              <div class=\"col-lg-1 col-12\">\n                <button (click)=\"permitImages.click()\" mat-icon-button color=\"primary\" matTooltip=\"Upload\"><mat-icon>cloud_upload</mat-icon></button>\n                <input hidden type=\"file\" formControlName=\"fileName\" #permitImages (change)=\"imageSelect($event,aRow,i)\">\n              </div>\n              <div class=\"col-lg-4 col-12\">\n                <div *ngIf=\"permitImgUrl[i]!=null\">\n                  <img alt=\"\" *ngIf=\"permitImgUrl[i]!=null && permitImgUrl[i].includes('data:image')\" style=\"padding-left:10px;\" [src]=\"permitImgUrl[i]\" height=\"100px\" width=\"100px\" />\n                  <p style=\"margin: 2rem;\" *ngIf=\"!permitImgUrl[i].includes('data:image')\">{{permitFileName[i]}}</p>\n                </div>\n              </div>\n              <div class=\"col-lg-1 col-2\">\n                <button mat-icon-button color=\"primary\" (click)=\"deleteRow(i, aRow)\"><mat-icon>clear</mat-icon></button>\n              </div>\n            </div>\n          </div>\n        </form> \n        <div class=\"row ptb-10\">\n          <div class=\"col-lg-12 col-12\">\n            <button mat-raised-button color=\"primary\" style=\"margin-top:15px;\" (click)=\"addRow()\">Add Row</button>\n          </div>          \n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card class=\"permitCard\">\n      <nb-card-header>Files</nb-card-header>\n      <nb-card-body>\n        <form [formGroup]=\"fileForm\">\n          <div formArrayName=\"rows\">\n            <div class=\"row\" *ngFor=\"let aRow of fileForms.controls; let i=index\" [formGroupName]=\"i\">\n              <div class=\"col-lg-4 col-12\">\n                <mat-form-field>\n                  Type\n                  <!-- <input mayInput [(ngModel)]=\"vehicle.permitType\"> -->\n                  <input matInput formControlName=\"fileType\">\n                </mat-form-field>\n              </div>\n              <!-- <div class=\"col-lg-4 col-12\">\n                <mat-form-field>\n                  Expiry Date\n                  <input matInput formControlName=\"fileExpiryDate\" [matDatepicker]=\"fileExpiryDate\" readonly (click)=\"fileExpiryDate.open()\">\n                  <mat-datepicker-toggle matSuffix [for]=\"fileExpiryDate\"></mat-datepicker-toggle>\n                  <mat-datepicker #fileExpiryDate></mat-datepicker>\n                </mat-form-field>\n              </div> -->\n              <div class=\"col-lg-2 col-12\">\n                <button (click)=\"fileImages.click()\" mat-icon-button color=\"primary\" matTooltip=\"Upload\"><mat-icon>cloud_upload</mat-icon></button>\n                <input hidden type=\"file\" #fileImages (change)=\"fileImageSelect($event,aRow,i)\">\n              </div>\n              <div class=\"col-lg-4 col-12\">\n                <div *ngIf=\"fileImgUrl[i]!=null\">\n                  <img alt=\"\" *ngIf=\"fileImgUrl[i]!=null && fileImgUrl[i].includes('data:image')\" style=\"padding-left:10px;\" [src]=\"fileImgUrl[i]\" height=\"100px\" width=\"100px\" />\n                  <p style=\"margin: 2rem;\" *ngIf=\"!fileImgUrl[i].includes('data:image')\">{{otherFileName[i]}}</p>\n                </div>\n              </div>\n              <div class=\"col-lg-1 col-2\">\n                <button mat-icon-button color=\"primary\" (click)=\"deleteFileRow(i, aRow)\"><mat-icon>clear</mat-icon></button>\n              </div>\n            </div>\n          </div>\n        </form> \n        <div class=\"row ptb-10\">\n          <div class=\"col-lg-12 col-12\">\n            <button mat-raised-button color=\"primary\" style=\"margin-top:15px;\" (click)=\"addFileRow()\">Add Row</button>\n          </div>\n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12\">\n    <mat-checkbox [(ngModel)]=\"vehicle.active\">Active</mat-checkbox><br>\n    <button mat-raised-button color=\"primary\" *ngIf=\"!editState\" (click)=\"saveVehicle()\">Add</button>\n    <button mat-raised-button color=\"primary\" *ngIf=\"editState\" (click)=\"editVehicle()\">Save</button>\n    <button (click)=\"closeDialog()\" mat-raised-button color=\"warn\">Close</button>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/new-vehicles/new-vehicles.component.scss":
/***/ (function(module, exports) {

module.exports = "table {\n  width: 100%; }\n\n.cardheight {\n  height: 95%; }\n\n.permitCard {\n  height: 92%; }\n\ntd {\n  word-wrap: break-word; }\n\n.mat-icon-button .mat-icon, .mat-icon-button i {\n  line-height: 4rem !important; }\n\n.material-icons {\n  line-height: 1.3 !important; }\n"

/***/ }),

/***/ "./src/app/pages/masters/new-vehicles/new-vehicles.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NewVehiclesComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__vehicle_service__ = __webpack_require__("./src/app/pages/masters/new-vehicles/vehicle.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__new_driver_driver_service__ = __webpack_require__("./src/app/pages/masters/new-driver/driver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_operators__ = __webpack_require__("./node_modules/rxjs/_esm5/operators.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__vehiclegroups_vehiclegroups_component__ = __webpack_require__("./src/app/pages/masters/vehiclegroups/vehiclegroups.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__operations_new_branch_new_branch_service__ = __webpack_require__("./src/app/pages/operations/new-branch/new-branch.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};













var NewVehiclesComponent = (function () {
    function NewVehiclesComponent(vehicleService, driverService, snackBar, vehicleGroupService, dialog, auth, matDialogRef, branchService, uploadService, _sanitizer, data, fb, http) {
        this.vehicleService = vehicleService;
        this.driverService = driverService;
        this.snackBar = snackBar;
        this.vehicleGroupService = vehicleGroupService;
        this.dialog = dialog;
        this.auth = auth;
        this.matDialogRef = matDialogRef;
        this.branchService = branchService;
        this.uploadService = uploadService;
        this._sanitizer = _sanitizer;
        this.data = data;
        this.fb = fb;
        this.http = http;
        this.emiDay = [];
        this.branchesCtrl = new __WEBPACK_IMPORTED_MODULE_7__angular_forms__["c" /* FormControl */]();
        this.driverCtrl = new __WEBPACK_IMPORTED_MODULE_7__angular_forms__["c" /* FormControl */]();
        this.vehicleGroupCtrl = new __WEBPACK_IMPORTED_MODULE_7__angular_forms__["c" /* FormControl */]();
        this.editState = false;
        this.user = {};
        this.permitImgUrl = [];
        this.previousPermitImgUrl = [];
        this.fileImgUrl = [];
        this.previousFileImgUrl = [];
        this.imgUrl = '';
        this.previousImgUrl = '';
        this.supplierVehicle = false;
        this.deletedPermits = [];
        this.deletedFiles = [];
        this.permitFiles = [];
        this.permitFileName = [];
        this.otherFiles = [];
        this.otherFileName = [];
        this.param = {};
        this.vehicle = {
            modelname: '',
            number: '',
            vcolor: '',
            seating: '',
            fuelType: '',
            branches: '',
            companyName: '',
            policyNumber: '',
            issueDate: '',
            dueDate: '',
            premiumAmount: '',
            coverAmount: '',
            chassisNumber: '',
            engineNumber: '',
            regName: '',
            regDate: '',
            RTOAddress: '',
            taxEfficiency: '',
            expiryDateRTO: '',
            authorizationNumber: '',
            expiryDateAuth: '',
            PUCNumber: '',
            expiryDatePUC: '',
            EMIAmount: '',
            startDate: '',
            endDate: '',
            bankName: '',
            EMIDay: '',
            // permitType:'',
            // permitExpiryDate:'',
            fileName: '',
            fileURL: '',
            assignedDriver: '',
            vehicleGroup: '',
            assignedDriverId: null,
            vehicleGroupId: null,
            branchId: null,
            ownerId: '',
            fitnessNumber: '',
            expiryDateFitness: null,
            active: true,
        };
    }
    NewVehiclesComponent.prototype.unloadHandler = function (event) {
        console.log("Processing beforeunload...");
        event.returnValue = false;
    };
    NewVehiclesComponent.prototype.saveVehicle = function () {
        var _this = this;
        if (this.vehicle.modelname.trim() == "") {
            this.snackBar.open("Enter Model Name", null, {
                duration: 5000
            });
        }
        else if (this.vehicle.number == "") {
            this.snackBar.open("Enter Vehicle Number", null, {
                duration: 5000
            });
        }
        else {
            var i = 0;
            console.log(this.vehicle);
            if (this.vehicle.issueDate === null || this.vehicle.issueDate === '' || this.vehicle.issueDate === 'Invalid date') {
                console.log("asd");
                this.vehicle.issueDate = null;
            }
            else {
                this.vehicle.issueDate = __WEBPACK_IMPORTED_MODULE_9_moment__(this.vehicle.issueDate).format("YYYY-MM-DD");
            }
            if (this.vehicle.dueDate === null || this.vehicle.dueDate === '' || this.vehicle.dueDate === 'Invalid date') {
                this.vehicle.dueDate = null;
                console.log("asd");
            }
            else {
                this.vehicle.dueDate = __WEBPACK_IMPORTED_MODULE_9_moment__(this.vehicle.dueDate).format("YYYY-MM-DD");
            }
            if (this.vehicle.regDate === null || this.vehicle.regDate === '' || this.vehicle.regDate === 'Invalid date') {
                this.vehicle.regDate = null;
            }
            else {
                this.vehicle.regDate = __WEBPACK_IMPORTED_MODULE_9_moment__(this.vehicle.regDate).format("YYYY-MM-DD");
            }
            if (this.vehicle.expiryDateRTO === null || this.vehicle.expiryDateRTO === '' || this.vehicle.expiryDateRTO === 'Invalid date') {
                this.vehicle.expiryDateRTO = null;
            }
            else {
                this.vehicle.expiryDateRTO = __WEBPACK_IMPORTED_MODULE_9_moment__(this.vehicle.expiryDateRTO).format("YYYY-MM-DD");
            }
            if (this.vehicle.expiryDateAuth === null || this.vehicle.expiryDateAuth === '' || this.vehicle.expiryDateAuth === 'Invalid date') {
                this.vehicle.expiryDateAuth = null;
            }
            else {
                this.vehicle.expiryDateAuth = __WEBPACK_IMPORTED_MODULE_9_moment__(this.vehicle.expiryDateAuth).format("YYYY-MM-DD");
            }
            if (this.vehicle.expiryDatePUC === null || this.vehicle.expiryDatePUC === '' || this.vehicle.expiryDatePUC === 'Invalid date') {
                this.vehicle.expiryDatePUC = null;
            }
            else {
                this.vehicle.expiryDatePUC = __WEBPACK_IMPORTED_MODULE_9_moment__(this.vehicle.expiryDatePUC).format("YYYY-MM-DD");
            }
            if (this.vehicle.startDate === null || this.vehicle.startDate === '' || this.vehicle.startDate === 'Invalid date') {
                this.vehicle.startDate = null;
            }
            else {
                this.vehicle.startDate = __WEBPACK_IMPORTED_MODULE_9_moment__(this.vehicle.startDate).format("YYYY-MM-DD");
            }
            if (this.vehicle.endDate === null || this.vehicle.endDate === '' || this.vehicle.endDate === 'Invalid date') {
                this.vehicle.endDate = null;
            }
            else {
                this.vehicle.endDate = __WEBPACK_IMPORTED_MODULE_9_moment__(this.vehicle.endDate).format("YYYY-MM-DD");
            }
            if (this.vehicle.permitExpiryDate === null || this.vehicle.permitExpiryDate === '' || this.vehicle.permitExpiryDate === 'Invalid date') {
                this.vehicle.permitExpiryDate = null;
            }
            else {
                this.vehicle.permitExpiryDate = __WEBPACK_IMPORTED_MODULE_9_moment__(this.vehicle.permitExpiryDate).format("YYYY-MM-DD");
            }
            // console.log(this.vehicle)
            this.vehicleService.addVehicle(this.vehicle).subscribe(function (data) {
                console.log(data);
                _this.vehicle.id = data.insertId;
                var permitI = 0;
                _this.vehicleForms.value.forEach(function (element) {
                    element.vehicleId = _this.vehicle.id;
                    var type = _this.permitFiles[permitI].type.split("/");
                    console.log(type);
                    var imageName = data.insertId + '_' + element.permitType + "." + type[1];
                    console.log(imageName);
                    var tempArr = {
                        vehicleId: _this.vehicle.id,
                        permitType: element.permitType,
                        permitExpiryDate: __WEBPACK_IMPORTED_MODULE_9_moment__(element.permitExpiryDate).format("YYYY-MM-DD"),
                        fileName: imageName
                    };
                    if (tempArr.permitExpiryDate == 'Invalid date') {
                        tempArr.permitExpiryDate = null;
                    }
                    _this.vehicleService.addVehiclePermit(tempArr).subscribe(function (data) { });
                    if (_this.permitImgUrl[permitI] != null)
                        _this.uploadPermit(imageName, _this.permitFiles[permitI]);
                    permitI = permitI + 1;
                });
                var fileI = 0;
                _this.fileForms.value.forEach(function (element) {
                    element.vehicleId = _this.vehicle.id;
                    var type = _this.otherFiles[fileI].type.split("/");
                    var imageName = data.insertId + '_' + element.fileType + "." + type[1];
                    console.log(imageName);
                    var tempArr2 = {
                        vehicleId: _this.vehicle.id,
                        fileType: element.fileType,
                        fileName: imageName
                    };
                    _this.vehicleService.addVehicleFile(tempArr2).subscribe(function (data) { });
                    if (_this.fileImgUrl[fileI] != null)
                        _this.uploadFile(imageName, _this.otherFiles[fileI]);
                    fileI = fileI + 1;
                });
                _this.upload(data.insertId);
                if (data.affectedRows == 1) {
                    _this.param.inserted = 'yes';
                    _this.param.data = _this.vehicle;
                    _this.matDialogRef.close(_this.param);
                }
            }, function (err) { }, function () {
                _this.snackBar.open("Vehicle Added", "X", { duration: 3000 });
            });
        }
    };
    NewVehiclesComponent.prototype.uploadPermit = function (filename, imgUrl) {
        var uploadData = new FormData();
        uploadData.append(this.user.companyName + "/" + "vehiclePermits/" + filename, imgUrl, 'permitFiles');
        var headers = new Headers();
        headers.append('Content-Type', 'multipart/form-data');
        headers.append('Accept', 'application/json');
        var body = JSON.stringify({ headers: headers });
        return this.http.post("/files/uploadS3", uploadData, body).map(function (res) { return res.json(); }).subscribe(function (data) {
            if (data.success) {
                // this.snackBar.open("Flight Details Updated","X",{duration: 3000});
            }
        });
    };
    NewVehiclesComponent.prototype.fileImageSelect = function (event, row, i) {
        var _this = this;
        this.selectedExtraFiles = event.target.files;
        this.otherFiles[i] = event.target.files[0];
        var file = event.target.files[0];
        var reader = new FileReader();
        reader.onload = function (e) { return _this.fileImgUrl[i] = reader.result; };
        reader.readAsDataURL(file);
        console.log(this.fileImgUrl);
        this.otherFileName[i] = this.otherFiles[i].name;
        console.log(this.otherFiles[i]);
    };
    NewVehiclesComponent.prototype.uploadFile = function (filename, imgUrl) {
        var uploadData = new FormData();
        uploadData.append(this.user.companyName + "/" + "vehicleFiles/" + filename, imgUrl, 'permitFiles');
        var headers = new Headers();
        headers.append('Content-Type', 'multipart/form-data');
        headers.append('Accept', 'application/json');
        var body = JSON.stringify({ headers: headers });
        return this.http.post("/files/uploadS3", uploadData, body).map(function (res) { return res.json(); }).subscribe(function (data) {
            if (data.success) {
                // this.snackBar.open("Flight Details Updated","X",{duration: 3000});
            }
        });
    };
    NewVehiclesComponent.prototype.upload = function (id) {
        if (this.imgUrl != '') {
            this.vehicle.fileName = id + this.vehicle.modelname + ".jpg";
            this.uploadService.uploadfile(this.user.companyName, 'vehicleList', this.vehicle.fileName, this.imgUrl);
        }
        this.vehicleService.updateVehicle(this.vehicle).subscribe(function (data) {
            // this.snackBar.open("Vehicle Updated",null,{duration:3000})
            // this.dialog.closeAll()
        });
    };
    NewVehiclesComponent.prototype.editVehicle = function () {
        var _this = this;
        if (this.vehicle.issueDate === null || this.vehicle.issueDate === '' || this.vehicle.issueDate === 'Invalid date') {
            this.vehicle.issueDate = null;
        }
        else {
            this.vehicle.issueDate = __WEBPACK_IMPORTED_MODULE_9_moment__(this.vehicle.issueDate).format("YYYY-MM-DD");
        }
        if (this.vehicle.dueDate === null || this.vehicle.dueDate === '' || this.vehicle.dueDate === 'Invalid date') {
            this.vehicle.dueDate = null;
        }
        else {
            this.vehicle.dueDate = __WEBPACK_IMPORTED_MODULE_9_moment__(this.vehicle.dueDate).format("YYYY-MM-DD");
        }
        if (this.vehicle.regDate === null || this.vehicle.regDate === '' || this.vehicle.regDate === 'Invalid date') {
            this.vehicle.regDate = null;
        }
        else {
            this.vehicle.regDate = __WEBPACK_IMPORTED_MODULE_9_moment__(this.vehicle.regDate).format("YYYY-MM-DD");
        }
        if (this.vehicle.expiryDateRTO === null || this.vehicle.expiryDateRTO === '' || this.vehicle.expiryDateRTO === 'Invalid date') {
            this.vehicle.expiryDateRTO = null;
        }
        else {
            this.vehicle.expiryDateRTO = __WEBPACK_IMPORTED_MODULE_9_moment__(this.vehicle.expiryDateRTO).format("YYYY-MM-DD");
        }
        if (this.vehicle.expiryDateAuth === null || this.vehicle.expiryDateAuth === '' || this.vehicle.expiryDateAuth === 'Invalid date') {
            this.vehicle.expiryDateAuth = null;
        }
        else {
            this.vehicle.expiryDateAuth = __WEBPACK_IMPORTED_MODULE_9_moment__(this.vehicle.expiryDateAuth).format("YYYY-MM-DD");
        }
        if (this.vehicle.expiryDatePUC === null || this.vehicle.expiryDatePUC === '' || this.vehicle.expiryDatePUC === 'Invalid date') {
            this.vehicle.expiryDatePUC = null;
        }
        else {
            this.vehicle.expiryDatePUC = __WEBPACK_IMPORTED_MODULE_9_moment__(this.vehicle.expiryDatePUC).format("YYYY-MM-DD");
        }
        if (this.vehicle.startDate === null || this.vehicle.startDate === '' || this.vehicle.startDate === 'Invalid date') {
            this.vehicle.startDate = null;
        }
        else {
            this.vehicle.startDate = __WEBPACK_IMPORTED_MODULE_9_moment__(this.vehicle.startDate).format("YYYY-MM-DD");
        }
        if (this.vehicle.endDate === null || this.vehicle.endDate === '' || this.vehicle.endDate === 'Invalid date') {
            this.vehicle.endDate = null;
        }
        else {
            this.vehicle.endDate = __WEBPACK_IMPORTED_MODULE_9_moment__(this.vehicle.endDate).format("YYYY-MM-DD");
        }
        if (this.vehicle.permitExpiryDate === null || this.vehicle.permitExpiryDate === '' || this.vehicle.permitExpiryDate === 'Invalid date') {
            this.vehicle.permitExpiryDate = null;
        }
        else {
            this.vehicle.permitExpiryDate = __WEBPACK_IMPORTED_MODULE_9_moment__(this.vehicle.permitExpiryDate).format("YYYY-MM-DD");
        }
        if (this.vehicle.expiryDateFitness === null || this.vehicle.expiryDateFitness === '' || this.vehicle.expiryDateFitness === 'Invalid date') {
            this.vehicle.expiryDateFitness = null;
        }
        else {
            this.vehicle.expiryDateFitness = __WEBPACK_IMPORTED_MODULE_9_moment__(this.vehicle.expiryDateFitness).format("YYYY-MM-DD");
        }
        if (this.previousImgUrl != this.imgUrl) {
            this.upload(this.vehicle.id);
        }
        else {
            this.vehicleService.updateVehicle(this.vehicle).subscribe(function (data) {
                var i = 0;
                _this.vehicleForms.value.forEach(function (element) {
                    console.log(element);
                    if (element.id == '' || element.id == undefined || element.id == null) {
                        var type = _this.permitFiles[i].type.split("/");
                        console.log(type);
                        console.log(_this.permitImgUrl[i]);
                        var imageName = _this.vehicle.id + '_' + element.permitType + "." + type[1];
                        var tempArr = {
                            vehicleId: _this.vehicle.id,
                            permitType: element.permitType,
                            permitExpiryDate: __WEBPACK_IMPORTED_MODULE_9_moment__(element.permitExpiryDate).format("YYYY-MM-DD"),
                            fileName: imageName
                        };
                        if (tempArr.permitExpiryDate == 'Invalid date') {
                            tempArr.permitExpiryDate = null;
                        }
                        _this.vehicleService.addVehiclePermit(tempArr).subscribe();
                        _this.uploadPermit(imageName, _this.permitFiles[i]);
                    }
                    else {
                    }
                    i++;
                });
                _this.deletedPermits.forEach(function (element) {
                    _this.vehicleService.deleteVehiclePermit(element).subscribe();
                });
                var i = 0;
                _this.fileForms.value.forEach(function (element) {
                    console.log(element);
                    if (element.id == '' || element.id == undefined || element.id == null) {
                        var type = _this.otherFiles[i].type.split("/");
                        var imageName = _this.vehicle.id + '_' + element.fileType + "." + type[1];
                        console.log(imageName);
                        var tempArr2 = {
                            vehicleId: _this.vehicle.id,
                            fileType: element.fileType,
                            fileName: imageName
                        };
                        _this.vehicleService.addVehicleFile(tempArr2).subscribe();
                        _this.uploadFile(imageName, _this.otherFiles[i]);
                    }
                    else {
                        // this.vehicleService.updateVehicleFile(element).subscribe();
                        // var imageName = this.vehicle.id+'_'+element.fileType+".jpg";
                        // this.uploadFile(imageName,this.fileImgUrl[i])
                    }
                    i++;
                });
                _this.deletedFiles.forEach(function (element) {
                    _this.vehicleService.deleteVehicleFile(element).subscribe();
                });
            }, function (err) { }, function () {
                _this.snackBar.open("Vehicle Updated", null, { duration: 7000 });
                _this.dialog.closeAll();
            });
        }
    };
    NewVehiclesComponent.prototype.setVehicleGroup = function (temp, event) {
        if (event.source.selected == true) {
            this.vehicle.vehicleGroup = temp.modelname;
            this.vehicle.vehicleGroupId = temp.id;
        }
    };
    NewVehiclesComponent.prototype.setAssignedDriver = function (temp, event) {
        if (event.source.selected == true) {
            this.vehicle.assignedDriver = temp.name;
            this.vehicle.assignedDriverId = temp.id;
        }
    };
    NewVehiclesComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    NewVehiclesComponent.prototype.selectFile = function (event) {
        var _this = this;
        this.selectedFiles = event.target.files;
        var file = event.target.files[0];
        var reader = new FileReader();
        reader.onload = function (e) { return _this.imgUrl = reader.result; };
        reader.readAsDataURL(file);
    };
    NewVehiclesComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.vehicle.ownerId = data[0].ownerId;
            _this.vehicleGroupService.getvehicleGroup(_this.user).subscribe(function (data) {
                _this.vehicleGroupObs = data;
                _this.vehicleGroup = _this.vehicleGroupCtrl.valueChanges
                    .pipe(Object(__WEBPACK_IMPORTED_MODULE_3_rxjs_operators__["startWith"])(''), Object(__WEBPACK_IMPORTED_MODULE_3_rxjs_operators__["map"])(function (val) { return _this.filterVehicleGroup(val); }));
            });
            _this.driverService.getDriver(_this.user).subscribe(function (data) {
                _this.drivers = data;
                _this.driver = _this.driverCtrl.valueChanges
                    .pipe(Object(__WEBPACK_IMPORTED_MODULE_3_rxjs_operators__["startWith"])(''), Object(__WEBPACK_IMPORTED_MODULE_3_rxjs_operators__["map"])(function (val) { return _this.filterDriver(val); }));
            });
            _this.branchService.getBranches(_this.user).subscribe(function (data) {
                _this.branches = data;
                _this.branch = _this.branchesCtrl.valueChanges
                    .pipe(Object(__WEBPACK_IMPORTED_MODULE_3_rxjs_operators__["startWith"])(''), Object(__WEBPACK_IMPORTED_MODULE_3_rxjs_operators__["map"])(function (val) { return _this.filterBranches(val); }));
            });
        });
        this.myForm = this.fb.group({
            rows: this.fb.array([])
        });
        this.fileForm = this.fb.group({
            rows: this.fb.array([])
        });
        if (this.data != null) {
            if (this.data.row != null) {
                this.vehicle = this.data.row;
                this.driverCtrl.setValue(this.data.row.assignedDriver);
                this.branchesCtrl.setValue(this.data.row.branchId);
                this.editState = true;
                if (this.vehicle.fileName != '' && this.vehicle.fileName != null)
                    this.uploadService.getFile(this.user.companyName, 'vehicleList', this.vehicle.fileName).subscribe(function (data) {
                        _this.imgUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                            + data.text());
                        _this.previousImgUrl = _this.imgUrl;
                        console.log(_this.imgUrl);
                    });
                this.vehicleService.getVehiclePermit(this.vehicle).subscribe(function (data) {
                    var j = 0;
                    data.forEach(function (element) {
                        console.log(element);
                        _this.uploadService.getFile(_this.user.companyName, 'vehiclePermits', element.fileName).subscribe(function (data) {
                            if (data.text().includes("PDF")) {
                                _this.permitImgUrl[j] = _this._sanitizer.bypassSecurityTrustResourceUrl('data:application/pdf,' + data.text());
                                _this.permitFileName[j] = element.fileName;
                                _this.previousPermitImgUrl[j] = _this.permitImgUrl[j].changingThisBreaksApplicationSecurity;
                                _this.permitImgUrl[j] = _this.previousPermitImgUrl[j];
                                console.log(_this.permitFileName[j]);
                            }
                            else {
                                _this.permitImgUrl[j] = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' + data.text());
                                _this.previousPermitImgUrl[j] = _this.permitImgUrl[j].changingThisBreaksApplicationSecurity;
                                _this.permitImgUrl[j] = _this.previousPermitImgUrl[j];
                                console.log(_this.permitImgUrl);
                            }
                            var row = _this.fb.group({
                                id: element.id,
                                permitType: element.permitType,
                                permitExpiryDate: element.permitExpiryDate,
                                fileName: '',
                                imageName: ''
                            });
                            _this.vehicleForms.push(row);
                            j = j + 1;
                        });
                    });
                });
                this.vehicleService.getVehicleFile(this.vehicle).subscribe(function (data) {
                    var k = 0;
                    data.forEach(function (element) {
                        _this.uploadService.getFile(_this.user.companyName, 'vehicleFiles', element.fileName).subscribe(function (data) {
                            if (data.text().includes("PDF")) {
                                _this.fileImgUrl[k] = _this._sanitizer.bypassSecurityTrustResourceUrl('data:application/pdf,' + data.text());
                                _this.otherFileName[i] = element.fileName;
                                _this.previousFileImgUrl[k] = _this.fileImgUrl[k].changingThisBreaksApplicationSecurity;
                                _this.fileImgUrl[k] = _this.previousFileImgUrl[k];
                            }
                            else {
                                _this.fileImgUrl[k] = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' + data.text());
                                _this.previousFileImgUrl[k] = _this.fileImgUrl[k].changingThisBreaksApplicationSecurity;
                                _this.fileImgUrl[k] = _this.previousFileImgUrl[k];
                            }
                            var row = _this.fb.group({
                                id: element.id,
                                fileType: element.fileType,
                                fileName: '',
                                imageName: ''
                            });
                            _this.fileForms.push(row);
                            k = k + 1;
                        });
                    });
                });
            }
            else if (this.data.type == 'Owner-cum-Driver') {
                this.vehicle.assignedDriver = this.data.driverName;
                this.supplierVehicle = true;
            }
            else {
                this.editState = false;
                console.log(this.editState);
            }
        }
        var i;
        for (i = 1; i < 32; i++) {
            this.emiDay.push(i);
        }
    };
    NewVehiclesComponent.prototype.filterBranches = function (val) {
        return this.branches.filter(function (option) {
            return option.name.toLowerCase().includes(val.toLowerCase());
        });
    };
    NewVehiclesComponent.prototype.filterDriver = function (val) {
        return this.drivers.filter(function (option) {
            return option.name.toLowerCase().includes(val.toLowerCase());
        });
    };
    NewVehiclesComponent.prototype.filterVehicleGroup = function (val) {
        return this.vehicleGroupObs.filter(function (option) {
            return option.name.toLowerCase().includes(val.toLowerCase());
        });
    };
    NewVehiclesComponent.prototype.setBranches = function (temp, event) {
        if (event.source.selected == true) {
            this.vehicle.branches = temp.name;
            this.vehicle.branchId = temp.id;
        }
    };
    Object.defineProperty(NewVehiclesComponent.prototype, "vehicleForms", {
        get: function () {
            return this.myForm.get('rows');
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NewVehiclesComponent.prototype, "fileForms", {
        get: function () {
            return this.fileForm.get('rows');
        },
        enumerable: true,
        configurable: true
    });
    NewVehiclesComponent.prototype.addRow = function () {
        var row = this.fb.group({
            permitType: '',
            permitExpiryDate: null,
            fileName: '',
            imageName: ''
        });
        this.vehicleForms.push(row);
        this.vehicleForms.controls.forEach(function (element) {
            console.log(element);
        });
    };
    NewVehiclesComponent.prototype.deleteRow = function (i, aRow) {
        this.vehicleForms.removeAt(i);
        this.permitImgUrl.splice(i, 1);
        if (aRow.value.id != '') {
            this.deletedPermits.push(aRow.value);
        }
    };
    NewVehiclesComponent.prototype.addFileRow = function () {
        var row = this.fb.group({
            fileType: '',
            fileName: '',
            imageName: ''
        });
        this.fileForms.push(row);
        this.fileForms.controls.forEach(function (element) {
            console.log(element);
        });
    };
    NewVehiclesComponent.prototype.deleteFileRow = function (i, aRow) {
        this.fileForms.removeAt(i);
        this.fileImgUrl.splice(i, 1);
        if (aRow.value.id != '') {
            this.deletedFiles.push(aRow.value);
        }
    };
    NewVehiclesComponent.prototype.imageSelect = function (event, row, i) {
        var _this = this;
        console.log("hi");
        this.selectedPermitFiles = event.target.files;
        this.permitFiles[i] = event.target.files[0];
        var file = event.target.files[0];
        var reader = new FileReader();
        reader.onload = function (e) { return _this.permitImgUrl[i] = reader.result; };
        // row.get('imageName').setValue(this.vehicle.id+'_'+i+'_')
        this.permitFileName[i] = this.permitFiles[i].name;
        reader.readAsDataURL(file);
    };
    NewVehiclesComponent.prototype.removeImage = function () {
        this.imgUrl = '';
        this.previousImgUrl = '';
        this.vehicle.fileName = '';
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])("window:beforeunload", ["$event"]),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Event]),
        __metadata("design:returntype", void 0)
    ], NewVehiclesComponent.prototype, "unloadHandler", null);
    NewVehiclesComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-new-vehicles',
            template: __webpack_require__("./src/app/pages/masters/new-vehicles/new-vehicles.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/new-vehicles/new-vehicles.component.scss")]
        }),
        __param(10, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_5__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__vehicle_service__["a" /* VehicleService */],
            __WEBPACK_IMPORTED_MODULE_2__new_driver_driver_service__["a" /* DriverService */],
            __WEBPACK_IMPORTED_MODULE_5__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_4__vehiclegroups_vehiclegroups_component__["a" /* VehicleGroupsComponent */],
            __WEBPACK_IMPORTED_MODULE_5__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_6__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_5__angular_material__["p" /* MatDialogRef */],
            __WEBPACK_IMPORTED_MODULE_8__operations_new_branch_new_branch_service__["a" /* NewBranchService */],
            __WEBPACK_IMPORTED_MODULE_10__fileupload_service__["a" /* FileuploadService */],
            __WEBPACK_IMPORTED_MODULE_11__angular_platform_browser__["DomSanitizer"], Object, __WEBPACK_IMPORTED_MODULE_7__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_12__angular_http__["b" /* Http */]])
    ], NewVehiclesComponent);
    return NewVehiclesComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/newpurchasepayment/newpurchasepayment.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        New Purchase Payment\n        <b style=\"float: right; font-size: 12px; font-weight: 100;\">*All figures in Rs.</b>\n      </nb-card-header>\n      <nb-card-body>\n        <div class=\"row\">\n          <div class=\"col-lg-12 col-12\">\n            <mat-form-field>\n              Customer\n              <input matInput [matAutocomplete]=\"customer\" name=\"cname\">\n              <mat-autocomplete #customer=\"matAutocomplete\">\n                <mat-option *ngFor=\"let element of customersObs\" [value]=\"element.name\" (onSelectionChange)=\"getInvoices(element,$event)\">\n                  {{element.name}}\n                </mat-option>\n              </mat-autocomplete>\n            </mat-form-field>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Receipt Number:\n              <input [(ngModel)]=\"receipt.number\" matInput>\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Receipt Date:\n              <input [matDatepicker]=\"receiptDate\" [(ngModel)]=\"receipt.date\" matInput readonly (click)=\"receiptDate.open()\">\n              <mat-datepicker-toggle matSuffix [for]=\"receiptDate\"></mat-datepicker-toggle>\n              <mat-datepicker #receiptDate></mat-datepicker>\n            </mat-form-field>\n          </div>\n        </div>            \n      \n        <div class=\"row\" style=\"margin-top:10px;\">\n          <div class=\"col-lg-12 col-12\">\n            <h5>Invoices</h5>\n            <table style=\"width:100%\">\n              <tr>\n                <th>\n                  Invoice Number\n                </th>\n                <th>\n                  Invoice Date\n                </th>\n                <th>\n                  TDS\n                </th>\n                <th>\n                  Adjustment\n                </th>\n                <th>\n                  Amount\n                </th>\n                <th>\n                  Total\n                </th>\n              </tr>\n              <tr *ngFor=\"let element of selectedInvoices\">\n                <td>\n                  {{element.invoiceNumber}}\n                </td>\n                <td>\n                  {{element.invoiceDate | date: 'dd-MM-yyyy'}}\n                </td>\n                <td>\n                  <mat-form-field>\n                    <input matInput type=\"number\"  [(ngModel)]=\"element.tdsAmount\" placeholder=\"amount\" (ngModelChange)=\"changeTdsAmount($event)\" >\n                  </mat-form-field>\n                  <!-- <mat-form-field>\n                    <input matInput type=\"number\" [(ngModel)]=\"element.tdsPercent\" placeholder=\"percentage\" (ngModelChange)=\"changeTdsPercent($event)\" >\n                  </mat-form-field> -->\n                </td>\n                <td>\n                  <mat-form-field>\n                    <input matInput type=\"number\"  [(ngModel)]=\"element.adjustment\" (ngModelChange)=\"changeAdjustment($event)\" >\n                  </mat-form-field>\n                </td>\n                <td>\n                  {{element.totalAmount}}\n                </td>\n                <td>\n                  {{element.totalAmount-element.tdsAmount-element.adjustment}}\n                </td>\n              </tr>\n              <tr>\n                <td colspan=\"2\">Total:</td>\n                <td>{{tdsAmountTotal}}</td>\n                <td>{{adjustmentTotal}}</td>\n                <td>{{semiFinalTotal}}</td>\n                <td>{{finalTotal}}</td>\n              </tr>\n            </table>      \n          </div> \n        </div>\n        <div class=\"row ptb-10\">\n          <div class=\"col-lg-12\">\n            <button mat-raised-button color=\"primary\" (click)=\"addInvoices()\">Add Invoices</button>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-4 col-12\">\n            <mat-form-field>\n              Amount:\n              <input [(ngModel)]=\"receipt.amount\" matInput>\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-4 col-12\">\n            <mat-form-field>\n              TDS:\n              <input [(ngModel)]=\"receipt.tds\" matInput>\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-4 col-12\">\n            <mat-form-field>\n              Adjustments:\n              <input [(ngModel)]=\"receipt.adjustment\" matInput>\n            </mat-form-field>\n          </div>  \n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-6\">\n            <div>\n              <b>Payment Mode</b><br><br>\n              <mat-radio-group [(ngModel)]=\"receipt.paymentMode\" (change)=\"checkPaymentMode(receipt.paymentMode)\">\n                <mat-radio-button value=\"Credit Card\">Credit Card</mat-radio-button>\n                <mat-radio-button value=\"Cheque\">Cheque</mat-radio-button>\n                <mat-radio-button value=\"NEFT\">NEFT</mat-radio-button>\n                <mat-radio-button value=\"Cash\">Cash</mat-radio-button>                \n                <mat-radio-button value=\"Others\">Others</mat-radio-button>\n              </mat-radio-group>\n            </div>\n            <div>\n              <mat-form-field style=\"width:90%;\">\n                Received in bank \n                <input matInput [formControl]=\"receivedInBankCtrl\"  [matAutocomplete]=\"autoRIB\">\n                <mat-autocomplete #autoRIB=\"matAutocomplete\">\n                    <mat-option *ngFor=\"let option of bankAccount | async\" [value]=\"option.bankName+' ('+option.number+')'\" (onSelectionChange)=\"setReceivedInBank(option,$event)\">\n                      {{ option.bankName }} ({{option.number}})\n                    </mat-option>\n                </mat-autocomplete>\n              </mat-form-field>\n            </div>\n            <div>\n              <mat-form-field>\n                Bank Credit Date\n                <input matInput [(ngModel)]=\"receipt.bankCreditDate\" [matDatepicker]=\"bankCreditDate\" (click)=\"bankCreditDate.open()\" readonly>\n                <mat-datepicker-toggle matSuffix [for]=\"bankCreditDate\"></mat-datepicker-toggle>\n                <mat-datepicker #bankCreditDate></mat-datepicker>\n              </mat-form-field>\n            </div>              \n          </div>\n          <div class=\"col-lg-6\">\n            <div *ngIf=\"cheque\">\n              <mat-form-field>\n                Cheque Number\n                <input matInput [(ngModel)]=\"receipt.chequeNumber\">\n              </mat-form-field>\n              <br>\n              <mat-form-field>\n                Bank Name\n                <input matInput [(ngModel)]=\"receipt.bankName\">\n              </mat-form-field>\n              <br>\n              <mat-form-field>\n                Cheque Date\n                <input matInput [(ngModel)]=\"receipt.chequeDate\" [matDatepicker]=\"chequeDate\" (click)=\"chequeDate.open()\">\n                <mat-datepicker-toggle matSuffix [for]=\"chequeDate\"></mat-datepicker-toggle>\n                <mat-datepicker #chequeDate></mat-datepicker>\n              </mat-form-field>                        \n            </div>\n            <div *ngIf=\"neft\">\n              <mat-form-field>\n                Transaction Number\n                <input matInput [(ngModel)]=\"receipt.transactionNumber\">\n              </mat-form-field>\n              <br>\n              <mat-form-field>\n                Bank Name\n                <input matInput [(ngModel)]=\"receipt.neftBankName\">\n              </mat-form-field>\n            </div>\n          </div>\n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12\">\n    <button mat-raised-button color=\"primary\" (click)=\"saveReceipt()\">Save</button>\n    <!-- <button mat-raised-button color=\"warn\"(click)=\"closeDialog()\">Close</button> -->\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/newpurchasepayment/newpurchasepayment.component.scss":
/***/ (function(module, exports) {

module.exports = ".full-width {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  min-width: 100px; }\n\nnb-checkbox {\n  margin-bottom: 1rem; }\n\n.form-inline > * {\n  margin: 0 1.5rem 1.5rem 0; }\n\nnb-card.inline-form-card nb-card-body {\n  padding-bottom: 0; }\n\nth {\n  padding: 5px;\n  border: 1px solid lightgrey; }\n\ntd {\n  padding: 5px;\n  border: 1px solid lightgrey; }\n\n.customerCard {\n  height: 181px; }\n\n.paymentsCard {\n  height: 241px; }\n\n.mat-dialog-container {\n  width: 85% !important; }\n\ninput.mat-input-element {\n  margin-top: 5px; }\n\n.mat-radio-button {\n  margin-right: 10px; }\n"

/***/ }),

/***/ "./src/app/pages/masters/newpurchasepayment/newpurchasepayment.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NewpurchasepaymentComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__addreceipts_receipt_service__ = __webpack_require__("./src/app/pages/masters/addreceipts/receipt.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_material_snack_bar__ = __webpack_require__("./node_modules/@angular/material/esm5/snack-bar.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_material_dialog__ = __webpack_require__("./node_modules/@angular/material/esm5/dialog.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__selectpurchaseinvoices_selectpurchaseinvoices_component__ = __webpack_require__("./src/app/pages/masters/selectpurchaseinvoices/selectpurchaseinvoices.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_operators__ = __webpack_require__("./node_modules/rxjs/_esm5/operators.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__operations_new_bank_account_bank_account_service__ = __webpack_require__("./src/app/pages/operations/new-bank-account/bank-account.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};












var NewpurchasepaymentComponent = (function () {
    function NewpurchasepaymentComponent(customerService, receiptService, snackBar, dialog, matDialogRef, data, auth, bankAccountService, router) {
        // if(data!=null) { 
        //   this.receipt.id=data.id;
        //   this.receipt.date=data.date
        //   this.receipt.customerGroup=data.customerGroup
        //   this.receipt.number=data.number
        //   this.receipt.paymentReceived=data.paymentReceived
        //   this.receipt.tds=data.tds
        //   this.receipt.adjustment=data.adjustment
        //   this.receipt.paymentMode=data.paymentMode
        //   this.receipt.receivedInBank=data.receivedInBank
        //   this.receipt.bankCreditDate=data.bankCreditDate
        this.customerService = customerService;
        this.receiptService = receiptService;
        this.snackBar = snackBar;
        this.dialog = dialog;
        this.matDialogRef = matDialogRef;
        this.data = data;
        this.auth = auth;
        this.bankAccountService = bankAccountService;
        this.router = router;
        this.cheque = false;
        this.neft = false;
        this.receivedInBankCtrl = new __WEBPACK_IMPORTED_MODULE_8__angular_forms__["c" /* FormControl */]();
        this.selectedInvoices = [];
        this.tdsAmountTotal = 0;
        this.adjustmentTotal = 0;
        this.semiFinalTotal = 0;
        this.finalTotal = 0;
        this.selectedCustomer = '';
        this.user = {};
        this.param = {
            inserted: 'no',
            data: null
        };
        this.receipt = {
            customerName: '',
            customerId: '',
            number: '',
            date: '',
            paymentReceived: '',
            tds: '',
            adjustment: '',
            paymentMode: '',
            receivedInBank: '',
            bankCreditDate: '',
            ownerId: '',
            amount: ''
        };
        //   this.getInvoicesData();
        // }
    }
    NewpurchasepaymentComponent.prototype.unloadHandler = function (event) {
        console.log("Processing beforeunload...");
        event.returnValue = false;
    };
    NewpurchasepaymentComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.bankAccountService.getBankAccount(_this.user).subscribe(function (data) {
                _this.bankAccounts = data;
                _this.bankAccount = _this.receivedInBankCtrl.valueChanges
                    .pipe(Object(__WEBPACK_IMPORTED_MODULE_9_rxjs_operators__["startWith"])(''), Object(__WEBPACK_IMPORTED_MODULE_9_rxjs_operators__["map"])(function (val) { return _this.filterBankAccounts(val); }));
            });
            _this.receipt.ownerId = data[0].ownerId;
            _this.customerService.getB2BCustomers(_this.user).subscribe(function (data) {
                _this.customersObs = data;
            });
        });
    };
    NewpurchasepaymentComponent.prototype.filterBankAccounts = function (val) {
        return this.bankAccounts.filter(function (option) {
            return option.name.toLowerCase().includes(val.toLowerCase());
        });
    };
    NewpurchasepaymentComponent.prototype.addInvoices = function () {
        var _this = this;
        if (this.receipt.customerName == '') {
            this.snackBar.open("Please Select One Customer", null, { duration: 2000 });
        }
        else {
            this.dialog.open(__WEBPACK_IMPORTED_MODULE_7__selectpurchaseinvoices_selectpurchaseinvoices_component__["a" /* SelectpurchaseinvoicesComponent */], { data: this.selectedCustomer, autoFocus: false, disableClose: true }).afterClosed().subscribe(function (data) {
                _this.finalTotal = 0;
                data.forEach(function (element) {
                    if (element.selected == true) {
                        element.tdsPercent = 0;
                        element.tdsAmount = 0;
                        element.adjustment = 0;
                        _this.semiFinalTotal = _this.semiFinalTotal + (Number)(element.totalAmount);
                        element.invoiceTotal = element.totalAmount - element.tdsAmount - element.adjustment;
                        _this.finalTotal = _this.finalTotal + element.invoiceTotal;
                        _this.selectedInvoices.push(element);
                    }
                });
            });
        }
    };
    NewpurchasepaymentComponent.prototype.changeTdsAmount = function () {
        var _this = this;
        this.tdsAmountTotal = 0;
        this.finalTotal = 0;
        this.selectedInvoices.forEach(function (element) {
            element.tdsPercent = (element.tdsAmount / element.totalAmount * 100);
            _this.tdsAmountTotal = _this.tdsAmountTotal + (Number)(element.tdsAmount);
            element.invoiceTotal = element.totalAmount - element.tdsAmount - element.adjustment;
            _this.finalTotal = _this.finalTotal + element.invoiceTotal;
        });
    };
    NewpurchasepaymentComponent.prototype.changeTdsPercent = function () {
        var _this = this;
        this.tdsAmountTotal = 0;
        this.finalTotal = 0;
        this.selectedInvoices.forEach(function (element) {
            element.tdsAmount = (element.tdsPercent / 100 * element.totalAmount);
            _this.tdsAmountTotal = _this.tdsAmountTotal + (Number)(element.tdsAmount);
            element.invoiceTotal = element.totalAmount - element.tdsAmount - element.adjustment;
            _this.finalTotal = _this.finalTotal + element.invoiceTotal;
        });
    };
    NewpurchasepaymentComponent.prototype.changeAdjustment = function () {
        var _this = this;
        this.adjustmentTotal = 0;
        this.finalTotal = 0;
        this.selectedInvoices.forEach(function (element) {
            _this.adjustmentTotal = _this.adjustmentTotal + (Number)(element.adjustment);
            element.invoiceTotal = element.totalAmount - element.tdsAmount - element.adjustment;
            _this.finalTotal = _this.finalTotal + element.invoiceTotal;
        });
    };
    NewpurchasepaymentComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    NewpurchasepaymentComponent.prototype.getInvoices = function (cust, event) {
        if (event.source.selected == true) {
            this.receipt.customerName = cust.name;
            this.receipt.customerId = cust.id;
            this.selectedCustomer = cust.id;
            this.customerOwnerId = cust.customerOwnerId;
        }
    };
    NewpurchasepaymentComponent.prototype.checkPaymentMode = function (temp) {
        console.log(temp);
        if (temp == "Cheque") {
            this.cheque = true;
            this.neft = false;
        }
        else if (temp == "NEFT") {
            this.cheque = false;
            this.neft = true;
        }
        else {
            this.cheque = false;
            this.neft = false;
        }
    };
    NewpurchasepaymentComponent.prototype.saveReceipt = function () {
        var _this = this;
        if (this.receipt.number.trim() == "") {
            this.snackBar.open('Enter receipt number', null, {
                duration: 5000
            });
        }
        else if (this.receipt.date == "") {
            this.snackBar.open('Enter Date', null, {
                duration: 5000
            });
        }
        else if (this.receipt.amount.trim() == "") {
            this.snackBar.open('Enter Amount', null, {
                duration: 5000
            });
        }
        else if (this.receipt.tds.trim() == "") {
            this.snackBar.open('Enter tds', null, {
                duration: 5000
            });
        }
        else if (this.receipt.adjustment.trim() == "") {
            this.snackBar.open('Enter adjustments', null, {
                duration: 5000
            });
        }
        else if (this.receipt.paymentMode.trim() == "") {
            this.snackBar.open('Enter Payment Mode', null, {
                duration: 5000
            });
        }
        else if (this.receipt.receivedInBank == "") {
            this.snackBar.open('Enter received in bank', null, {
                duration: 5000
            });
        }
        else {
            if (this.receipt.paymentMode.trim() == "Cheque" && this.receipt.chequeNumber.trim() == "") {
                this.snackBar.open('Enter Cheque Number', null, {
                    duration: 5000
                });
            }
            else if (this.receipt.paymentMode.trim() == "Cheque" && this.receipt.bankName.trim() == "") {
                this.snackBar.open('Enter Bank Name for the cheque', null, {
                    duration: 5000
                });
            }
            else if (this.receipt.paymentMode.trim() == "NEFT" && this.receipt.neftBankName.trim() == "") {
                this.snackBar.open('Enter Bank name of NEFT', null, {
                    duration: 5000
                });
            }
            else if (this.receipt.paymentMode.trim() == "NEFT" && this.receipt.transactionNumber.trim() == "") {
                this.snackBar.open('Enter NEFT Transaction Number', null, {
                    duration: 5000
                });
            }
            else {
                this.receipt.date = __WEBPACK_IMPORTED_MODULE_1_moment__(this.receipt.date).format("YYYY-MM-DD");
                this.receipt.bankCreditDate = __WEBPACK_IMPORTED_MODULE_1_moment__(this.receipt.bankCreditDate).format("YYYY-MM-DD");
                var purchasePayments = {
                    receipt: this.receipt,
                    customerOwnerId: this.customerOwnerId,
                    ownerName: this.user.name,
                    finalTotal: this.finalTotal
                };
                this.receiptService.addPurchasePayment(purchasePayments).subscribe(function (data) {
                    _this.selectedInvoices.forEach(function (element) {
                        var temp = {
                            receiptId: data.insertId,
                            invoice: element
                        };
                        _this.receiptService.addPurchaseInvoices(temp).subscribe(function () {
                        });
                    });
                    if (data.affectedRows == 1) {
                        _this.param.inserted = 'yes';
                        _this.param.data = _this.receipt;
                    }
                }, function (err) { }, function () {
                    _this.snackBar.open("Purchase Payment Added", "X", { duration: 3000 });
                    _this.router.navigateByUrl('pages/masters/purchase-payments');
                });
            }
        }
    };
    NewpurchasepaymentComponent.prototype.getInvoicesData = function () {
        var _this = this;
        this.receiptService.getInvoiceInPurchasePayments(this.receipt).subscribe(function (data) {
            _this.finalTotal = 0;
            data.forEach(function (element) {
                _this.semiFinalTotal = _this.semiFinalTotal + (Number)(element.totalAmount);
                element.invoiceTotal = element.totalAmount - element.tdsAmount - element.adjustment;
                _this.finalTotal = _this.finalTotal + element.invoiceTotal;
                _this.selectedInvoices.push(element);
            });
            _this.changeTdsAmount();
            _this.changeAdjustment();
        });
    };
    NewpurchasepaymentComponent.prototype.setReceivedInBank = function (option, event) {
        if (event.source.selected == true) {
            // console.log(option);
            this.receipt.receivedInBank = option.id;
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])("window:beforeunload", ["$event"]),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Event]),
        __metadata("design:returntype", void 0)
    ], NewpurchasepaymentComponent.prototype, "unloadHandler", null);
    NewpurchasepaymentComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'newpurchasepayment',
            template: __webpack_require__("./src/app/pages/masters/newpurchasepayment/newpurchasepayment.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/newpurchasepayment/newpurchasepayment.component.scss")]
        }),
        __param(5, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_5__angular_material_dialog__["a" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__customer_customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_3__addreceipts_receipt_service__["a" /* ReceiptService */],
            __WEBPACK_IMPORTED_MODULE_4__angular_material_snack_bar__["a" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_5__angular_material_dialog__["b" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_5__angular_material_dialog__["d" /* MatDialogRef */], Object, __WEBPACK_IMPORTED_MODULE_6__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_10__operations_new_bank_account_bank_account_service__["a" /* BankAccountService */],
            __WEBPACK_IMPORTED_MODULE_11__angular_router__["c" /* Router */]])
    ], NewpurchasepaymentComponent);
    return NewpurchasepaymentComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/newuser/newuser.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n    <div class=\"col-lg-12\">\n        <nb-card>\n            <nb-card-header>\n                New User\n            </nb-card-header>\n            <nb-card-body>\n                <form name=\"form\" [formGroup]=\"newUserForm\">\n                    <table>\n                        <tr>\n                            <td>\n                                <mat-form-field>\n                                    <input matInput placeholder=\"Name\" [readonly]=\"employeeOrDriverNewUser\" formControlName=\"name\">\n                                    <mat-error>\n                                        Enter a Name\n                                    </mat-error>\n                                </mat-form-field>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                <mat-form-field>\n                                    <input matInput placeholder=\"User Name\" formControlName=\"userName\">\n                                    <mat-error>\n                                        Enter a user name\n                                    </mat-error>\n                                </mat-form-field>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                <mat-form-field>\n                                    <input matInput placeholder=\"Email\" formControlName=\"email\" [readonly]=\"employeeOrDriverNewUser\">\n                                    <mat-error>\n                                        Enter a valid email\n                                    </mat-error>\n                                </mat-form-field>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                <mat-form-field>\n                                    <input matInput placeholder=\"phone\" formControlName=\"phone\" [readonly]=\"employeeOrDriverNewUser\">\n                                    <mat-error>\n                                        Enter a valid phone\n                                    </mat-error>\n                                </mat-form-field>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                <mat-form-field>\n                                    <input matInput placeholder=\"Password\" type=\"password\" formControlName=\"password\">\n                                    <mat-error>\n                                        Enter a password\n                                    </mat-error>\n                                </mat-form-field>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                <button mat-raised-button color=\"primary\" (click)=\"newPermission()\">Set Permission</button>\n                            </td>\n                        </tr>\n                    </table>\n                </form>\n            </nb-card-body>\n        </nb-card>\n    </div>\n    <div class=\"col-lg-12\">\n        <button mat-raised-button color=\"primary\"(click)=\"saveForm()\" [disabled]=\"newUserForm.invalid || setPermissionCheck==false\">Save</button><br>\n        <br>        \n    </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/newuser/newuser.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/newuser/newuser.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NewuserComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__sub_users_sub_user_service__ = __webpack_require__("./src/app/pages/masters/sub-users/sub-user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__sub_users_sub_users_component__ = __webpack_require__("./src/app/pages/masters/sub-users/sub-users.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__newuser_service__ = __webpack_require__("./src/app/pages/masters/newuser/newuser.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};








var NewuserComponent = (function () {
    function NewuserComponent(auth, _formBuilder, dialog, newUserService, activatedRoute, subUserService, data) {
        this.auth = auth;
        this._formBuilder = _formBuilder;
        this.dialog = dialog;
        this.newUserService = newUserService;
        this.activatedRoute = activatedRoute;
        this.subUserService = subUserService;
        this.data = data;
        this.setPermissionCheck = false;
        this.employeeOrDriverNewUser = false;
        this.positionOptions = ['after', 'before', 'above', 'below', 'left', 'right'];
        this.position = new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["c" /* FormControl */](this.positionOptions[0]);
        this.newUser = {
            id: '',
            name: '',
            userName: '',
            password: '',
            permissionsId: '',
            email: '',
            phone: '',
            ownerId: '',
            active: 1,
            type: ''
        };
        this.SubUser = {
            editCompanyInfo: 0,
            ownerId: '',
            editDuties: 0,
            allotVehiclesDriver: 0,
            closeDuty: 0,
            dispatchDuty: 0,
            cancelDuty: 0,
            sendInfoDuty: 0,
            viewDutySlip: 0,
            generateDutySlip: 0,
            exportDuty: 0,
            manageBooking: 0,
            viewBookings: 0,
            exportBookings: 0,
            addBookings: 0,
            manageCabInvoices: 0,
            viewCabInvoices: 0,
            addCabInvoices: 0,
            downloadCabInvoices: 0,
            emailCabInvoices: 0,
            cancelCabInvoices: 0,
            exportCabInvoices: 0,
            manageHotelInvoices: 0,
            viewHotelInvoices: 0,
            addHotelInvoices: 0,
            downloadHotelInvoices: 0,
            emailHotelInvoices: 0,
            cancelHotelInvoices: 0,
            exportHotelInvoices: 0,
            manageFlightInvoices: 0,
            viewFlightInvoices: 0,
            addFlightInvoices: 0,
            downloadFlightInvoices: 0,
            emailFlightInvoices: 0,
            cancelFlightInvoices: 0,
            exportFlightInvoices: 0,
            manageVisaInvoices: 0,
            viewVisaInvoices: 0,
            addVisaInvoices: 0,
            downloadVisaInvoices: 0,
            emailVisaInvoices: 0,
            cancelVisaInvoices: 0,
            exportVisaInvoices: 0,
            viewInvoices: 1,
            viewReceipts: 1,
            manageCabReceipts: 0,
            viewCabReceipts: 0,
            requestCabReceipts: 0,
            cancelCabReceipts: 0,
            exportCabReceipts: 0,
            addCabReceipts: 0,
            addFlightReceipts: 0,
            addHotelReceipts: 0,
            addVisaReceipts: 0,
            manageFlightReceipts: 0,
            viewFlightReceipts: 0,
            requestFlightReceipts: 0,
            cancelFlightReceipts: 0,
            exportFlightReceipts: 0,
            manageHotelReceipts: 0,
            viewHotelReceipts: 0,
            requestHotelReceipts: 0,
            cancelHotelReceipts: 0,
            exportHotelReceipts: 0,
            manageVisaReceipts: 0,
            viewVisaReceipts: 0,
            requestVisaReceipts: 0,
            cancelVisaReceipts: 0,
            exportVisaReceipts: 0,
            managePurchasesInvoices: 0,
            viewPurchasesInvoices: 0,
            addPurchasesInvoices: 0,
            cancelPurchases: 0,
            exportPurchases: 0,
            managePurchasesDuties: 0,
            addPurchasesDuties: 0,
            viewPurchasesDuties: 0,
            generatePurchaseDuties: 0,
            requestDutySlip: 0,
            requestInvoice: 0,
            managePurchasePayments: 0,
            viewPurchasesPayments: 0,
            addPurchasesPayments: 0,
            cancelPurchasesPayments: 0,
            managePettyCash: 0,
            addPettyCash: 0,
            viewPettyCash: 0,
            manageVehicleFuel: 0,
            addVehicleFuel: 0,
            viewVehicleFuel: 0,
            manageDrivers: 0,
            addDrivers: 0,
            viewDriver: 0,
            manageDriverInfo: 0,
            manageDriverUsers: 0,
            manageSupporters: 0,
            viewDutySupporters: 0,
            viewBasicDutySupporters: 0,
            addVehicles: 0,
            manageVehicles: 0,
            viewVehicles: 0,
            viewBasicVehicles: 0,
            addVehicleGroup: 0,
            manageVehicleGroup: 0,
            viewVehicleGroup: 0,
            addCustomerGroup: 0,
            manageCustomerGroup: 0,
            viewCustomerGroup: 0,
            manageCustomer: 0,
            addCustomer: 0,
            viewCustomer: 0,
            managePricing: 0,
            viewPricing: 0,
            manageSupplierGroup: 0,
            viewSupplierGroup: 0,
            addSupplierGroup: 0,
            manageSuppliers: 0,
            viewSuppliers: 0,
            addSupplier: 0,
            manageDutyType: 0,
            addDutyType: 0,
            viewDutyType: 0,
            manageTaxes: 0,
            viewTaxes: 0,
            addTaxes: 0,
            manageBranches: 0,
            viewBranches: 0,
            addBranches: 0,
            manageBillingItems: 0,
            viewBillingItems: 0,
            addBillingItems: 0,
            manageBankAccounts: 0,
            viewBankAccounts: 0,
            addBankAccounts: 0,
            manageSisterCompanies: 0,
            viewSisterCompanies: 0,
            viewLabels: 0,
            addLabels: 0,
            manageLabels: 0,
            manageExportProfiles: 0,
            viewExportProfiles: 0,
            manageEmployees: 0,
            addEmployees: 0,
            viewEmployees: 0,
            userId: '',
            manageFlights: 0,
            viewFlights: 0,
            addFlights: 0,
            manageVisa: 0,
            viewVisa: 0,
            addVisa: 0,
            manageHotels: 0,
            viewHotels: 0,
            addHotels: 0,
            manageHotelsBookings: 0,
            viewHotelsBookings: 0,
            addHotelsBookings: 0,
            addRecurringBookedBy: 0,
            viewRecurringBookedBy: 0,
            manageRecurringBookedBy: 0,
            addRecurringPassenger: 0,
            viewRecurringPassenger: 0,
            manageRecurringPassenger: 0,
            addVehicleBreakDowns: 0,
            viewVehicleBreakDowns: 0,
            manageVehicleBreakDowns: 0,
            addVehicleMaintenance: 0,
            viewVehicleMaintenance: 0,
            manageVehicleMaintenance: 0,
            viewTracking: 0,
            viewIncomingDutyRequests: 0,
            acceptDeclineDutyRequests: 0,
            viewIncomingCircleRequests: 0,
            acceptDeclineCircleRequests: 0,
            viewCircle: 0,
            addToCircle: 0,
            manageCircle: 0,
            addUsers: 0,
            viewUsers: 0,
            manageUsers: 0,
            addOfficeExpenses: 0,
            manageOfficeExpenses: 0,
            viewOfficeExpenses: 0,
            viewSms: 0,
            viewBusinessSetting: 0,
            editBusinessSetting: 0,
            smsEmailCallBookings: 0,
            smsEmailCallDuties: 0,
            smsEmailCallFlights: 0,
            smsEmailCallVisa: 0,
            smsEmailCallHotels: 0
        };
        console.log(data);
    }
    NewuserComponent.prototype.unloadHandler = function (event) {
        console.log("Processing beforeunload...");
        event.returnValue = false;
    };
    NewuserComponent.prototype.saveForm = function () {
        this.newUser.email = this.newUserForm.get('email').value,
            this.newUser.password = this.newUserForm.get('password').value,
            this.newUser.name = this.newUserForm.get('name').value,
            this.newUser.userName = this.newUserForm.get('userName').value,
            this.newUser.phone = this.newUserForm.get('phone').value;
        console.log(this.newUser);
        this.saveSubUser(this.newUser);
    };
    NewuserComponent.prototype.saveSubUser = function (temp) {
        delete this.SubUser.name;
        delete this.SubUser.profileName;
        delete this.SubUser.id;
        this.newUserService.newUser(temp, this.SubUser, this.data.data.id);
        this.dialog.closeAll();
        // this.subUserService.addSubUser(this.SubUser)
    };
    NewuserComponent.prototype.updateSubUser = function () {
    };
    NewuserComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.activatedRoute.queryParams.subscribe(function (data) {
            console.log(data);
            if (data) {
                //edit is remaining
                _this.auth.retrieveUserById(data).subscribe(function (data) {
                    console.log(data);
                    // this.newUser=data[0]
                    _this.newUserForm.patchValue({
                        'name': data[0].name,
                        'email': data[0].email,
                        'phone': data[0].mobileNumber,
                        'userName': data[0].userName,
                    });
                });
                _this.subUserService.getSubUser(data).subscribe(function (data) {
                    _this.SubUser = data[0];
                });
            }
        });
        this.auth.user.subscribe(function (data) {
            _this.SubUser.ownerId = data[0].ownerId;
            _this.newUser.ownerId = data[0].ownerId;
        });
        this.newUserForm = this._formBuilder.group({
            userName: ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["k" /* Validators */].required],
            password: ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["k" /* Validators */].required,],
            email: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["k" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_2__angular_forms__["k" /* Validators */].email]],
            name: ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["k" /* Validators */].required],
            phone: ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["k" /* Validators */].required]
        });
        if (this.data.data.name) {
            if (this.data.driver) {
                this.newUser.type = 'driver';
                console.log(this.data.data);
                if (this.data.data.email == '' || this.data.data.email == null) {
                    this.employeeOrDriverNewUser = false;
                }
                else {
                    this.employeeOrDriverNewUser = true;
                }
                this.newUserForm.patchValue({
                    'name': this.data.data.name,
                    'email': this.data.data.email,
                    'phone': this.data.data.mobileNumber
                });
            }
            else {
                this.newUser.type = 'employee';
                this.employeeOrDriverNewUser = true;
                this.newUserForm.patchValue({
                    'name': this.data.data.name,
                    'email': this.data.data.email,
                    'phone': this.data.data.mobilenumber
                });
            }
        }
        else {
            this.employeeOrDriverNewUser = false;
            console.log(this.employeeOrDriverNewUser);
        }
    };
    NewuserComponent.prototype.newPermission = function () {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_5__sub_users_sub_users_component__["a" /* SubUsersComponent */], { autoFocus: false, disableClose: true, data: this.SubUser }).afterClosed().subscribe(function (data) {
            if (data) {
                _this.SubUser = data;
                _this.setPermissionCheck = true;
            }
            else {
                _this.setPermissionCheck = false;
            }
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])("window:beforeunload", ["$event"]),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Event]),
        __metadata("design:returntype", void 0)
    ], NewuserComponent.prototype, "unloadHandler", null);
    NewuserComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-newuser',
            template: __webpack_require__("./src/app/pages/masters/newuser/newuser.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/newuser/newuser.component.scss")]
        }),
        __param(6, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_3__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_4__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_3__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_6__newuser_service__["a" /* NewuserService */],
            __WEBPACK_IMPORTED_MODULE_7__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__sub_users_sub_user_service__["a" /* SubUserService */], Object])
    ], NewuserComponent);
    return NewuserComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/newuser/newuser.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NewuserService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__sub_users_sub_user_service__ = __webpack_require__("./src/app/pages/masters/sub-users/sub-user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__new_driver_driver_service__ = __webpack_require__("./src/app/pages/masters/new-driver/driver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__new_employees_employee_service__ = __webpack_require__("./src/app/pages/masters/new-employees/employee.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var NewuserService = (function () {
    function NewuserService(http, auth, subUserService, driverService, employeeService) {
        this.http = http;
        this.auth = auth;
        this.subUserService = subUserService;
        this.driverService = driverService;
        this.employeeService = employeeService;
    }
    NewuserService.prototype.newUser = function (temp, permissions, id) {
        var _this = this;
        this.auth.registerUsers(temp).then(function (data) {
            console.log(data);
            temp.id = data.user.uid;
            permissions.userId = data.user.uid;
            delete temp.password;
            delete temp.permissionsId;
        }).then(function (data) {
            var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
            _this.http.post('/users/register', temp, { headers: headers }).subscribe(function (data) {
                console.log(data);
                if (temp.type === 'driver') {
                    var driverTemp = {
                        'userId': temp.id,
                        'id': id
                    };
                    _this.driverService.updateDriver(driverTemp).subscribe(function (data) {
                        console.log(data);
                    });
                    _this.subUserService.addSubUser(permissions);
                }
                else if (temp.type === 'employee') {
                    var empTemp = {
                        'userId': temp.id,
                        'id': id
                    };
                    _this.employeeService.updateEmployee(empTemp).subscribe(function (data) {
                        console.log(data);
                    });
                    _this.subUserService.addSubUser(permissions);
                }
            });
        });
    };
    NewuserService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_3__sub_users_sub_user_service__["a" /* SubUserService */],
            __WEBPACK_IMPORTED_MODULE_4__new_driver_driver_service__["a" /* DriverService */], __WEBPACK_IMPORTED_MODULE_5__new_employees_employee_service__["a" /* EmployeeService */]])
    ], NewuserService);
    return NewuserService;
}());



/***/ }),

/***/ "./src/app/pages/masters/notifications/notifications.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        Notifications\n      </nb-card-header>\n      <nb-card-body>\n        <div class=\"row\">\n          <div class=\"col-lg-12\">\n            <div style=\"margin-left:20px;display: inline-block;margin-top: 20px\">\n              <i class=\"fa fa-hand-o-right\" aria-hidden=\"true\"></i><a>Unread</a>\n              <i class=\"fa fa-check\" style=\"margin-left:40px;\" aria-hidden=\"true\"></i><a>Read</a>\n            </div>\n            <mat-form-field style=\"float: right;\">\n              <mat-select [(ngModel)]=\"notificationOption\" (selectionChange)=\"setNotification($event.value)\">\n                <mat-option value=\"Today\">Today</mat-option>\n                <mat-option value=\"Yesterday\">Yesterday</mat-option>\n                <mat-option value=\"Past 7 days\">Past 7 days</mat-option>\n              </mat-select>\n            </mat-form-field>            \n          </div>          \n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-12\">\n            <div *ngIf=\"notifications.length>0\">\n              <mat-list *ngFor=\"let item of notifications\">\n                <mat-list-item>\n                    <div *ngIf=\"item.status=='Unread'\"><i class=\"fa fa-hand-o-right\" aria-hidden=\"true\"></i><a style=\"padding-left:10px;\" (click)=\"route(item.route,item.id)\">{{item.Content}}</a></div>\n                    <div *ngIf=\"item.status=='Read'\"><i class=\"fa fa-check\" aria-hidden=\"true\"></i><a style=\"padding-left:10px;\" (click)=\"route(item.route,item.id)\">{{item.Content}}</a></div>\n                    <!-- <mat-chip-list>\n                      <mat-chip color=\"primary\" selected>{{item.status}}</mat-chip>\n                    </mat-chip-list> -->\n                </mat-list-item>\n              </mat-list>       \n            </div>\n            <div *ngIf=\"notifications.length==0 && notificationOption=='Today'\" >\n              <h6>You do not have any notifications for today</h6>\n            </div>\n            <div *ngIf=\"notifications.length==0 && notificationOption=='Yesterday'\" >\n                <h6>You do not have any notifications from yesterday</h6>\n            </div>\n            <div *ngIf=\"notifications.length==0 && notificationOption=='Past 7 days'\" >\n                <h6>You do not have any notifications from the past 7 days</h6>\n            </div>\n          </div>\n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n\n"

/***/ }),

/***/ "./src/app/pages/masters/notifications/notifications.component.scss":
/***/ (function(module, exports) {

module.exports = ".mat-list-item {\n  height: unset !important;\n  font-size: 14px !important;\n  padding: 4px !important; }\n"

/***/ }),

/***/ "./src/app/pages/masters/notifications/notifications.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NotificationsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__notification_service__ = __webpack_require__("./src/app/pages/masters/notifications/notification.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var NotificationsComponent = (function () {
    function NotificationsComponent(notificationService, auth, router) {
        this.notificationService = notificationService;
        this.auth = auth;
        this.router = router;
        this.notificationOption = "Today";
        this.user = {};
        this.notifications = [];
    }
    NotificationsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.setNotification('Today');
        });
    };
    NotificationsComponent.prototype.setNotification = function (temp) {
        var _this = this;
        if (temp == 'Today') {
            this.notificationOption = 'Today';
            var date = __WEBPACK_IMPORTED_MODULE_3_moment__().format('YYYY-MM-DD');
            var params = {
                startDate: date,
                endDate: date,
                ownerId: this.user.ownerId
            };
            this.notificationService.getAllNotifications(params).subscribe(function (data) {
                _this.notifications = data;
            });
        }
        if (temp == 'Yesterday') {
            this.notificationOption = 'Yesterday';
            var date = __WEBPACK_IMPORTED_MODULE_3_moment__().subtract(1, 'days').format('YYYY-MM-DD');
            var params = {
                startDate: date,
                endDate: date,
                ownerId: this.user.ownerId
            };
            this.notificationService.getAllNotifications(params).subscribe(function (data) {
                _this.notifications = data;
            });
        }
        if (temp == 'Past 7 days') {
            this.notificationOption = 'Past 7 days';
            var startDate = __WEBPACK_IMPORTED_MODULE_3_moment__().format('YYYY-MM-DD');
            var endDate = __WEBPACK_IMPORTED_MODULE_3_moment__().subtract(7, 'days').format('YYYY-MM-DD');
            var params = {
                startDate: startDate,
                endDate: endDate,
                ownerId: this.user.ownerId
            };
            this.notificationService.getAllNotifications(params).subscribe(function (data) {
                _this.notifications = data;
            });
        }
    };
    NotificationsComponent.prototype.route = function (url, id) {
        var noti = {
            id: id
        };
        this.notificationService.setReadNotification(noti).subscribe();
        this.router.navigate([url]);
        // console.log(url)
    };
    NotificationsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'notifications',
            template: __webpack_require__("./src/app/pages/masters/notifications/notifications.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/notifications/notifications.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__notification_service__["a" /* NotificationService */], __WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_4__angular_router__["c" /* Router */]])
    ], NotificationsComponent);
    return NotificationsComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/pettycashdisp/pettycashdisp.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\" >\n    <nb-card>\n      <nb-card-header>Petty Cash</nb-card-header>\n      <nb-card-body>\n          <div align=\"center\">\n              <mat-form-field class=\"filter-field\">\n                <input matInput   placeholder=\"Filter\"   [(ngModel)]=\"searchTerm\" (keyup)=\"search($event.target.value)\">\n              </mat-form-field>\n      \n              <button mat-icon-button><mat-icon class=\"filter-icon\">search</mat-icon></button>\n              <button mat-icon-button (click)=\"clear()\"><mat-icon class=\"filter-icon\">highlight_off</mat-icon></button>\n          </div>\n    <mat-table #table [dataSource]=\"dataSource\" matSort>\n\n      <!-- Name Column -->\n      <ng-container matColumnDef=\"driver\">\n        <mat-header-cell *matHeaderCellDef mat-sort-header> Driver </mat-header-cell>\n        <mat-cell *matCellDef=\"let element\"> {{element.driver}} </mat-cell>\n      </ng-container>\n  \n      <!-- Weight Column -->\n      <ng-container matColumnDef=\"date\">\n        <mat-header-cell *matHeaderCellDef mat-sort-header> Date </mat-header-cell>\n        <mat-cell *matCellDef=\"let element\"> {{element.date}} </mat-cell>\n      </ng-container>\n  \n      <!-- Symbol Column --> \n      <ng-container matColumnDef=\"amount\">\n        <mat-header-cell *matHeaderCellDef mat-sort-header> Amount</mat-header-cell>\n        <mat-cell *matCellDef=\"let element\"> {{element.amount}} </mat-cell>\n      </ng-container>\n\n        <!-- Symbol Column --> \n      <ng-container matColumnDef=\"supplier\">\n          <mat-header-cell *matHeaderCellDef mat-sort-header> Supplier </mat-header-cell>\n          <mat-cell *matCellDef=\"let element\"> {{element.supplier}} </mat-cell>\n        </ng-container>\n        <!-- Symbol Column --> \n      <ng-container matColumnDef=\"transactionType\">\n          <mat-header-cell *matHeaderCellDef mat-sort-header> Transaction Type </mat-header-cell>\n          <mat-cell *matCellDef=\"let element\"> {{element.transactionType}} </mat-cell>\n        </ng-container>\n        <!-- Symbol Column --> \n      <ng-container matColumnDef=\"voucherNumber\">\n          <mat-header-cell *matHeaderCellDef mat-sort-header> Voucher Number </mat-header-cell>\n          <mat-cell *matCellDef=\"let element\"> {{element.voucherNumber}} </mat-cell>\n        </ng-container>\n\n        <ng-container matColumnDef=\"Options\">\n          <mat-header-cell *matHeaderCellDef mat-sort-header> Options</mat-header-cell>\n          <mat-cell *matCellDef=\"let element ;let row\" (click)=\"$event.stopPropagation()\">\n            <button mat-icon-button *ngIf=\"permission.managePettyCash==1\" [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>\n            <mat-menu #menu=\"matMenu\">\n            <!-- <button mat-menu-item (click)=\"selectRow(row)\">Edit</button> -->\n            <button (click)=\"deletePettyCash(row)\" mat-menu-item>Delete</button>\n            </mat-menu>\n          </mat-cell>\n        </ng-container>\n  \n      <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n      <mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"selectRow(row)\"></mat-row>\n    </mat-table>\n    \n    <mat-paginator [length]=\"length\"\n    [pageSize]=\"pageSize\"\n    [pageSizeOptions]=\"pageSizeOptions\"></mat-paginator>\n        \n  </nb-card-body>\n</nb-card>\n  </div>\n  <div class=\"col-lg-12\" align=\"right\">\n    \n      <a *ngIf=\"permission.addPettyCash==1\" (click)=\"selectRow(null)\" class=\"float\">\n          <i style=\"color: ghostwhite\" class=\"fa fa-plus my-float\"></i>\n      </a>\n    \n  </div>\n</div>\n\n\n  "

/***/ }),

/***/ "./src/app/pages/masters/pettycashdisp/pettycashdisp.component.scss":
/***/ (function(module, exports) {

module.exports = "button.mat-menu-item {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px; }\n\n.mat-chip {\n  height: 30px;\n  line-height: 30px; }\n\n.mat-icon {\n  font-size: 17px; }\n"

/***/ }),

/***/ "./src/app/pages/masters/pettycashdisp/pettycashdisp.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PettycashdispComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__newpettycash_newpettycash_component__ = __webpack_require__("./src/app/pages/masters/newpettycash/newpettycash.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__modals_confirm_confirm_component__ = __webpack_require__("./src/app/pages/modals/confirm/confirm.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__sub_users_sub_user_service__ = __webpack_require__("./src/app/pages/masters/sub-users/sub-user.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var PettycashdispComponent = (function () {
    function PettycashdispComponent(pettycashService, dialog, snackBar, auth, permissionService) {
        this.pettycashService = pettycashService;
        this.dialog = dialog;
        this.snackBar = snackBar;
        this.auth = auth;
        this.permissionService = permissionService;
        this.pageSize = 10;
        this.pageSizeOptions = [10, 15, 25, 40];
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
        this.displayedColumns = ['driver', 'date', 'amount', 'supplier', 'transactionType', 'voucherNumber', 'Options']; //,'Passenger','vgroup','dutyt','status'];
        this.permission = {};
        this.user = {};
    }
    PettycashdispComponent.prototype.selectRow = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_2__newpettycash_newpettycash_component__["a" /* NewPettyCashComponent */], { data: { row: row }, autoFocus: false, disableClose: true }).afterClosed().subscribe(function (data) {
            if (data == undefined) {
            }
            else {
                if (data.inserted == 'yes') {
                    _this.tempArray.push(data.data);
                    _this.dataSource.data = _this.tempArray;
                }
            }
        });
        ;
    };
    PettycashdispComponent.prototype.newPettyCash = function () {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_2__newpettycash_newpettycash_component__["a" /* NewPettyCashComponent */], { autoFocus: false, disableClose: true }).afterClosed().subscribe(function (data) {
            if (data == undefined) {
            }
            else {
                if (data.inserted == 'yes') {
                    _this.tempArray.push(data.data);
                    _this.dataSource.data = _this.tempArray;
                }
            }
        });
        ;
    };
    PettycashdispComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.auth.permissions.subscribe(function (data) {
                _this.permission = data[0];
                if (data[0].viewPettyCash == 1) {
                    _this.pettycashService.getPettyCash(_this.user).subscribe(function (data) {
                        _this.tempArray = data;
                        _this.dataSource.data = _this.tempArray;
                    });
                }
                else {
                    window.alert("You do not have permission to view Petty Cash");
                }
            });
        });
        this.dataSource.sort = this.sort;
        this.dataSource.paginator = this.paginator;
    };
    PettycashdispComponent.prototype.search = function (filterValue) {
        this.dataSource.filter = filterValue.trim().toLowerCase();
    };
    PettycashdispComponent.prototype.clear = function () {
        this.searchTerm = '';
        this.dataSource.filter = '';
    };
    PettycashdispComponent.prototype.deletePettyCash = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_3__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.pettycashService.deletePettyCash(row).subscribe(function (data) {
                    if (data.errno == undefined) {
                        var i = _this.tempArray.indexOf(row);
                        _this.tempArray.splice(i, 1);
                        _this.dataSource.data = _this.tempArray;
                        _this.snackBar.open("Petty Cash Deleted", "X", { duration: 3000 });
                    }
                    else {
                        if (data.errno == 1451) {
                            window.alert("Cannot delete because you have corresponding Data");
                        }
                        else {
                            window.alert("Error Cannot Delete Booking");
                        }
                    }
                });
            }
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */])
    ], PettycashdispComponent.prototype, "paginator", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], PettycashdispComponent.prototype, "sort", void 0);
    PettycashdispComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-pettycashdisp',
            template: __webpack_require__("./src/app/pages/masters/pettycashdisp/pettycashdisp.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/pettycashdisp/pettycashdisp.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__newpettycash_newpettycash_component__["a" /* NewPettyCashComponent */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_4__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_5__sub_users_sub_user_service__["a" /* SubUserService */]])
    ], PettycashdispComponent);
    return PettycashdispComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/pricing/pricing.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n          Pricing\n      </nb-card-header>\n      <nb-card-body style=\"overflow-x: hidden; overflow-y: hidden;\">\n    <div style=\"padding-left:4%\" class=\"row\">\n      <div class=\"col-lg-4 col-md-4\">\n              <mat-form-field class=\"mw-100\">\n                <input matInput placeholder=\"Customer\" [formControl]=\"customerCtrl\" [matAutocomplete]=\"autoCustomer\" >\n                <mat-icon matSuffix *ngIf=\"toggleSupplier==true\">how_to_reg</mat-icon>\n                <mat-autocomplete #autoCustomer=\"matAutocomplete\">\n                  <mat-option *ngFor=\"let item of customer | async\" [value]=\"item.name\" (onSelectionChange)=\"selectCustomer(item,$event)\">\n                   <b *ngIf=\"item.customerOwnerId!=null\"> {{item.name}} (Supplier)</b>\n                   <a *ngIf=\"item.customerOwnerId==null\"> {{item.name}}</a>\n                  </mat-option>\n                </mat-autocomplete>\n              </mat-form-field>\n      </div>\n      <div class=\"col-lg-3 col-md-3\">\n              <mat-form-field>\n                <input matInput placeholder=\"Vehicle Group\" [formControl]=\"vehicleGroupCtrl\" [matAutocomplete]=\"autoVehicleGroup\" >\n                <mat-autocomplete #autoVehicleGroup=\"matAutocomplete\">\n                  <mat-option *ngFor=\"let item of vehicleGroup0 | async\" [value]=\"item.name\" (onSelectionChange)=\"selectVehicle(item,$event)\">\n                    {{item.name}}\n                  </mat-option>\n                </mat-autocomplete>\n              </mat-form-field>\n      </div>\n      <div class=\"col-lg-3 col-md-3\">\n              <mat-form-field>\n                <input matInput placeholder=\"City\" [formControl]=\"cityCtrl\" [matAutocomplete]=\"autoCity\" >\n                <mat-autocomplete #autoCity=\"matAutocomplete\">\n                  <mat-option *ngFor=\"let item of filteredOptions | async\" [value]=\"item\" (onSelectionChange)=\"selectCity(item,$event)\">\n                    {{item}}\n                  </mat-option>\n                </mat-autocomplete>\n              </mat-form-field>\n     </div>\n     <div class=\"col-lg-2 col-md-2\">\n      <button mat-raised-button color=\"primary\" (click)=\"copyFrom()\">Copy from customer</button>\n     </div>\n     </div>\n  <div class=\"col-lg-12\">\n    <table style=\"width:100%;\">\n      <tr>\n        <th>Duty Type</th>\n        \n        <th>Base Rate</th>\n        \n        <th>Extra KM</th>\n      \n        <th>Extra Hr</th>\n\n      </tr>\n      <tr *ngFor=\"let items of priceArray; index as i\">\n        <td>\n        {{items.name}}\n        </td>\n        <td>\n            <mat-form-field style=\" margin-bottom: -10px\" class=\"remove-line w-100\"><input style=\"text-align:center;font-size: 18px;\" [disabled]=\"!permission.managePricing\" matInput type=\"text\" [(ngModel)]=\"items.baseRate\" (change)=\"change(items,i)\" (keypress)=\"keyPress($event)\"></mat-form-field>\n        </td>\n        <td>\n           <mat-form-field style=\" margin-bottom: -10px\" class=\"remove-line w-100\"><input style=\"text-align:center;font-size: 18px;\" [disabled]=\"!permission.managePricing\" matInput type=\"text\" [(ngModel)]=\"items.extraKm\" (change)=\"change(items,i)\" (keypress)=\"keyPress($event)\"></mat-form-field>\n          </td>\n        <td>\n          <mat-form-field style=\" margin-bottom: -10px\" class=\"remove-line w-100\"><input style=\"text-align:center;font-size: 18px;\" [disabled]=\"!permission.managePricing\" matInput type=\"text\" [(ngModel)]=\"items.extraHrs\" (change)=\"change(items,i)\" (keypress)=\"keyPress($event)\"></mat-form-field>\n        </td>\n      </tr>\n    </table>\n    </div>\n    </nb-card-body>\n    </nb-card>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/pricing/pricing.component.scss":
/***/ (function(module, exports) {

module.exports = "table {\n  border-collapse: collapse;\n  width: 100%; }\n\ntd {\n  text-align: left;\n  padding: 0px 8px;\n  border: 1px solid #ddd; }\n\nth {\n  text-align: left;\n  padding: 12px;\n  border: 1px solid #ddd; }\n\nth {\n  background-color: #0d9148;\n  color: white; }\n\n.remove-line ::ng-deep .mat-form-field-underline {\n  display: none; }\n\n.mw-100 {\n  width: 80% !important; }\n"

/***/ }),

/***/ "./src/app/pages/masters/pricing/pricing.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PricingComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__vehiclegroups_vehiclegroups_component__ = __webpack_require__("./src/app/pages/masters/vehiclegroups/vehiclegroups.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pricing_service__ = __webpack_require__("./src/app/pages/masters/pricing/pricing.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_operators__ = __webpack_require__("./node_modules/rxjs/_esm5/operators.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__customerselection_customerselection_component__ = __webpack_require__("./src/app/pages/masters/customerselection/customerselection.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};









var PricingComponent = (function () {
    function PricingComponent(priceService, vehicleGroups, auth, snackBar, customerService, dialog) {
        this.priceService = priceService;
        this.vehicleGroups = vehicleGroups;
        this.auth = auth;
        this.snackBar = snackBar;
        this.customerService = customerService;
        this.dialog = dialog;
        this.customerCtrl = new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["c" /* FormControl */]();
        this.cityCtrl = new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["c" /* FormControl */]();
        this.user = {};
        this.toggleSupplier = false;
        this.permission = {};
        this.city = [];
        this.customerCopyName = '';
        this.selectedCustomer = {};
        this.vehicleGroupCtrl = new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["c" /* FormControl */]();
        this.dutyTypeCtrl = new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["c" /* FormControl */]();
        this.price = {
            dutyTYpeId: '',
            vehicleGroupId: '',
            customerId: '',
            city: '',
            baseRate: null,
            extraKm: null,
            extraHrs: null,
            id: null,
            ownerId: '',
        };
        this.temp = {
            city: '',
            vehicleGroupId: '',
            customerId: '',
            ownerId: ''
        };
    }
    PricingComponent.prototype.keyPress = function (event) {
        var charCode = (event.which) ? event.which : event.keyCode;
        if (charCode > 31 && (charCode < 48 || charCode > 57)) {
            return false;
        }
        return true;
    };
    PricingComponent.prototype.selectVehicle = function (temp, event) {
        var _this = this;
        if (event.source.selected == true) {
            this.temp.vehicleGroupId = temp.id;
            this.price.vehicleGroupId = temp.id;
            this.priceService.getPrices(this.temp).subscribe(function (res) { return _this.priceArray = res; });
        }
    };
    PricingComponent.prototype.selectCity = function (temp, event) {
        var _this = this;
        if (event.source.selected == true) {
            this.temp.city = temp;
            this.price.city = temp;
            this.priceService.getPrices(this.temp).subscribe(function (res) { return _this.priceArray = res; });
        }
    };
    PricingComponent.prototype.selectCustomer = function (temp, event) {
        var _this = this;
        if (event.source.selected == true) {
            if (temp.customerOwnerId != null) {
                this.toggleSupplier = true;
            }
            else {
                this.toggleSupplier = false;
            }
            this.temp.customerId = temp.id;
            this.customerCopyName = temp.name;
            this.price.customerId = temp.id;
            this.priceService.getPrices(this.temp).subscribe(function (res) { return _this.priceArray = res; });
            this.customerService.getCustomerLimitVehicleGroupForBookings(temp).toPromise().then(function (data) {
                if (data.length != 0) {
                    _this.temp.vehicleGroupId = data[0].id;
                    _this.price.vehicleGroupId = data[0].id;
                    _this.vehicleGroupCtrl.setValue(data[0].name);
                    _this.vehicleGroup = data;
                    _this.vehicleGroup0 = _this.vehicleGroupCtrl.valueChanges
                        .pipe(Object(__WEBPACK_IMPORTED_MODULE_4_rxjs_operators__["startWith"])(''), Object(__WEBPACK_IMPORTED_MODULE_4_rxjs_operators__["map"])(function (val) { return _this.filterVehicleGroup(val); }));
                }
                else {
                    _this.getVehicleGroups();
                }
            });
            this.customerService.getCustomerLimitCity(temp).subscribe(function (data) {
                if (data.length != 0) {
                    _this.city.length = 0;
                    data.forEach(function (element) {
                        _this.city.push(element.city);
                    });
                }
                else {
                    _this.getCities();
                }
            }, function (err) { }, function () {
                _this.filterCities();
            });
        }
    };
    PricingComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) { return __awaiter(_this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.user = data[0];
                        this.auth.permissions.subscribe(function (data) {
                            _this.permission = data[0];
                            if (_this.permission.managePricing === 0) {
                                _this.snackBar.open('You do not have permission to edit pricing', "X", { verticalPosition: 'top', horizontalPosition: 'right' });
                            }
                        });
                        this.temp.ownerId = this.user.ownerId;
                        // this.temp.city='Mumbai'
                        // this.price.city='Mumbai'
                        // this.cityCtrl.setValue('Mumbai')
                        return [4 /*yield*/, this.priceService.getCustomers(this.user).toPromise().then(function (data) {
                                _this.temp.customerId = data[0].id;
                                _this.price.customerId = data[0].id;
                                _this.customerCtrl.setValue(data[0].name);
                                _this.customers = data;
                                _this.customer = _this.customerCtrl.valueChanges
                                    .pipe(Object(__WEBPACK_IMPORTED_MODULE_4_rxjs_operators__["startWith"])(''), Object(__WEBPACK_IMPORTED_MODULE_4_rxjs_operators__["map"])(function (val) { return _this.filterCustomer(val); }));
                                _this.customerService.getCustomerLimitVehicleGroupForBookings(data[0]).toPromise().then(function (data) {
                                    if (data.length != 0) {
                                        _this.temp.vehicleGroupId = data[0].id;
                                        _this.price.vehicleGroupId = data[0].id;
                                        _this.vehicleGroupCtrl.setValue(data[0].name);
                                        _this.vehicleGroup = data;
                                        _this.vehicleGroup0 = _this.vehicleGroupCtrl.valueChanges
                                            .pipe(Object(__WEBPACK_IMPORTED_MODULE_4_rxjs_operators__["startWith"])(''), Object(__WEBPACK_IMPORTED_MODULE_4_rxjs_operators__["map"])(function (val) { return _this.filterVehicleGroup(val); }));
                                        _this.priceService.getPrices(_this.temp).subscribe(function (res) { return _this.priceArray = res; });
                                    }
                                    else {
                                        _this.getVehicleGroups();
                                    }
                                });
                                _this.customerService.getCustomerLimitCity(data[0]).subscribe(function (data) {
                                    if (data.length != 0) {
                                        _this.city.length = 0;
                                        data.forEach(function (element) {
                                            _this.city.push(element.city);
                                        });
                                        _this.temp.city = data[0];
                                        _this.price.city = data[0];
                                        _this.cityCtrl.setValue(data[0]);
                                    }
                                    else {
                                        _this.getCities();
                                    }
                                }, function (err) { }, function () {
                                    _this.filterCities();
                                });
                            })
                            // this.priceService.getPrices(this.temp).subscribe(res=>this.priceArray=res);
                        ];
                    case 1:
                        // this.temp.city='Mumbai'
                        // this.price.city='Mumbai'
                        // this.cityCtrl.setValue('Mumbai')
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        }); });
        // this.filteredOptions = this.cityCtrl.valueChanges
        //   .pipe(
        //     startWith(''),
        //     map(val => this.filter(val))
        //   );
    };
    PricingComponent.prototype.getVehicleGroups = function () {
        var _this = this;
        this.vehicleGroups.getvehicleGroup(this.user).toPromise().then(function (data) {
            _this.temp.vehicleGroupId = data[0].id;
            _this.price.vehicleGroupId = data[0].id;
            _this.vehicleGroupCtrl.setValue(data[0].name);
            _this.vehicleGroup = data;
            _this.vehicleGroup0 = _this.vehicleGroupCtrl.valueChanges
                .pipe(Object(__WEBPACK_IMPORTED_MODULE_4_rxjs_operators__["startWith"])(''), Object(__WEBPACK_IMPORTED_MODULE_4_rxjs_operators__["map"])(function (val) { return _this.filterVehicleGroup(val); }));
            _this.priceService.getPrices(_this.temp).subscribe(function (res) { return _this.priceArray = res; });
        });
    };
    PricingComponent.prototype.getCities = function () {
        this.city = [
            'All',
            'Ahmedabad',
            'Mumbai',
            'Hyderabad',
            'Chennai',
            'Kolkata',
            'Pune',
            'Jaipur',
            'Surat',
            'Lucknow',
            'Kanpur',
            'Nagpur',
            'Patna',
            'Indore',
            'Thane',
            'Bhopal',
            'Visakhapatnam',
            'Vadodara',
            'Firozabad',
            'Ludhiana',
            'Rajkot',
            'Agra',
            'Siliguri',
            'Nashik',
            'Faridabad',
            'Patiala',
            'Meerut',
            'Kalyan-Dombivali',
            'Vasai-Virar',
            'Varanasi',
            'Srinagar',
            'Dhanbad',
            'Jodhpur',
            'Amritsar',
            'Raipur',
            'Allahabad',
            'Coimbatore',
            'Jabalpur',
            'Gwalior',
            'Vijayawada',
            'Madurai',
            'Guwahati',
            'Chandigarh',
            'Hubli-Dharwad',
            'Amroha',
            'Moradabad',
            'Gurgaon',
            'Aligarh',
            'Solapur',
            'Ranchi',
            'Jalandhar',
            'Tiruchirappalli',
            'Bhubaneswar',
            'Salem',
            'Warangal',
            'Mira-Bhayandar',
            'Thiruvananthapuram',
            'Bhiwandi',
            'Saharanpur',
            'Guntur',
            'Amravati',
            'Bikaner',
            'Noida',
            'Jamshedpur',
            'Bhilai Nagar',
            'Cuttack',
            'Kochi',
            'Udaipur',
            'Bhavnagar',
            'Dehradun',
            'Asansol',
            'Nanded-Waghala',
            'Ajmer',
            'Jamnagar',
            'Ujjain',
            'Sangli',
            'Loni',
            'Jhansi',
            'Pondicherry',
            'Nellore',
            'Jammu',
            'Belagavi',
            'Raurkela',
            'Mangaluru',
            'Tirunelveli',
            'Malegaon',
            'Gaya',
            'Tiruppur',
            'Davanagere',
            'Kozhikode',
            'Akola',
            'Kurnool',
            'Bokaro Steel City',
            'Rajahmundry',
            'Ballari',
            'Agartala',
            'Bhagalpur',
            'Latur',
            'Dhule',
            'Korba',
            'Bhilwara',
            'Brahmapur',
            'Mysore',
            'Muzaffarpur',
            'Ahmednagar',
            'Kollam',
            'Raghunathganj',
            'Bilaspur',
            'Shahjahanpur',
            'Thrissur',
            'Alwar',
            'Kakinada',
            'Nizamabad',
            'Sagar',
            'Tumkur',
            'Hisar',
            'Rohtak',
            'Panipat',
            'Darbhanga',
            'Kharagpur',
            'Aizawl',
            'Ichalkaranji',
            'Tirupati',
            'Karnal',
            'Bathinda',
            'Rampur',
            'Shivamogga',
            'Ratlam',
            'Modinagar',
            'Durg',
            'Shillong',
            'Imphal',
            'Hapur',
            'Ranipet',
            'Anantapur',
            'Arrah',
            'Karimnagar',
            'Parbhani',
            'Etawah',
            'Bharatpur',
            'Begusarai',
            'New Delhi',
            'Chhapra',
            'Kadapa',
            'Ramagundam',
            'Pali',
            'Satna',
            'Vizianagaram',
            'Katihar',
            'Hardwar',
            'Sonipat',
            'Nagercoil',
            'Thanjavur',
            'Murwara (Katni)',
            'Naihati',
            'Sambhal',
            'Nadiad',
            'Yamunanagar',
            'English Bazar',
            'Eluru',
            'Munger',
            'Panchkula',
            'Raayachuru',
            'Panvel',
            'Deoghar',
            'Ongole',
            'Nandyal',
            'Morena',
            'Bhiwani',
            'Porbandar',
            'Palakkad',
            'Anand',
            'Purnia',
            'Baharampur',
            'Barmer',
            'Morvi',
            'Orai',
            'Bahraich',
            'Sikar',
            'Vellore',
            'Singrauli',
            'Khammam',
            'Mahesana',
            'Silchar',
            'Sambalpur',
            'Rewa',
            'Unnao',
            'Hugli-Chinsurah',
            'Raiganj',
            'Phusro',
            'Adityapur',
            'Alappuzha',
            'Bahadurgarh',
            'Machilipatnam',
            'Rae Bareli',
            'Jalpaiguri',
            'Bharuch',
            'Pathankot',
            'Hoshiarpur',
            'Baramula',
            'Adoni',
            'Jind',
            'Tonk',
            'Tenali',
            'Kancheepuram',
            'Vapi',
            'Sirsa',
            'Navsari',
            'Mahbubnagar',
            'Puri',
            'Robertson Pet',
            'Erode',
            'Batala',
            'Haldwani-cum-Kathgodam',
            'Vidisha',
            'Saharsa',
            'Thanesar',
            'Chittoor',
            'Veraval',
            'Lakhimpur',
            'Sitapur',
            'Hindupur',
            'Santipur',
            'Balurghat',
            'Ganjbasoda',
            'Moga',
            'Proddatur',
            'Srinagar',
            'Medinipur',
            'Habra',
            'Sasaram',
            'Hajipur',
            'Bhuj',
            'Shivpuri',
            'Ranaghat',
            'Shimla',
            'Tiruvannamalai',
            'Kaithal',
            'Rajnandgaon',
            'Godhra',
            'Hazaribag',
            'Bhimavaram',
            'Mandsaur',
            'Dibrugarh',
            'Kolar',
            'Bankura',
            'Mandya',
            'Dehri-on-Sone',
            'Madanapalle',
            'Malerkotla',
            'Lalitpur',
            'Bettiah',
            'Pollachi',
            'Khanna',
            'Neemuch',
            'Palwal',
            'Palanpur',
            'Guntakal',
            'Nabadwip',
            'Udupi',
            'Jagdalpur',
            'Motihari',
            'Pilibhit',
            'Dimapur',
            'Mohali',
            'Sadulpur',
            'Rajapalayam',
            'Dharmavaram',
            'Kashipur',
            'Sivakasi',
            'Darjiling',
            'Chikkamagaluru',
            'Gudivada',
            'Baleshwar Town',
            'Mancherial',
            'Srikakulam',
            'Adilabad',
            'Yavatmal',
            'Barnala',
            'Nagaon',
            'Narasaraopet',
            'Raigarh',
            'Roorkee',
            'Valsad',
            'Ambikapur',
            'Giridih',
            'Chandausi',
            'Purulia',
            'Patan',
            'Bagaha',
            'Hardoi ',
            'Achalpur',
            'Osmanabad',
            'Deesa',
            'Nandurbar',
            'Azamgarh',
            'Ramgarh',
            'Firozpur',
            'Baripada Town',
            'Karwar',
            'Siwan',
            'Rajampet',
            'Pudukkottai',
            'Anantnag',
            'Tadpatri',
            'Satara',
            'Bhadrak',
            'Kishanganj',
            'Suryapet',
            'Wardha',
            'Ranebennuru',
            'Amreli',
            'Neyveli (TS)',
            'Jamalpur',
            'Marmagao',
            'Udgir',
            'Tadepalligudem',
            'Nagapattinam',
            'Buxar',
            'Aurangabad',
            'Jehanabad',
            'Phagwara',
            'Khair',
            'Sawai Madhopur',
            'Kapurthala',
            'Chilakaluripet',
            'Aurangabad',
            'Malappuram',
            'Rewari',
            'Nagaur',
            'Sultanpur',
            'Nagda',
            'Port Blair',
            'Lakhisarai',
            'Panaji',
            'Tinsukia',
            'Itarsi',
            'Kohima',
            'Balangir',
            'Nawada',
            'Jharsuguda',
            'Jagtial',
            'Viluppuram',
            'Amalner',
            'Zirakpur',
            'Tanda',
            'Tiruchengode',
            'Nagina',
            'Yemmiganur',
            'Vaniyambadi',
            'Sarni',
            'Theni Allinagaram',
            'Margao',
            'Akot',
            'Sehore',
            'Mhow Cantonment',
            'Kot Kapura',
            'Makrana',
            'Pandharpur',
            'Miryalaguda',
            'Shamli',
            'Seoni',
            'Ranibennur',
            'Kadiri',
            'Shrirampur',
            'Rudrapur',
            'Parli',
            'Najibabad',
            'Nirmal',
            'Udhagamandalam',
            'Shikohabad',
            'Jhumri Tilaiya',
            'Aruppukkottai',
            'Ponnani',
            'Jamui',
            'Sitamarhi',
            'Chirala',
            'Anjar',
            'Karaikal',
            'Hansi',
            'Anakapalle',
            'Mahasamund',
            'Faridkot',
            'Saunda',
            'Dhoraji',
            'Paramakudi',
            'Balaghat',
            'Sujangarh',
            'Khambhat',
            'Muktsar',
            'Rajpura',
            'Kavali',
            'Dhamtari',
            'Ashok Nagar',
            'Sardarshahar',
            'Mahuva',
            'Bargarh',
            'Kamareddy',
            'Sahibganj',
            'Kothagudem',
            'Ramanagaram',
            'Gokak',
            'Tikamgarh',
            'Araria',
            'Rishikesh',
            'Shahdol',
            'Medininagar (Daltonganj)',
            'Arakkonam',
            'Washim',
            'Sangrur',
            'Bodhan',
            'Fazilka',
            'Palacole',
            'Keshod',
            'Sullurpeta',
            'Wadhwan',
            'Gurdaspur',
            'Vatakara',
            'Tura',
            'Narnaul',
            'Kharar',
            'Yadgir',
            'Ambejogai',
            'Ankleshwar',
            'Savarkundla',
            'Paradip',
            'Virudhachalam',
            'Kanhangad',
            'Kadi',
            'Srivilliputhur',
            'Gobindgarh',
            'Tindivanam',
            'Mansa',
            'Taliparamba',
            'Manmad',
            'Tanuku',
            'Rayachoti',
            'Virudhunagar',
            'Koyilandy',
            'Jorhat',
            'Karur',
            'Valparai',
            'Srikalahasti',
            'Neyyattinkara',
            'Bapatla',
            'Fatehabad',
            'Malout',
            'Sankarankovil',
            'Tenkasi',
            'Ratnagiri',
            'Rabkavi Banhatti',
            'Sikandrabad',
            'Chaibasa',
            'Chirmiri',
            'Palwancha',
            'Bhawanipatna',
            'Kayamkulam',
            'Pithampur',
            'Nabha',
            'Shahabad, Hardoi',
            'Dhenkanal',
            'Uran Islampur',
            'Gopalganj',
            'Bongaigaon City',
            'Palani',
            'Pusad',
            'Sopore',
            'Pilkhuwa',
            'Tarn Taran',
            'Renukoot',
            'Mandamarri',
            'Shahabad',
            'Barbil',
            'Koratla',
            'Madhubani',
            'Arambagh',
            'Gohana',
            'Ladnu',
            'Pattukkottai',
            'Sirsi',
            'Sircilla',
            'Tamluk',
            'Jagraon',
            'AlipurdUrban Agglomerationr',
            'Alirajpur',
            'Tandur',
            'Naidupet',
            'Tirupathur',
            'Tohana',
            'Ratangarh',
            'Dhubri',
            'Masaurhi',
            'Visnagar',
            'Vrindavan',
            'Nokha',
            'Nagari',
            'Narwana',
            'Ramanathapuram',
            'Ujhani',
            'Samastipur',
            'Laharpur',
            'Sangamner',
            'Nimbahera',
            'Siddipet',
            'Suri',
            'Diphu',
            'Jhargram',
            'Shirpur-Warwade',
            'Tilhar',
            'Sindhnur',
            'Udumalaipettai',
            'Malkapur',
            'Wanaparthy',
            'Gudur',
            'Kendujhar',
            'Mandla',
            'Mandi',
            'Nedumangad',
            'North Lakhimpur',
            'Vinukonda',
            'Tiptur',
            'Gobichettipalayam',
            'Sunabeda',
            'Wani',
            'Upleta',
            'Narasapuram',
            'Nuzvid',
            'Tezpur',
            'Una',
            'Markapur',
            'Sheopur',
            'Thiruvarur',
            'Sidhpur',
            'Sahaswan',
            'Suratgarh',
            'Shajapur',
            'Rayagada',
            'Lonavla',
            'Ponnur',
            'Kagaznagar',
            'Gadwal',
            'Bhatapara',
            'Kandukur',
            'Sangareddy',
            'Unjha',
            'Lunglei',
            'Karimganj',
            'Kannur',
            'Bobbili',
            'Mokameh',
            'Talegaon Dabhade',
            'Anjangaon',
            'Mangrol',
            'Sunam',
            'Gangarampur',
            'Thiruvallur',
            'Tirur',
            'Rath',
            'Jatani',
            'Viramgam',
            'Rajsamand',
            'Yanam',
            'Kottayam',
            'Panruti',
            'Dhuri',
            'Namakkal',
            'Kasaragod',
            'Modasa',
            'Rayadurg',
            'Supaul',
            'Kunnamkulam',
            'Umred',
            'Bellampalle',
            'Sibsagar',
            'Mandi Dabwali',
            'Ottappalam',
            'Dumraon',
            'Samalkot',
            'Jaggaiahpet',
            'Goalpara',
            'Tuni',
            'Lachhmangarh',
            'Bhongir',
            'Amalapuram',
            'Firozpur Cantt.',
            'Vikarabad',
            'Thiruvalla',
            'Sherkot',
            'Palghar',
            'Shegaon',
            'Jangaon',
            'Bheemunipatnam',
            'Panna',
            'Thodupuzha',
            'KathUrban Agglomeration',
            'Palitana',
            'Arwal',
            'Venkatagiri',
            'Kalpi',
            'Rajgarh (Churu)',
            'Sattenapalle',
            'Arsikere',
            'Ozar',
            'Thirumangalam',
            'Petlad',
            'Nasirabad',
            'Phaltan',
            'Rampurhat',
            'Nanjangud',
            'Forbesganj',
            'Tundla',
            'BhabUrban Agglomeration',
            'Sagara',
            'Pithapuram',
            'Sira',
            'Bhadrachalam',
            'Charkhi Dadri',
            'Chatra',
            'Palasa Kasibugga',
            'Nohar',
            'Yevla',
            'Sirhind Fatehgarh Sahib',
            'Bhainsa',
            'Parvathipuram',
            'Shahade',
            'Chalakudy',
            'Narkatiaganj',
            'Kapadvanj',
            'Macherla',
            'Raghogarh-Vijaypur',
            'Rupnagar',
            'Naugachhia',
            'Sendhwa',
            'Byasanagar',
            'Sandila',
            'Gooty',
            'Salur',
            'Nanpara',
            'Sardhana',
            'Vita',
            'Gumia',
            'Puttur',
            'Jalandhar Cantt.',
            'Nehtaur',
            'Changanassery',
            'Mandapeta',
            'Dumka',
            'Seohara',
            'Umarkhed',
            'Madhupur',
            'Vikramasingapuram',
            'Punalur',
            'Kendrapara',
            'Sihor',
            'Nellikuppam',
            'Samana',
            'Warora',
            'Nilambur',
            'Rasipuram',
            'Ramnagar',
            'Jammalamadugu',
            'Nawanshahr',
            'Thoubal',
            'Athni',
            'Cherthala',
            'Sidhi',
            'Farooqnagar',
            'Peddapuram',
            'Chirkunda',
            'Pachora',
            'Madhepura',
            'Pithoragarh',
            'Tumsar',
            'Phalodi',
            'Tiruttani',
            'Rampura Phul',
            'Perinthalmanna',
            'Padrauna',
            'Pipariya',
            'Dalli-Rajhara',
            'Punganur',
            'Mattannur',
            'Mathura',
            'Thakurdwara',
            'Nandivaram-Guduvancheri',
            'Mulbagal',
            'Manjlegaon',
            'Wankaner',
            'Sillod',
            'Nidadavole',
            'Surapura',
            'Rajagangapur',
            'Sheikhpura',
            'Parlakhemundi',
            'Kalimpong',
            'Siruguppa',
            'Arvi',
            'Limbdi',
            'Barpeta',
            'Manglaur',
            'Repalle',
            'Mudhol',
            'Shujalpur',
            'Mandvi',
            'Thangadh',
            'Sironj',
            'Nandura',
            'Shoranur',
            'Nathdwara',
            'Periyakulam',
            'Sultanganj',
            'Medak',
            'Narayanpet',
            'Raxaul Bazar',
            'Rajauri',
            'Pernampattu',
            'Nainital',
            'Ramachandrapuram',
            'Vaijapur',
            'Nangal',
            'Sidlaghatta',
            'Punch',
            'Pandhurna',
            'Wadgaon Road',
            'Talcher',
            'Varkala',
            'Pilani',
            'Nowgong',
            'Naila Janjgir',
            'Mapusa',
            'Vellakoil',
            'Merta City',
            'Sivaganga',
            'Mandideep',
            'Sailu',
            'Vyara',
            'Kovvur',
            'Vadalur',
            'Nawabganj',
            'Padra',
            'Sainthia',
            'Siana',
            'Shahpur',
            'Sojat',
            'Noorpur',
            'Paravoor',
            'Murtijapur',
            'Ramnagar',
            'Sundargarh',
            'Taki',
            'Saundatti-Yellamma',
            'Pathanamthitta',
            'Wadi',
            'Rameshwaram',
            'Tasgaon',
            'Sikandra Rao',
            'Sihora',
            'Tiruvethipuram',
            'Tiruvuru',
            'Mehkar',
            'Peringathur',
            'Perambalur',
            'Manvi',
            'Zunheboto',
            'Mahnar Bazar',
            'Attingal',
            'Shahbad',
            'Puranpur',
            'Nelamangala',
            'Nakodar',
            'Lunawada',
            'Murshidabad',
            'Mahe',
            'Lanka',
            'Rudauli',
            'Tuensang',
            'Lakshmeshwar',
            'Zira',
            'Yawal',
            'Thana Bhawan',
            'Ramdurg',
            'Pulgaon',
            'Sadasivpet',
            'Nargund',
            'Neem-Ka-Thana',
            'Memari',
            'Nilanga',
            'Naharlagun',
            'Pakaur',
            'Wai',
            'Tarikere',
            'Malavalli',
            'Raisen',
            'Lahar',
            'Uravakonda',
            'Savanur',
            'Sirohi',
            'Udhampur',
            'Umarga',
            'Pratapgarh',
            'Lingsugur',
            'Usilampatti',
            'Palia Kalan',
            'Wokha',
            'Rajpipla',
            'Vijayapura',
            'Rawatbhata',
            'Sangaria',
            'Paithan',
            'Rahuri',
            'Patti',
            'Zaidpur',
            'Lalsot',
            'Maihar',
            'Vedaranyam',
            'Nawapur',
            'Solan',
            'Vapi',
            'Sanawad',
            'Warisaliganj',
            'Revelganj',
            'Sabalgarh',
            'Tuljapur',
            'Simdega',
            'Musabani',
            'Kodungallur',
            'Phulabani',
            'Umreth',
            'Narsipatnam',
            'Nautanwa',
            'Rajgir',
            'Yellandu',
            'Sathyamangalam',
            'Pilibanga',
            'Morshi',
            'Pehowa',
            'Sonepur',
            'Pappinisseri',
            'Zamania',
            'Mihijam',
            'Purna',
            'Puliyankudi',
            'Shikarpur, Bulandshahr',
            'Umaria',
            'Porsa',
            'Naugawan Sadat',
            'Fatehpur Sikri',
            'Manuguru',
            'Udaipur',
            'Pipar City',
            'Pattamundai',
            'Nanjikottai',
            'Taranagar',
            'Yerraguntla',
            'Satana',
            'Sherghati',
            'Sankeshwara',
            'Madikeri',
            'Thuraiyur',
            'Sanand',
            'Rajula',
            'Kyathampalle',
            'Shahabad, Rampur',
            'Tilda Newra',
            'Narsinghgarh',
            'Chittur-Thathamangalam',
            'Malaj Khand',
            'Sarangpur',
            'Robertsganj',
            'Sirkali',
            'Radhanpur',
            'Tiruchendur',
            'Utraula',
            'Patratu',
            'Vijainagar, Ajmer',
            'Periyasemur',
            'Pathri',
            'Sadabad',
            'Talikota',
            'Sinnar',
            'Mungeli',
            'Sedam',
            'Shikaripur',
            'Sumerpur',
            'Sattur',
            'Sugauli',
            'Lumding',
            'Vandavasi',
            'Titlagarh',
            'Uchgaon',
            'Mokokchung',
            'Paschim Punropara',
            'Sagwara',
            'Ramganj Mandi',
            'Tarakeswar',
            'Mahalingapura',
            'Dharmanagar',
            'Mahemdabad',
            'Manendragarh',
            'Uran',
            'Tharamangalam',
            'Tirukkoyilur',
            'Pen',
            'Makhdumpur',
            'Maner',
            'Oddanchatram',
            'Palladam',
            'Mundi',
            'Nabarangapur',
            'Mudalagi',
            'Samalkha',
            'Nepanagar',
            'Karjat',
            'Ranavav',
            'Pedana',
            'Pinjore',
            'Lakheri',
            'Pasan',
            'Puttur',
            'Vadakkuvalliyur',
            'Tirukalukundram',
            'Mahidpur',
            'Mussoorie',
            'Muvattupuzha',
            'Rasra',
            'Udaipurwati',
            'Manwath',
            'Adoor',
            'Uthamapalayam',
            'Partur',
            'Nahan',
            'Ladwa',
            'Mankachar',
            'Nongstoin',
            'Losal',
            'Sri Madhopur',
            'Ramngarh',
            'Mavelikkara',
            'Rawatsar',
            'Rajakhera',
            'Lar',
            'Lal Gopalganj Nindaura',
            'Muddebihal',
            'Sirsaganj',
            'Shahpura',
            'Surandai',
            'Sangole',
            'Pavagada',
            'Tharad',
            'Mansa',
            'Umbergaon',
            'Mavoor',
            'Nalbari',
            'Talaja',
            'Malur',
            'Mangrulpir',
            'Soro',
            'Shahpura',
            'Vadnagar',
            'Raisinghnagar',
            'Sindhagi',
            'Sanduru',
            'Sohna',
            'Manavadar',
            'Pihani',
            'Safidon',
            'Risod',
            'Rosera',
            'Sankari',
            'Malpura',
            'Sonamukhi',
            'Shamsabad, Agra',
            'Nokha',
            'PandUrban Agglomeration',
            'Mainaguri',
            'Afzalpur',
            'Shirur',
            'Salaya',
            'Shenkottai',
            'Pratapgarh',
            'Vadipatti',
            'Nagarkurnool',
            'Savner',
            'Sasvad',
            'Rudrapur',
            'Soron',
            'Sholingur',
            'Pandharkaoda',
            'Perumbavoor',
            'Maddur',
            'Nadbai',
            'Talode',
            'Shrigonda',
            'Madhugiri',
            'Tekkalakote',
            'Seoni-Malwa',
            'Shirdi',
            'SUrban Agglomerationr',
            'Terdal',
            'Raver',
            'Tirupathur',
            'Taraori',
            'Mukhed',
            'Manachanallur',
            'Rehli',
            'Sanchore',
            'Rajura',
            'Piro',
            'Mudabidri',
            'Vadgaon Kasba',
            'Nagar',
            'Vijapur',
            'Viswanatham',
            'Polur',
            'Panagudi',
            'Manawar',
            'Tehri',
            'Samdhan',
            'Pardi',
            'Rahatgarh',
            'Panagar',
            'Uthiramerur',
            'Tirora',
            'Rangia',
            'Sahjanwa',
            'Wara Seoni',
            'Magadi',
            'Rajgarh (Alwar)',
            'Rafiganj',
            'Tarana',
            'Rampur Maniharan',
            'Sheoganj',
            'Raikot',
            'Pauri',
            'Sumerpur',
            'Navalgund',
            'Shahganj',
            'Marhaura',
            'Tulsipur',
            'Sadri',
            'Thiruthuraipoondi',
            'Shiggaon',
            'Pallapatti',
            'Mahendragarh',
            'Sausar',
            'Ponneri',
            'Mahad',
            'Lohardaga',
            'Tirwaganj',
            'Margherita',
            'Sundarnagar',
            'Rajgarh',
            'Mangaldoi',
            'Renigunta',
            'Longowal',
            'Ratia',
            'Lalgudi',
            'Shrirangapattana',
            'Niwari',
            'Natham',
            'Unnamalaikadai',
            'PurqUrban Agglomerationzi',
            'Shamsabad, Farrukhabad',
            'Mirganj',
            'Todaraisingh',
            'Warhapur',
            'Rajam',
            'Urmar Tanda',
            'Lonar',
            'Powayan',
            'P.N.Patti',
            'Palampur',
            'Srisailam Project (Right Flank Colony) Township',
            'Sindagi',
            'Sandi',
            'Vaikom',
            'Malda',
            'Tharangambadi',
            'Sakaleshapura',
            'Lalganj',
            'Malkangiri',
            'Rapar',
            'Mauganj',
            'Todabhim',
            'Srinivaspur',
            'Murliganj',
            'Reengus',
            'Sawantwadi',
            'Tittakudi',
            'Lilong',
            'Rajaldesar',
            'Pathardi',
            'Achhnera',
            'Pacode',
            'Naraura',
            'Nakur',
            'Palai',
            'Morinda, India',
            'Manasa',
            'Nainpur',
            'Sahaspur',
            'Pauni',
            'Prithvipur',
            'Ramtek',
            'Silapathar',
            'Songadh',
            'Safipur',
            'Sohagpur',
            'Mul',
            'Sadulshahar',
            'Phillaur',
            'Sambhar',
            'Prantij',
            'Nagla',
            'Pattran',
            'Mount Abu',
            'Reoti',
            'Tenu dam-cum-Kathhara',
            'Panchla',
            'Sitarganj',
            'Pasighat',
            'Motipur',
            'O Valley',
            'Raghunathpur',
            'Suriyampalayam',
            'Qadian',
            'Rairangpur',
            'Silvassa',
            'Nowrozabad (Khodargama)',
            'Mangrol',
            'Soyagaon',
            'Sujanpur',
            'Manihari',
            'Sikanderpur',
            'Mangalvedhe',
            'Phulera',
            'Ron',
            'Sholavandan',
            'Saidpur',
            'Shamgarh',
            'Thammampatti',
            'Maharajpur',
            'Multai',
            'Mukerian',
            'Sirsi',
            'Purwa',
            'Sheohar',
            'Namagiripettai',
            'Parasi',
            'Lathi',
            'Lalganj',
            'Narkhed',
            'Mathabhanga',
            'Shendurjana',
            'Peravurani',
            'Mariani',
            'Phulpur',
            'Rania',
            'Pali',
            'Pachore',
            'Parangipettai',
            'Pudupattinam',
            'Panniyannur',
            'Maharajganj',
            'Rau',
            'Monoharpur',
            'Mandawa',
            'Marigaon',
            'Pallikonda',
            'Pindwara',
            'Shishgarh',
            'Patur',
            'Mayang Imphal',
            'Mhowgaon',
            'Guruvayoor',
            'Mhaswad',
            'Sahawar',
            'Sivagiri',
            'Mundargi',
            'Punjaipugalur',
            'Kailasahar',
            'Samthar',
            'Sakti',
            'Sadalagi',
            'Silao',
            'Mandalgarh',
            'Loha',
            'Pukhrayan',
            'Padmanabhapuram',
            'Belonia',
            'Saiha',
            'Srirampore',
            'Talwara',
            'Puthuppally',
            'Khowai',
            'Vijaypur',
            'Takhatgarh',
            'Thirupuvanam',
            'Adra',
            'Piriyapatna',
            'Obra',
            'Adalaj',
            'Nandgaon',
            'Barh',
            'Chhapra',
            'Panamattom',
            'Niwai',
            'Bageshwar',
            'Tarbha',
            'Adyar',
            'Narsinghgarh',
            'Warud',
            'Asarganj',
            'Sarsod',
        ];
        this.temp.city = 'All';
        this.price.city = 'All';
        this.cityCtrl.setValue('All');
    };
    PricingComponent.prototype.filterCities = function () {
        var _this = this;
        this.filteredOptions = this.cityCtrl.valueChanges
            .pipe(Object(__WEBPACK_IMPORTED_MODULE_4_rxjs_operators__["startWith"])(''), Object(__WEBPACK_IMPORTED_MODULE_4_rxjs_operators__["map"])(function (val) { return _this.filter(val); }));
    };
    PricingComponent.prototype.filterCustomer = function (val) {
        return this.customers.filter(function (option) {
            return option.name.toLowerCase().includes(val.toLowerCase());
        });
    };
    PricingComponent.prototype.filterVehicleGroup = function (val) {
        return this.vehicleGroup.filter(function (option) {
            return option.name.toLowerCase().includes(val.toLowerCase());
        });
    };
    PricingComponent.prototype.filterDutyType = function (val) {
        return this.dutyTypes.filter(function (option) {
            return option.name.toLowerCase().includes(val.toLowerCase());
        });
    };
    PricingComponent.prototype.filter = function (val) {
        return this.city.filter(function (option) {
            return option.toLowerCase().startsWith(val.toLowerCase());
        });
    };
    PricingComponent.prototype.change = function (temp, i) {
        var _this = this;
        console.log(temp.id);
        this.price.ownerId = this.user.ownerId;
        this.price.baseRate = temp.baseRate;
        this.price.extraHrs = temp.extraHrs;
        this.price.extraKm = temp.extraKm;
        this.price.dutyTYpeId = temp.dutyTypeId;
        this.price.id = temp.id;
        this.priceService.updatePrice(this.price).subscribe(function (res) {
            if (res.insertId)
                _this.priceArray[i].id = res.insertId;
            _this.snackBar.open("Updated", "X", { duration: 2000 });
        });
    };
    PricingComponent.prototype.copyFrom = function () {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_8__customerselection_customerselection_component__["a" /* CustomerselectionComponent */], { autoFocus: false }).afterClosed().subscribe(function (data) {
            _this.selectedCustomer = data;
            _this.priceService.copyPricing({ customerId: _this.price.customerId, fromCustomerId: _this.selectedCustomer.id }).subscribe(function (data) {
                if (data)
                    _this.snackBar.open("Prices copied from " + _this.selectedCustomer.name + " to " + _this.customerCopyName, "X", { duration: 2000 });
            });
        });
    };
    PricingComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-pricing',
            template: __webpack_require__("./src/app/pages/masters/pricing/pricing.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/pricing/pricing.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__pricing_service__["a" /* PricingService */],
            __WEBPACK_IMPORTED_MODULE_1__vehiclegroups_vehiclegroups_component__["a" /* VehicleGroupsComponent */],
            __WEBPACK_IMPORTED_MODULE_6__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_7__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_5__customer_customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_7__angular_material__["n" /* MatDialog */]])
    ], PricingComponent);
    return PricingComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/pricingtables/pricingtables.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-body>\n        <h2>Add Price</h2>\n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-body>\n          <div *ngIf=\"tempDutyType=='HR-KM(Local)'\">\n            \n              \n              <tr>\n                <th>Local 10HR and 100Km</th>\n                <th>Local 10HR and 100Km and Extra Km</th>\n                <th>Local 10HR and 100Km and Extra Hr</th>\n              </tr>\n\n              \n              <tr *ngFor=\"let items of row;trackBy:trackByVehicle;let i=index\">\n                <td>{{i}}</td>\n               \n                  <td>\n                      <mat-form-field style=\"width: 80%\"><input matInput formControlName=\"local10hr\"></mat-form-field>\n                  </td>\n                  <td>\n                      <mat-form-field style=\"width: 80%\"><input matInput formControlName=\"extrakm\"></mat-form-field>\n                  </td>\n                  <td>\n                      <mat-form-field style=\"width: 80%\"><input matInput formControlName=\"extrahr\"></mat-form-field>\n                  </td>\n              </tr>\n            </div>\n           \n          \n          \n       \n\n        <div *ngIf=\"tempDutyType=='Flat Rate'\">\n          \n            <tr>\n                <th>Flat Rate</th>\n                <th>Flat Rate Extra Km</th>\n              </tr>\n              <tr>\n                  <td>\n                    <mat-form-field style=\"width: 80%\"><input matInput></mat-form-field>\n                  </td>\n                  <td>\n                    <mat-form-field style=\"width: 80%\"><input matInput></mat-form-field>\n                  </td>\n                 \n              </tr>\n        </div>\n          \n          <div *ngIf=\"tempDutyType=='Day-KM(Outstation)'\">\n            <tr>\n              <th>OutStation Rate</th>\n              <th>OutStation Extra Km</th>\n            </tr>\n            <tr>\n              <td><mat-form-field style=\"width: 80%\"><input matInput></mat-form-field></td>\n              <td><mat-form-field style=\"width: 80%\"><input matInput></mat-form-field></td>\n            </tr>   \n               \n          </div>\n\n          <div *ngIf=\"tempDutyType=='Long Duration-Total KM and HR(Monthly Bookings)'\">\n              <tr>\n                <th>Long Duration Extra Km</th>\n                <th>Long Duration Extra HR</th>\n              </tr>\n              <tr>\n                <td><mat-form-field style=\"width: 80%\"><input matInput></mat-form-field></td>\n                <td><mat-form-field style=\"width: 80%\"><input matInput></mat-form-field></td>\n              </tr>   \n                 \n            </div>\n            <div *ngIf=\"tempDutyType=='Long Duration-Total KM Daily HR(Monthly Bookings)'\">\n                <tr>\n                  <th>OutStation Rate</th>\n                  <th>OutStation Extra Km</th>\n                </tr>\n                <tr>\n                  <td><mat-form-field style=\"width: 80%\"><input matInput></mat-form-field></td>\n                  <td><mat-form-field style=\"width: 80%\"><input matInput></mat-form-field></td>\n                </tr>   \n                   \n              </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/pricingtables/pricingtables.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/pricingtables/pricingtables.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PricingtablesComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};


var PricingtablesComponent = (function () {
    function PricingtablesComponent(matDialogRef, data, dialog) {
        this.matDialogRef = matDialogRef;
        this.data = data;
        this.dialog = dialog;
        this.tempDutyType = data.dType;
    }
    PricingtablesComponent.prototype.ngOnInit = function () {
    };
    PricingtablesComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-pricingtables',
            template: __webpack_require__("./src/app/pages/masters/pricingtables/pricingtables.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/pricingtables/pricingtables.component.scss")]
        }),
        __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_material__["p" /* MatDialogRef */], Object, __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */]])
    ], PricingtablesComponent);
    return PricingtablesComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/purchase-duties/purchase-duties.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <!-- <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-body>\n        <h4>Registration</h4>\n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-body>\n          <table>\n            <tr>\n              <td>Email</td>\n              <td><mat-form-field><input type=\"email\" matInput name=\"email\" [(ngModel)]=\"user.email\"></mat-form-field> </td>\n            </tr>\n            <tr>\n              <td>Name</td>\n              <td><mat-form-field><input matInput name=\"userName\" [(ngModel)]=\"user.userName\"></mat-form-field> </td>\n            </tr>\n            <tr>\n              <td>Password</td>\n              <td><mat-form-field><input type=\"password\" name=\"password\" matInput [(ngModel)]=\"user.password\"></mat-form-field></td>\n            </tr>\n            <tr>\n              <td>Confirm Password</td>\n              <td><mat-form-field><input type=\"password\" name=\"confirmPassword\" matInput [(ngModel)]=\"user.confirmPassword\"></mat-form-field></td>\n            </tr>\n            <tr>\n              <td>\n                <button mat-raised-button (click)=\"register()\">Submit</button>\n              </td>\n            </tr>\n          </table>\n      </nb-card-body>\n    </nb-card>\n  </div> -->\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        Purchase Duties\n      </nb-card-header>\n      <nb-card-body>\n        <div align=\"center\">\n          <mat-form-field class=\"filter-field\">\n            <input matInput   placeholder=\"Filter\"   [(ngModel)]=\"searchTerm\" (keyup)=\"search($event.target.value)\">\n          </mat-form-field>\n          <mat-form-field class=\"filter-date\">\n            <input matInput [(ngModel)]=\"filterStart\" [matDatepicker]=\"pickerStart\" (click)=\"pickerStart.open()\" placeholder=\"From\" readonly>\n            <mat-datepicker-toggle matSuffix [for]=\"pickerStart\"></mat-datepicker-toggle>\n            <mat-datepicker #pickerStart></mat-datepicker>\n          </mat-form-field>\n          <mat-form-field class=\"filter-date\">\n            <input matInput [(ngModel)]=\"filterEnd\" [matDatepicker]=\"pickerEnd\" (click)=\"pickerEnd.open()\" placeholder=\"To\" readonly>\n            <mat-datepicker-toggle matSuffix [for]=\"pickerEnd\"></mat-datepicker-toggle>\n            <mat-datepicker #pickerEnd></mat-datepicker>\n          </mat-form-field>\n          <button mat-icon-button (click)=\"searchByDate()\"><mat-icon class=\"filter-icon\">search</mat-icon></button>\n          <button mat-icon-button (click)=\"clear()\"><mat-icon class=\"filter-icon\">highlight_off</mat-icon></button>\n        </div>\n        <mat-table #table [dataSource]=\"dataSource\" matSort>          \n\n          <ng-container matColumnDef=\"date\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>Date</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\">{{element.startDate | date: 'dd-MM-yyyy'}}</mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"dutyId\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>Duty ID</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\">{{element.id}}</mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"supplier\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>Supplier</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\">{{element.sname}}</mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"customer\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>Customer</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\">{{element.cname}}</mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"passenger\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>Passenger</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\">{{element.passenger}}</mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"vehicle\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>Vehicle</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\">{{element.vehicle}}</mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"dutyType\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>Duty Type</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\">{{element.dutyType}}</mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"status\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>Status</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\">\n              <mat-chip-list>\n                <mat-chip color=\"primary\" selected=\"true\">{{element.status}}</mat-chip>\n              </mat-chip-list> \n            </mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"estCustAmt\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>Aprox. Cust. Amt.</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\">{{element.price}}</mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"estAmt\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>Aprox. Amt.</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\">{{element.supplier}}</mat-cell>\n          </ng-container>\n\n          <!-- <ng-container matColumnDef=\"earnings\">\n            <mat-header-cell *matHeaderCellDef>Earnings</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\">{{element.supplier}}</mat-cell>\n          </ng-container> -->\n\n          <ng-container matColumnDef=\"supplierInvoice\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>Supplier Invoice</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\">{{element.supplier}}</mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"Options\">\n            <mat-header-cell *matHeaderCellDef> Options</mat-header-cell>\n            <mat-cell *matCellDef=\"let element ;let row\" (click)=\"$event.stopPropagation()\">\n              <button mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>\n              <mat-menu #menu=\"matMenu\">\n                <!-- <button mat-menu-item (click)=\"viewInvoice(row)\">View</button> -->\n                <!-- <button (click)=\"\" mat-menu-item>Edit</button>\n                <button (click)=\"\" mat-menu-item>Generate Custom Duty Slip</button> -->\n                <!-- <button (click)=\"sendDutySlip(row)\" mat-menu-item>Send Duty Slip</button> -->\n                <button (click)=\"viewDutySlip(row)\" mat-menu-item>View Duty Slip</button>\n                <button *ngIf=\"row.status=='Completed' && permission.closeDuty\" mat-menu-item (click)=\"openCloseDuty(row)\">Edit Duty Slip</button>\n                <button *ngIf=\"permission.requestInvoice\" (click)=\"requestInvoice(row)\" mat-menu-item>Request Invoice</button>\n                <button *ngIf=\"permission.requestDutySlip\" (click)=\"requestDutySlip(row)\" mat-menu-item>Request Duty Slip</button>\n              </mat-menu>\n            </mat-cell>\n          </ng-container>\n\n          <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n          <mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"viewInvoice(row)\"></mat-row> \n                    \n        </mat-table>\n        <mat-paginator [length]=\"length\"\n              [pageSize]=\"pageSize\"\n              [pageSizeOptions]=\"pageSizeOptions\">\n          </mat-paginator>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/purchase-duties/purchase-duties.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/purchase-duties/purchase-duties.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PurchaseDutiesComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__circles_circle_service__ = __webpack_require__("./src/app/pages/circles/circle.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__requestinvoice_requestinvoice_component__ = __webpack_require__("./src/app/pages/masters/requestinvoice/requestinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__requestdutyslip_requestdutyslip_component__ = __webpack_require__("./src/app/pages/masters/requestdutyslip/requestdutyslip.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__viewdutyslip_viewdutyslip_component__ = __webpack_require__("./src/app/pages/masters/viewdutyslip/viewdutyslip.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__senddutyslip_senddutyslip_component__ = __webpack_require__("./src/app/pages/masters/senddutyslip/senddutyslip.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__duties_duties_service__ = __webpack_require__("./src/app/pages/duties/duties.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__duties_selfdrive_selfdrive_component__ = __webpack_require__("./src/app/pages/duties/selfdrive/selfdrive.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__duties_closeduty_closeduty_component__ = __webpack_require__("./src/app/pages/duties/closeduty/closeduty.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var PurchaseDutiesComponent = (function () {
    function PurchaseDutiesComponent(authService, circleService, dialog, DutiesService) {
        this.authService = authService;
        this.circleService = circleService;
        this.dialog = dialog;
        this.DutiesService = DutiesService;
        this.user = {};
        this.filterStart = '';
        this.filterEnd = '';
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_2__angular_material__["O" /* MatTableDataSource */]();
        this.displayedColumns = ['date', 'dutyId', 'supplier', 'customer', 'passenger', 'vehicle', 'dutyType', 'status', 'estCustAmt', 'estAmt', 'supplierInvoice', 'Options'];
        this.userArray = [];
        this.length = 100;
        this.pageSize = 10;
        this.pageSizeOptions = [10, 15, 25, 40];
        this.tempArray = [
            'date', 'dutyId', 'supplier', 'customer', 'passenger', 'vehicle', 'dutyType', 'status', 'estCustAmt', 'estAmt', 'earnings', 'supplierInvoice'
        ];
        this.permission = {};
    }
    PurchaseDutiesComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.authService.user.subscribe(function (data) {
            _this.user = data[0];
            _this.authService.permissions.subscribe(function (data) {
                _this.permission = data[0];
                if (_this.permission.managePurchasesDuties === 0) {
                    _this.displayedColumns.pop();
                }
            });
            _this.circleService.getPurchaseDuty(_this.user).subscribe(function (data) {
                console.log(data);
                _this.tempArray = data;
                _this.dataSource.data = _this.tempArray;
                _this.length = data.length;
            });
        });
        this.dataSource.sort = this.sort;
        this.dataSource.paginator = this.paginator;
    };
    PurchaseDutiesComponent.prototype.requestInvoice = function (row) {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_4__requestinvoice_requestinvoice_component__["a" /* RequestinvoiceComponent */], { data: row, autoFocus: false, disableClose: true });
    };
    PurchaseDutiesComponent.prototype.requestDutySlip = function (row) {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_5__requestdutyslip_requestdutyslip_component__["a" /* RequestdutyslipComponent */], { data: row, autoFocus: false, disableClose: true });
    };
    PurchaseDutiesComponent.prototype.sendDutySlip = function (row) {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_7__senddutyslip_senddutyslip_component__["a" /* SenddutyslipComponent */], { data: row, autoFocus: false, disableClose: true });
    };
    PurchaseDutiesComponent.prototype.search = function (filterValue) {
        this.dataSource.filter = filterValue.trim().toLowerCase();
    };
    PurchaseDutiesComponent.prototype.searchByDate = function () {
        var _this = this;
        console.log("yes");
        if (this.filterStart == '') {
            this.circleService.filterByDate({ ownerId: this.user.ownerId, startDate: '1970-01-01', endDate: this.filterEnd }).subscribe(function (data) {
                _this.tempArray = data;
                _this.dataSource.data = _this.tempArray;
                _this.length = data.length;
                _this.dataSource.sort = _this.sort;
                _this.dataSource.paginator = _this.paginator;
            });
        }
        else if (this.filterEnd == '') {
            this.circleService.filterByDate({ ownerId: this.user.ownerId, startDate: this.filterStart, endDate: '2050-12-31' }).subscribe(function (data) {
                _this.tempArray = data;
                _this.dataSource.data = _this.tempArray;
                _this.length = data.length;
                _this.dataSource.sort = _this.sort;
                _this.dataSource.paginator = _this.paginator;
            });
        }
        else if (this.filterEnd != '' && this.filterStart != '') {
            this.circleService.filterByDate({ ownerId: this.user.ownerId, startDate: this.filterStart, endDate: this.filterEnd }).subscribe(function (data) {
                _this.tempArray = data;
                _this.dataSource.data = _this.tempArray;
                _this.length = data.length;
                _this.dataSource.sort = _this.sort;
                _this.dataSource.paginator = _this.paginator;
            });
        }
    };
    PurchaseDutiesComponent.prototype.clear = function () {
        var _this = this;
        this.searchTerm = '';
        this.dataSource.filter = "";
        this.filterStart = "";
        this.filterEnd = "";
        this.circleService.getPurchaseDuty(this.user).subscribe(function (data) {
            console.log(data);
            _this.tempArray = data;
            _this.dataSource.data = _this.tempArray;
            _this.length = data.length;
            _this.dataSource.sort = _this.sort;
            _this.dataSource.paginator = _this.paginator;
        });
    };
    PurchaseDutiesComponent.prototype.viewDutySlip = function (row) {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_6__viewdutyslip_viewdutyslip_component__["a" /* ViewdutyslipComponent */], { data: row, autoFocus: false, disableClose: true });
    };
    PurchaseDutiesComponent.prototype.openCloseDuty = function (row) {
        var _this = this;
        // if(row.subStatus != 'Ended') {
        //   this.snackBar.open("The Current duty is ongoing", "X", {duration: 3000});
        // }
        // else {
        this.DutiesService.checkSelfDrive(row).subscribe(function (data) {
            if (data[0].dType == "Self Drive") {
                _this.dialog.open(__WEBPACK_IMPORTED_MODULE_9__duties_selfdrive_selfdrive_component__["a" /* SelfdriveComponent */], { autoFocus: false, disableClose: true, data: { row: row } }).afterClosed().subscribe(function (data) {
                    if (data == 'yes') {
                        _this.dialog.open(__WEBPACK_IMPORTED_MODULE_10__duties_closeduty_closeduty_component__["a" /* ClosedutyComponent */], { autoFocus: false, disableClose: true, data: { row: row } }).afterClosed().subscribe(function (data) {
                            if (data == 'yes') {
                                _this.ws.send(_this.user.ownerId + "duty");
                                _this.ws.send(row.id + "closeTracker");
                            }
                        });
                    }
                });
            }
            else {
                _this.dialog.open(__WEBPACK_IMPORTED_MODULE_10__duties_closeduty_closeduty_component__["a" /* ClosedutyComponent */], { autoFocus: false, disableClose: true, data: { row: row } }).afterClosed().subscribe(function (data) {
                    if (data == 'yes') {
                        _this.ws.send(_this.user.ownerId + "duty");
                        _this.ws.send(row.id + "closeTracker");
                    }
                });
            }
        });
        // }    
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_2__angular_material__["K" /* MatSort */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_2__angular_material__["K" /* MatSort */])
    ], PurchaseDutiesComponent.prototype, "sort", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_2__angular_material__["A" /* MatPaginator */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_2__angular_material__["A" /* MatPaginator */])
    ], PurchaseDutiesComponent.prototype, "paginator", void 0);
    PurchaseDutiesComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-purchase-duties',
            template: __webpack_require__("./src/app/pages/masters/purchase-duties/purchase-duties.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/purchase-duties/purchase-duties.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__core_auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_3__circles_circle_service__["a" /* CircleService */], __WEBPACK_IMPORTED_MODULE_2__angular_material__["n" /* MatDialog */], __WEBPACK_IMPORTED_MODULE_8__duties_duties_service__["a" /* DutiesService */]])
    ], PurchaseDutiesComponent);
    return PurchaseDutiesComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/purchase-invoice/purchase-invoice.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        Purchase Invoices\n      </nb-card-header>\n      <nb-card-body>\n        <div align=\"center\">\n          <mat-form-field class=\"filter-field\">\n            <input matInput  placeholder=\"Filter\"  [(ngModel)]=\"searchTerm\" (keyup)=\"search($event.target.value)\">\n          </mat-form-field>\n      \n          <button mat-icon-button><mat-icon class=\"filter-icon\">search</mat-icon></button>\n          <button mat-icon-button (click)=\"clear()\"><mat-icon class=\"filter-icon\">highlight_off</mat-icon></button>\n        </div>\n        <div>\n          <mat-table #table [dataSource]=\"dataSource\" matSort>\n    \n            <ng-container matColumnDef=\"invoiceNumber\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header>Invoice Number</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.invoiceNumber}} </mat-cell>\n            </ng-container>\n    \n            <ng-container matColumnDef=\"invoiceDate\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header>Invoice Date</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.invoiceDate}} </mat-cell>\n            </ng-container>\n    \n            <ng-container matColumnDef=\"supplier\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header>Supplier</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.cname}} </mat-cell>\n            </ng-container>            \n\n            <ng-container matColumnDef=\"supInvNo\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header>Sup. Inv. No.</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.supplier}} </mat-cell>\n            </ng-container>\n\n            <ng-container matColumnDef=\"supInvDate\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header>Sup. Inv. Dt.</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.supplier}} </mat-cell>\n            </ng-container>\n    \n            <ng-container matColumnDef=\"totalAmount\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header>Total Amount</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.totalAmount}} </mat-cell>\n            </ng-container>\n    \n            <ng-container matColumnDef=\"paidAmount\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header>Paid Amount</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.supplier}} </mat-cell>\n            </ng-container>\n\n            <ng-container matColumnDef=\"outstandingAmount\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header>Outstanding Amount</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.supplier}} </mat-cell>\n            </ng-container>\n\n            <ng-container matColumnDef=\"stats\">                \n              <mat-header-cell *matHeaderCellDef></mat-header-cell>\n              <mat-cell *matCellDef=\"let element\">\n                <mat-icon *ngIf=\"element.isDownloaded\">save</mat-icon>\n                <mat-icon *ngIf=\"element.isPrinted\">print</mat-icon>\n                <mat-icon *ngIf=\"element.isMailed\">mail</mat-icon>\n              </mat-cell>              \n            </ng-container>\n\n            <ng-container matColumnDef=\"Options\">\n              <mat-header-cell *matHeaderCellDef>Options</mat-header-cell>\n              <mat-cell *matCellDef=\"let element ;let row\" (click)=\"$event.stopPropagation()\">\n                <button mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>\n                <mat-menu #menu=\"matMenu\">\n                  <!-- <button mat-menu-item (click)=\"viewInvoice(row)\">View</button> -->\n                  <button (click)=\"printInvoice(row)\" mat-menu-item>Print</button>\n                  <button (click)=\"markAsComlimentary()\" mat-menu-item>Mark as Complimentary</button>\n                </mat-menu>\n              </mat-cell>\n            </ng-container>\n                    \n            <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n            <mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"viewInvoice(row)\"></mat-row>\n    \n          </mat-table>\n    \n          <mat-paginator [length]=\"length\"\n            [pageSize]=\"pageSize\"\n            [pageSizeOptions]=\"pageSizeOptions\"></mat-paginator>\n    \n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"col-lg-12\" align=\"right\">\n    <a *ngIf=\"permission.addPurchasesInvoices==1\" (click)=\"addPurchaseInvoices()\" class=\"float\">\n      <i style=\"color: ghostwhite\" class=\"fa fa-plus my-float\"></i>\n    </a>\n  </div>\n</div>  "

/***/ }),

/***/ "./src/app/pages/masters/purchase-invoice/purchase-invoice.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/purchase-invoice/purchase-invoice.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PurchaseInvoiceComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__sub_users_sub_user_service__ = __webpack_require__("./src/app/pages/masters/sub-users/sub-user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var PurchaseInvoiceComponent = (function () {
    function PurchaseInvoiceComponent(dialog, auth, router, permissionService, invoiceService) {
        this.dialog = dialog;
        this.auth = auth;
        this.router = router;
        this.permissionService = permissionService;
        this.invoiceService = invoiceService;
        this.pageSize = 5;
        this.pageSizeOptions = [10, 15, 25, 40];
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
        this.permission = {};
        this.user = {};
        this.displayedColumns = ['invoiceNumber', 'invoiceDate', 'supplier', 'supInvNo', 'supInvDate', 'totalAmount', 'paidAmount', 'outstandingAmount', 'stats', 'Options'];
    }
    PurchaseInvoiceComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.auth.permissions.subscribe(function (data) {
                _this.permission = data[0];
                if (_this.permission.managePurchasesInvoices === 0) {
                    _this.displayedColumns.pop();
                }
                if (data[0].viewPurchasesInvoices == 1) {
                    _this.invoiceService.getPurchaseInvoices(_this.user).subscribe(function (data) {
                        console.log(data);
                        _this.dataSource.data = data;
                        _this.length = data.length;
                    });
                }
                else {
                    window.alert("You do not have permission to access purchase invoices");
                }
            });
        });
    };
    PurchaseInvoiceComponent.prototype.search = function (filterValue) {
        this.dataSource.filter = filterValue.trim().toLowerCase();
    };
    PurchaseInvoiceComponent.prototype.clear = function () {
        this.searchTerm = '';
        this.dataSource.filter = '';
    };
    PurchaseInvoiceComponent.prototype.addPurchaseInvoices = function () {
        this.router.navigateByUrl('/pages/masters/addPurchase');
    };
    PurchaseInvoiceComponent.prototype.viewInvoice = function (row) {
        localStorage.setItem('purchaseinvoice', JSON.stringify(row));
        this.router.navigateByUrl('/pages/masters/viewpurchaseinvoice');
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], PurchaseInvoiceComponent.prototype, "sort", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */])
    ], PurchaseInvoiceComponent.prototype, "paginator", void 0);
    PurchaseInvoiceComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-purchase-invoice',
            template: __webpack_require__("./src/app/pages/masters/purchase-invoice/purchase-invoice.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/purchase-invoice/purchase-invoice.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__sub_users_sub_user_service__["a" /* SubUserService */],
            __WEBPACK_IMPORTED_MODULE_5__createinvoice_invoice_service__["a" /* InvoiceService */]])
    ], PurchaseInvoiceComponent);
    return PurchaseInvoiceComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/purchase-payments/purchase-payments.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        Purchase Payments\n      </nb-card-header>\n      <nb-card-body>\n        <div align=\"center\">\n          <mat-form-field class=\"filter-field\">\n            <input matInput  placeholder=\"Filter\"  [(ngModel)]=\"searchTerm\" (keyup)=\"search($event.target.value)\">\n          </mat-form-field>\n      \n          <button mat-icon-button><mat-icon class=\"filter-icon\">search</mat-icon></button>\n          <button mat-icon-button (click)=\"clear()\"><mat-icon class=\"filter-icon\">highlight_off</mat-icon></button>\n        </div>\n        <div>\n          <mat-table #table [dataSource]=\"dataSource\" matSort>\n      \n            <!-- Date Column -->\n            <!-- <ng-container matColumnDef=\"name\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Name</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.name}} </mat-cell>\n            </ng-container> -->\n    \n            <!-- <ng-container matColumnDef=\"invoiceNumber\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header>Invoice Number</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.invoiceNumber}} </mat-cell>\n            </ng-container> -->\n    \n            <ng-container matColumnDef=\"invoiceDate\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header>Invoice Date</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.date}} </mat-cell>\n            </ng-container>\n    \n            <ng-container matColumnDef=\"supplier\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header>Supplier</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.customerName}} </mat-cell>\n            </ng-container>\n\n            <ng-container matColumnDef=\"purchases\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header>Purchases</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.invoiceArray}} </mat-cell>\n            </ng-container>\n\n            <!-- <ng-container matColumnDef=\"isAdvance\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header>Is Advance?</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.supplier}} </mat-cell>\n            </ng-container> -->\n\n            <!-- <ng-container matColumnDef=\"invoicePeriodFrom\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice Period From</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.invoicePeriodFrom}} </mat-cell>\n            </ng-container>\n    \n            <ng-container matColumnDef=\"invoicePeriodTo\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice Period To</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.invoicePeriodTo}} </mat-cell>\n            </ng-container>\n    \n            <ng-container matColumnDef=\"discountAmount\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Discount Amount</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.discountAmount}} </mat-cell>\n            </ng-container>\n    \n            <ng-container matColumnDef=\"taxAmount\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Tax Amount</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.taxAmount}} </mat-cell>\n            </ng-container> -->\n    \n            <ng-container matColumnDef=\"mode\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header>Mode</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.paymentMode}} </mat-cell>\n            </ng-container>\n\n            <ng-container matColumnDef=\"totalAmount\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header>Total Amount</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.amount}} </mat-cell>\n            </ng-container>\n                \n            <ng-container matColumnDef=\"TDS\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header>TDS</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.tds}} </mat-cell>\n            </ng-container>\n\n            <ng-container matColumnDef=\"adjustment\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header>Adjustment</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.adjustment}} </mat-cell>\n            </ng-container>\n\n            <!-- <ng-container matColumnDef=\"Options\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header>Options</mat-header-cell>\n              <mat-cell *matCellDef=\"let element ;let row\">\n                <button mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>\n                <mat-menu #menu=\"matMenu\">\n                  <button mat-menu-item (click)=\"viewInvoice(row)\">View</button>\n                  <button (click)=\"printInvoice(row)\" mat-menu-item>Print</button>\n                  <button (click)=\"\" mat-menu-item>Mark as Complimentary</button>\n                </mat-menu>\n              </mat-cell>\n            </ng-container> -->\n                    \n            <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n            <mat-row *matRowDef=\"let row; columns: displayedColumns;\"></mat-row>\n    \n          </mat-table>\n    \n          <mat-paginator [length]=\"length\"\n            [pageSize]=\"pageSize\"\n            [pageSizeOptions]=\"pageSizeOptions\"></mat-paginator>\n    \n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"col-lg-12\" align=\"right\">\n    <a *ngIf=\"permission.addPurchasesPayments\" (click)=\"newPurchasePayment()\" class=\"float\">\n      <i style=\"color: ghostwhite\" class=\"fa fa-plus my-float\"></i>\n    </a>  \n</div>\n</div>  "

/***/ }),

/***/ "./src/app/pages/masters/purchase-payments/purchase-payments.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/purchase-payments/purchase-payments.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PurchasePaymentsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__sub_users_sub_user_service__ = __webpack_require__("./src/app/pages/masters/sub-users/sub-user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__addreceipts_receipt_service__ = __webpack_require__("./src/app/pages/masters/addreceipts/receipt.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var PurchasePaymentsComponent = (function () {
    function PurchasePaymentsComponent(dialog, auth, router, permissionService, receiptsService) {
        this.dialog = dialog;
        this.auth = auth;
        this.router = router;
        this.permissionService = permissionService;
        this.receiptsService = receiptsService;
        this.pageSize = 5;
        this.pageSizeOptions = [10, 15, 25, 40];
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
        this.permission = {};
        this.user = {};
        this.displayedColumns = ['invoiceDate', 'supplier', 'purchases', 'mode', 'totalAmount', 'TDS', 'adjustment'];
        this.idArray = [];
    }
    PurchasePaymentsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.auth.permissions.subscribe(function (data) {
                _this.permission = data[0];
                if (data[0].viewReceipts == 1) {
                    _this.receiptsService.getPurchasePayments(_this.user).subscribe(function (data) {
                        console.log(data);
                        _this.tempArray = data;
                        data.forEach(function (element) {
                            _this.idArray.push(element.id);
                        });
                    }, function (err) { }, function () {
                        _this.loadInvoice(_this.idArray);
                    });
                }
                else {
                    window.alert("You do not have permission to view receipts");
                }
            });
        });
    };
    PurchasePaymentsComponent.prototype.search = function (filterValue) {
        this.dataSource.filter = filterValue.trim().toLowerCase();
    };
    PurchasePaymentsComponent.prototype.clear = function () {
        this.searchTerm = '';
        this.dataSource.filter = '';
    };
    PurchasePaymentsComponent.prototype.newPurchasePayment = function () {
        // this.dialog.open(NewpurchasepaymentComponent,{autoFocus:false,disableClose:true});
        this.router.navigateByUrl('/pages/masters/addPurchasePayments');
    };
    PurchasePaymentsComponent.prototype.loadInvoice = function (idArray) {
        var _this = this;
        console.log(this.tempArray);
        this.receiptsService.getInvoiceInPurchasePaymentsByIds({ idArray: idArray }).subscribe(function (data) {
            data.forEach(function (element) {
                var tempIndex = _this.tempArray.findIndex(function (x) { return x.id == element.receiptId; });
                console.log(tempIndex);
                if (tempIndex >= 0) {
                    if (_this.tempArray[tempIndex].invoiceArray == undefined) {
                        _this.tempArray[tempIndex].invoiceArray = [element.invoiceNumber];
                    }
                    else {
                        _this.tempArray[tempIndex].invoiceArray.push(element.invoiceNumber);
                    }
                }
                _this.tempArray[tempIndex].invoiceArray = _this.tempArray[tempIndex].invoiceArray.join(",");
            });
        }, function (err) { }, function () {
            _this.dataSource.data = _this.tempArray;
            _this.dataSource.paginator = _this.paginator;
            _this.dataSource.sort = _this.sort;
            console.log(_this.dataSource.data);
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], PurchasePaymentsComponent.prototype, "sort", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */])
    ], PurchasePaymentsComponent.prototype, "paginator", void 0);
    PurchasePaymentsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-purchase-payments',
            template: __webpack_require__("./src/app/pages/masters/purchase-payments/purchase-payments.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/purchase-payments/purchase-payments.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__sub_users_sub_user_service__["a" /* SubUserService */],
            __WEBPACK_IMPORTED_MODULE_5__addreceipts_receipt_service__["a" /* ReceiptService */]])
    ], PurchasePaymentsComponent);
    return PurchasePaymentsComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/receiptsdisp/receiptsdisp.animations.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return speedDialFabAnimations; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_animations__ = __webpack_require__("./node_modules/@angular/animations/esm5/animations.js");

var speedDialFabAnimations = [
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["n" /* trigger */])('fabToggler', [
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["k" /* state */])('inactive', Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["l" /* style */])({
            transform: 'rotate(0deg)'
        })),
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["k" /* state */])('active', Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["l" /* style */])({
            transform: 'rotate(225deg)'
        })),
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["m" /* transition */])('* <=> *', Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["e" /* animate */])('200ms cubic-bezier(0.4, 0.0, 0.2, 1)')),
    ]),
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["n" /* trigger */])('speedDialStagger', [
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["m" /* transition */])('* => *', [
            Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["h" /* query */])(':enter', Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["l" /* style */])({ opacity: 0 }), { optional: true }),
            Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["h" /* query */])(':enter', Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["j" /* stagger */])('40ms', [
                Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["e" /* animate */])('200ms cubic-bezier(0.4, 0.0, 0.2, 1)', Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["g" /* keyframes */])([
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["l" /* style */])({ opacity: 0, transform: 'translateY(10px)' }),
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["l" /* style */])({ opacity: 1, transform: 'translateY(0)' }),
                ]))
            ]), { optional: true }),
            Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["h" /* query */])(':leave', Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["e" /* animate */])('200ms cubic-bezier(0.4, 0.0, 0.2, 1)', Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["g" /* keyframes */])([
                Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["l" /* style */])({ opacity: 1 }),
                Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["l" /* style */])({ opacity: 0 }),
            ])), { optional: true })
        ])
    ])
];


/***/ }),

/***/ "./src/app/pages/masters/receiptsdisp/receiptsdisp.component.html":
/***/ (function(module, exports) {

module.exports = "<div id=\"fab-dismiss\" \n  *ngIf=\"fabTogglerState==='active'\" \n  (click)=\"onToggleFab()\">\n</div>\n<div>\n  <nb-card>\n    <nb-card-header>\n      Receipts\n    </nb-card-header>\n    <nb-card-body>\n      <mat-tab-group mat-stretch-tabs>\n        <mat-tab *ngIf=\"permission.viewCabReceipts\" label=\"Cab Bookings\">\n          <div align=\"center\">\n            <mat-form-field class=\"filter-field\">\n              <input matInput   placeholder=\"Filter\"   [(ngModel)]=\"searchTerm\" (keyup)=\"search($event.target.value)\">\n            </mat-form-field>\n        \n            <button mat-icon-button><mat-icon class=\"filter-icon\">search</mat-icon></button>\n            <button mat-icon-button (click)=\"clear()\"><mat-icon class=\"filter-icon\">highlight_off</mat-icon></button>\n          </div>\n          <div>\n            <mat-table #table [dataSource]=\"dataSource\" matSort>\n              \n              <!-- Name Column -->\n              <ng-container matColumnDef=\"adjustment\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header>Adjustments </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.adjustment}} </mat-cell>\n              </ng-container>\n      \n              <!-- Weight Column -->\n              <ng-container matColumnDef=\"bankCreditDate\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Bank Credit Date </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.bankCreditDate | date: 'dd-MM-yyyy'}} </mat-cell>\n              </ng-container>\n    \n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"customerGroup\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Customer Group</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.customerGroup}} </mat-cell>\n              </ng-container>\n  \n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"date\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Date </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.date | date: 'dd-MM-yyyy'}} </mat-cell>\n              </ng-container>\n  \n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"invoice\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.invoice}} </mat-cell>\n              </ng-container>\n\n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"number\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Number </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.number}} </mat-cell>\n              </ng-container>\n\n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"paymentMode\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Payment Mode </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.paymentMode}} </mat-cell>\n              </ng-container>\n          \n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"paymentReceived\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Payment Received </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.paymentReceived}} </mat-cell>\n              </ng-container>\n          \n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"receivedInBank\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Received In Bank </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\">\n                  <p style=\"margin: auto\" *ngIf=\"element.receivedInBank==1\">Yes</p>\n                  <p style=\"margin: auto\" *ngIf=\"element.receivedInBank==0\">No</p>\n                </mat-cell>\n              </ng-container>\n\n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"tds\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> TDS </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.tds}} </mat-cell>\n              </ng-container>\n\n              <ng-container matColumnDef=\"Options\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Options</mat-header-cell>\n                <mat-cell *matCellDef=\"let element ;let row\" (click)=\"$event.stopPropagation()\">\n                  <button mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>\n                  <mat-menu #menu=\"matMenu\">\n                    <!-- <button mat-menu-item (click)=\"selectRow(row)\">Edit</button> -->\n                    <button *ngIf=\"permission.manageCabReceipts\" (click)=\"deleteReceipt(row)\" mat-menu-item>Delete</button>\n                  </mat-menu>\n                </mat-cell>\n              </ng-container>\n\n              <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n              <mat-row *matRowDef=\"let row; columns: displayedColumns;\"></mat-row>\n            </mat-table>\n      \n            <mat-paginator [length]=\"length\"\n              [pageSize]=\"pageSize\"\n              [pageSizeOptions]=\"pageSizeOptions\">\n            </mat-paginator>\n          </div>\n        </mat-tab> \n        <mat-tab *ngIf=\"permission.viewHotelReceipts\" label=\"Hotels\">\n          <div align=\"center\">\n            <mat-form-field class=\"filter-field\">\n              <input matInput   placeholder=\"Filter\"   [(ngModel)]=\"searchTermHotel\" (keyup)=\"searchHotel($event.target.value)\">\n            </mat-form-field>\n        \n            <button mat-icon-button><mat-icon class=\"filter-icon\">search</mat-icon></button>\n            <button mat-icon-button (click)=\"clear()\"><mat-icon class=\"filter-icon\">highlight_off</mat-icon></button>\n          </div>\n          <div>\n            <mat-table #table [dataSource]=\"dataSourceHotels\" matSort>\n              \n              <!-- Name Column -->\n              <ng-container matColumnDef=\"adjustment\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header>Adjustments </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.adjustment}} </mat-cell>\n              </ng-container>\n      \n              <!-- Weight Column -->\n              <ng-container matColumnDef=\"bankCreditDate\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Bank Credit Date </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.bankCreditDate | date: 'dd-MM-yyyy'}} </mat-cell>\n              </ng-container>\n    \n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"customerGroup\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Customer Group</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.customerGroup}} </mat-cell>\n              </ng-container>\n  \n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"date\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Date </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.date | date: 'dd-MM-yyyy'}} </mat-cell>\n              </ng-container>\n  \n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"invoice\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.invoice}} </mat-cell>\n              </ng-container>\n\n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"number\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Number </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.number}} </mat-cell>\n              </ng-container>\n\n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"paymentMode\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Payment Mode </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.paymentMode}} </mat-cell>\n              </ng-container>\n          \n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"paymentReceived\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Payment Received </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.paymentReceived}} </mat-cell>\n              </ng-container>\n          \n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"receivedInBank\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Received In Bank </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\">\n                  <p style=\"margin: auto\" *ngIf=\"element.receivedInBank==1\">Yes</p>\n                  <p style=\"margin: auto\" *ngIf=\"element.receivedInBank==0\">No</p>\n                </mat-cell>\n              </ng-container>\n\n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"tds\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> TDS </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.tds}} </mat-cell>\n              </ng-container>\n\n              <ng-container matColumnDef=\"Options\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Options</mat-header-cell>\n                <mat-cell *matCellDef=\"let element ;let row\" (click)=\"$event.stopPropagation()\">\n                  <button mat-icon-button [matMenuTriggerFor]=\"hotelmenu\"><mat-icon>more_vert</mat-icon></button>\n                  <mat-menu #hotelmenu=\"matMenu\">\n                    <!-- <button mat-menu-item (click)=\"selectRow(row)\">Edit</button> -->\n                    <button *ngIf=\"permission.manageHotelReceipts\" (click)=\"deleteHotelReceipt(row)\" mat-menu-item>Delete</button>\n                  </mat-menu>\n                </mat-cell>\n              </ng-container>\n\n              <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n              <mat-row *matRowDef=\"let row; columns: displayedColumns;\"></mat-row>\n            </mat-table>\n      \n            <mat-paginator [length]=\"lengthHotels\"\n              [pageSize]=\"pageSizeHotels\"\n              [pageSizeOptions]=\"pageSizeOptionsHotels\">\n            </mat-paginator>\n          </div>\n        </mat-tab>\n        <mat-tab *ngIf=\"permission.viewFlightReceipts\" label=\"Flights\">\n          <div align=\"center\">\n            <mat-form-field class=\"filter-field\">\n              <input matInput   placeholder=\"Filter\"   [(ngModel)]=\"searchTermFlights\" (keyup)=\"searchFlights($event.target.value)\">\n            </mat-form-field>\n        \n            <button mat-icon-button><mat-icon class=\"filter-icon\">search</mat-icon></button>\n            <button mat-icon-button (click)=\"clear()\"><mat-icon class=\"filter-icon\">highlight_off</mat-icon></button>\n          </div>\n          <div>\n            <mat-table #table [dataSource]=\"dataSourceFlights\" matSort>\n              \n              <!-- Name Column -->\n              <ng-container matColumnDef=\"adjustment\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header>Adjustments </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.adjustment}} </mat-cell>\n              </ng-container>\n      \n              <!-- Weight Column -->\n              <ng-container matColumnDef=\"bankCreditDate\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Bank Credit Date </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.bankCreditDate | date: 'dd-MM-yyyy'}} </mat-cell>\n              </ng-container>\n    \n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"customerGroup\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Customer Group</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.customerGroup}} </mat-cell>\n              </ng-container>\n  \n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"date\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Date </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.date | date: 'dd-MM-yyyy'}} </mat-cell>\n              </ng-container>\n  \n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"invoice\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.invoice}} </mat-cell>\n              </ng-container>\n\n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"number\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Number </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.number}} </mat-cell>\n              </ng-container>\n\n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"paymentMode\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Payment Mode </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.paymentMode}} </mat-cell>\n              </ng-container>\n          \n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"paymentReceived\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Payment Received </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.paymentReceived}} </mat-cell>\n              </ng-container>\n          \n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"receivedInBank\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Received In Bank </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\">\n                  <p style=\"margin: auto\" *ngIf=\"element.receivedInBank==1\">Yes</p>\n                  <p style=\"margin: auto\" *ngIf=\"element.receivedInBank==0\">No</p>\n                </mat-cell>\n              </ng-container>\n\n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"tds\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> TDS </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.tds}} </mat-cell>\n              </ng-container>\n\n              <ng-container matColumnDef=\"Options\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Options</mat-header-cell>\n                <mat-cell *matCellDef=\"let element ;let row\" (click)=\"$event.stopPropagation()\">\n                  <button mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>\n                  <mat-menu #menu=\"matMenu\">\n                    <!-- <button mat-menu-item (click)=\"selectRow(row)\">Edit</button> -->\n                    <button *ngIf=\"permission.manageFlightReceipts\" (click)=\"deleteFlightsReceipt(row)\" mat-menu-item>Delete</button>\n                  </mat-menu>\n                </mat-cell>\n              </ng-container>\n\n              <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n              <mat-row *matRowDef=\"let row; columns: displayedColumns;\"></mat-row>\n            </mat-table>\n      \n            <mat-paginator [length]=\"lengthFlights\"\n              [pageSize]=\"pageSizeFlights\"\n              [pageSizeOptions]=\"pageSizeOptionsFlights\">\n            </mat-paginator>\n          </div>\n        </mat-tab>\n        <mat-tab *ngIf=\"permission.viewVisaReceipts\" label=\"Visa\">\n          <div align=\"center\">\n            <mat-form-field class=\"filter-field\">\n              <input matInput   placeholder=\"Filter\"   [(ngModel)]=\"searchTermVisa\" (keyup)=\"searchVisa($event.target.value)\">\n            </mat-form-field>\n        \n            <button mat-icon-button><mat-icon class=\"filter-icon\">search</mat-icon></button>\n            <button mat-icon-button (click)=\"clear()\"><mat-icon class=\"filter-icon\">highlight_off</mat-icon></button>\n          </div>\n          <div>\n            <mat-table #table [dataSource]=\"dataSourceVisa\" matSort>\n              \n              <!-- Name Column -->\n              <ng-container matColumnDef=\"adjustment\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header>Adjustments </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.adjustment}} </mat-cell>\n              </ng-container>\n      \n              <!-- Weight Column -->\n              <ng-container matColumnDef=\"bankCreditDate\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Bank Credit Date </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.bankCreditDate | date: 'dd-MM-yyyy'}} </mat-cell>\n              </ng-container>\n    \n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"customerGroup\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Customer Group</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.customerGroup}} </mat-cell>\n              </ng-container>\n  \n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"date\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Date </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.date | date: 'dd-MM-yyyy'}} </mat-cell>\n              </ng-container>\n  \n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"invoice\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.invoice}} </mat-cell>\n              </ng-container>\n\n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"number\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Number </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.number}} </mat-cell>\n              </ng-container>\n\n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"paymentMode\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Payment Mode </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.paymentMode}} </mat-cell>\n              </ng-container>\n          \n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"paymentReceived\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Payment Received </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.paymentReceived}} </mat-cell>\n              </ng-container>\n          \n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"receivedInBank\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Received In Bank </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\">\n                  <p style=\"margin: auto\" *ngIf=\"element.receivedInBank==1\">Yes</p>\n                  <p style=\"margin: auto\" *ngIf=\"element.receivedInBank==0\">No</p>\n                </mat-cell>\n              </ng-container>\n\n              <!-- Symbol Column --> \n              <ng-container matColumnDef=\"tds\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> TDS </mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.tds}} </mat-cell>\n              </ng-container>\n\n              <ng-container matColumnDef=\"Options\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header> Options</mat-header-cell>\n                <mat-cell *matCellDef=\"let element ;let row\" (click)=\"$event.stopPropagation()\">\n                  <button mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>\n                  <mat-menu #menu=\"matMenu\">\n                    <!-- <button mat-menu-item (click)=\"selectRow(row)\">Edit</button> -->\n                    <button *ngIf=\"permission.manageVisaReceipts\" (click)=\"deleteVisaReceipt(row)\" mat-menu-item>Delete</button>\n                  </mat-menu>\n                </mat-cell>\n              </ng-container>\n\n              <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n              <mat-row *matRowDef=\"let row; columns: displayedColumns;\"></mat-row>\n            </mat-table>\n      \n            <mat-paginator [length]=\"lengthVisa\"\n              [pageSize]=\"pageSizeVisa\"\n              [pageSizeOptions]=\"pageSizeOptionsVisa\">\n            </mat-paginator>\n          </div>\n        </mat-tab>\n      </mat-tab-group>\n\n      <div class=\"col-lg-12\" align=\"right\">\n        <div class=\"fab-container\">\n          <button mat-fab class=\"fab-toggler\"\n            (click)=\"onToggleFab()\">\n            <i class=\"material-icons\" [@fabToggler]=\"{value: fabTogglerState}\">add</i> <!-- Animation here -->\n          </button>\n          <div [@speedDialStagger]=\"buttons.length\"> <!-- and here -->\n            <button               \n              *ngFor=\"let btn of buttons; let i = index\"\n              mat-mini-fab\n              class=\"fab-secondary\"\n              color=\"secondary\"\n              (click)=\"openReceipt(i)\">\n              <i class=\"material-icons\">{{btn.icon}}</i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </nb-card-body>\n  </nb-card>\n</div>\n\n  <!-- <div class=\"col-lg-12\" align=\"right\">\n    <a *ngIf=\"permission.manageReceipts==1\" (click)=\"addReceipt()\" class=\"float\">\n      <i style=\"color: ghostwhite\" class=\"fa fa-plus my-float\"></i>\n    </a>\n  </div> -->\n  \n    "

/***/ }),

/***/ "./src/app/pages/masters/receiptsdisp/receiptsdisp.component.scss":
/***/ (function(module, exports) {

module.exports = ".mat-table {\n  display: table;\n  width: 100%; }\n  .mat-table > .mat-header-row, .mat-table > .mat-row {\n    display: table-row;\n    padding: 5px;\n    border: none; }\n  .mat-table > .mat-header-row > .mat-header-cell, .mat-table > .mat-header-row > .mat-cell, .mat-table > .mat-row > .mat-header-cell, .mat-table > .mat-row > .mat-cell {\n      display: table-cell;\n      vertical-align: middle;\n      padding: 5px;\n      border-bottom: 1px solid rgba(0, 0, 0, 0.12); }\n  ::ng-deep .mat-sort-header-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: left;\n      -ms-flex-pack: left;\n          justify-content: left;\n  color: black; }\n  button.mat-menu-item {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px; }\n  .mat-chip {\n  height: 30px;\n  line-height: 30px; }\n  .mat-icon {\n  font-size: 17px; }\n  .mat-column-date {\n  white-space: nowrap; }\n  .fab-container {\n  position: fixed;\n  bottom: 15px;\n  right: 15px;\n  z-index: 100;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: reverse;\n      -ms-flex-direction: column-reverse;\n          flex-direction: column-reverse;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n  .fab-container > div {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: reverse;\n        -ms-flex-direction: column-reverse;\n            flex-direction: column-reverse;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    margin-bottom: 5px; }\n  .fab-container > div button {\n      margin-bottom: 17px; }\n  .fab-toggler {\n  float: right;\n  z-index: 100; }\n  #fab-dismiss {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 99; }\n  .mat-fab.mat-accent, .mat-mini-fab.mat-accent, .mat-raised-button.mat-accent {\n  background-color: #0C9; }\n  .mat-chip {\n  font-size: 12px;\n  height: 35px;\n  line-height: 12px; }\n"

/***/ }),

/***/ "./src/app/pages/masters/receiptsdisp/receiptsdisp.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ReceiptsdispComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__addreceipts_receipt_service__ = __webpack_require__("./src/app/pages/masters/addreceipts/receipt.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__addreceipts_addreceipts_component__ = __webpack_require__("./src/app/pages/masters/addreceipts/addreceipts.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__modals_confirm_confirm_component__ = __webpack_require__("./src/app/pages/modals/confirm/confirm.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__sub_users_sub_user_service__ = __webpack_require__("./src/app/pages/masters/sub-users/sub-user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__receiptsdisp_animations__ = __webpack_require__("./src/app/pages/masters/receiptsdisp/receiptsdisp.animations.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var ReceiptsdispComponent = (function () {
    function ReceiptsdispComponent(receiptsService, dialog, auth, snackBar, permissionService, router) {
        this.receiptsService = receiptsService;
        this.dialog = dialog;
        this.auth = auth;
        this.snackBar = snackBar;
        this.permissionService = permissionService;
        this.router = router;
        this.pageSize = 10; // set default to 10
        this.pageSizeOptions = [10, 15, 25, 40];
        this.lengthHotels = 100;
        this.pageSizeHotels = 5;
        this.pageSizeOptionsHotels = [10, 15, 25, 40];
        this.lengthFlights = 100;
        this.pageSizeFlights = 5;
        this.pageSizeOptionsFlights = [10, 15, 25, 40];
        this.lengthVisa = 100;
        this.pageSizeVisa = 5;
        this.pageSizeOptionsVisa = [10, 15, 25, 40];
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
        this.dataSourceHotels = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
        this.dataSourceFlights = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
        this.dataSourceVisa = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
        this.users = {};
        this.displayedColumns = ['adjustment', 'bankCreditDate', 'customerGroup', 'date', 'invoice', 'number', 'paymentMode', 'paymentReceived', 'receivedInBank', 'tds', 'Options']; //,'Passenger','vgroup','dutyt','status'];
        this.permission = {};
        this.fabButtons = [
            {
                icon: 'flight',
                click: 'createFlightReceipt()'
            },
            {
                icon: 'directions_car',
                click: 'createInvoiceReceipt()'
            },
            {
                icon: 'store',
                click: 'createHotelReceipt()'
            },
            {
                icon: 'chrome_reader_mode',
                click: 'createVisaReceipt()'
            }
        ];
        this.buttons = [];
        this.fabTogglerState = 'inactive';
    }
    ReceiptsdispComponent.prototype.selectRow = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_3__addreceipts_addreceipts_component__["a" /* AddReceiptsComponent */], { autoFocus: false, disableClose: true, data: row }).afterClosed().subscribe(function (data) {
            if (data == undefined) { }
            else {
                if (data.inserted == 'yes') {
                    _this.tempArray1.push(data.data);
                    _this.dataSource.data = _this.tempArray1;
                }
            }
        });
    };
    ReceiptsdispComponent.prototype.addReceipt = function () {
        this.router.navigate(['pages/masters/addReceipts']);
    };
    ReceiptsdispComponent.prototype.ngOnInit = function () {
        var _this = this;
        var HOST = location.origin.replace(/^http/, 'ws');
        this.ws = new WebSocket(HOST);
        this.ws.onmessage = function (event) {
            var _this = this;
            if (event.data == this.user.ownerId + 'receipt') {
                this.receiptsService.getReceipt(this.users).subscribe(function (data) {
                    _this.tempArray1 = data;
                    _this.dataSource.data = _this.tempArray1;
                });
                this.receiptsService.getHotelReceipt(this.users).subscribe(function (data) {
                    _this.tempArray2 = data;
                    _this.dataSourceHotels.data = _this.tempArray2;
                });
                this.receiptsService.getFlightReceipt(this.users).subscribe(function (data) {
                    _this.tempArray3 = data;
                    _this.dataSourceFlights.data = _this.tempArray3;
                });
                this.receiptsService.getVisaReceipt(this.users).subscribe(function (data) {
                    _this.tempArray4 = data;
                    _this.dataSourceVisa.data = _this.tempArray4;
                });
            }
        }.bind(this);
        this.auth.user.subscribe(function (data) {
            _this.users = data[0];
            _this.auth.permissions.subscribe(function (data) {
                _this.permission = data[0];
                if (_this.permission.manageCabReceipts === 0) {
                    _this.displayedColumns.pop();
                }
                if (_this.permission.addCabReceipts === 0) {
                    var index = _this.fabButtons.findIndex(function (x) { return x.icon === 'directions_car'; });
                    _this.fabButtons.splice(index, 1);
                }
                if (_this.permission.addFlightReceipts === 0) {
                    var index = _this.fabButtons.findIndex(function (x) { return x.icon === 'flight'; });
                    _this.fabButtons.splice(index, 1);
                }
                if (_this.permission.addHotelReceipts === 0) {
                    var index = _this.fabButtons.findIndex(function (x) { return x.icon === 'dstore'; });
                    _this.fabButtons.splice(index, 1);
                }
                if (_this.permission.addVisaReceipts === 0) {
                    var index = _this.fabButtons.findIndex(function (x) { return x.icon === 'chrome_reader_mode'; });
                    _this.fabButtons.splice(index, 1);
                }
                if (data[0].viewReceipts == 1) {
                    _this.receiptsService.getReceipt(_this.users).subscribe(function (data) {
                        _this.tempArray1 = data;
                        _this.dataSource.data = _this.tempArray1;
                    });
                    _this.receiptsService.getHotelReceipt(_this.users).subscribe(function (data) {
                        _this.tempArray2 = data;
                        _this.dataSourceHotels.data = _this.tempArray2;
                    });
                    _this.receiptsService.getFlightReceipt(_this.users).subscribe(function (data) {
                        _this.tempArray3 = data;
                        _this.dataSourceFlights.data = _this.tempArray3;
                    });
                    _this.receiptsService.getVisaReceipt(_this.users).subscribe(function (data) {
                        _this.tempArray4 = data;
                        _this.dataSourceVisa.data = _this.tempArray4;
                    });
                }
                else {
                    window.alert("You do not have permission to view receipts");
                }
            });
        });
        this.dataSource.sort = this.sort1;
        this.dataSource.paginator = this.paginator1;
        this.dataSourceHotels.sort = this.sort2;
        this.dataSourceHotels.paginator = this.paginator2;
        this.dataSourceFlights.sort = this.sort3;
        this.dataSourceFlights.paginator = this.paginator3;
        this.dataSourceVisa.sort = this.sort4;
        this.dataSourceVisa.paginator = this.paginator4;
    };
    ReceiptsdispComponent.prototype.search = function (filterValue) {
        this.dataSource.filter = filterValue.trim().toLowerCase();
    };
    ReceiptsdispComponent.prototype.searchHotel = function (filterValue) {
        this.dataSourceHotels.filter = filterValue.trim().toLowerCase();
    };
    ReceiptsdispComponent.prototype.searchFlights = function (filterValue) {
        this.dataSourceFlights.filter = filterValue.trim().toLowerCase();
    };
    ReceiptsdispComponent.prototype.searchVisa = function (filterValue) {
        this.dataSourceVisa.filter = filterValue.trim().toLowerCase();
    };
    ReceiptsdispComponent.prototype.clear = function () {
        this.searchTerm = '';
        this.dataSource.filter = '';
        this.searchTermFlights = '';
        this.searchTermVisa = '';
        this.dataSource.filter = '';
        this.dataSourceFlights.filter = '';
        this.dataSourceHotels.filter = '';
        this.dataSourceVisa.filter = '';
    };
    ReceiptsdispComponent.prototype.openReceipt = function (i) {
        if (i == 0) {
            this.createFlightReceipt();
        }
        else if (i == 1) {
            this.createReceipt();
        }
        else if (i == 2) {
            this.createHotelReceipt();
        }
        else if (i == 3) {
            this.createVisaReceipt();
        }
    };
    ReceiptsdispComponent.prototype.createReceipt = function () {
        this.router.navigateByUrl('/pages/masters/addReceipts');
    };
    ReceiptsdispComponent.prototype.createFlightReceipt = function () {
        this.router.navigateByUrl('/pages/masters/addFlightReceipts');
    };
    ReceiptsdispComponent.prototype.createHotelReceipt = function () {
        this.router.navigateByUrl('/pages/masters/addHotelReceipts');
    };
    ReceiptsdispComponent.prototype.createVisaReceipt = function () {
        this.router.navigateByUrl('/pages/masters/addVisaReceipts');
    };
    ReceiptsdispComponent.prototype.deleteReceipt = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_5__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.receiptsService.deleteReceipt(row).subscribe(function (data) {
                    if (data.errno == undefined) {
                        var i = _this.tempArray1.indexOf(row);
                        _this.tempArray1.splice(i, 1);
                        _this.dataSource.data = _this.tempArray1;
                        _this.snackBar.open("One Booking Deleted", "X", { duration: 3000 });
                        // this.ws.send(this.users.ownerId+'receipt');
                    }
                    else {
                        if (data.errno == 1451) {
                            window.alert("Cannot delete because you have corresponding Data");
                        }
                        else {
                            window.alert("Error Cannot Delete Booking");
                        }
                    }
                });
            }
        });
    };
    ReceiptsdispComponent.prototype.showItems = function () {
        this.fabTogglerState = 'active';
        this.buttons = this.fabButtons;
    };
    ReceiptsdispComponent.prototype.hideItems = function () {
        this.fabTogglerState = 'inactive';
        this.buttons = [];
    };
    ReceiptsdispComponent.prototype.onToggleFab = function () {
        this.buttons.length ? this.hideItems() : this.showItems();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('sort1'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], ReceiptsdispComponent.prototype, "sort1", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('sort2'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], ReceiptsdispComponent.prototype, "sort2", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('sort3'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], ReceiptsdispComponent.prototype, "sort3", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('sort4'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], ReceiptsdispComponent.prototype, "sort4", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */])
    ], ReceiptsdispComponent.prototype, "paginator1", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */])
    ], ReceiptsdispComponent.prototype, "paginator2", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */])
    ], ReceiptsdispComponent.prototype, "paginator3", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */])
    ], ReceiptsdispComponent.prototype, "paginator4", void 0);
    ReceiptsdispComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-receiptsdisp',
            template: __webpack_require__("./src/app/pages/masters/receiptsdisp/receiptsdisp.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/receiptsdisp/receiptsdisp.component.scss")],
            animations: __WEBPACK_IMPORTED_MODULE_8__receiptsdisp_animations__["a" /* speedDialFabAnimations */]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__addreceipts_receipt_service__["a" /* ReceiptService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_4__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_6__sub_users_sub_user_service__["a" /* SubUserService */],
            __WEBPACK_IMPORTED_MODULE_7__angular_router__["c" /* Router */]])
    ], ReceiptsdispComponent);
    return ReceiptsdispComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/recurringbookby/recurringbookby.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n    <div class=\"col-lg-12\">\n      <nb-card>\n  \n          <nb-card-header>\n            Booked By\n          </nb-card-header>\n            <nb-card-body>\n            <div align=\"center\">\n                <mat-form-field class=\"filter-field\">\n                    <input matInput   placeholder=\"Filter\"   [(ngModel)]=\"searchTerm\" (keyup)=\"search($event.target.value)\">\n                  </mat-form-field>\n          \n                  <button mat-icon-button><mat-icon class=\"filter-icon\">search</mat-icon></button>\n                  <button mat-icon-button (click)=\"clear()\"><mat-icon class=\"filter-icon\">highlight_off</mat-icon></button> \n              </div>\n          <mat-table #table [dataSource]=\"dataSource\" matSort matSortActive=\"startDate\" matSortDirection=\"asc\" matSortDisableClear >\n        \n          <ng-container matColumnDef=\"name\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Name </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.name}} </mat-cell>\n          </ng-container>\n  \n            <ng-container matColumnDef=\"phoneNo\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Phone </mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.phoneNo}} </mat-cell>\n            </ng-container>\n  \n            <ng-container matColumnDef=\"emailId\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Email Id </mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.emailId}} </mat-cell>\n            </ng-container>\n\n            <ng-container matColumnDef=\"address\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Address </mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.address}} </mat-cell>\n            </ng-container>\n  \n            <ng-container matColumnDef=\"Options\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Options</mat-header-cell>\n              <mat-cell *matCellDef=\"let element ;let row\" (click)=\"$event.stopPropagation()\">\n                <button mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>\n                <mat-menu #menu=\"matMenu\">\n  \n                <button (click)=\"edit(row)\" mat-menu-item>Edit</button>\n                <button (click)=\"delete(row)\" mat-menu-item>Delete</button>\n                </mat-menu>\n              </mat-cell>\n            </ng-container>\n        \n            <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n            <mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"edit(row)\"></mat-row>\n          </mat-table>\n          <mat-paginator [length]=\"length\"\n          [pageSize]=\"pageSize\"\n          [pageSizeOptions]=\"pageSizeOptions\"\n          ></mat-paginator>\n  \n      </nb-card-body>\n    </nb-card>\n\n    <div class=\"col-lg-12\" align=\"right\">\n      <a *ngIf=\"permission.addRecurringBookedBy\" (click)=\"newBookBy()\" class=\"float\">\n        <i style=\"color: ghostwhite\" class=\"fa fa-plus my-float\"></i>\n      </a>  \n    </div>\n    </div>\n  </div>"

/***/ }),

/***/ "./src/app/pages/masters/recurringbookby/recurringbookby.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/recurringbookby/recurringbookby.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RecurringbookbyComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__operations_bookings_service__ = __webpack_require__("./src/app/pages/operations/bookings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__editrecurringbookby_editrecurringbookby_component__ = __webpack_require__("./src/app/pages/masters/editrecurringbookby/editrecurringbookby.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__modals_confirm_confirm_component__ = __webpack_require__("./src/app/pages/modals/confirm/confirm.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var RecurringbookbyComponent = (function () {
    function RecurringbookbyComponent(bookingService, auth, editRecurringBookBy, dialog, snackBar) {
        this.bookingService = bookingService;
        this.auth = auth;
        this.editRecurringBookBy = editRecurringBookBy;
        this.dialog = dialog;
        this.snackBar = snackBar;
        this.pageSize = 5;
        this.pageSizeOptions = [10, 15, 25, 40];
        this.user = {};
        this.permission = {};
        this.displayedColumns = ['name', 'phoneNo', 'emailId', 'address', 'Options'];
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_3__angular_material__["O" /* MatTableDataSource */]();
        this.tempArray = [];
    }
    RecurringbookbyComponent.prototype.ngOnInit = function () {
        var _this = this;
        var HOST = location.origin.replace(/^http/, 'ws');
        this.ws = new WebSocket(HOST);
        this.ws.onmessage = function (event) {
            var _this = this;
            if (event.data == this.user.ownerId + 'edit')
                this.bookingService.getRecurringBookedByAll(this.user).subscribe(function (data) {
                    _this.tempArray = data;
                    _this.dataSource.data = _this.tempArray;
                });
        }.bind(this);
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.auth.permissions.subscribe(function (data) {
                _this.permission = data[0];
                if (_this.permission.manageRecurringBookedBy === 0) {
                    _this.displayedColumns.pop();
                }
            });
            _this.bookingService.getRecurringBookedByAll(_this.user).subscribe(function (data) {
                console.log(data);
                _this.tempArray = data;
                _this.dataSource.data = _this.tempArray;
                _this.length = data.length;
            });
        });
        this.dataSource.sort = this.sort;
        this.dataSource.paginator = this.paginator;
    };
    RecurringbookbyComponent.prototype.newBookBy = function () {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_4__editrecurringbookby_editrecurringbookby_component__["a" /* EditrecurringbookbyComponent */], { autoFocus: false, disableClose: true }).afterClosed().subscribe(function (data) {
            console.log(data);
            if (data.inserted == 'yes') {
                _this.tempArray.push(data.data);
                _this.dataSource.data = _this.tempArray;
            }
        });
    };
    RecurringbookbyComponent.prototype.edit = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_4__editrecurringbookby_editrecurringbookby_component__["a" /* EditrecurringbookbyComponent */], { data: row, autoFocus: false, disableClose: true }).afterClosed().subscribe(function (data) {
            console.log(data);
            if (data == 'edit') {
                _this.ws.send(_this.user.ownerId + 'edit');
            }
        });
    };
    RecurringbookbyComponent.prototype.search = function (filterValue) {
        this.dataSource.filter = filterValue.trim().toLowerCase();
    };
    RecurringbookbyComponent.prototype.clear = function () {
        this.searchTerm = '';
        this.dataSource.filter = '';
    };
    RecurringbookbyComponent.prototype.delete = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_5__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.editRecurringBookBy.deleteBookBy(row).subscribe(function (data) {
                    console.log(data);
                    if (data.errno == undefined) {
                        var i = _this.tempArray.indexOf(row);
                        _this.tempArray.splice(i, 1);
                        _this.dataSource.data = _this.tempArray;
                        _this.snackBar.open("Recurring BookBy Deleted", "X", { duration: 3000 });
                    }
                });
            }
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_3__angular_material__["K" /* MatSort */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_3__angular_material__["K" /* MatSort */])
    ], RecurringbookbyComponent.prototype, "sort", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_3__angular_material__["A" /* MatPaginator */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_3__angular_material__["A" /* MatPaginator */])
    ], RecurringbookbyComponent.prototype, "paginator", void 0);
    RecurringbookbyComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'recurringbookby',
            template: __webpack_require__("./src/app/pages/masters/recurringbookby/recurringbookby.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/recurringbookby/recurringbookby.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__operations_bookings_service__["a" /* BookingsService */],
            __WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_4__editrecurringbookby_editrecurringbookby_component__["a" /* EditrecurringbookbyComponent */],
            __WEBPACK_IMPORTED_MODULE_3__angular_material__["n" /* MatDialog */], __WEBPACK_IMPORTED_MODULE_3__angular_material__["I" /* MatSnackBar */]])
    ], RecurringbookbyComponent);
    return RecurringbookbyComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/recurringpassenger/recurringpassenger.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n    <div class=\"col-lg-12\">\n      <nb-card>\n  \n          <nb-card-header>\n            Passenger\n          </nb-card-header>\n            <nb-card-body>\n            <div align=\"center\">\n                <mat-form-field class=\"filter-field\">\n                    <input matInput   placeholder=\"Filter\"   [(ngModel)]=\"searchTerm\" (keyup)=\"search($event.target.value)\">\n                  </mat-form-field>\n          \n                  <button mat-icon-button><mat-icon class=\"filter-icon\">search</mat-icon></button>\n                  <button mat-icon-button (click)=\"clear()\"><mat-icon class=\"filter-icon\">highlight_off</mat-icon></button> \n              </div>\n          <mat-table #table [dataSource]=\"dataSource\" matSort matSortActive=\"startDate\" matSortDirection=\"asc\" matSortDisableClear >\n        \n          <ng-container matColumnDef=\"name\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Name </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.name}} </mat-cell>\n          </ng-container>\n  \n            <ng-container matColumnDef=\"phoneNo\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Phone </mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.phoneNo}} </mat-cell>\n            </ng-container>\n  \n            <ng-container matColumnDef=\"emailId\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Email Id </mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.emailId}} </mat-cell>\n            </ng-container>\n\n            <ng-container matColumnDef=\"address\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Address </mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.address}} </mat-cell>\n            </ng-container>\n  \n            <ng-container matColumnDef=\"Options\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Options</mat-header-cell>\n              <mat-cell *matCellDef=\"let element ;let row\" (click)=\"$event.stopPropagation()\">\n                <button mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>\n                <mat-menu #menu=\"matMenu\">\n  \n                <button (click)=\"edit(row)\" mat-menu-item>Edit</button>\n                <button (click)=\"delete(row)\" mat-menu-item>Delete</button>\n                </mat-menu>\n              </mat-cell>\n            </ng-container>\n        \n            <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n            <mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"edit(row)\"></mat-row>\n          </mat-table>\n          <mat-paginator [length]=\"length\"\n          [pageSize]=\"pageSize\"\n          [pageSizeOptions]=\"pageSizeOptions\"\n          ></mat-paginator>\n  \n      </nb-card-body>\n    </nb-card>\n    <div class=\"col-lg-12\" align=\"right\">\n      <a *ngIf=\"permission.addRecurringPassenger\" (click)=\"newPassenger()\" class=\"float\">\n        <i style=\"color: ghostwhite\" class=\"fa fa-plus my-float\"></i>\n      </a>  \n    </div>\n    </div>\n  </div>"

/***/ }),

/***/ "./src/app/pages/masters/recurringpassenger/recurringpassenger.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/recurringpassenger/recurringpassenger.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RecurringpassengerComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__operations_bookings_service__ = __webpack_require__("./src/app/pages/operations/bookings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__editrecurringpassenger_editrecurringpassenger_component__ = __webpack_require__("./src/app/pages/masters/editrecurringpassenger/editrecurringpassenger.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__modals_confirm_confirm_component__ = __webpack_require__("./src/app/pages/modals/confirm/confirm.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var RecurringpassengerComponent = (function () {
    function RecurringpassengerComponent(bookingService, auth, dialog, editRecurring, snackBar) {
        this.bookingService = bookingService;
        this.auth = auth;
        this.dialog = dialog;
        this.editRecurring = editRecurring;
        this.snackBar = snackBar;
        this.pageSize = 5;
        this.pageSizeOptions = [10, 15, 25, 40];
        this.user = {};
        this.permission = {};
        this.displayedColumns = ['name', 'phoneNo', 'emailId', 'address', 'Options'];
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
        this.tempArray = [];
    }
    RecurringpassengerComponent.prototype.ngOnInit = function () {
        var _this = this;
        var HOST = location.origin.replace(/^http/, 'ws');
        this.ws = new WebSocket(HOST);
        this.ws.onmessage = function (event) {
            var _this = this;
            if (event.data == this.user.ownerId + 'edit')
                this.bookingService.getRecurringPassengerAll(this.user).subscribe(function (data) {
                    _this.tempArray = data;
                    _this.dataSource.data = _this.tempArray;
                });
        }.bind(this);
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.auth.permissions.subscribe(function (data) {
                _this.permission = data[0];
                if (_this.permission.manageRecurringPassenger === 0) {
                    _this.displayedColumns.pop();
                }
            });
            _this.bookingService.getRecurringPassengerAll(_this.user).subscribe(function (data) {
                console.log(data);
                _this.tempArray = data;
                _this.dataSource.data = _this.tempArray;
                _this.length = data.length;
            });
        });
        this.dataSource.sort = this.sort;
        this.dataSource.paginator = this.paginator;
    };
    RecurringpassengerComponent.prototype.search = function (filterValue) {
        this.dataSource.filter = filterValue.trim().toLowerCase();
    };
    RecurringpassengerComponent.prototype.clear = function () {
        this.searchTerm = '';
        this.dataSource.filter = '';
    };
    RecurringpassengerComponent.prototype.newPassenger = function () {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_4__editrecurringpassenger_editrecurringpassenger_component__["a" /* EditrecurringpassengerComponent */], { autoFocus: false, disableClose: true }).afterClosed().subscribe(function (data) {
            console.log(data);
            if (data.inserted == 'yes') {
                _this.tempArray.push(data.data);
                _this.dataSource.data = _this.tempArray;
            }
        });
    };
    RecurringpassengerComponent.prototype.edit = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_4__editrecurringpassenger_editrecurringpassenger_component__["a" /* EditrecurringpassengerComponent */], { data: row, autoFocus: false, disableClose: true }).afterClosed().subscribe(function (data) {
            if (data == 'edit') {
                _this.ws.send(_this.user.ownerId + 'edit');
            }
        });
    };
    RecurringpassengerComponent.prototype.delete = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_5__modals_confirm_confirm_component__["a" /* ConfirmComponent */]).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data === "yes") {
                _this.editRecurring.deleteRecurringPassenger(row).subscribe(function (data) {
                    console.log(data);
                    if (data.errno == undefined) {
                        var i = _this.tempArray.indexOf(row);
                        _this.tempArray.splice(i, 1);
                        _this.dataSource.data = _this.tempArray;
                        _this.snackBar.open("Recurring Passenger Deleted", "X", { duration: 3000 });
                    }
                });
            }
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], RecurringpassengerComponent.prototype, "sort", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */])
    ], RecurringpassengerComponent.prototype, "paginator", void 0);
    RecurringpassengerComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'recurringpassenger',
            template: __webpack_require__("./src/app/pages/masters/recurringpassenger/recurringpassenger.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/recurringpassenger/recurringpassenger.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__operations_bookings_service__["a" /* BookingsService */], __WEBPACK_IMPORTED_MODULE_3__core_auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_4__editrecurringpassenger_editrecurringpassenger_component__["a" /* EditrecurringpassengerComponent */], __WEBPACK_IMPORTED_MODULE_1__angular_material__["I" /* MatSnackBar */]])
    ], RecurringpassengerComponent);
    return RecurringpassengerComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/requestdutyslip/requestdutyslip.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\" style=\"min-width:60vw;\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>Contact</nb-card-header>\n      <nb-card-body>\n        <div class=\"call-container\">\n          <mat-accordion *ngIf=\"logDisplay.length>0\">\n            <mat-expansion-panel>\n              <mat-expansion-panel-header>\n                <mat-panel-title style=\"justify-content: center;\">\n                  Logs\n                </mat-panel-title>\n                <mat-panel-description style=\"justify-content: center;\">\n                  Click here to open logs\n                </mat-panel-description>\n              </mat-expansion-panel-header>\n              <div *ngFor=\"let element of logDisplay\" style=\"text-align: center;color:brown;\">\n                {{element.log}}\n              </div>\n            </mat-expansion-panel>\n          </mat-accordion>\n          <div style=\"margin-top:15px;\">\n            <table class=\"callTable\">\n              <tbody>\n                <tr>\n                  <td class=\"callCell\">\n                    <b>Supplier: </b> {{data.sname}}\n                  </td>\n                  <td class=\"callCell\" rowspan=\"3\" style=\"padding-left: 30px\">\n                    <mat-checkbox (change)=\"sendSMS($event,data.sphone,'supplier',data.sname)\">SMS</mat-checkbox>\n                    <mat-checkbox (change)=\"sendWhatsApp($event,data.sphone,'supplier',data.sname)\">WhatApp</mat-checkbox>\n                    <mat-checkbox (change)=\"sendEmail($event,data.semail,'supplier',data.sname)\">E-mail</mat-checkbox><br>\n                  </td>\n                </tr>\n                <tr>\n                  <td class=\"callCell\">\n                    <b>Number: </b> {{data.sphone}}\n                    <button (click)=\"makeAppCall(data.sphone)\" color=\"primary\" mat-icon-button><mat-icon>local_phone</mat-icon></button><!--<sub *ngIf=\"callNumber==0\">* device is {{deviceStatus}}</sub><sub *ngIf=\"callNumber!=0\">* {{callNumber}} is {{deviceStatus}}</sub>-->\n                  </td>\n                </tr>\n                <tr>\n                  <td class=\"callCell\">\n                    <b>Email: </b> {{data.semail}}\n                  </td>\n                </tr>\n              </tbody>\n              <tbody>\n                <tr>\n                  <td class=\"callCell\">\n                    <mat-form-field>\n                      <b>Custom Phone: </b>\n                      <input matInput [(ngModel)]=\"customNumber\">\n                    </mat-form-field>                      \n                    <br>\n                    <mat-checkbox (change)=\"sendSMS($event,customNumber,'custom')\">SMS</mat-checkbox>\n                    <mat-checkbox (change)=\"sendWhatsApp($event,customNumber,'custom')\">WhatApp</mat-checkbox>\n                  </td>\n                  <td class=\"callCell\" style=\"padding-left: 30px\">\n                    <mat-form-field>\n                      <b>Custom Email: </b>\n                      <input matInput [(ngModel)]=\"customEmail\">\n                    </mat-form-field>        \n                  </td>\n                </tr>                  \n              </tbody>\n            </table> \n          </div>\n          <div class=\"invoice-button-container\" style=\"margin-top: 10px;\">\n            <div style=\"width: 60%;margin:auto;\">\n              <label style=\"text-align: left;font-size:14px;\">\n                <p>Duty Slip request for the following duty: </p>\n                <p>Date: {{data.startDate | date: 'dd-MM-yyyy'}}</p>\n                <p>Vehicle Group: {{data.vehicleGroup}}</p>\n                <p>Passenger: {{data.passenger}} ({{data.passengerNo}})</p>\n              </label>\n              <hr style=\"border-top:1px solid black\">\n            </div>\n            <button class=\"invoice-button\" color=\"primary\" mat-raised-button (click)=\"send()\">Send</button>\n            <button *ngIf=\"!mailPassenger\" (click)=\"mailPassenger = true\" class=\"invoice-button\" mat-raised-button color=\"primary\" >Preview E-mail</button>            \n            <button *ngIf=\"mailPassenger\" class=\"invoice-button\" mat-raised-button color=\"primary\" (click)=\"mailPassenger=false; mailSupplier=false\">Close Preview</button>\n          </div>\n          <mat-divider></mat-divider>\n          <div [hidden]=\"!mailPassenger\">\n            <div class=\"row\">\n              <div class=\"col-lg-12\">\n                <div id=\"template\" #template>\n                  <!DOCTYPE html>\n                  <html lang=\"en\">          \n                    <head>\n                      <title></title>\n                      <meta charset=\"utf-8\">\n                      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n                      <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n                      <style type=\"text/css\">\n                        @font-face {font-family: 'sofia';  src: url('http://media.firebox.com/fonts/sofiapro_regular_macroman/SofiaProRegular-webfont.woff') format('woff');  mso-font-alt: 'Arial';  font-weight: normal !important;  font-style: normal !important;}\n                        body,table,td,a{\n                          -webkit-text-size-adjust:100%;\n                          -ms-text-size-adjust:100%;\n                          -webkit-font-smoothing: antialiased;\n                        }\n                        table,td{\n                          mso-table-lspace:0pt;\n                          mso-table-rspace:0pt;\n                        }\n                        img{\n                          -ms-interpolation-mode:bicubic;\n                        }\n                        body{\n                          margin:0;\n                          padding:0;\n                        }\n                        img{\n                          border:0;\n                          height:auto;\n                          line-height:100%;\n                          outline:none;\n                          text-decoration:none;\n                        }\n                        table{\n                          border-collapse:collapse !important;\n                        }\n                        body{\n                          height:100% !important;\n                          margin:0;\n                          padding:0;\n                          width:100% !important;\n                        }\n                      \n                        .appleBody a{\n                          color: #0087DB !important;\n                          text-decoration: underline !important;;\n                        }\n                      \n                        .appleFooter a{\n                          color: #343434 !important;\n                          text-decoration: none;\n                        }\n                        td[class=btn]{\n                          width:50% !important;\n                        }\n                      \n                        span.preheader { display: none !important; }\n                        @media screen and (max-width: 525px){\n                          table[class=wrapper]{\n                            width:100% !important;\n                          }\n                        \n                        }\t/*@media screen and (max-width: 525px){\n                          td[class=wrapper]{\n                            width:100% !important;\n                          }*/\n                        \n                        @media screen and (max-width: 525px){\n                          td[class=mobile-hide]{\n                            display:none;\n                          }\n                        \n                        }\n                        @media screen and (max-width: 525px){\n                          img[class=mobile-show]{\n                            display:block !important;\n                            height:60px !important;\n                            width:60px !important;\n                            overflow:auto !important;\n                          }\n                        \n                        }\n                        @media screen and (max-width: 525px){\n                          img[class=mobile-hide]{\n                            display:none !important;\n                          }\n                        \n                        }\t\n                        @media screen and (max-width: 525px){\n                          img[class=img-max]{\n                            max-width:100% !important;\n                            width:100% !important;\n                            height:auto !important;\n                          }\n                        \n                        }\t\n                        @media screen and (max-width: 525px){\n                          img[class=img-picture]{\n                            max-width:60% !important;\n                            width:60% !important;\n                            height:auto !important;\n                            float:right !important;\n                          }\n                        \n                        }\t\n                        @media screen and (max-width: 525px){\n                          table[class=responsive-table]{\n                            width:100%!important;\n                          }\n                        \n                        }\t\n                        @media screen and (max-width: 525px){\n                          table[class=responsive-column]{\n                            width:100%!important;\n                            padding:0px 0px 15px 0px !important;\n                            display:block !important;\n                          }\n                        }\t\n                        @media screen and (max-width: 525px){\n                          td[class=top-padding]{\n                            padding: 0px 0px 10px 0px !important;\n                          }\n                        \n                        } \n                        @media screen and (max-width: 525px){\n                          td[class=slice-padding]{\n                            padding:0px 15px 0px 15px !important;\n                          }\n                        \n                        }\t\n                        @media screen and (max-width: 525px){\n                          td[class=smaller-padding]{\n                            padding:15px 0px 15px 0px !important;\n                          }\n                        \n                        }\n                        @media screen and (max-width: 525px){\n                          td[class=section-padding]{\n                            padding: 0px 10px 20px 10px !important;\n                          }\n                        }\n                        @media screen and (max-width: 525px){\n                          .height {\n                            height: 100% !important;\n                          }        \n                        }\n                        @media screen and (max-width: 525px){\n                          td[class=mobile-wrapper]{\n                            padding:0 !important;\n                          }\n                        \n                        }\t\n                        @media screen and (max-width: 525px){\n                          td[class=title]{\n                            font-size: 16px !important;\n                          }\n                        \n                        }\t\n                        @media screen and (max-width: 525px){\n                          td[class=btn]{\n                            width:80% !important;\n                          }\n                        \n                        }\n                      </style>\n                      <!--[if gte mso 9]>\n                        <style type=\"text/css\">\n                          .img-max {\n                              width: 246px !important;\n                          }\n                        </style>\n                      <![endif]-->\n                    </head>\n                  \n                    <body style=\"margin: 0; padding: 0;\">\n                      <div style=\"display:none !important; font-size:1px; color:#FFFFFF;\">\n                        <!-- It&#039;s on the way to XXXXX, Really Good Emails -->\n                      </div>\n                      <!-- HEADER LOGO -->\n                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                        <tr>\n                          <td bgcolor=\"#00C186\" style=\"background-color: #00C186;\">\n                            <div align=\"center\" style=\"padding: 0px 20px 0px 20px;\">\n                              <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                                <tr>\n                                  <td bgcolor=\"#00C186\" style=\"background-color: #00C186;\">\n                                    <div align=\"center\" style=\"padding: 0px 20px 0px 20px;\">\n                                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"wrapper\" align=\"center\">\n                                        <tr align=\"center\">\n                                          <td style=\"padding: 10px 0px 10px 0px; text-align: center; width: 400px;\" class=\"logo\" align=\"center\">\n                                            <a href=\"https://www.firebox.com?itc=915&utm_source=email&utm_medium=transactional&utm_campaign=order_dispatch\" title=\"Firebox.com\">\n                                              <!-- <img alt=\"header\" src=\"http://media.firebox.com/i/nl/fb_light.png\" width=\"130\" border=\"0\"> -->\n                                              <img alt=\"header\" [src]=\"companyLogo\" width=\"70\" border=\"0\">\n                                            </a>\n                                          </td>\n                                        </tr>\n                                        <!-- <tr align=\"center\">\n                                          <td style=\"padding: 0px 0px 15px 0px; text-align: center; width: 400px;\" class=\"logo\" align=\"center\"> -->\n                                            <!-- <img src=\"https://media.firebox.com/i/transactional/header-dispatch.png\" width=\"100%\" class=\"img-max\"> -->\n                                          <!-- </td>\n                                        </tr> -->\n                                      </table>\n                                    </div>\n                                  </td>\n                                </tr>\n                              </table>   \n                            </div>\n                          </td>\n                        </tr>\n                      </table>\n                      <!-- ORDER CONFIRMATION -->\n                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                        <tr>\n                          <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 10px 15px 10px 15px;\" class=\"top-padding\">\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                              <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                              <tr>\n                                <td>\n                                  <!-- TWO COLUMNS -->\n                                  <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                    <tr>\n                                      <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"600\" align=\"left\" class=\"responsive-table\">\n                                          <tr>\n                                            <td valign=\"top\" align=\"left\">\n                                              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" class=\"responsive-table\">\n                                                <tr>\n                                                  <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 10px; border: 1px solid #EFEFEF;\">\n                                                    <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"300\" valign=\"top\">\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" width=\"33%\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888 !important; font-size: 16px; line-height: 20px; font-weight: normal;\">\n                                                          <span style=\"color: #343434; text-transform: uppercase; font-size: 16px; -webkit-font-smoothing: auto; font-weight: bold;\" class=\"appleBody\">\n                                                            Duty Slip request for the following duty:\n                                                          </span>                                              \n                                                        </td>                                            \n                                                      </tr>\n                                                    </table>\n                                                  </td>\n                                                </tr>\n                                              </table>\n                                            </td>\n                                          </tr>\n                                        </table>\n                                      </td>\n                                    </tr>\n                                  </table>\n                                </td>\n                              </tr>\n                            </table>\n                          </td>\n                        </tr>\n                      </table>\n                      <!-- END ORDER CONFIRMATION -->\n                      <!-- ORDER CONFIRMATION -->\n                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                        <tr>\n                          <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 0px 15px 10px 15px;\" class=\"top-padding\">\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                              <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                              <tr>\n                                <td>\n                                  <!-- TWO COLUMNS -->\n                                  <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                    <tr>\n                                      <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"600\" align=\"left\" class=\"responsive-table\">\n                                          <tr>\n                                            <td valign=\"top\" align=\"left\">\n                                              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" class=\"responsive-table\">\n                                                <tr>\n                                                  <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 10px; border: 1px solid #EFEFEF;\">\n                                                    <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"300\" valign=\"top\">\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" width=\"33%\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888 !important; font-size: 16px; line-height: 20px; font-weight: normal;\">\n                                                          <span style=\"color: #343434; text-transform: uppercase; font-size: 14px; -webkit-font-smoothing: auto; font-weight: bold;\" class=\"appleBody\">\n                                                            Booking date\n                                                          </span>\n                                                          <br />\n                                                          <span class=\"appleBody\">\n                                                            {{bookingDate}}\n                                                          </span>\n                                                        </td>\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" width=\"33%\" style=\"text-align: right; font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888 !important; font-size: 14px; line-height: 20px; font-weight: normal;\">\n                                                          <span style=\"color: #343434; text-transform: uppercase; font-size: 14px; -webkit-font-smoothing: auto; font-weight: bold;\" class=\"appleBody\" *ngIf=\"data.bid\">\n                                                            Booking no.\n                                                          </span>\n                                                          <br />\n                                                          <a href=\"#\" style=\"color: #0087DB !important;\">\n                                                            {{data.bid}}\n                                                          </a>\n                                                        </td>\n                                                      </tr>\n                                                    </table>\n                                                  </td>\n                                                </tr>\n                                              </table>\n                                            </td>\n                                          </tr>\n                                        </table>\n                                      </td>\n                                    </tr>\n                                  </table>\n                                </td>\n                              </tr>\n                            </table>\n                          </td>\n                        </tr>\n                      </table>\n                      <!-- END ORDER CONFIRMATION -->\n                      <!-- COPY SIMPLE SECTION-->\n                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                        <tr>\n                          <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 0px 15px 10px 15px;\" class=\"section-padding\">\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                              <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                              <tr>\n                                <td>\n                                  <!-- TWO COLUMNS -->\n                                  <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                    <tr>\n                                      <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"600\" align=\"left\" class=\"responsive-table\">\n                                          <tr>\n                                            <td valign=\"top\" align=\"left\">\n                                              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                                <tr>\n                                                  <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 10px; border: 1px solid #EFEFEF;\">\n                                                    <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"500\">\n                                                      <!-- STYLE WIDTH FOR CHROME BROWSER -->\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" class=\"title\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #343434; font-size: 16px; font-weight: normal; text-align: left; line-height: 1; padding: 0px 0px 20px 0px; text-transform: uppercase; -webkit-font-smoothing: auto; font-weight: bold;\">\n                                                          Passenger Details\n                                                        </td>                                    \n                                                      </tr>                                                                    \n                                                      <!-- <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #343434 !important; font-size: 14px; line-height: 20px; font-weight: normal; padding: 0px 0px 0px 0px;\">\n                                                          Sent using Airmail\n                                                        </td>\n                                                      </tr> -->                                  \n                                                      <!--<tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888 !important; font-size: 14px; line-height: 20px; font-weight: normal; padding: 0px 0px 0px 0px;\">\n                                                          <span class=\"appleBody\">\n                                                            <a href=\"#\">\n                                                              More info\n                                                            </a>\n                                                          </span>\n                                                        </td>\n                                                      </tr> \n                                                      <tr border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n                                                        <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 20px 20px 10px 0px; width: 400px;\">\n                                                          <a href=\"#\" target=\"_blank\" style=\"font-size: 16px; font-family:'sofia', Helvetica, Arial, sans-serif; text-decoration: none; border-radius: 3px; -webkit-border-radius: 3px; -moz-border-radius: 3px; font-weight: bold; text-transform: uppercase; background-color: #0087DB; border-top: 12px solid #0087DB; border-bottom: 12px solid #0087DB; border-right: 18px solid #0087DB; border-left: 18px solid #0087DB; display: inline-block; color: #ffffff;\">\n                                                            Track my order\n                                                          </a>\n                                                        </td>\n                                                      </tr> -->\n                                                    </table>\n                                                    <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%; border: 1px solid lightgrey !important;\"  class=\"responsive-table\" width=\"500\">\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" class=\"title\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #262626; font-size: 16px; font-weight: normal; text-align: left; line-height: 1; padding: 0px 10px 10px 10px; -webkit-font-smoothing: antialiased; border: 1px solid;\">\n                                                          Sr.\n                                                        </td>\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" class=\"title\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #262626; font-size: 16px; font-weight: normal; text-align: left; line-height: 1; padding: 0px 10px 10px 10px; -webkit-font-smoothing: antialiased; border: 1px solid;\">\n                                                          Guest Name\n                                                        </td>\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" class=\"title\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #262626; font-size: 16px; font-weight: normal; text-align: left; line-height: 1; padding: 0px 10px 10px 10px; -webkit-font-smoothing: antialiased; border: 1px solid;\">\n                                                          Phone No.\n                                                        </td>\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" class=\"title\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #262626; font-size: 16px; font-weight: normal; text-align: left; line-height: 1; padding: 0px 10px 10px 10px; -webkit-font-smoothing: antialiased; border: 1px solid;\">\n                                                          Email\n                                                        </td>\n                                                      </tr>\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #323232 !important; font-size: 15px; line-height: 20px; font-weight: normal; padding: 0px 10px 10px 10px; border: 1px solid;\">\n                                                          1\n                                                        </td>\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #323232 !important; font-size: 15px; line-height: 20px; font-weight: normal; padding: 0px 10px 10px 10px; border: 1px solid;\">\n                                                          {{data.passenger}}\n                                                        </td>\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #323232 !important; font-size: 15px; line-height: 20px; font-weight: normal; padding: 0px 10px 10px 10px; border: 1px solid;\">\n                                                          {{data.passengerNo}}\n                                                        </td>\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #323232 !important; font-size: 15px; line-height: 20px; font-weight: normal; padding: 0px 10px 10px 10px; border: 1px solid;\">\n                                                          {{data.passengerEmail}}\n                                                        </td>\n                                                      </tr>\n                                                    </table>                                \n                                                    <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"500\">\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"5\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #323232 !important; font-size: 15px; line-height: 20px; font-weight: normal; padding: 0px 0px 0px 0px;\">\n                                                          Reporting Time: {{data.reportingTime}}\n                                                        </td>\n                                                      </tr>\n                                                    </table>\n                                                  </td>\n                                                </tr>\n                                              </table>\n                                            </td>\n                                          </tr>\n                                        </table>\n                                      </td>\n                                    </tr>\n                                  </table>\n                                </td>\n                              </tr>\n                            </table>\n                          </td>\n                        </tr>\n                      </table>\n                      <!-- END COPY SIMPLE SECTION-->\n                      <!-- DELIVERY SECTION-->\n                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                        <tr>\n                          <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 0px 15px 10px 15px;\" class=\"section-padding\">\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                              <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                              <tr>\n                                <td>\n                                  <!-- TWO COLUMNS -->\n                                  <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                    <tr>\n                                      <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                        <!-- LEFT COLUMN -->\n                                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"290\" align=\"left\" class=\"responsive-table\">\n                                          <tr>\n                                            <td valign=\"top\" align=\"left\">\n                                              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                                <tr>\n                                                  <td align=\"center\" bgcolor=\"#FFFFFF\" width=\"290\" height=\"150\" class=\"wrapper height\" valign=\"top\" style=\"padding: 10px 0; border: 1px solid #EFEFEF; width: 400px;\">\n                                                    <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"100%\">\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td class=\"title\" cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; font-size: 16px; font-weight: bold; padding: 0px 20px 10px 20px; text-transform: uppercase;\">\n                                                          Reporting Address\n                                                        </td>\n                                                      </tr>\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888; font-size: 15px; line-height: 1.44; font-weight: normal; text-align: left; padding: 0px 20px 10px 20px;\">\n                                                          <!-- Dosti Acres, Antop Hill, Mumbai, Maharashtra 400037 -->\n                                                          {{data.reportingAddress}}\n                                                        </td>\n                                                      </tr>                                  \n                                                    </table>\n                                                  </td>\n                                                </tr>\n                                              </table>\n                                            </td>\n                                          </tr>\n                                        </table>\n                                        <!-- RIGHT COLUMN -->\n                                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"290\" align=\"right\" class=\"responsive-table\">\n                                          <tr>\n                                            <td valign=\"top\" align=\"left\">\n                                              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                                <tr>\n                                                  <td align=\"center\" bgcolor=\"#FFFFFF\" width=\"290\" height=\"150\" class=\"wrapper height\" valign=\"top\" style=\"padding: 10px 0; border: 1px solid #EFEFEF; width: 400px;\">\n                                                    <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"100%\">\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td class=\"title\" cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; font-size: 16px; font-weight: bold; padding: 0px 20px 10px 20px; text-transform: uppercase;\">\n                                                          Drop Address\n                                                        </td>\n                                                      </tr>\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888; font-size: 15px; line-height: 1.44; font-weight: normal; text-align: left; padding: 0px 20px 10px 20px;\">\n                                                          {{data.dropAddress}}\n                                                        </td>\n                                                      </tr>                                  \n                                                    </table>\n                                                  </td>\n                                                </tr>\n                                              </table>\n                                            </td>\n                                          </tr>\n                                        </table>\n                                      </td>\n                                    </tr>\n                                  </table>\n                                </td>\n                              </tr>\n                            </table>\n                          </td>\n                        </tr>\n                      </table>\n                      <!-- END DELIVERY SECTION-->\n                    \n                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                        <tr>\n                          <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 0px 15px 10px 15px;\" class=\"section-padding\">\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                              <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                              <tr>\n                                <td>\n                                  <!-- TWO COLUMNS -->\n                                  <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                    <tr>\n                                      <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"600\" align=\"left\" class=\"responsive-table\">\n                                          <tr>\n                                            <td valign=\"top\" align=\"left\">\n                                              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                                <tr>\n                                                  <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 10px; border: 1px solid #EFEFEF;\">\n                                                    <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"500\">\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" class=\"title\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #343434; font-size: 18px; font-weight: normal; text-align: left; line-height: 1; padding: 0px 0px 15px 0px; text-transform: uppercase; -webkit-font-smoothing: auto; font-weight: bold;\">\n                                                          Booked By\n                                                        </td>                                    \n                                                      </tr>                    \n                                                    </table>\n                                                    <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"500\">                                  \n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">                                    \n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #323232 !important; font-size: 16px; line-height: 20px; font-weight: normal; padding: 0px 10px 10px 0px;\">\n                                                          {{data.bookBy}}\n                                                        </td>\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #323232 !important; font-size: 16px; line-height: 20px; font-weight: normal; padding: 0px 10px 10px 0px;\">\n                                                          {{data.bookByNo}}\n                                                        </td>\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #323232 !important; font-size: 16px; line-height: 20px; font-weight: normal; padding: 0px 10px 10px 0px;\">\n                                                          {{data.bookByEmail}}\n                                                        </td>\n                                                      </tr>\n                                                    </table>\n                                                  </td>\n                                                </tr>\n                                              </table>\n                                            </td>\n                                          </tr>\n                                        </table>\n                                      </td>\n                                    </tr>\n                                  </table>\n                                </td>\n                              </tr>\n                            </table>\n                          </td>\n                        </tr>\n                      </table>\n                    \n                      <!-- ROW CS CONTACT SECTION-->\n                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                        <tr>\n                          <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 0px 15px 5px 15px;\" class=\"section-padding\">\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                              <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                              <tr>\n                                <td>\n                                  <!-- TWO COLUMNS -->\n                                  <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                    <tr>\n                                      <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                        <!-- LEFT COLUMN -->\n                                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"290\" align=\"left\" class=\"responsive-table\">\n                                          <tr>\n                                            <td valign=\"top\" align=\"left\">\n                                              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                                <tr>\n                                                  <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" height=\"250\" width=\"290\" class=\"wrapper\" style=\"border: 1px solid #EFEFEF; width: 400px;\">\n                                                    <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\" style=\"width: 100%;\" class=\"responsive-table\">\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #333333; font-size: 18px; font-weight: bold; text-align: center; padding: 15px 20px 10px 20px; width: 400px;\">\n                                                          <img alt=\"\" src=\"https://media.firebox.com/i/transactional/icon-customer-service.png\" width=\"100\">\n                                                        </td>\n                                                      </tr>\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #333333; font-size: 16px; font-weight: bold; text-align: center; padding: 0px 20px 10px 20px; width: 400px; text-transform: uppercase;\">\n                                                          Got a query?\n                                                          <br />\n                                                          Get in touch\n                                                        </td>\n                                                      </tr>\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: center; font-family:'sofia', Helvetica, Arial, sans-serif; padding: 0px 20px 20px 20px; color: #888888 !important; line-height: 1.44; font-size: 14px;\">\n                                                          Hit us up on the numbers featured\n                                                        </td>\n                                                      </tr>\n                                                      <!-- <tr border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n                                                        <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 0px 20px 20px 20px; width: 400px;\">\n                                                          <a href=\"https://www.firebox.com/admin/faqs?itc=915&utm_source=email&utm_medium=transactional&utm_campaign=order_dispatch\" target=\"_blank\" style=\"font-size: 16px; font-family:'sofia', Helvetica, Arial, sans-serif; text-decoration: none; border-radius: 3px; -webkit-border-radius: 3px; -moz-border-radius: 3px; font-weight: bold; text-transform: uppercase; background-color: #0099E0; border-top: 12px solid #0099E0; border-bottom: 12px solid #0099E0; border-right: 18px solid #0099E0; border-left: 18px solid #0099E0; display: inline-block; color: #ffffff;\">\n                                                            FAQ ME\n                                                          </a>\n                                                        </td>\n                                                      </tr> -->\n                                                    </table>\n                                                  </td>\n                                                </tr>\n                                              </table>\n                                            </td>\n                                          </tr>\n                                        </table>\n                                        <!-- RIGHT COLUMN -->\n                                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"290\" align=\"right\" class=\"responsive-table\">\n                                          <tr>\n                                            <td valign=\"top\" align=\"left\">\n                                              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                                <tr>\n                                                  <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" height=\"250\" width=\"290\" class=\"wrapper\" style=\"border: 1px solid #EFEFEF; width: 400px;\">\n                                                    <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\" style=\"width: 100%;\" class=\"responsive-table\">\n                                                      <!-- STYLE WIDTH FOR CHROME BROWSER -->\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: center; font-family:'sofia', Helvetica, Arial, sans-serif; padding: 10px 20px 10px 20px; color: #343434; text-transform: uppercase; width: 400px;\">\n                                                          Phone\n                                                        </td>\n                                                      </tr>\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #0087DB; font-size: 16px; font-weight: bold; text-align: center; padding: 0px 20px 10px 20px;\">\n                                                          <span class=\"appleBody\">{{companyProfile.phone}}</span>                                              \n                                                        </td>\n                                                      </tr>\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: center; font-family:'sofia', Helvetica, Arial, sans-serif; padding: 10px 20px 10px 20px; color: #343434; text-transform: uppercase;\">\n                                                          Email\n                                                        </td>\n                                                      </tr>\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: center; font-family:'sofia', Helvetica, Arial, sans-serif; color: #0087DB; padding: 0px 20px 20px 20px; font-weight: bold; font-size: 16px;\">\n                                                          <span class=\"appleBody\">\n                                                            <a style=\"color: #0087DB; text-decoration: none !important;\">\n                                                              {{companyProfile.email}}\n                                                            </a>\n                                                          </span>\n                                                        </td>\n                                                      </tr>\n                                                    </table>\n                                                  </td>\n                                                </tr>\n                                              </table>\n                                            </td>\n                                          </tr>\n                                        </table>\n                                      </td>\n                                    </tr>\n                                  </table>\n                                </td>\n                              </tr>\n                            </table>\n                          </td>\n                        </tr>\n                      </table>\n                      <!-- END CS CONTACT ROW SECTION-->\n                      \n                      <!-- FOOTER -->\n                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                          <tr>\n                            <td bgcolor=\"#ffffff\" align=\"center\" style=\"padding: 20px 0px;\">\n                              <!-- UNSUBSCRIBE COPY -->\n                              <table width=\"600\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\" class=\"responsive-table\">\n                                <tr>\n                                  <td width=\"100%\" align=\"center\" style=\"padding: 0 0 20px 0; font-size: 14px; line-height: 18px; font-family: Helvetica, Arial, sans-serif; color:#888888;\">\n                                    Until next time, <strong>Techsimians Team</strong>\n                                  </td>\n                                </tr>\n                                <!-- <tr>\n                                  <td>\n                                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" align=\"center\">\n                                      <tr width=\"183\">\n                                        <td>\n                                          <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" align=\"center\">\n                                            <tr width=\"157\">\n                                              <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                                <a href=\"https://www.facebook.com/Firebox\" target=\"blank\">\n                                                  <img src=\"http://media.firebox.com/i/nl/facebook_icon.png\" width=\"16\" height=\"16\">\n                                                </a>\n                                              </td>\n                                              <td width=\"19\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                                <a href=\"https://twitter.com/Firebox\" target=\"blank\">\n                                                  <img src=\"http://media.firebox.com/i/nl/twitter_icon.png\" width=\"19\" height=\"16\">\n                                                </a>\n                                              </td>\n                                              <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                                <a href=\"https://www.instagram.com/Firebox/\" target=\"blank\">\n                                                  <img src=\"http://media.firebox.com/i/nl/instagram_icon.png\" width=\"16\" height=\"16\">\n                                                </a>\n                                              </td>\n                                              <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                                <a href=\"https://www.pinterest.com/firebox/\" target=\"blank\">\n                                                  <img src=\"http://media.firebox.com/i/nl/pinterest_icon.png\" width=\"16\" height=\"16\">\n                                                </a>\n                                              </td>\n                                            </tr>\n                                          </table>\n                                        </td>\n                                      </tr>\n                                    </table>\n                                  </td>\n                                </tr> -->\n                                <tr>\n                                  <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 0 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                    <span class=\"appleBody\">\n                                      <strong>Techsimians</strong><br /> Mumbai, Maharashtra, India.\n                                    </span>\n                                  </td>\n                                </tr>\n                                <!-- <tr>\n                                  <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 20px 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                    <span class=\"appleBody\">\n                                      VAT Reg. No.: 798 6593 41 Registered in England & Wales, No. 3874477\n                                    </span>\n                                  </td>\n                                </tr> -->\n                                <tr>\n                                  <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 20px 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                    <span class=\"appleBody\" style=\"color:#888888;\">\n                                      <a style=\"color:#888888 !important;\">info@yourfleetman.com</a>\n                                    </span>\n                                    <span class=\"hide-mobile\">&nbsp; | &nbsp;</span>\n                                    <span class=\"appleBody break\" style=\"color:#888888;\">\n                                      <a href=\"http://www.techsimians.com\"\n                                        style=\"color: #888888 !important;\">www.techsimians.com</a>\n                                    </span>\n                                    <span class=\"hide-mobile\">&nbsp; | &nbsp;</span>\n                                    <span class=\"appleBody break\" style=\"color:#888888;\">\n                                      8080 425 120\n                                    </span>\n                                  </td>\n                                </tr>\n                              </table>\n                            </td>                \n                        </tr>\n                      </table>\n                    </body>\n                  </html>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12 col-12\">\n    <!-- <button mat-raised-button color=\"primary\" (click)=\"sendMail(template)\">Send Mail</button> -->\n    <button mat-raised-button color=\"warn\"(click)=\"closeDialog()\">Close</button>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/requestdutyslip/requestdutyslip.component.scss":
/***/ (function(module, exports) {

module.exports = "@import url(https://fonts.googleapis.com/css?family=Share+Tech+Mono);\nb {\n  display: inline-block; }\nbody,\np {\n  padding: 0;\n  margin: 0; }\n.blockDiv {\n  margin: 0px 20px 0px 20px; }\nbody {\n  background: #272726; }\nlabel {\n  text-align: center;\n  font-family: Helvetica, sans-serif;\n  font-size: 1.25em;\n  color: #000000;\n  display: block; }\ndiv#controls {\n  padding: 3em;\n  max-width: 1200px;\n  margin: 0 auto; }\ndiv#controls div {\n  float: left; }\ndiv#controls div#call-controls,\ndiv#controls div#info {\n  width: 16em;\n  margin: 0 11.5em;\n  text-align: center; }\ndiv#controls div#info div#output-selection {\n  display: none; }\ndiv#controls div#info a {\n  font-size: 1.1em;\n  color: black;\n  text-decoration: underline;\n  cursor: pointer; }\ndiv#controls div#info select {\n  width: 300px;\n  height: 60px;\n  margin-bottom: 2em; }\ndiv#controls div#info label {\n  width: 300px; }\ndiv#controls div#call-controls div#volume-indicators {\n  display: none;\n  padding: 10px;\n  margin-top: 20px;\n  width: 500px;\n  text-align: center; }\ndiv#controls div#call-controls div#volume-indicators > div {\n  display: block;\n  height: 20px;\n  width: 0; }\ndiv#controls p.instructions {\n  text-align: center;\n  margin-bottom: 1em;\n  font-family: Helvetica-LightOblique, Helvetica, sans-serif;\n  font-style: oblique;\n  font-size: 1.25em;\n  color: #000000; }\ndiv#controls div#info #client-name {\n  text-align: center;\n  margin-bottom: 1em;\n  font-family: \"Helvetica Light\", Helvetica, sans-serif;\n  font-size: 1.25em;\n  color: #000000; }\ndiv#controls button {\n  width: 15em;\n  height: 2.5em;\n  margin-top: 1.75em;\n  border-radius: 1em;\n  font-family: \"Helvetica Light\", Helvetica, sans-serif;\n  font-size: .8em;\n  font-weight: lighter;\n  outline: 0; }\ndiv#controls button:active {\n  position: relative;\n  top: 1px; }\ndiv#controls div#call-controls {\n  display: none; }\ndiv#controls div#call-controls input {\n  font-family: Helvetica-LightOblique, Helvetica, sans-serif;\n  font-style: oblique;\n  font-size: 1em;\n  width: 100%;\n  height: 2.5em;\n  padding: .5em;\n  display: block; }\ndiv#controls div#call-controls button {\n  color: black;\n  background: 0 0;\n  border: 1px solid #000000; }\ndiv#controls div#call-controls button#button-hangup {\n  display: none; }\ndiv#controls div#log {\n  border: 1px solid #000000;\n  width: 35%;\n  height: 9.5em;\n  margin-top: 2.75em;\n  text-align: center;\n  padding: 1.5em;\n  float: right;\n  overflow-y: scroll; }\ndiv#controls div#log p {\n  color: #686865;\n  font-family: 'Share Tech Mono', 'Courier New', Courier, fixed-width;\n  font-size: 1.25em;\n  line-height: 1.25em;\n  margin-left: 1em;\n  text-indent: -1.25em;\n  width: 90%; }\n.whatsappBlock {\n  text-align: center; }\n.whatsappTo {\n  margin-left: -188px; }\n.whatsappTextArea {\n  width: 300px;\n  height: 200px; }\n.checkbox {\n  margin-left: 30px; }\n.driver {\n  margin-top: 5px; }\n.driverName {\n  margin: 10px 90px 5px 0px; }\n.driverNumber {\n  margin: 10px 87px 5px 0px; }\n.callTable {\n  border-collapse: collapse;\n  width: 100%; }\n.callCell {\n  padding: 5px;\n  border: 1px solid lightgrey;\n  line-height: 40px; }\n.mat-checkbox-inner-container {\n  margin-right: 3px !important; }\n.mat-checkbox {\n  margin-right: 15px !important; }\n"

/***/ }),

/***/ "./src/app/pages/masters/requestdutyslip/requestdutyslip.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RequestdutyslipComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material_dialog__ = __webpack_require__("./node_modules/@angular/material/esm5/dialog.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__circles_companyprofile_companyprofile_service__ = __webpack_require__("./src/app/pages/circles/companyprofile/companyprofile.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__messaging_service__ = __webpack_require__("./src/app/messaging.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__duties_call_call_service__ = __webpack_require__("./src/app/pages/duties/call/call.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};











var RequestdutyslipComponent = (function () {
    function RequestdutyslipComponent(data, http, dialog, companyProfileService, auth, msgService, uploadService, _sanitizer, callService, snackBar) {
        this.data = data;
        this.http = http;
        this.dialog = dialog;
        this.companyProfileService = companyProfileService;
        this.auth = auth;
        this.msgService = msgService;
        this.uploadService = uploadService;
        this._sanitizer = _sanitizer;
        this.callService = callService;
        this.snackBar = snackBar;
        this.mailSubject = "Duty Slip Request";
        this.bookingDate = new Date().toISOString().split('T')[0];
        this.user = {};
        this.companyProfile = {};
        this.businessSettings = {};
        this.callNumber = 0;
        this.deviceStatus = 'Offline';
        this.customNumber = '';
        this.customEmail = '';
        this.message = '';
        this.whatsappMessage = '';
        this.smsArray = [];
        this.whatsAppArray = [];
        this.supplierArray = [];
        this.supplierLogCount = 0;
        this.customLogCount = 0;
        this.logDisplay = [];
        this.logs = [];
        this.mailPassenger = false;
        this.companyLogo = '';
        console.log(data);
    }
    RequestdutyslipComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        this.msgService.receiveMessage();
        this.callStatus = this.msgService.currentMessage;
        this.callStatus.subscribe(function (payload) {
            if (payload) {
                _this.callNumber = _this.checkNumber(payload);
                if (_this.callNumber != 0) {
                    _this.deviceStatus = 'Online';
                }
            }
        });
    };
    RequestdutyslipComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.businessSettings.subscribe(function (data) {
            _this.businessSettings = data;
        });
        this.callService.checkDevice(this.user).subscribe();
        this.callService.getLogs({ dutyId: this.data.id, type: '', ownerId: this.user.ownerId }).subscribe(function (data) {
            _this.logDisplay = data;
        });
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.companyProfileService.getCompanyProfile(_this.user).subscribe(function (data) {
                _this.companyProfile = data[0];
                _this.uploadService.getFile(_this.user.companyName, 'profileImages', _this.companyProfile.companyLogo).subscribe(function (data) {
                    _this.companyLogo = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                        + data.text());
                });
                _this.message = "Duty Slip request for the following duty: %0aDate: " + _this.data.startDate + ".%0aVehicle Group: " + _this.data.vehicleGroup + ".%0aPassenger: " + _this.data.passenger + " (" + _this.data.passengerNo + ")";
                _this.whatsappMessage = "Duty Slip request for the following duty: %0aDate: " + _this.data.startDate + ".%0aVehicle Group: " + _this.data.vehicleGroup + ".%0aPassenger: " + _this.data.passenger + " (" + _this.data.passengerNo + ").%0a%0a--%0aFrom: " + _this.user.companyName + ".%0a This is a system generated message. Please do not respond. For any queries contact " + _this.companyProfile.phone;
            });
        });
    };
    RequestdutyslipComponent.prototype.sendSMS = function (event, number, type, name) {
        if (event.checked) {
            if (type == 'supplier') {
                this.logs.push({ bookingId: this.data.row.id, log: "SMS was sent to " + name + " (" + type + ") on " + __WEBPACK_IMPORTED_MODULE_6_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + this.user.name, type: '', ownerId: this.user.ownerId });
                this.supplierLogCount = this.supplierLogCount + 1;
            }
            if (type == 'custom') {
                this.logs.push({ bookingId: this.data.row.id, log: "SMS was sent to " + number + " on " + __WEBPACK_IMPORTED_MODULE_6_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + this.user.name, type: '', ownerId: this.user.ownerId });
                this.customLogCount = this.customLogCount + 1;
            }
            this.smsArray.push(number);
            console.log(this.smsArray);
            console.log(this.logs);
        }
        else {
            if (type == 'custom') {
                for (var i = 0; i < this.logs.length; i++) {
                    if (this.logs[i].log.indexOf("SMS was sent to " + number) != -1) {
                        this.logs.splice(i, 1);
                    }
                }
                this.customLogCount = this.customLogCount - 1;
            }
            var i = this.smsArray.findIndex(function (x) { return x === number; });
            this.smsArray.splice(i, 1);
            console.log(this.logs);
        }
    };
    RequestdutyslipComponent.prototype.sendWhatsApp = function (event, number, type, name) {
        if (event.checked) {
            if (type == 'supplier') {
                this.logs.push({ bookingId: this.data.row.id, log: "WhatsApp was sent to " + name + " (" + type + ") on " + __WEBPACK_IMPORTED_MODULE_6_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + this.user.name, type: '', ownerId: this.user.ownerId });
                this.supplierLogCount = this.supplierLogCount + 1;
            }
            if (type == 'custom') {
                this.logs.push({ bookingId: this.data.row.id, log: "WhatsApp was sent to " + number + " on " + __WEBPACK_IMPORTED_MODULE_6_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + this.user.name, type: '', ownerId: this.user.ownerId });
                this.customLogCount = this.customLogCount + 1;
            }
            this.whatsAppArray.push(number);
            console.log(this.whatsAppArray);
        }
        else {
            if (type == 'custom') {
                for (var i = 0; i < this.logs.length; i++) {
                    if (this.logs[i].log.indexOf("WhatsApp was sent to " + number) != -1) {
                        this.logs.splice(i, 1);
                    }
                }
                this.customLogCount = this.customLogCount - 1;
            }
            var i = this.whatsAppArray.findIndex(function (x) { return x === number; });
            this.whatsAppArray.splice(i, 1);
        }
    };
    RequestdutyslipComponent.prototype.sendEmail = function (event, email, type, name) {
        if (event.checked) {
            if (type == 'supplier') {
                this.logs.push({ bookingId: this.data.row.id, log: "Email was sent to " + name + " (" + type + ") on " + __WEBPACK_IMPORTED_MODULE_6_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + this.user.name, type: '', ownerId: this.user.ownerId });
                this.supplierArray.push(email);
                this.supplierLogCount = this.supplierLogCount + 1;
            }
        }
        else {
            if (type == 'supplier') {
                this.supplierArray.pop();
                this.supplierLogCount = this.supplierLogCount + 1;
            }
            for (var i = 0; i < this.logs.length; i++) {
                if (this.logs[i].log.indexOf("Email was sent to " + name + " (" + type + ")") != -1) {
                    this.logs.splice(i, 1);
                }
            }
        }
    };
    RequestdutyslipComponent.prototype.sendMail = function (div1) {
        this.mailBody = div1;
        var temp = {
            companyEmail: this.companyProfile.email,
            name: this.companyProfile.name,
            email: this.data.bookByEmail,
            subject: this.mailSubject,
            mailBody: this.mailBody.innerHTML,
        };
        console.log(temp);
        this.http.post('/Voip/sendMail', temp).subscribe(function (data) {
            console.log(data);
        });
        console.log(this.mailSubject);
        console.log(this.mailBody.innerHTML);
    };
    RequestdutyslipComponent.prototype.makeAppCall = function (number) {
        var _this = this;
        var temp = {
            userId: this.user.id,
            number: number,
            ownerId: this.user.ownerId,
            date: __WEBPACK_IMPORTED_MODULE_6_moment__().format("YYYY-MM-DD")
        };
        this.callService.makeCall(temp).subscribe(function (data) {
            console.log(data);
            _this.snackBar.open("Calling " + number + ". Check device", "X", { duration: 5000 });
        });
    };
    RequestdutyslipComponent.prototype.checkNumber = function (data) {
        try {
            var notify = JSON.parse(data.notification.body);
            return notify.number;
        }
        catch (e) {
            return 0;
        }
    };
    RequestdutyslipComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    RequestdutyslipComponent.prototype.messageSize = function () {
        this.messageLength = Math.ceil(this.message.length / 160);
        return this.messageLength;
    };
    RequestdutyslipComponent.prototype.send = function () {
        var _this = this;
        if (this.customEmail != '') {
            if (this.customEmail.match(/\b([a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+\.[a-zA-Z]{2,}$)\b/)) {
                this.supplierArray.push(this.customEmail);
            }
            else {
                this.snackBar.open("Please Enter a valid email address", "X", { duration: 3000 });
            }
        }
        if (this.customNumber != '') {
            if (this.customNumber.match(/\b([789]\d{9}$)\b/)) {
                var i = this.smsArray.findIndex(function (x) { return x === _this.customNumber; });
                var j = this.whatsAppArray.findIndex(function (x) { return x === _this.customNumber; });
                // this.smsArray.splice(i,1);
                // this.whatsAppArray.splice(j,1);
            }
            else {
                this.snackBar.open("Please Enter a valid phone number", "X", { duration: 3000 });
            }
        }
        if (this.smsArray.length > 0) {
            this.callService.sendSMS({ number: this.smsArray, message: this.message }).subscribe();
        }
        if (this.whatsAppArray.length > 0) {
            this.callService.sendWhatsApp({ number: this.whatsAppArray, message: this.whatsappMessage }).subscribe();
        }
        if (this.supplierArray.length > 0) {
            if (this.businessSettings.CCAllAllotmentEmails) {
                var temp = {
                    companyEmail: this.companyProfile.email,
                    name: this.companyProfile.name,
                    email: this.supplierArray,
                    cc: this.businessSettings.AutoCCEmail,
                    subject: this.mailSubject,
                    mailBody: this.template.nativeElement.innerHTML,
                };
            }
            else {
                var temp = {
                    companyEmail: this.companyProfile.email,
                    name: this.companyProfile.name,
                    email: this.supplierArray,
                    cc: '',
                    subject: this.mailSubject,
                    mailBody: this.template.nativeElement.innerHTML,
                };
            }
            this.http.post('/Voip/sendMail', temp).map(function (res) { return res.json(); }).subscribe(function (data) {
                console.log(data);
            });
        }
        var count = {
            sms: this.smsArray.length,
            whatsApp: this.whatsAppArray.length,
            email: this.supplierArray.length,
            date: __WEBPACK_IMPORTED_MODULE_6_moment__().format("YYYY-MM-DD"),
            ownerId: this.user.ownerId
        };
        this.callService.insertCount(count).subscribe(function (data) {
            console.log(data);
        });
        this.insertLog();
    };
    RequestdutyslipComponent.prototype.insertLog = function () {
        var _this = this;
        this.logs.forEach(function (element) {
            _this.callService.insertLogs(element).subscribe(function (data) {
                console.log(data);
            });
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('template'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], RequestdutyslipComponent.prototype, "template", void 0);
    RequestdutyslipComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'requestdutyslip',
            template: __webpack_require__("./src/app/pages/masters/requestdutyslip/requestdutyslip.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/requestdutyslip/requestdutyslip.component.scss")]
        }),
        __param(0, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material_dialog__["a" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [Object, __WEBPACK_IMPORTED_MODULE_2__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material_dialog__["b" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_3__circles_companyprofile_companyprofile_service__["a" /* CompanyprofileService */],
            __WEBPACK_IMPORTED_MODULE_4__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_5__messaging_service__["a" /* MessagingService */],
            __WEBPACK_IMPORTED_MODULE_7__fileupload_service__["a" /* FileuploadService */],
            __WEBPACK_IMPORTED_MODULE_8__angular_platform_browser__["DomSanitizer"],
            __WEBPACK_IMPORTED_MODULE_9__duties_call_call_service__["a" /* CallService */],
            __WEBPACK_IMPORTED_MODULE_10__angular_material__["I" /* MatSnackBar */]])
    ], RequestdutyslipComponent);
    return RequestdutyslipComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/requestinvoice/requestinvoice.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\" style=\"min-width:60vw;\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>Contact</nb-card-header>\n      <nb-card-body>\n        <div class=\"call-container\">\n          <mat-accordion *ngIf=\"logDisplay.length>0\">\n            <mat-expansion-panel>\n              <mat-expansion-panel-header>\n                <mat-panel-title style=\"justify-content: center;\">\n                  Logs\n                </mat-panel-title>\n                <mat-panel-description style=\"justify-content: center;\">\n                  Click here to open logs\n                </mat-panel-description>\n              </mat-expansion-panel-header>\n              <div *ngFor=\"let element of logDisplay\" style=\"text-align: center;color:brown;\">\n                {{element.log}}\n              </div>\n            </mat-expansion-panel>\n          </mat-accordion>\n          <div style=\"margin-top:15px;\">\n            <table class=\"callTable\">\n              <tbody>\n                <tr>\n                  <td class=\"callCell\">\n                    <b>Supplier: </b> {{data.sname}}\n                  </td>\n                  <td class=\"callCell\" rowspan=\"3\" style=\"padding-left: 30px\">\n                    <mat-checkbox (change)=\"sendSMS($event,data.sphone,'supplier',data.sname)\">SMS</mat-checkbox>\n                    <mat-checkbox (change)=\"sendWhatsApp($event,data.sphone,'supplier',data.sname)\">WhatApp</mat-checkbox>\n                    <mat-checkbox (change)=\"sendEmail($event,data.semail,'supplier',data.sname)\">E-mail</mat-checkbox><br>\n                  </td>\n                </tr>\n                <tr>\n                  <td class=\"callCell\">\n                    <b>Number: </b> {{data.sphone}}\n                    <button (click)=\"makeAppCall(data.sphone)\" color=\"primary\" mat-icon-button><mat-icon>local_phone</mat-icon></button><!--<sub *ngIf=\"callNumber==0\">* device is {{deviceStatus}}</sub><sub *ngIf=\"callNumber!=0\">* {{callNumber}} is {{deviceStatus}}</sub>-->\n                  </td>\n                </tr>\n                <tr>\n                  <td class=\"callCell\">\n                    <b>Email: </b> {{data.semail}}\n                  </td>\n                </tr>\n              </tbody>\n              <tbody>\n                <tr>\n                  <td class=\"callCell\">\n                    <mat-form-field>\n                      <b>Custom Phone: </b>\n                      <input matInput [(ngModel)]=\"customNumber\">\n                    </mat-form-field>                      \n                    <br>\n                    <mat-checkbox (change)=\"sendSMS($event,customNumber,'custom')\">SMS</mat-checkbox>\n                    <mat-checkbox (change)=\"sendWhatsApp($event,customNumber,'custom')\">WhatApp</mat-checkbox>\n                  </td>\n                  <td class=\"callCell\" style=\"padding-left: 30px\">\n                    <mat-form-field>\n                      <b>Custom Email: </b>\n                      <input matInput [(ngModel)]=\"customEmail\">\n                    </mat-form-field>        \n                  </td>\n                </tr>                  \n              </tbody>\n            </table> \n          </div>\n          <div class=\"invoice-button-container\" style=\"margin-top: 10px;\">\n            <div style=\"width: 60%;margin:auto;\">\n              <label style=\"text-align: left;font-size:14px;\">\n                <p>Invoice request for the following duty: </p>\n                <p>Date: {{data.startDate | date: 'dd-MM-yyyy'}}</p>\n                <p>Vehicle Group: {{data.vehicleGroup}}</p>\n                <p>Passenger: {{data.passenger}} ({{data.passengerNo}})</p>\n              </label>\n              <hr style=\"border-top:1px solid black\">\n            </div>\n            <button class=\"invoice-button\" color=\"primary\" mat-raised-button (click)=\"send()\">Send</button>\n            <button *ngIf=\"!mailPassenger\" (click)=\"mailPassenger = true\" class=\"invoice-button\" mat-raised-button color=\"primary\" >Preview E-mail</button>            \n            <button *ngIf=\"mailPassenger\" class=\"invoice-button\" mat-raised-button color=\"primary\" (click)=\"mailPassenger=false; mailSupplier=false\">Close Preview</button>\n          </div>\n          <mat-divider></mat-divider>\n          <div [hidden]=\"!mailPassenger\">\n            <div class=\"row\">\n              <div class=\"col-lg-12\">\n                <div id=\"template\" #template>\n                  <!DOCTYPE html>\n                  <html lang=\"en\">          \n                    <head>\n                      <title></title>\n                      <meta charset=\"utf-8\">\n                      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n                      <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n                      <style type=\"text/css\">\n                        @font-face {font-family: 'sofia';  src: url('http://media.firebox.com/fonts/sofiapro_regular_macroman/SofiaProRegular-webfont.woff') format('woff');  mso-font-alt: 'Arial';  font-weight: normal !important;  font-style: normal !important;}\n                        body,table,td,a{\n                          -webkit-text-size-adjust:100%;\n                          -ms-text-size-adjust:100%;\n                          -webkit-font-smoothing: antialiased;\n                        }\n                        table,td{\n                          mso-table-lspace:0pt;\n                          mso-table-rspace:0pt;\n                        }\n                        img{\n                          -ms-interpolation-mode:bicubic;\n                        }\n                        body{\n                          margin:0;\n                          padding:0;\n                        }\n                        img{\n                          border:0;\n                          height:auto;\n                          line-height:100%;\n                          outline:none;\n                          text-decoration:none;\n                        }\n                        table{\n                          border-collapse:collapse !important;\n                        }\n                        body{\n                          height:100% !important;\n                          margin:0;\n                          padding:0;\n                          width:100% !important;\n                        }\n                      \n                        .appleBody a{\n                          color: #0087DB !important;\n                          text-decoration: underline !important;;\n                        }\n                      \n                        .appleFooter a{\n                          color: #343434 !important;\n                          text-decoration: none;\n                        }\n                        td[class=btn]{\n                          width:50% !important;\n                        }\n                      \n                        span.preheader { display: none !important; }\n                        @media screen and (max-width: 525px){\n                          table[class=wrapper]{\n                            width:100% !important;\n                          }\n                        \n                        }\t/*@media screen and (max-width: 525px){\n                          td[class=wrapper]{\n                            width:100% !important;\n                          }*/\n                        \n                        @media screen and (max-width: 525px){\n                          td[class=mobile-hide]{\n                            display:none;\n                          }\n                        \n                        }\n                        @media screen and (max-width: 525px){\n                          img[class=mobile-show]{\n                            display:block !important;\n                            height:60px !important;\n                            width:60px !important;\n                            overflow:auto !important;\n                          }\n                        \n                        }\n                        @media screen and (max-width: 525px){\n                          img[class=mobile-hide]{\n                            display:none !important;\n                          }\n                        \n                        }\t\n                        @media screen and (max-width: 525px){\n                          img[class=img-max]{\n                            max-width:100% !important;\n                            width:100% !important;\n                            height:auto !important;\n                          }\n                        \n                        }\t\n                        @media screen and (max-width: 525px){\n                          img[class=img-picture]{\n                            max-width:60% !important;\n                            width:60% !important;\n                            height:auto !important;\n                            float:right !important;\n                          }\n                        \n                        }\t\n                        @media screen and (max-width: 525px){\n                          table[class=responsive-table]{\n                            width:100%!important;\n                          }\n                        \n                        }\t\n                        @media screen and (max-width: 525px){\n                          table[class=responsive-column]{\n                            width:100%!important;\n                            padding:0px 0px 15px 0px !important;\n                            display:block !important;\n                          }\n                        }\t\n                        @media screen and (max-width: 525px){\n                          td[class=top-padding]{\n                            padding: 0px 0px 10px 0px !important;\n                          }\n                        \n                        } \n                        @media screen and (max-width: 525px){\n                          td[class=slice-padding]{\n                            padding:0px 15px 0px 15px !important;\n                          }\n                        \n                        }\t\n                        @media screen and (max-width: 525px){\n                          td[class=smaller-padding]{\n                            padding:15px 0px 15px 0px !important;\n                          }\n                        \n                        }\n                        @media screen and (max-width: 525px){\n                          td[class=section-padding]{\n                            padding: 0px 10px 20px 10px !important;\n                          }\n                        }\n                        @media screen and (max-width: 525px){\n                          .height {\n                            height: 100% !important;\n                          }        \n                        }\n                        @media screen and (max-width: 525px){\n                          td[class=mobile-wrapper]{\n                            padding:0 !important;\n                          }\n                        \n                        }\t\n                        @media screen and (max-width: 525px){\n                          td[class=title]{\n                            font-size: 16px !important;\n                          }\n                        \n                        }\t\n                        @media screen and (max-width: 525px){\n                          td[class=btn]{\n                            width:80% !important;\n                          }\n                        \n                        }\n                      </style>\n                      <!--[if gte mso 9]>\n                        <style type=\"text/css\">\n                          .img-max {\n                              width: 246px !important;\n                          }\n                        </style>\n                      <![endif]-->\n                    </head>\n                  \n                    <body style=\"margin: 0; padding: 0;\">\n                      <div style=\"display:none !important; font-size:1px; color:#FFFFFF;\">\n                        <!-- It&#039;s on the way to XXXXX, Really Good Emails -->\n                      </div>\n                      <!-- HEADER LOGO -->\n                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                        <tr>\n                          <td bgcolor=\"#00C186\" style=\"background-color: #00C186;\">\n                            <div align=\"center\" style=\"padding: 0px 20px 0px 20px;\">\n                              <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                                <tr>\n                                  <td bgcolor=\"#00C186\" style=\"background-color: #00C186;\">\n                                    <div align=\"center\" style=\"padding: 0px 20px 0px 20px;\">\n                                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"wrapper\" align=\"center\">\n                                        <tr align=\"center\">\n                                          <td style=\"padding: 10px 0px 10px 0px; text-align: center; width: 400px;\" class=\"logo\" align=\"center\">\n                                            <a href=\"https://www.firebox.com?itc=915&utm_source=email&utm_medium=transactional&utm_campaign=order_dispatch\" title=\"Firebox.com\">\n                                              <!-- <img alt=\"header\" src=\"http://media.firebox.com/i/nl/fb_light.png\" width=\"130\" border=\"0\"> -->\n                                              <img alt=\"header\" [src]=\"companyLogo\" width=\"70\" border=\"0\">\n                                            </a>\n                                          </td>\n                                        </tr>\n                                        <!-- <tr align=\"center\">\n                                          <td style=\"padding: 0px 0px 15px 0px; text-align: center; width: 400px;\" class=\"logo\" align=\"center\"> -->\n                                            <!-- <img src=\"https://media.firebox.com/i/transactional/header-dispatch.png\" width=\"100%\" class=\"img-max\"> -->\n                                          <!-- </td>\n                                        </tr> -->\n                                      </table>\n                                    </div>\n                                  </td>\n                                </tr>\n                              </table>   \n                            </div>\n                          </td>\n                        </tr>\n                      </table>\n                      <!-- ORDER CONFIRMATION -->\n                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                        <tr>\n                          <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 10px 15px 10px 15px;\" class=\"top-padding\">\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                              <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                              <tr>\n                                <td>\n                                  <!-- TWO COLUMNS -->\n                                  <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                    <tr>\n                                      <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"600\" align=\"left\" class=\"responsive-table\">\n                                          <tr>\n                                            <td valign=\"top\" align=\"left\">\n                                              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" class=\"responsive-table\">\n                                                <tr>\n                                                  <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 10px; border: 1px solid #EFEFEF;\">\n                                                    <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"300\" valign=\"top\">\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" width=\"33%\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888 !important; font-size: 16px; line-height: 20px; font-weight: normal;\">\n                                                          <span style=\"color: #343434; text-transform: uppercase; font-size: 16px; -webkit-font-smoothing: auto; font-weight: bold;\" class=\"appleBody\">\n                                                            Invoice Request for the following duty:\n                                                          </span>                                              \n                                                        </td>                                            \n                                                      </tr>\n                                                    </table>\n                                                  </td>\n                                                </tr>\n                                              </table>\n                                            </td>\n                                          </tr>\n                                        </table>\n                                      </td>\n                                    </tr>\n                                  </table>\n                                </td>\n                              </tr>\n                            </table>\n                          </td>\n                        </tr>\n                      </table>\n                      <!-- END ORDER CONFIRMATION -->\n                      <!-- ORDER CONFIRMATION -->\n                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                        <tr>\n                          <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 0px 15px 10px 15px;\" class=\"top-padding\">\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                              <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                              <tr>\n                                <td>\n                                  <!-- TWO COLUMNS -->\n                                  <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                    <tr>\n                                      <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"600\" align=\"left\" class=\"responsive-table\">\n                                          <tr>\n                                            <td valign=\"top\" align=\"left\">\n                                              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" class=\"responsive-table\">\n                                                <tr>\n                                                  <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 10px; border: 1px solid #EFEFEF;\">\n                                                    <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"300\" valign=\"top\">\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" width=\"33%\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888 !important; font-size: 16px; line-height: 20px; font-weight: normal;\">\n                                                          <span style=\"color: #343434; text-transform: uppercase; font-size: 14px; -webkit-font-smoothing: auto; font-weight: bold;\" class=\"appleBody\">\n                                                            Booking date\n                                                          </span>\n                                                          <br />\n                                                          <span class=\"appleBody\">\n                                                            {{bookingDate}}\n                                                          </span>\n                                                        </td>\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" width=\"33%\" style=\"text-align: right; font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888 !important; font-size: 16px; line-height: 20px; font-weight: normal;\">\n                                                          <span style=\"color: #343434; text-transform: uppercase; font-size: 14px; -webkit-font-smoothing: auto; font-weight: bold;\" class=\"appleBody\" *ngIf=\"data.bid\">\n                                                            Booking no.\n                                                          </span>\n                                                          <br />\n                                                          <a href=\"#\" style=\"color: #0087DB !important;\">\n                                                            {{data.bid}}\n                                                          </a>\n                                                        </td>\n                                                      </tr>\n                                                    </table>\n                                                  </td>\n                                                </tr>\n                                              </table>\n                                            </td>\n                                          </tr>\n                                        </table>\n                                      </td>\n                                    </tr>\n                                  </table>\n                                </td>\n                              </tr>\n                            </table>\n                          </td>\n                        </tr>\n                      </table>\n                      <!-- END ORDER CONFIRMATION -->\n                      <!-- COPY SIMPLE SECTION-->\n                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                        <tr>\n                          <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 0px 15px 10px 15px;\" class=\"section-padding\">\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                              <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                              <tr>\n                                <td>\n                                  <!-- TWO COLUMNS -->\n                                  <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                    <tr>\n                                      <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"600\" align=\"left\" class=\"responsive-table\">\n                                          <tr>\n                                            <td valign=\"top\" align=\"left\">\n                                              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                                <tr>\n                                                  <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 10px; border: 1px solid #EFEFEF;\">\n                                                    <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"500\">\n                                                      <!-- STYLE WIDTH FOR CHROME BROWSER -->\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" class=\"title\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #343434; font-size: 16px; font-weight: normal; text-align: left; line-height: 1; padding: 0px 0px 20px 0px; text-transform: uppercase; -webkit-font-smoothing: auto; font-weight: bold;\">\n                                                          Passenger Details\n                                                        </td>                                    \n                                                      </tr>                                                                    \n                                                      <!-- <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #343434 !important; font-size: 14px; line-height: 20px; font-weight: normal; padding: 0px 0px 0px 0px;\">\n                                                          Sent using Airmail\n                                                        </td>\n                                                      </tr> -->                                  \n                                                      <!--<tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888 !important; font-size: 14px; line-height: 20px; font-weight: normal; padding: 0px 0px 0px 0px;\">\n                                                          <span class=\"appleBody\">\n                                                            <a href=\"#\">\n                                                              More info\n                                                            </a>\n                                                          </span>\n                                                        </td>\n                                                      </tr> \n                                                      <tr border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n                                                        <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 20px 20px 10px 0px; width: 400px;\">\n                                                          <a href=\"#\" target=\"_blank\" style=\"font-size: 16px; font-family:'sofia', Helvetica, Arial, sans-serif; text-decoration: none; border-radius: 3px; -webkit-border-radius: 3px; -moz-border-radius: 3px; font-weight: bold; text-transform: uppercase; background-color: #0087DB; border-top: 12px solid #0087DB; border-bottom: 12px solid #0087DB; border-right: 18px solid #0087DB; border-left: 18px solid #0087DB; display: inline-block; color: #ffffff;\">\n                                                            Track my order\n                                                          </a>\n                                                        </td>\n                                                      </tr> -->\n                                                    </table>\n                                                    <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%; border: 1px solid lightgrey !important;\" class=\"responsive-table\" width=\"500\">\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" class=\"title\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #262626; font-size: 16px; font-weight: normal; text-align: left; line-height: 1; padding: 0px 10px 10px 10px; -webkit-font-smoothing: antialiased; border: 1px solid;\">\n                                                          Sr.\n                                                        </td>\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" class=\"title\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #262626; font-size: 16px; font-weight: normal; text-align: left; line-height: 1; padding: 0px 10px 10px 10px; -webkit-font-smoothing: antialiased; border: 1px solid;\">\n                                                          Guest Name\n                                                        </td>\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" class=\"title\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #262626; font-size: 16px; font-weight: normal; text-align: left; line-height: 1; padding: 0px 10px 10px 10px; -webkit-font-smoothing: antialiased; border: 1px solid;\">\n                                                          Phone No.\n                                                        </td>\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" class=\"title\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #262626; font-size: 16px; font-weight: normal; text-align: left; line-height: 1; padding: 0px 10px 10px 10px; -webkit-font-smoothing: antialiased; border: 1px solid;\">\n                                                          Email\n                                                        </td>\n                                                      </tr>\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #323232 !important; font-size: 15px; line-height: 20px; font-weight: normal; padding: 0px 10px 10px 10px; border: 1px solid;\">\n                                                          1\n                                                        </td>\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #323232 !important; font-size: 15px; line-height: 20px; font-weight: normal; padding: 0px 10px 10px 10px; border: 1px solid;\">\n                                                          {{data.passenger}}\n                                                        </td>\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #323232 !important; font-size: 15px; line-height: 20px; font-weight: normal; padding: 0px 10px 10px 10px; border: 1px solid;\">\n                                                          {{data.passengerNo}}\n                                                        </td>\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #323232 !important; font-size: 15px; line-height: 20px; font-weight: normal; padding: 0px 10px 10px 10px; border: 1px solid;\">\n                                                          {{data.passengerEmail}}\n                                                        </td>\n                                                      </tr>\n                                                    </table>                                \n                                                    <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"500\">\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"5\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #323232 !important; font-size: 15px; line-height: 20px; font-weight: normal; padding: 0px 0px 0px 0px;\">\n                                                          Reporting Time: {{data.reportingTime}}\n                                                        </td>\n                                                      </tr>\n                                                    </table>\n                                                  </td>\n                                                </tr>\n                                              </table>\n                                            </td>\n                                          </tr>\n                                        </table>\n                                      </td>\n                                    </tr>\n                                  </table>\n                                </td>\n                              </tr>\n                            </table>\n                          </td>\n                        </tr>\n                      </table>\n                      <!-- END COPY SIMPLE SECTION-->\n                      <!-- DELIVERY SECTION-->\n                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                        <tr>\n                          <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 0px 15px 10px 15px;\" class=\"section-padding\">\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                              <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                              <tr>\n                                <td>\n                                  <!-- TWO COLUMNS -->\n                                  <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                    <tr>\n                                      <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                        <!-- LEFT COLUMN -->\n                                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"290\" align=\"left\" class=\"responsive-table\">\n                                          <tr>\n                                            <td valign=\"top\" align=\"left\">\n                                              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                                <tr>\n                                                  <td align=\"center\" bgcolor=\"#FFFFFF\" width=\"290\" height=\"150\" class=\"wrapper height\" valign=\"top\" style=\"padding: 10px 0; border: 1px solid #EFEFEF; width: 400px;\">\n                                                    <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"100%\">\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td class=\"title\" cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; font-size: 16px; font-weight: bold; padding: 0px 20px 10px 20px; text-transform: uppercase;\">\n                                                          Reporting Address\n                                                        </td>\n                                                      </tr>\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888; font-size: 15px; line-height: 1.44; font-weight: normal; text-align: left; padding: 0px 20px 10px 20px;\">\n                                                          <!-- Dosti Acres, Antop Hill, Mumbai, Maharashtra 400037 -->\n                                                          {{data.reportingAddress}}\n                                                        </td>\n                                                      </tr>                                  \n                                                    </table>\n                                                  </td>\n                                                </tr>\n                                              </table>\n                                            </td>\n                                          </tr>\n                                        </table>\n                                        <!-- RIGHT COLUMN -->\n                                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"290\" align=\"right\" class=\"responsive-table\">\n                                          <tr>\n                                            <td valign=\"top\" align=\"left\">\n                                              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                                <tr>\n                                                  <td align=\"center\" bgcolor=\"#FFFFFF\" width=\"290\" height=\"150\" class=\"wrapper height\" valign=\"top\" style=\"padding: 10px 0; border: 1px solid #EFEFEF; width: 400px;\">\n                                                    <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"100%\">\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td class=\"title\" cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; font-size: 16px; font-weight: bold; padding: 0px 20px 10px 20px; text-transform: uppercase;\">\n                                                          Drop Address\n                                                        </td>\n                                                      </tr>\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888; font-size: 15px; line-height: 1.44; font-weight: normal; text-align: left; padding: 0px 20px 10px 20px;\">\n                                                          {{data.dropAddress}}\n                                                        </td>\n                                                      </tr>                                  \n                                                    </table>\n                                                  </td>\n                                                </tr>\n                                              </table>\n                                            </td>\n                                          </tr>\n                                        </table>\n                                      </td>\n                                    </tr>\n                                  </table>\n                                </td>\n                              </tr>\n                            </table>\n                          </td>\n                        </tr>\n                      </table>\n                      <!-- END DELIVERY SECTION-->\n                    \n                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                        <tr>\n                          <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 0px 15px 10px 15px;\" class=\"section-padding\">\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                              <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                              <tr>\n                                <td>\n                                  <!-- TWO COLUMNS -->\n                                  <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                    <tr>\n                                      <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"600\" align=\"left\" class=\"responsive-table\">\n                                          <tr>\n                                            <td valign=\"top\" align=\"left\">\n                                              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                                <tr>\n                                                  <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 10px; border: 1px solid #EFEFEF;\">\n                                                    <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"500\">\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" class=\"title\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #343434; font-size: 18px; font-weight: normal; text-align: left; line-height: 1; padding: 0px 0px 15px 0px; text-transform: uppercase; -webkit-font-smoothing: auto; font-weight: bold;\">\n                                                          Booked By\n                                                        </td>                                    \n                                                      </tr>                    \n                                                    </table>\n                                                    <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"500\">                                  \n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">                                    \n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #323232 !important; font-size: 16px; line-height: 20px; font-weight: normal; padding: 0px 10px 10px 0px;\">\n                                                          {{data.bookBy}}\n                                                        </td>\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #323232 !important; font-size: 16px; line-height: 20px; font-weight: normal; padding: 0px 10px 10px 0px;\">\n                                                          {{data.bookByNo}}\n                                                        </td>\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #323232 !important; font-size: 16px; line-height: 20px; font-weight: normal; padding: 0px 10px 10px 0px;\">\n                                                          {{data.bookByEmail}}\n                                                        </td>\n                                                      </tr>\n                                                    </table>\n                                                  </td>\n                                                </tr>\n                                              </table>\n                                            </td>\n                                          </tr>\n                                        </table>\n                                      </td>\n                                    </tr>\n                                  </table>\n                                </td>\n                              </tr>\n                            </table>\n                          </td>\n                        </tr>\n                      </table>\n                    \n                      <!-- ROW CS CONTACT SECTION-->\n                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                        <tr>\n                          <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 0px 15px 5px 15px;\" class=\"section-padding\">\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                              <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                              <tr>\n                                <td>\n                                  <!-- TWO COLUMNS -->\n                                  <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                      <tr>\n                                        <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                          <!-- LEFT COLUMN -->\n                                          <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"290\" align=\"left\" class=\"responsive-table\">\n                                            <tr>\n                                              <td valign=\"top\" align=\"left\">\n                                                <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                                  <tr>\n                                                    <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" height=\"250\" width=\"290\" class=\"wrapper\" style=\"border: 1px solid #EFEFEF; width: 400px;\">\n                                                      <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\" style=\"width: 100%;\" class=\"responsive-table\">\n                                                        <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                          <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #333333; font-size: 18px; font-weight: bold; text-align: center; padding: 15px 20px 10px 20px; width: 400px;\">\n                                                            <img alt=\"\" src=\"https://media.firebox.com/i/transactional/icon-customer-service.png\" width=\"100\">\n                                                          </td>\n                                                        </tr>\n                                                        <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                          <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #333333; font-size: 16px; font-weight: bold; text-align: center; padding: 0px 20px 10px 20px; width: 400px; text-transform: uppercase;\">\n                                                            Got a query?\n                                                            <br />\n                                                            Get in touch\n                                                          </td>\n                                                        </tr>\n                                                        <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                          <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: center; font-family:'sofia', Helvetica, Arial, sans-serif; padding: 0px 20px 20px 20px; color: #888888 !important; line-height: 1.44; font-size: 14px;\">\n                                                            Hit us up on the numbers featured\n                                                          </td>\n                                                        </tr>\n                                                        <!-- <tr border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n                                                          <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 0px 20px 20px 20px; width: 400px;\">\n                                                            <a href=\"https://www.firebox.com/admin/faqs?itc=915&utm_source=email&utm_medium=transactional&utm_campaign=order_dispatch\" target=\"_blank\" style=\"font-size: 16px; font-family:'sofia', Helvetica, Arial, sans-serif; text-decoration: none; border-radius: 3px; -webkit-border-radius: 3px; -moz-border-radius: 3px; font-weight: bold; text-transform: uppercase; background-color: #0099E0; border-top: 12px solid #0099E0; border-bottom: 12px solid #0099E0; border-right: 18px solid #0099E0; border-left: 18px solid #0099E0; display: inline-block; color: #ffffff;\">\n                                                              FAQ ME\n                                                            </a>\n                                                          </td>\n                                                        </tr> -->\n                                                      </table>\n                                                    </td>\n                                                  </tr>\n                                                </table>\n                                              </td>\n                                            </tr>\n                                          </table>\n                                          <!-- RIGHT COLUMN -->\n                                          <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"290\" align=\"right\" class=\"responsive-table\">\n                                            <tr>\n                                              <td valign=\"top\" align=\"left\">\n                                                <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                                  <tr>\n                                                    <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" height=\"250\" width=\"290\" class=\"wrapper\" style=\"border: 1px solid #EFEFEF; width: 400px;\">\n                                                      <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\" style=\"width: 100%;\" class=\"responsive-table\">\n                                                        <!-- STYLE WIDTH FOR CHROME BROWSER -->\n                                                        <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                          <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: center; font-family:'sofia', Helvetica, Arial, sans-serif; padding: 10px 20px 10px 20px; color: #343434; text-transform: uppercase; width: 400px;\">\n                                                            Phone\n                                                          </td>\n                                                        </tr>\n                                                        <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                          <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #0087DB; font-size: 16px; font-weight: bold; text-align: center; padding: 0px 20px 10px 20px;\">\n                                                            <span class=\"appleBody\">{{companyProfile.phone}}</span>                                              \n                                                          </td>\n                                                        </tr>\n                                                        <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                          <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: center; font-family:'sofia', Helvetica, Arial, sans-serif; padding: 10px 20px 10px 20px; color: #343434; text-transform: uppercase;\">\n                                                            Email\n                                                          </td>\n                                                        </tr>\n                                                        <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                          <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: center; font-family:'sofia', Helvetica, Arial, sans-serif; color: #0087DB; padding: 0px 20px 20px 20px; font-weight: bold; font-size: 16px;\">\n                                                            <span class=\"appleBody\">\n                                                              <a style=\"color: #0087DB; text-decoration: none !important;\">\n                                                                {{companyProfile.email}}\n                                                              </a>\n                                                            </span>\n                                                          </td>\n                                                        </tr>\n                                                      </table>\n                                                    </td>\n                                                  </tr>\n                                                </table>\n                                              </td>\n                                            </tr>\n                                          </table>\n                                        </td>\n                                      </tr>\n                                    </table>\n                                  </td>\n                                </tr>\n                              </table>\n                            </td>\n                          </tr>\n                        </table>\n                      <!-- END CS CONTACT ROW SECTION-->\n                      \n                      <!-- FOOTER -->\n                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                          <tr>\n                            <td bgcolor=\"#ffffff\" align=\"center\" style=\"padding: 20px 0px;\">\n                              <!-- UNSUBSCRIBE COPY -->\n                              <table width=\"600\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\" class=\"responsive-table\">\n                                <tr>\n                                  <td width=\"100%\" align=\"center\" style=\"padding: 0 0 20px 0; font-size: 14px; line-height: 18px; font-family: Helvetica, Arial, sans-serif; color:#888888;\">\n                                    Until next time, <strong>Techsimians Team</strong>\n                                  </td>\n                                </tr>\n                                <!-- <tr>\n                                  <td>\n                                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" align=\"center\">\n                                      <tr width=\"183\">\n                                        <td>\n                                          <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" align=\"center\">\n                                            <tr width=\"157\">\n                                              <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                                <a href=\"https://www.facebook.com/Firebox\" target=\"blank\">\n                                                  <img src=\"http://media.firebox.com/i/nl/facebook_icon.png\" width=\"16\" height=\"16\">\n                                                </a>\n                                              </td>\n                                              <td width=\"19\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                                <a href=\"https://twitter.com/Firebox\" target=\"blank\">\n                                                  <img src=\"http://media.firebox.com/i/nl/twitter_icon.png\" width=\"19\" height=\"16\">\n                                                </a>\n                                              </td>\n                                              <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                                <a href=\"https://www.instagram.com/Firebox/\" target=\"blank\">\n                                                  <img src=\"http://media.firebox.com/i/nl/instagram_icon.png\" width=\"16\" height=\"16\">\n                                                </a>\n                                              </td>\n                                              <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                                <a href=\"https://www.pinterest.com/firebox/\" target=\"blank\">\n                                                  <img src=\"http://media.firebox.com/i/nl/pinterest_icon.png\" width=\"16\" height=\"16\">\n                                                </a>\n                                              </td>\n                                            </tr>\n                                          </table>\n                                        </td>\n                                      </tr>\n                                    </table>\n                                  </td>\n                                </tr> -->\n                                <tr>\n                                  <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 0 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                    <span class=\"appleBody\">\n                                      <strong>Techsimians</strong><br /> Mumbai, Maharashtra, India.\n                                    </span>\n                                  </td>\n                                </tr>\n                                <!-- <tr>\n                                  <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 20px 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                    <span class=\"appleBody\">\n                                      VAT Reg. No.: 798 6593 41 Registered in England & Wales, No. 3874477\n                                    </span>\n                                  </td>\n                                </tr> -->\n                                <tr>\n                                  <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 20px 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                    <span class=\"appleBody\" style=\"color:#888888;\">\n                                      <a style=\"color:#888888 !important;\">info@yourfleetman.com</a>\n                                    </span>\n                                    <span class=\"hide-mobile\">&nbsp; | &nbsp;</span>\n                                    <span class=\"appleBody break\" style=\"color:#888888;\">\n                                      <a href=\"http://www.techsimians.com\"\n                                        style=\"color: #888888 !important;\">www.techsimians.com</a>\n                                    </span>\n                                    <span class=\"hide-mobile\">&nbsp; | &nbsp;</span>\n                                    <span class=\"appleBody break\" style=\"color:#888888;\">\n                                      8080 425 120\n                                    </span>\n                                  </td>\n                                </tr>\n                              </table>\n                            </td>                \n                        </tr>\n                      </table>\n                    </body>\n                  </html>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12 col-12\">\n    <button mat-raised-button color=\"primary\" (click)=\"sendMail(template)\">Send Mail</button>\n    <button mat-raised-button color=\"warn\"(click)=\"closeDialog()\">Close</button>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/requestinvoice/requestinvoice.component.scss":
/***/ (function(module, exports) {

module.exports = "@import url(https://fonts.googleapis.com/css?family=Share+Tech+Mono);\nb {\n  display: inline-block; }\nbody,\np {\n  padding: 0;\n  margin: 0; }\n.blockDiv {\n  margin: 0px 20px 0px 20px; }\nbody {\n  background: #272726; }\nlabel {\n  text-align: center;\n  font-family: Helvetica, sans-serif;\n  font-size: 1.25em;\n  color: #000000;\n  display: block; }\ndiv#controls {\n  padding: 3em;\n  max-width: 1200px;\n  margin: 0 auto; }\ndiv#controls div {\n  float: left; }\ndiv#controls div#call-controls,\ndiv#controls div#info {\n  width: 16em;\n  margin: 0 11.5em;\n  text-align: center; }\ndiv#controls div#info div#output-selection {\n  display: none; }\ndiv#controls div#info a {\n  font-size: 1.1em;\n  color: black;\n  text-decoration: underline;\n  cursor: pointer; }\ndiv#controls div#info select {\n  width: 300px;\n  height: 60px;\n  margin-bottom: 2em; }\ndiv#controls div#info label {\n  width: 300px; }\ndiv#controls div#call-controls div#volume-indicators {\n  display: none;\n  padding: 10px;\n  margin-top: 20px;\n  width: 500px;\n  text-align: center; }\ndiv#controls div#call-controls div#volume-indicators > div {\n  display: block;\n  height: 20px;\n  width: 0; }\ndiv#controls p.instructions {\n  text-align: center;\n  margin-bottom: 1em;\n  font-family: Helvetica-LightOblique, Helvetica, sans-serif;\n  font-style: oblique;\n  font-size: 1.25em;\n  color: #000000; }\ndiv#controls div#info #client-name {\n  text-align: center;\n  margin-bottom: 1em;\n  font-family: \"Helvetica Light\", Helvetica, sans-serif;\n  font-size: 1.25em;\n  color: #000000; }\ndiv#controls button {\n  width: 15em;\n  height: 2.5em;\n  margin-top: 1.75em;\n  border-radius: 1em;\n  font-family: \"Helvetica Light\", Helvetica, sans-serif;\n  font-size: .8em;\n  font-weight: lighter;\n  outline: 0; }\ndiv#controls button:active {\n  position: relative;\n  top: 1px; }\ndiv#controls div#call-controls {\n  display: none; }\ndiv#controls div#call-controls input {\n  font-family: Helvetica-LightOblique, Helvetica, sans-serif;\n  font-style: oblique;\n  font-size: 1em;\n  width: 100%;\n  height: 2.5em;\n  padding: .5em;\n  display: block; }\ndiv#controls div#call-controls button {\n  color: black;\n  background: 0 0;\n  border: 1px solid #000000; }\ndiv#controls div#call-controls button#button-hangup {\n  display: none; }\ndiv#controls div#log {\n  border: 1px solid #000000;\n  width: 35%;\n  height: 9.5em;\n  margin-top: 2.75em;\n  text-align: center;\n  padding: 1.5em;\n  float: right;\n  overflow-y: scroll; }\ndiv#controls div#log p {\n  color: #686865;\n  font-family: 'Share Tech Mono', 'Courier New', Courier, fixed-width;\n  font-size: 1.25em;\n  line-height: 1.25em;\n  margin-left: 1em;\n  text-indent: -1.25em;\n  width: 90%; }\n.whatsappBlock {\n  text-align: center; }\n.whatsappTo {\n  margin-left: -188px; }\n.whatsappTextArea {\n  width: 300px;\n  height: 200px; }\n.checkbox {\n  margin-left: 30px; }\n.driver {\n  margin-top: 5px; }\n.driverName {\n  margin: 10px 90px 5px 0px; }\n.driverNumber {\n  margin: 10px 87px 5px 0px; }\n.callTable {\n  border-collapse: collapse;\n  width: 100%; }\n.callCell {\n  padding: 5px;\n  border: 1px solid lightgrey;\n  line-height: 40px; }\n.mat-checkbox-inner-container {\n  margin-right: 3px !important; }\n.mat-checkbox {\n  margin-right: 15px !important; }\n"

/***/ }),

/***/ "./src/app/pages/masters/requestinvoice/requestinvoice.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RequestinvoiceComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__circles_companyprofile_companyprofile_service__ = __webpack_require__("./src/app/pages/circles/companyprofile/companyprofile.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__messaging_service__ = __webpack_require__("./src/app/messaging.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__duties_call_call_service__ = __webpack_require__("./src/app/pages/duties/call/call.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};











var RequestinvoiceComponent = (function () {
    function RequestinvoiceComponent(data, http, dialog, companyProfileService, auth, msgService, uploadService, _sanitizer, callService, snackBar) {
        this.data = data;
        this.http = http;
        this.dialog = dialog;
        this.companyProfileService = companyProfileService;
        this.auth = auth;
        this.msgService = msgService;
        this.uploadService = uploadService;
        this._sanitizer = _sanitizer;
        this.callService = callService;
        this.snackBar = snackBar;
        this.mailSubject = "Invoice Request";
        this.bookingDate = new Date().toISOString().split('T')[0];
        this.user = {};
        this.companyProfile = {};
        this.businessSettings = {};
        this.callNumber = 0;
        this.deviceStatus = 'Offline';
        this.customNumber = '';
        this.customEmail = '';
        this.message = '';
        this.whatsappMessage = '';
        this.smsArray = [];
        this.whatsAppArray = [];
        this.supplierArray = [];
        this.supplierLogCount = 0;
        this.customLogCount = 0;
        this.logDisplay = [];
        this.logs = [];
        this.mailPassenger = false;
        this.companyLogo = '';
        console.log(data);
    }
    RequestinvoiceComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        this.msgService.receiveMessage();
        this.callStatus = this.msgService.currentMessage;
        this.callStatus.subscribe(function (payload) {
            if (payload) {
                _this.callNumber = _this.checkNumber(payload);
                if (_this.callNumber != 0) {
                    _this.deviceStatus = 'Online';
                }
            }
        });
    };
    RequestinvoiceComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.businessSettings.subscribe(function (data) {
            _this.businessSettings = data;
        });
        this.callService.checkDevice(this.user).subscribe();
        this.callService.getLogs({ dutyId: this.data.id, type: '', ownerId: this.user.ownerId }).subscribe(function (data) {
            _this.logDisplay = data;
        });
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.companyProfileService.getCompanyProfile(_this.user).subscribe(function (data) {
                _this.companyProfile = data[0];
                _this.uploadService.getFile(_this.user.companyName, 'profileImages', _this.companyProfile.companyLogo).subscribe(function (data) {
                    _this.companyLogo = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                        + data.text());
                });
                _this.message = "Invoice request for the following duty: %0aDate: " + _this.data.startDate + ".%0aVehicle Group: " + _this.data.vehicleGroup + ".%0aPassenger: " + _this.data.passenger + " (" + _this.data.passengerNo + ")";
                _this.whatsappMessage = "Invoice request for the following duty: %0aDate: " + _this.data.startDate + ".%0aVehicle Group: " + _this.data.vehicleGroup + ".%0aPassenger: " + _this.data.passenger + " (" + _this.data.passengerNo + ").%0a%0a--%0aFrom: " + _this.user.companyName + ".%0a This is a system generated message. Please do not respond. For any queries contact " + _this.companyProfile.phone;
            });
        });
    };
    RequestinvoiceComponent.prototype.sendSMS = function (event, number, type, name) {
        if (event.checked) {
            if (type == 'supplier') {
                this.logs.push({ bookingId: this.data.row.id, log: "SMS was sent to " + name + " (" + type + ") on " + __WEBPACK_IMPORTED_MODULE_6_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + this.user.name, type: '', ownerId: this.user.ownerId });
                this.supplierLogCount = this.supplierLogCount + 1;
            }
            if (type == 'custom') {
                this.logs.push({ bookingId: this.data.row.id, log: "SMS was sent to " + number + " on " + __WEBPACK_IMPORTED_MODULE_6_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + this.user.name, type: '', ownerId: this.user.ownerId });
                this.customLogCount = this.customLogCount + 1;
            }
            this.smsArray.push(number);
            console.log(this.smsArray);
            console.log(this.logs);
        }
        else {
            if (type == 'custom') {
                for (var i = 0; i < this.logs.length; i++) {
                    if (this.logs[i].log.indexOf("SMS was sent to " + number) != -1) {
                        this.logs.splice(i, 1);
                    }
                }
                this.customLogCount = this.customLogCount - 1;
            }
            var i = this.smsArray.findIndex(function (x) { return x === number; });
            this.smsArray.splice(i, 1);
            console.log(this.logs);
        }
    };
    RequestinvoiceComponent.prototype.sendWhatsApp = function (event, number, type, name) {
        if (event.checked) {
            if (type == 'supplier') {
                this.logs.push({ bookingId: this.data.row.id, log: "WhatsApp was sent to " + name + " (" + type + ") on " + __WEBPACK_IMPORTED_MODULE_6_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + this.user.name, type: '', ownerId: this.user.ownerId });
                this.supplierLogCount = this.supplierLogCount + 1;
            }
            if (type == 'custom') {
                this.logs.push({ bookingId: this.data.row.id, log: "WhatsApp was sent to " + number + " on " + __WEBPACK_IMPORTED_MODULE_6_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + this.user.name, type: '', ownerId: this.user.ownerId });
                this.customLogCount = this.customLogCount + 1;
            }
            this.whatsAppArray.push(number);
            console.log(this.whatsAppArray);
        }
        else {
            if (type == 'custom') {
                for (var i = 0; i < this.logs.length; i++) {
                    if (this.logs[i].log.indexOf("WhatsApp was sent to " + number) != -1) {
                        this.logs.splice(i, 1);
                    }
                }
                this.customLogCount = this.customLogCount - 1;
            }
            var i = this.whatsAppArray.findIndex(function (x) { return x === number; });
            this.whatsAppArray.splice(i, 1);
        }
    };
    RequestinvoiceComponent.prototype.sendEmail = function (event, email, type, name) {
        if (event.checked) {
            if (type == 'supplier') {
                this.logs.push({ bookingId: this.data.row.id, log: "Email was sent to " + name + " (" + type + ") on " + __WEBPACK_IMPORTED_MODULE_6_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + this.user.name, type: '', ownerId: this.user.ownerId });
                this.supplierArray.push(email);
                this.supplierLogCount = this.supplierLogCount + 1;
            }
        }
        else {
            if (type == 'supplier') {
                this.supplierArray.pop();
                this.supplierLogCount = this.supplierLogCount + 1;
            }
            for (var i = 0; i < this.logs.length; i++) {
                if (this.logs[i].log.indexOf("Email was sent to " + name + " (" + type + ")") != -1) {
                    this.logs.splice(i, 1);
                }
            }
        }
    };
    RequestinvoiceComponent.prototype.sendMail = function (div1) {
        this.mailBody = div1;
        var temp = {
            companyEmail: this.companyProfile.email,
            name: this.companyProfile.name,
            email: this.data.bookByEmail,
            subject: this.mailSubject,
            mailBody: this.mailBody.innerHTML,
        };
        console.log(temp);
        this.http.post('/Voip/sendMail', temp).subscribe(function (data) {
            console.log(data);
        });
        console.log(this.mailSubject);
        console.log(this.mailBody.innerHTML);
    };
    RequestinvoiceComponent.prototype.makeAppCall = function (number) {
        var _this = this;
        var temp = {
            userId: this.user.id,
            number: number,
            ownerId: this.user.ownerId,
            date: __WEBPACK_IMPORTED_MODULE_6_moment__().format("YYYY-MM-DD")
        };
        this.callService.makeCall(temp).subscribe(function (data) {
            console.log(data);
            _this.snackBar.open("Calling " + number + ". Check device", "X", { duration: 5000 });
        });
    };
    RequestinvoiceComponent.prototype.checkNumber = function (data) {
        try {
            var notify = JSON.parse(data.notification.body);
            return notify.number;
        }
        catch (e) {
            return 0;
        }
    };
    RequestinvoiceComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    RequestinvoiceComponent.prototype.messageSize = function () {
        this.messageLength = Math.ceil(this.message.length / 160);
        return this.messageLength;
    };
    RequestinvoiceComponent.prototype.send = function () {
        var _this = this;
        if (this.customEmail != '') {
            if (this.customEmail.match(/\b([a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+\.[a-zA-Z]{2,}$)\b/)) {
                this.supplierArray.push(this.customEmail);
            }
            else {
                this.snackBar.open("Please Enter a valid email address", "X", { duration: 3000 });
            }
        }
        if (this.customNumber != '') {
            if (this.customNumber.match(/\b([789]\d{9}$)\b/)) {
                var i = this.smsArray.findIndex(function (x) { return x === _this.customNumber; });
                var j = this.whatsAppArray.findIndex(function (x) { return x === _this.customNumber; });
                // this.smsArray.splice(i,1);
                // this.whatsAppArray.splice(j,1);
            }
            else {
                this.snackBar.open("Please Enter a valid phone number", "X", { duration: 3000 });
            }
        }
        if (this.smsArray.length > 0) {
            this.callService.sendSMS({ number: this.smsArray, message: this.message }).subscribe();
        }
        if (this.whatsAppArray.length > 0) {
            this.callService.sendWhatsApp({ number: this.whatsAppArray, message: this.whatsappMessage }).subscribe();
        }
        if (this.supplierArray.length > 0) {
            if (this.businessSettings.CCAllAllotmentEmails) {
                var temp = {
                    companyEmail: this.companyProfile.email,
                    name: this.companyProfile.name,
                    email: this.supplierArray,
                    cc: this.businessSettings.AutoCCEmail,
                    subject: this.mailSubject,
                    mailBody: this.template.nativeElement.innerHTML,
                };
            }
            else {
                var temp = {
                    companyEmail: this.companyProfile.email,
                    name: this.companyProfile.name,
                    email: this.supplierArray,
                    cc: '',
                    subject: this.mailSubject,
                    mailBody: this.template.nativeElement.innerHTML,
                };
            }
            this.http.post('/Voip/sendMail', temp).map(function (res) { return res.json(); }).subscribe(function (data) {
                console.log(data);
            });
        }
        var count = {
            sms: this.smsArray.length,
            whatsApp: this.whatsAppArray.length,
            email: this.supplierArray.length,
            date: __WEBPACK_IMPORTED_MODULE_6_moment__().format("YYYY-MM-DD"),
            ownerId: this.user.ownerId
        };
        this.callService.insertCount(count).subscribe(function (data) {
            console.log(data);
        });
        this.insertLog();
    };
    RequestinvoiceComponent.prototype.insertLog = function () {
        var _this = this;
        this.logs.forEach(function (element) {
            _this.callService.insertLogs(element).subscribe(function (data) {
                console.log(data);
            });
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('template'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], RequestinvoiceComponent.prototype, "template", void 0);
    RequestinvoiceComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'requestinvoice',
            template: __webpack_require__("./src/app/pages/masters/requestinvoice/requestinvoice.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/requestinvoice/requestinvoice.component.scss")]
        }),
        __param(0, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [Object, __WEBPACK_IMPORTED_MODULE_2__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_3__circles_companyprofile_companyprofile_service__["a" /* CompanyprofileService */],
            __WEBPACK_IMPORTED_MODULE_4__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_5__messaging_service__["a" /* MessagingService */],
            __WEBPACK_IMPORTED_MODULE_7__fileupload_service__["a" /* FileuploadService */],
            __WEBPACK_IMPORTED_MODULE_8__angular_platform_browser__["DomSanitizer"],
            __WEBPACK_IMPORTED_MODULE_9__duties_call_call_service__["a" /* CallService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["I" /* MatSnackBar */]])
    ], RequestinvoiceComponent);
    return RequestinvoiceComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/selectflightinvoices/selectflightinvoices.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n    <div class=\"col-lg-12\">\n      <nb-card>\n        <nb-card-header>\n          Customer\n        </nb-card-header>    \n        <nb-card-body>\n          <mat-table #table [dataSource]=\"dataSource\" matSort>\n  \n            <ng-container matColumnDef=\"invoiceNumber\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice Number </mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.invoiceNumber}} </mat-cell>\n            </ng-container>\n  \n            <ng-container matColumnDef=\"invoiceDate\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Date </mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.invoiceDate | date: 'dd-MM-yyyy'}} </mat-cell>\n            </ng-container>\n  \n            <ng-container matColumnDef=\"totalAmount\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Total Amount </mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.totalAmount}} </mat-cell>\n            </ng-container>\n  \n            <ng-container matColumnDef=\"Selector\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Selector</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"><mat-checkbox  (change)=\"chooseInvoice(element,$event)\" [checked]=\"isSelected(element.id)\"></mat-checkbox>\n              </mat-cell>   \n            </ng-container>\n            \n            <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n            <mat-row *matRowDef=\"let row; columns: displayedColumns;\"></mat-row>\n          </mat-table>\n  \n          <div align=\"center\" style=\"padding-top:10px\">\n            <button mat-raised-button color=\"primary\" (click)=\"selectInvoices()\">Close</button>\n            <br><br>\n          </div>\n        </nb-card-body>\n      </nb-card>\n    </div>\n  </div>\n  "

/***/ }),

/***/ "./src/app/pages/masters/selectflightinvoices/selectflightinvoices.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/selectflightinvoices/selectflightinvoices.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SelectflightinvoicesComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};




var SelectflightinvoicesComponent = (function () {
    function SelectflightinvoicesComponent(data, matDialogRef, auth, invoiceService) {
        this.data = data;
        this.matDialogRef = matDialogRef;
        this.auth = auth;
        this.invoiceService = invoiceService;
        this.displayedColumns = ['invoiceNumber', 'invoiceDate', 'totalAmount', 'Selector'];
        this.selectedInvoices = [];
        this.checkedInvoices = [];
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
    }
    SelectflightinvoicesComponent.prototype.ngOnInit = function () {
        var _this = this;
        console.log(this.data);
        this.selectedCustomer = this.data.selectedCustomer;
        this.checkedInvoices = this.data.selectedInvoices;
        this.selectedInvoices = this.checkedInvoices;
        this.invoiceService.getCustInvoicesInFlights(this.selectedCustomer).subscribe(function (data) {
            data.forEach(function (element) {
                element.selected = false;
            });
            _this.dataSource.data = data;
        });
    };
    SelectflightinvoicesComponent.prototype.selectInvoices = function () {
        this.matDialogRef.close(this.selectedInvoices);
    };
    SelectflightinvoicesComponent.prototype.chooseInvoice = function (invoice, event) {
        var index = this.selectedInvoices.indexOf(invoice);
        if (event.checked) {
            this.selectedInvoices.push(invoice);
        }
        else {
            this.selectedInvoices.splice(index, 1);
        }
        //   //this.invoice.bookings.push(booking);
    };
    SelectflightinvoicesComponent.prototype.isSelected = function (id) {
        return this.checkedInvoices.find(function (val) { return val.id === id; });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], SelectflightinvoicesComponent.prototype, "sort", void 0);
    SelectflightinvoicesComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'selectflightinvoices',
            template: __webpack_require__("./src/app/pages/masters/selectflightinvoices/selectflightinvoices.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/selectflightinvoices/selectflightinvoices.component.scss")]
        }),
        __param(0, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [Object, __WEBPACK_IMPORTED_MODULE_1__angular_material__["p" /* MatDialogRef */], __WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_3__createinvoice_invoice_service__["a" /* InvoiceService */]])
    ], SelectflightinvoicesComponent);
    return SelectflightinvoicesComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/selecthotelinvoices/selecthotelinvoices.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n    <div class=\"col-lg-12\">\n      <nb-card>\n        <nb-card-header>\n          Customer\n        </nb-card-header>    \n        <nb-card-body>\n          <mat-table #table [dataSource]=\"dataSource\" matSort>\n  \n            <ng-container matColumnDef=\"invoiceNumber\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice Number </mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.invoiceNumber}} </mat-cell>\n            </ng-container>\n  \n            <ng-container matColumnDef=\"invoiceDate\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Date </mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.invoiceDate | date: 'dd-MM-yyyy'}} </mat-cell>\n            </ng-container>\n  \n            <ng-container matColumnDef=\"totalAmount\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Total Amount </mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.totalAmount}} </mat-cell>\n            </ng-container>\n  \n            <ng-container matColumnDef=\"Selector\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Selector</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"><mat-checkbox  (change)=\"chooseInvoice(element,$event)\" [checked]=\"isSelected(element.id)\"></mat-checkbox>\n              </mat-cell>   \n            </ng-container>\n            \n            <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n            <mat-row *matRowDef=\"let row; columns: displayedColumns;\"></mat-row>\n          </mat-table>\n  \n          <div align=\"center\" style=\"padding-top:10px\">\n            <button mat-raised-button color=\"primary\" (click)=\"selectInvoices()\">Close</button>\n            <br><br>\n          </div>\n        </nb-card-body>\n      </nb-card>\n    </div>\n  </div>\n  "

/***/ }),

/***/ "./src/app/pages/masters/selecthotelinvoices/selecthotelinvoices.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/selecthotelinvoices/selecthotelinvoices.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SelecthotelinvoicesComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};




var SelecthotelinvoicesComponent = (function () {
    function SelecthotelinvoicesComponent(data, matDialogRef, auth, invoiceService) {
        this.data = data;
        this.matDialogRef = matDialogRef;
        this.auth = auth;
        this.invoiceService = invoiceService;
        this.displayedColumns = ['invoiceNumber', 'invoiceDate', 'totalAmount', 'Selector'];
        this.selectedInvoices = [];
        this.checkedInvoices = [];
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
    }
    SelecthotelinvoicesComponent.prototype.ngOnInit = function () {
        var _this = this;
        console.log(this.data);
        this.selectedCustomer = this.data.selectedCustomer;
        this.checkedInvoices = this.data.selectedInvoices;
        this.selectedInvoices = this.checkedInvoices;
        this.invoiceService.getCustInvoicesInHotels(this.selectedCustomer).subscribe(function (data) {
            data.forEach(function (element) {
                element.selected = false;
            });
            _this.dataSource.data = data;
        });
    };
    SelecthotelinvoicesComponent.prototype.selectInvoices = function () {
        this.matDialogRef.close(this.selectedInvoices);
    };
    SelecthotelinvoicesComponent.prototype.chooseInvoice = function (invoice, event) {
        var index = this.selectedInvoices.indexOf(invoice);
        if (event.checked) {
            this.selectedInvoices.push(invoice);
        }
        else {
            this.selectedInvoices.splice(index, 1);
        }
        //   //this.invoice.bookings.push(booking);
    };
    SelecthotelinvoicesComponent.prototype.isSelected = function (id) {
        return this.checkedInvoices.find(function (val) { return val.id === id; });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], SelecthotelinvoicesComponent.prototype, "sort", void 0);
    SelecthotelinvoicesComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'selecthotelinvoices',
            template: __webpack_require__("./src/app/pages/masters/selecthotelinvoices/selecthotelinvoices.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/selecthotelinvoices/selecthotelinvoices.component.scss")]
        }),
        __param(0, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [Object, __WEBPACK_IMPORTED_MODULE_1__angular_material__["p" /* MatDialogRef */], __WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_3__createinvoice_invoice_service__["a" /* InvoiceService */]])
    ], SelecthotelinvoicesComponent);
    return SelecthotelinvoicesComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/selectinvoices/selectinvoices.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        Customer\n      </nb-card-header>    \n      <nb-card-body>\n        <mat-table #table [dataSource]=\"dataSource\" matSort>\n\n          <ng-container matColumnDef=\"invoiceNumber\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice Number </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.invoiceNumber}} </mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"invoiceDate\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Date </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.invoiceDate | date: 'dd-MM-yyyy'}} </mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"totalAmount\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Total Amount </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.totalAmount}} </mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"Selector\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Selector</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"><mat-checkbox  (change)=\"chooseInvoice(element,$event)\" [checked]=\"isSelected(element.id)\"></mat-checkbox>\n            </mat-cell>   \n          </ng-container>\n          \n          <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n          <mat-row *matRowDef=\"let row; columns: displayedColumns;\"></mat-row>\n        </mat-table>\n\n        <div align=\"center\" style=\"padding-top:10px\">\n          <button mat-raised-button color=\"primary\" (click)=\"selectInvoices()\">Close</button>\n          <br><br>\n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/pages/masters/selectinvoices/selectinvoices.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/selectinvoices/selectinvoices.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SelectinvoicesComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};




var SelectinvoicesComponent = (function () {
    function SelectinvoicesComponent(data, matDialogRef, auth, invoiceService) {
        this.data = data;
        this.matDialogRef = matDialogRef;
        this.auth = auth;
        this.invoiceService = invoiceService;
        this.displayedColumns = ['invoiceNumber', 'invoiceDate', 'totalAmount', 'Selector'];
        this.selectedInvoices = [];
        this.checkedInvoices = [];
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
    }
    SelectinvoicesComponent.prototype.ngOnInit = function () {
        var _this = this;
        console.log(this.data);
        this.selectedCustomer = this.data.selectedCustomer;
        this.checkedInvoices = this.data.selectedInvoices;
        this.selectedInvoices = this.checkedInvoices;
        this.invoiceService.getCustInvoices(this.selectedCustomer).subscribe(function (data) {
            data.forEach(function (element) {
                element.selected = false;
            });
            _this.dataSource.data = data;
        });
    };
    SelectinvoicesComponent.prototype.selectInvoices = function () {
        this.matDialogRef.close(this.selectedInvoices);
    };
    SelectinvoicesComponent.prototype.chooseInvoice = function (invoice, event) {
        var index = this.selectedInvoices.indexOf(invoice);
        if (event.checked) {
            this.selectedInvoices.push(invoice);
        }
        else {
            this.selectedInvoices.splice(index, 1);
        }
        //   //this.invoice.bookings.push(booking);
    };
    SelectinvoicesComponent.prototype.isSelected = function (id) {
        return this.checkedInvoices.find(function (val) { return val.id === id; });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], SelectinvoicesComponent.prototype, "sort", void 0);
    SelectinvoicesComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-selectinvoices',
            template: __webpack_require__("./src/app/pages/masters/selectinvoices/selectinvoices.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/selectinvoices/selectinvoices.component.scss")]
        }),
        __param(0, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [Object, __WEBPACK_IMPORTED_MODULE_1__angular_material__["p" /* MatDialogRef */], __WEBPACK_IMPORTED_MODULE_3__core_auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_2__createinvoice_invoice_service__["a" /* InvoiceService */]])
    ], SelectinvoicesComponent);
    return SelectinvoicesComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/selectpurchaseinvoices/selectpurchaseinvoices.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        Invoices\n      </nb-card-header> \n      <nb-card-body>\n        <mat-table #table [dataSource]=\"dataSource\" matSort>\n\n          <ng-container matColumnDef=\"invoiceNumber\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice Number </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.invoiceNumber}} </mat-cell>\n          </ng-container>\n    \n          <ng-container matColumnDef=\"invoiceDate\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Date </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.invoiceDate | date: 'dd-MM-yyyy'}} </mat-cell>\n          </ng-container>\n    \n          <ng-container matColumnDef=\"totalAmount\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Total Amount </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.totalAmount}} </mat-cell>\n          </ng-container>\n    \n          <ng-container matColumnDef=\"Selector\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Selector</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\">\n              <mat-checkbox  [(ngModel)]=\"element.selected\"></mat-checkbox>\n            </mat-cell>   \n          </ng-container>            \n    \n          <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n          <mat-row *matRowDef=\"let row; columns: displayedColumns;\"></mat-row>\n\n        </mat-table>\n  \n        <div align=\"center\" style=\"padding-top:10px\">\n          <button mat-raised-button color=\"primary\" (click)=\"selectInvoices()\">Close</button>\n          <br><br>  \n        </div>\n      \n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n  "

/***/ }),

/***/ "./src/app/pages/masters/selectpurchaseinvoices/selectpurchaseinvoices.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/selectpurchaseinvoices/selectpurchaseinvoices.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SelectpurchaseinvoicesComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material_table__ = __webpack_require__("./node_modules/@angular/material/esm5/table.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material_sort__ = __webpack_require__("./node_modules/@angular/material/esm5/sort.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_material_dialog__ = __webpack_require__("./node_modules/@angular/material/esm5/dialog.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};






var SelectpurchaseinvoicesComponent = (function () {
    function SelectpurchaseinvoicesComponent(data, matDialogRef, auth, invoiceService) {
        this.data = data;
        this.matDialogRef = matDialogRef;
        this.auth = auth;
        this.invoiceService = invoiceService;
        this.displayedColumns = ['invoiceNumber', 'invoiceDate', 'totalAmount', 'Selector'];
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_1__angular_material_table__["a" /* MatTableDataSource */]();
    }
    SelectpurchaseinvoicesComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.selectedCustomer = this.data;
        this.invoiceService.getCustPurchaseInvoices(this.selectedCustomer).subscribe(function (data) {
            data.forEach(function (element) {
                element.selected = false;
            });
            _this.dataSource.data = data;
        });
    };
    SelectpurchaseinvoicesComponent.prototype.selectInvoices = function () {
        this.matDialogRef.close(this.dataSource.data);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_2__angular_material_sort__["a" /* MatSort */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_2__angular_material_sort__["a" /* MatSort */])
    ], SelectpurchaseinvoicesComponent.prototype, "sort", void 0);
    SelectpurchaseinvoicesComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'selectpurchaseinvoices',
            template: __webpack_require__("./src/app/pages/masters/selectpurchaseinvoices/selectpurchaseinvoices.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/selectpurchaseinvoices/selectpurchaseinvoices.component.scss")]
        }),
        __param(0, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_3__angular_material_dialog__["a" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [Object, __WEBPACK_IMPORTED_MODULE_3__angular_material_dialog__["d" /* MatDialogRef */],
            __WEBPACK_IMPORTED_MODULE_4__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_5__createinvoice_invoice_service__["a" /* InvoiceService */]])
    ], SelectpurchaseinvoicesComponent);
    return SelectpurchaseinvoicesComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/selectvisainvoices/selectvisainvoices.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n    <div class=\"col-lg-12\">\n      <nb-card>\n        <nb-card-header>\n          Customer\n        </nb-card-header>    \n        <nb-card-body>\n          <mat-table #table [dataSource]=\"dataSource\" matSort>\n  \n            <ng-container matColumnDef=\"invoiceNumber\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Invoice Number </mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.invoiceNumber}} </mat-cell>\n            </ng-container>\n  \n            <ng-container matColumnDef=\"invoiceDate\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Date </mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.invoiceDate | date: 'dd-MM-yyyy'}} </mat-cell>\n            </ng-container>\n  \n            <ng-container matColumnDef=\"totalAmount\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Total Amount </mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.totalAmount}} </mat-cell>\n            </ng-container>\n  \n            <ng-container matColumnDef=\"Selector\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Selector</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"><mat-checkbox  (change)=\"chooseInvoice(element,$event)\" [checked]=\"isSelected(element.id)\"></mat-checkbox>\n              </mat-cell>   \n            </ng-container>\n            \n            <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n            <mat-row *matRowDef=\"let row; columns: displayedColumns;\"></mat-row>\n          </mat-table>\n  \n          <div align=\"center\" style=\"padding-top:10px\">\n            <button mat-raised-button color=\"primary\" (click)=\"selectInvoices()\">Close</button>\n            <br><br>\n          </div>\n        </nb-card-body>\n      </nb-card>\n    </div>\n  </div>\n  "

/***/ }),

/***/ "./src/app/pages/masters/selectvisainvoices/selectvisainvoices.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/selectvisainvoices/selectvisainvoices.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SelectvisainvoicesComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};




var SelectvisainvoicesComponent = (function () {
    function SelectvisainvoicesComponent(data, matDialogRef, auth, invoiceService) {
        this.data = data;
        this.matDialogRef = matDialogRef;
        this.auth = auth;
        this.invoiceService = invoiceService;
        this.displayedColumns = ['invoiceNumber', 'invoiceDate', 'totalAmount', 'Selector'];
        this.selectedInvoices = [];
        this.checkedInvoices = [];
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
    }
    SelectvisainvoicesComponent.prototype.ngOnInit = function () {
        var _this = this;
        console.log(this.data);
        this.selectedCustomer = this.data.selectedCustomer;
        this.checkedInvoices = this.data.selectedInvoices;
        this.selectedInvoices = this.checkedInvoices;
        this.invoiceService.getCustInvoicesInVisa(this.selectedCustomer).subscribe(function (data) {
            data.forEach(function (element) {
                element.selected = false;
            });
            _this.dataSource.data = data;
        });
    };
    SelectvisainvoicesComponent.prototype.selectInvoices = function () {
        this.matDialogRef.close(this.selectedInvoices);
    };
    SelectvisainvoicesComponent.prototype.chooseInvoice = function (invoice, event) {
        var index = this.selectedInvoices.indexOf(invoice);
        if (event.checked) {
            this.selectedInvoices.push(invoice);
        }
        else {
            this.selectedInvoices.splice(index, 1);
        }
        //   //this.invoice.bookings.push(booking);
    };
    SelectvisainvoicesComponent.prototype.isSelected = function (id) {
        return this.checkedInvoices.find(function (val) { return val.id === id; });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], SelectvisainvoicesComponent.prototype, "sort", void 0);
    SelectvisainvoicesComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'selectvisainvoices',
            template: __webpack_require__("./src/app/pages/masters/selectvisainvoices/selectvisainvoices.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/selectvisainvoices/selectvisainvoices.component.scss")]
        }),
        __param(0, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [Object, __WEBPACK_IMPORTED_MODULE_1__angular_material__["p" /* MatDialogRef */], __WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_3__createinvoice_invoice_service__["a" /* InvoiceService */]])
    ], SelectvisainvoicesComponent);
    return SelectvisainvoicesComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/senddutyslip/senddutyslip.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <div id=\"template\" #template>\n      <html>\n        <head>\n          <title>\n      \n          </title>\n      \n          <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css\">\n          <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"></script>\n          <script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js\"></script>\n          <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js\"></script>\n        \n          <style>\n          table{\n            width:100%;\n          }\n        \n          .row{\n            margin-left: 20px;\n            margin-right:20px;\n            padding:10px;\n          }\n      \n          .tg  {border-collapse:collapse;border-spacing:0;}\n          .tg td{font-family:Arial, sans-serif;font-size:16px;padding:10px 5px;border-style:solid;border-width:2px;overflow:hidden;word-break:normal;border-color:black;}\n          .tg th{font-family:Arial, sans-serif;font-size:16px;font-weight:bold;padding:10px 5px;border-style:solid;border-width:2px;overflow:hidden;word-break:normal;border-color:black;}\n          .tg .tg-baqh{text-align:center;vertical-align:top;font-weight:bold;}\n          .tg .tg-0lax{text-align:left;vertical-align:top;padding:20px;}\n          .tg .tg-s6z2{text-align:center}\n          .tg .tg-s268{text-align:left;padding:20px;}\n          .tg .tg-hgcj{font-weight:bold;text-align:center}\n          .tg .tg-amwm{font-weight:bold;text-align:center;vertical-align:top}\n          .tg .tg-s268{text-align:left}\n          .tg .tg-vomg{font-size:11px;border-color:#000000;text-align:left;padding-bottom:40px}\n          .tg .tg-qtf5{border-color:#000000;text-align:left}\n          .tg .tg-vmi1{font-weight:bold;font-size:12px;border-color:#000000;padding-bottom:40px;text-align:left}\n        \n          </style>\n        </head>\n        <body>\n          <!-- <div class=\"container\"> -->\n          <div class=\"row\">\n              <div class=\"col-lg-12\" style=\"padding:10px;\"> \n                  <table style=\"width: 100%;\">\n                    <tr>\n                      <td rowspan=\"4\" style=\"border-bottom: 1px solid darkgrey; width: 10%; padding-left: 5%; padding-bottom: 10px;\">\n                          <img alt=\"\" [src]=\"companyLogo\" height=\"100px\" width=\"100px\" />\n                      </td>\n                    </tr>\n                    <tr>                      \n                      <td style=\"text-align:left; padding-left: 10%;\">\n                        <b style=\"font-size: 24px; font-weight: 600 ;\">{{user.companyName}}</b>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td style=\"text-align: left; padding-left: 10%;\">\n                        <b>{{companyProfile.address}}</b>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td style=\"border-bottom: 1px solid darkgrey; text-align: left; padding-bottom: 10px; padding-left: 10%;\">\n                        <b><b>Email:</b> {{companyProfile.email}} <b>Mobile:</b> {{companyProfile.phone}}</b>\n                      </td>\n                    </tr>\n                  </table>\n                  <table style=\"width:100%\">\n                    <tr>\n                      <td style=\"border-bottom: 1px solid darkgrey; text-align: center;\"><b style=\"font-size: 16px\">DUTY SLIP</b></td>\n                    </tr>\n                  </table>\n                </div>\n          </div>\n          <!-- </div> -->\n          <!-- <div class=\"container\"> -->\n          <!-- <div class=\"row\" style=\"place-content:center; font-size:20px;\">\n            <span> DUTY SLIP</span><br>\n          </div> -->\n          <div class=\"row\">\n            <div class=\"col-md-12\">\n              <table>\n                <tr>\n                  <td>\n                    <b>Customer:</b> {{printData.cname}}\n                  </td>\n                  <td>\n                    <b>Booking ID:</b> {{printData.bid}}\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                      <b>Booked By:</b> {{printData.bookBy}}\n                  </td>\n                  <td>\n                      <b>Type Of Duty:</b> {{printData.dutyType}}\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                      <b>Passenge Name:</b> {{printData.passenger}}\n                  </td>\n                  <td>\n                      <b>Vehicle Group:</b> {{printData.vehicleGroup}}\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                      <b>Date:</b> {{printData.startDate | date: 'dd-MM-yyyy'}}\n                  </td>\n                  <td>\n                      <b>Vehicle:</b> {{printData.vehicle}}\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                      <b>Reporting Time:</b> {{printData.reportingTime}}\n                  </td>\n                  <td>\n                      <b>Driver Name:</b> {{printData.driver}}\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                      <b>Reporting Address:</b> {{printData.reportingAddress}}\n                  </td>\n                  <td>\n                      <b>Drop Address:</b> {{printData.dropAddress}}\n                  </td>\n                </tr>\n              </table>\n            </div>\n          </div>\n          <!-- </div> -->\n          <div class=\"row\">\n            <table class=\"tg\" style=\"width: 100%;\">\n              <colgroup>\n                <col style=\"width: 103px\">\n                <col style=\"width: 103px\">\n                <col style=\"width: 52px\">\n                <col style=\"width: 102px\">\n                <col style=\"width: 51px\">\n                <col style=\"width: 102px\">\n                <col style=\"width: 51px\">\n                <col style=\"width: 102px\">\n                <col style=\"width: 51px\">\n                <col style=\"width: 20px\">\n                <col style=\"width: 58px\">\n              </colgroup>\n              <tr>\n                <th class=\"tg-baqh\" rowspan=\"2\">DATE</th>\n                <th class=\"tg-baqh\" colspan=\"2\">START</th>\n                <th class=\"tg-baqh\" colspan=\"2\">END</th>\n                <th class=\"tg-baqh\" colspan=\"2\">TOTAL</th>\n                <th class=\"tg-baqh\" colspan=\"2\">EXTRA</th>\n                <th class=\"tg-baqh\" colspan=\"2\" rowspan=\"2\">Signature</th>\n              </tr>\n              <tr>\n                <td class=\"tg-baqh\">KMS</td>\n                <td class=\"tg-baqh\">TIME</td>\n                <td class=\"tg-baqh\">KMS</td>\n                <td class=\"tg-baqh\">TIME</td>\n                <td class=\"tg-baqh\">KMS</td>\n                <td class=\"tg-baqh\">TIME</td>\n                <td class=\"tg-baqh\">KMS</td>\n                <td class=\"tg-baqh\">TIME</td>\n              </tr>\n              <tr>\n                <td class=\"tg-0lax\">\n                    {{printData.startDate | date: 'dd-MM-yyyy'}}\n                </td>\n                <td class=\"tg-0lax\"></td>\n                <td class=\"tg-0lax\"></td>\n                <td class=\"tg-0lax\"></td>\n                <td class=\"tg-0lax\"></td>\n                <td class=\"tg-0lax\"></td>\n                <td class=\"tg-0lax\"></td>\n                <td class=\"tg-0lax\"></td>\n                <td class=\"tg-0lax\"></td>\n                <td class=\"tg-0lax\" colspan=\"2\"></td>\n              </tr>\n              <tr>\n                <td class=\"tg-0lax\"></td>\n                <td class=\"tg-0lax\"></td>\n                <td class=\"tg-0lax\"></td>\n                <td class=\"tg-0lax\"></td>\n                <td class=\"tg-0lax\"></td>\n                <td class=\"tg-0lax\"></td>\n                <td class=\"tg-0lax\"></td>\n                <td class=\"tg-0lax\"></td>\n                <td class=\"tg-0lax\"></td>\n                <td class=\"tg-0lax\" colspan=\"2\"></td>\n              </tr>\n            </table>\n          </div>\n          <div class=\"row\">\n            <table class=\"tg\" style=\"width: 100%\">\n              <colgroup>\n                <col style=\"width: 70%\">\n                <col style=\"width: 30%\">\n              </colgroup>\n              <tr>\n                <th class=\"tg-s6z2\"><span style=\"font-weight:bold\">ITEMS</span></th>\n                <th class=\"tg-s6z2\"><span style=\"font-weight:bold\">AMOUNT</span></th>\n              </tr>\n              <tr>\n                <td class=\"tg-s268\"></td>\n                <td class=\"tg-s268\"></td>\n              </tr>\n              <tr>\n                <td class=\"tg-s268\"></td>\n                <td class=\"tg-s268\"></td>\n              </tr>\n              <tr>\n                <td class=\"tg-s268\"></td>\n                <td class=\"tg-s268\"></td>\n              </tr>\n              <tr>\n                <td class=\"tg-0lax\"></td>\n                <td class=\"tg-0lax\"></td>\n              </tr>\n              <tr>\n                <td class=\"tg-0lax\"></td>\n                <td class=\"tg-0lax\"></td>\n              </tr>\n            </table>\n          </div>\n          \n          <div class=\"row\">\n            <table class=\"tg\" style=\"width: 100%\">\n              <colgroup>\n                <col style=\"width: 20%\">\n                <col style=\"width: 20%\">\n                <col style=\"width: 20%\">\n                <col style=\"width: 20%\">\n                <col style=\"width: 20%\">\n            </colgroup>\n              <tr>\n                <th class=\"tg-s6z2\" colspan=\"5\"><span style=\"font-weight:bold\">(TO BE FILLED BY CUSTOMER ONLY)</span></th>\n              </tr>\n              <tr>\n                <td class=\"tg-hgcj\">DATE</td>\n                <td class=\"tg-hgcj\">REPORTING KM</td>\n                <td class=\"tg-amwm\">REPORTING TIME</td>\n                <td class=\"tg-amwm\">RELEASE KM</td>\n                <td class=\"tg-amwm\">RELEASE TIME</td>\n              </tr>\n              <tr>\n                <td class=\"tg-s268\"></td>\n                <td class=\"tg-s268\"></td>\n                <td class=\"tg-0lax\"></td>\n                <td class=\"tg-0lax\"></td>\n                <td class=\"tg-0lax\"></td>\n              </tr>\n              <tr>\n                <td class=\"tg-0lax\" colspan=\"5\"></td>\n              </tr>\n            </table>      \n          </div>\n          \n          <div class=\"row\">\n            <table class=\"tg\" style=\"width: 100%\">\n              <colgroup>\n                <col style=\"width: 50%\">\n                <col style=\"width: 50%\">\n              </colgroup>\n              <tr>\n                <th class=\"tg-qtf5\" colspan=\"2\">FEEDBACK : <input type=\"checkbox\"/>VERY POOR  <input type=\"checkbox\"/>POOR <input type=\"checkbox\"/> GOOD <input type=\"checkbox\"/> VERY GOOD <input type=\"checkbox\"/> EXCELLENT</th>\n              </tr>\n              <tr style=\"padding:25px;\">\n                <td class=\"tg-vmi1\" rowspan=\"2\">REMARKS</td>\n                <td class=\"tg-vmi1\" rowspan=\"2\">SIGNATURE</td>\n              </tr>\n              <tr>\n              </tr>\n              \n              <tr>\n                <td class=\"tg-vomg\" colspan=\"2\">INSTRUCTION FOR NEXT DAY:</td>\n              </tr>\n              <tr>\n                <td class=\"tg-qtf5\" colspan=\"2\"></td>\n              </tr>\n            </table>\n          </div>                \n        </body>\n      </html>        \n    </div>\n  </div>\n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12\">\n    <button mat-raised-button color=\"primary\" (click)=\"sendMail(template)\">Send Mail</button>\n    <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/senddutyslip/senddutyslip.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/senddutyslip/senddutyslip.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SenddutyslipComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__circles_companyprofile_companyprofile_service__ = __webpack_require__("./src/app/pages/circles/companyprofile/companyprofile.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};







var SenddutyslipComponent = (function () {
    function SenddutyslipComponent(data, dialog, http, auth, _sanitizer, uploadService, companyProfileService) {
        this.data = data;
        this.dialog = dialog;
        this.http = http;
        this.auth = auth;
        this._sanitizer = _sanitizer;
        this.uploadService = uploadService;
        this.companyProfileService = companyProfileService;
        this.printData = {};
        this.user = {};
        this.mailSubject = "Your booking has been confirmed";
        this.companyProfile = {};
        this.companyLogo = '';
        if (data) {
            console.log(data);
            this.printData.cname = data.cname;
            this.printData.bid = data.bid;
            this.printData.bookBy = data.bookBy;
            this.printData.dutyType = data.dutyType;
            this.printData.passenger = data.passenger;
            this.printData.vehicleGroup = data.vehicleGroup;
            this.printData.startDate = data.startDate;
            this.printData.vehicle = data.vehicle;
            this.printData.reportingTime = data.reportingTime;
            this.printData.driver = data.driver;
            this.printData.reportingAddress = data.reportingAddress;
            this.printData.dropAddress = data.dropAddress;
        }
    }
    SenddutyslipComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.companyProfileService.getCompanyProfile(_this.user).subscribe(function (data) {
                _this.companyProfile = data[0];
                _this.uploadService.getFile(_this.user.companyName, 'profileImages', _this.companyProfile.companyLogo).subscribe(function (data) {
                    _this.companyLogo = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                        + data.text());
                });
            });
        });
    };
    SenddutyslipComponent.prototype.sendMail = function (div1) {
        this.mailBody = div1;
        var temp = {
            companyEmail: this.companyProfile.email,
            name: this.companyProfile.name,
            email: this.data.row.bookByEmail,
            subject: this.mailSubject,
            mailBody: this.mailBody.innerHTML,
        };
        console.log(temp);
        this.http.post('/Voip/sendMail', temp).subscribe(function (data) {
            console.log(data);
        });
        console.log(this.mailSubject);
        console.log(this.mailBody.innerHTML);
    };
    SenddutyslipComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    SenddutyslipComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'senddutyslip',
            template: __webpack_require__("./src/app/pages/masters/senddutyslip/senddutyslip.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/senddutyslip/senddutyslip.component.scss")]
        }),
        __param(0, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [Object, __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_2__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__["DomSanitizer"],
            __WEBPACK_IMPORTED_MODULE_5__fileupload_service__["a" /* FileuploadService */],
            __WEBPACK_IMPORTED_MODULE_6__circles_companyprofile_companyprofile_service__["a" /* CompanyprofileService */]])
    ], SenddutyslipComponent);
    return SenddutyslipComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/sub-users/sub-users.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">  \n\n  <!-- <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-body>\n        <h4 style=\"display: inline; padding-right: 5%\">\n          Permission\n        </h4>\n        <mat-form-field style=\"float:right\">\n            <mat-select [(ngModel)]=\"predefined\" (selectionChange)=\"predefinedRoles(predefined)\" placeholder=\"Predefined Permissions\">\n              <mat-option value=\"predefined1\">\n                Predefined1\n              </mat-option>\n              <mat-option value=\"predefined2\">\n                Predefined1\n              </mat-option>\n              <mat-option value=\"predefined3\">\n                Predefined3\n              </mat-option>\n            </mat-select>\n          </mat-form-field>\n            \n      </nb-card-body>\n    </nb-card> \n  </div>-->  \n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        Permissions\n        <mat-form-field>\n          <mat-select [(ngModel)]=\"predefined\"  placeholder=\"Predefined Permissions\" >\n            <mat-option *ngFor=\"let element of presets\" [value]=\"element.name\" (click)=\"predefinedRoles(element)\"> \n              {{element.name}}\n            </mat-option>\n          </mat-select>\n        </mat-form-field>\n        <form class=\"form\" [formGroup]=\"preset\">\n          <mat-form-field>\n            <input matInput placeholder=\"Permission Name\" formControlName=\"permissionName\">\n            <mat-error>\n              Enter a Permission Name to save as a preset\n            </mat-error>  \n          </mat-form-field>\n          <button mat-raised-button color=\"primary\" [disabled]=\"preset.invalid\" (click)=\"savePreset()\">Save Preset</button>\n        </form>\n        <button mat-icon-button class=\"close-button\" color=\"warn\" (click)=\"close()\"><mat-icon style=\"font-size: 25px;\">close</mat-icon></button>\n      </nb-card-header>\n      <nb-card-body>\n        <mat-tab-group>\n          <mat-tab label=\"Duties\">\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Edit Duty</b>                \n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"editDuties\" [(ngModel)]=\"SubUser.editDuties\"></mat-checkbox>                \n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Allot Vehicles & drivers to duty</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"allotVehiclesDriver\" [(ngModel)]=\"SubUser.allotVehiclesDriver\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Close Duty</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"cancelDuty\" [(ngModel)]=\"SubUser.closeDuty\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Dispatch Duty</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"cancelDuty\" [(ngModel)]=\"SubUser.dispatchDuty\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Cancel Duty</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"cancelDuty\" [(ngModel)]=\"SubUser.cancelDuty\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Send Duty Information to Supplier</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"sendInfoDuty\" [(ngModel)]=\"SubUser.sendInfoDuty\">\n                </mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Duty slip</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewDutySlip\" [(ngModel)]=\"SubUser.viewDutySlip\" matTooltip=\"Ability to view duty slips\"\n                  [matTooltipPosition]=\"position.value\"\n                  aria-label=\"Button that displays a tooltip in various positions\">\n                </mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Generate Duty slip</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"generateDutySlip\" [(ngModel)]=\"SubUser.generateDutySlip\"  matTooltip=\"Ability to manually Generate and edit duty slips\"\n                  [matTooltipPosition]=\"position.value\"\n                  aria-label=\"Button that displays a tooltip in various positions\">\n                </mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Send Sms/Email or make Calls</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"generateDutySlip\" [(ngModel)]=\"SubUser.smsEmailCallDuties\">\n                </mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Export Duties</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"exportDuty\" [(ngModel)]=\"SubUser.exportDuty\"></mat-checkbox>\n              </div>\n            </div>            \n          </mat-tab>\n          <mat-tab label=\"Bookings\">\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Bookings</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageBookings\" [(ngModel)]=\"SubUser.manageBooking\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Bookings</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewBookings\" [(ngModel)]=\"SubUser.viewBookings\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Bookings</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewBookings\" [(ngModel)]=\"SubUser.addBookings\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Export Bookings</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox  name=\"exportBookings\" [(ngModel)]=\"SubUser.exportBookings\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Send Sms/Email or make Calls</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"generateDutySlip\" [(ngModel)]=\"SubUser.smsEmailCallBookings\">\n                </mat-checkbox>\n              </div>\n            </div>\n          </mat-tab>\n          <mat-tab label=\"Masters\">\n            <hr>\n            <h4>Receipts for Car Booking</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Receipts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageReceipts\" [(ngModel)]=\"SubUser.manageCabReceipts\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Receipts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewReceipts\" [(ngModel)]=\"SubUser.viewCabReceipts\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Receipts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewReceipts\" [(ngModel)]=\"SubUser.addCabReceipts\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Export Receipts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"exportReceipts\" [(ngModel)]=\"SubUser.exportCabReceipts\"></mat-checkbox>\n              </div>\n            </div> \n            <!-- <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Request Receipts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"requestReceipts\" [(ngModel)]=\"SubUser.requestCabReceipts\"  matTooltip=\"Ability to request payments using payment gateway\"\n                  [matTooltipPosition]=\"position.value\"\n                  aria-label=\"Button that displays a tooltip in various positions\">\n                </mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Cancel Receipts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"cancelReceipts\" [(ngModel)]=\"SubUser.cancelCabReceipts\"></mat-checkbox>\n              </div>\n            </div> -->  \n            \n            <hr>\n            <h4>Receipts for Flight Booking</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Receipts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageReceipts\" [(ngModel)]=\"SubUser.manageFlightReceipts\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Receipts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewReceipts\" [(ngModel)]=\"SubUser.viewFlightReceipts\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Receipts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewReceipts\" [(ngModel)]=\"SubUser.addFlightReceipts\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Export Receipts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"exportReceipts\" [(ngModel)]=\"SubUser.exportFlightReceipts\"></mat-checkbox>\n              </div>\n            </div> \n            <!-- <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Request Receipts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"requestReceipts\" [(ngModel)]=\"SubUser.requestFlightReceipts\"  matTooltip=\"Ability to request payments using payment gateway\"\n                  [matTooltipPosition]=\"position.value\"\n                  aria-label=\"Button that displays a tooltip in various positions\">\n                </mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Cancel Receipts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"cancelReceipts\" [(ngModel)]=\"SubUser.cancelFlightReceipts\"></mat-checkbox>\n              </div>\n            </div> -->  \n            \n            <hr>\n            <h4>Receipts for Hotel Booking</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Receipts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageReceipts\" [(ngModel)]=\"SubUser.manageHotelReceipts\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Receipts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewReceipts\" [(ngModel)]=\"SubUser.viewHotelReceipts\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Receipts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewReceipts\" [(ngModel)]=\"SubUser.addHotelReceipts\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Export Receipts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"exportReceipts\" [(ngModel)]=\"SubUser.exportHotelReceipts\"></mat-checkbox>\n              </div>\n            </div> \n            <!-- <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Request Receipts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"requestReceipts\" [(ngModel)]=\"SubUser.requestHotelReceipts\"  matTooltip=\"Ability to request payments using payment gateway\"\n                  [matTooltipPosition]=\"position.value\"\n                  aria-label=\"Button that displays a tooltip in various positions\">\n                </mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Cancel Receipts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"cancelReceipts\" [(ngModel)]=\"SubUser.cancelHotelReceipts\"></mat-checkbox>\n              </div>\n            </div> -->   \n            \n            \n            <hr>\n            <h4>Receipts for Visa Booking</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Receipts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageReceipts\" [(ngModel)]=\"SubUser.manageVisaReceipts\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Receipts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewReceipts\" [(ngModel)]=\"SubUser.viewVisaReceipts\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Receipts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewReceipts\" [(ngModel)]=\"SubUser.addVisaReceipts\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Export Receipts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"exportReceipts\" [(ngModel)]=\"SubUser.exportVisaReceipts\"></mat-checkbox>\n              </div>\n            </div> \n            <!-- <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Request Receipts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"requestReceipts\" [(ngModel)]=\"SubUser.requestVisaReceipts\"  matTooltip=\"Ability to request payments using payment gateway\"\n                  [matTooltipPosition]=\"position.value\"\n                  aria-label=\"Button that displays a tooltip in various positions\">\n                </mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Cancel Receipts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"cancelReceipts\" [(ngModel)]=\"SubUser.cancelVisaReceipts\"></mat-checkbox>\n              </div>\n            </div> -->\n            <br>              \n            <hr>\n            <h4>Drivers</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Drivers</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageDrivers\" [(ngModel)]=\"SubUser.manageDrivers\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Drivers</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"addDrivers\" [(ngModel)]=\"SubUser.addDrivers\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Basic Drivers Information</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewDriverInfo\" [(ngModel)]=\"SubUser.viewDriver\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Driver Users</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageDriverUsers\" [(ngModel)]=\"SubUser.manageDriverUsers\" matTooltip=\"Ability to change passwords of driver userIds\"\n                [matTooltipPosition]=\"position.value\"\n                aria-label=\"Button that displays a tooltip in various positions\"></mat-checkbox>\n              </div>\n            </div>            \n            <hr>\n            <!-- <h4>Duty Supporters</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Supporters</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageDutySupporters\" [(ngModel)]=\"SubUser.manageSupporters\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Duty Supporters</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewDutySupporters\" [(ngModel)]=\"SubUser.viewDutySupporters\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Basic Duty Supporters</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewBasicDutySupporters\" [(ngModel)]=\"SubUser.viewBasicDutySupporters\"  matTooltip=\"User Would be able to view only supporter name,primary and alternate phone numbers\"\n                  [matTooltipPosition]=\"position.value\"\n                  aria-label=\"Button that displays a tooltip in various positions\">\n                </mat-checkbox>\n              </div>\n            </div>            \n            <hr> -->\n            <h4>Vehicles</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Vehicles</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageVehicles\" [(ngModel)]=\"SubUser.manageVehicles\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Vehicles</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewVehicles\" [(ngModel)]=\"SubUser.viewVehicles\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Vehicles</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewBasicVehicles\" [(ngModel)]=\"SubUser.addVehicles\"></mat-checkbox>\n              </div>\n            </div>            \n            <hr>\n            <h4>Vehicles Groups</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Vehicles Group</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageVehiclesGroup\" [(ngModel)]=\"SubUser.manageVehicleGroup\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Vehicles Group</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewVehiclesGroup\" [(ngModel)]=\"SubUser.viewVehicleGroup\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n                <div class=\"col-lg-11 col-9\">\n                  <b>Add Vehicles Group</b>\n                </div>\n                <div class=\"col-lg-1 col-3\">\n                  <mat-checkbox name=\"viewVehiclesGroup\" [(ngModel)]=\"SubUser.addVehicleGroup\"></mat-checkbox>\n                </div>\n              </div>            \n            <hr>\n            <h4>Customer Groups</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Customer Group</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageCustomerGroup\" [(ngModel)]=\"SubUser.manageCustomerGroup\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Customer Group</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewCustomerGroup\" [(ngModel)]=\"SubUser.viewCustomerGroup\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n                <div class=\"col-lg-11 col-9\">\n                  <b>View Customer Group</b>\n                </div>\n                <div class=\"col-lg-1 col-3\">\n                  <mat-checkbox name=\"addCustomerGroup\" [(ngModel)]=\"SubUser.addCustomerGroup\"></mat-checkbox>\n                </div>\n              </div>           \n            <hr>\n            <h4>Customers</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Customer</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageCustomer\" [(ngModel)]=\"SubUser.manageCustomer\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Customer</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewCustomer\" [(ngModel)]=\"SubUser.viewCustomer\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Customer</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewCustomer\" [(ngModel)]=\"SubUser.addCustomer\"></mat-checkbox>\n              </div>\n            </div>           \n            <hr>\n            <h4>Pricing</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Pricing</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"managePricing\" [(ngModel)]=\"SubUser.managePricing\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Pricing</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewPricing\" [(ngModel)]=\"SubUser.viewPricing\"></mat-checkbox>\n              </div>\n            </div>            \n            <hr>\n            <h4>Duty Type</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Duty Type</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageDutyType\" [(ngModel)]=\"SubUser.manageDutyType\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Duty Type</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"addDutyType\" [(ngModel)]=\"SubUser.addDutyType\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Duty Type</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewDutyType\" [(ngModel)]=\"SubUser.viewDutyType\"></mat-checkbox>\n              </div>\n            </div>            \n            <hr>\n            <h4>Labels</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Labels</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"ViewLabels\" [(ngModel)]=\"SubUser.viewLabels\"></mat-checkbox>\n              </div>\n            </div>  \n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Labels</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"AddLabels\" [(ngModel)]=\"SubUser.addLabels\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Labels</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageLabels\" [(ngModel)]=\"SubUser.manageLabels\"></mat-checkbox>\n              </div>\n            </div>    \n            <hr>        \n            <h4>Taxes</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Taxes</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageTaxes\" [(ngModel)]=\"SubUser.manageTaxes\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Taxes</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewTaxes\" [(ngModel)]=\"SubUser.viewTaxes\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Taxes</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewTaxes\" [(ngModel)]=\"SubUser.addTaxes\"></mat-checkbox>\n              </div>\n            </div>           \n            <hr>\n            <h4>Billing Items</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Billing Items</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageBillingItems\" [(ngModel)]=\"SubUser.manageBillingItems\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Billing Items</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewBillingItems\" [(ngModel)]=\"SubUser.viewBillingItems\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Billing Items</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"addBillingItems\" [(ngModel)]=\"SubUser.addBillingItems\"></mat-checkbox>\n              </div>\n            </div>      \n            <hr>\n            <h4>Employees</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Employees</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageEmp\" [(ngModel)]=\"SubUser.manageEmployees\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Employees</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"addEmp\" [(ngModel)]=\"SubUser.addEmployees\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Employees</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewEmp\" [(ngModel)]=\"SubUser.viewEmployees\"></mat-checkbox>\n              </div>\n            </div>           \n          </mat-tab>\n          <mat-tab label=\"Expenses\">\n            <h4>Vehicles Breakdowns</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Vehicles Breakdowns</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"addVehicleBreakdowns\" [(ngModel)]=\"SubUser.addVehicleBreakDowns\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Vehicles Breakdowns</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewVehicleBreakdowns\" [(ngModel)]=\"SubUser.viewVehicleBreakDowns\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Vehicles Breakdowns</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageVehicleBreakdowns\" [(ngModel)]=\"SubUser.manageVehicleBreakDowns\"></mat-checkbox>\n              </div>\n            </div>\n            <hr>\n            <h4>Vehicle Maintaince</h4>\n            <hr>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Vehicles maintenance</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"addVehicleMaintaince\" [(ngModel)]=\"SubUser.addVehicleMaintenance\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Vehicles maintenance</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewVehicleMaintaince\" [(ngModel)]=\"SubUser.viewVehicleMaintenance\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Vehicles maintenance</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageVehicleMaintaince\" [(ngModel)]=\"SubUser.manageVehicleMaintenance\"></mat-checkbox>\n              </div>\n            </div>\n            <hr>\n            <h4>Office Expenses</h4>\n            <hr>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Office Expenses</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"addOfficeExpenses\" [(ngModel)]=\"SubUser.addOfficeExpenses\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Office Expenses</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewOfficeExpenses\" [(ngModel)]=\"SubUser.viewOfficeExpenses\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage OfficeExpenses</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageOfficeExpenses\" [(ngModel)]=\"SubUser.manageOfficeExpenses\"></mat-checkbox>\n              </div>\n            </div>\n            <hr>\n            <h4>Petty Cash</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Petty Cash</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"managePettyCash\" [(ngModel)]=\"SubUser.managePettyCash\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Petty Cash</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"addPettyCash\" [(ngModel)]=\"SubUser.addPettyCash\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Petty Cash</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewPettyCash\" [(ngModel)]=\"SubUser.viewPettyCash\">\n                </mat-checkbox>\n              </div>\n            </div>                   \n            <hr>\n            <h4>Vehicle Fuel</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Vehicle Fuel</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageVehicleFuel\" [(ngModel)]=\"SubUser.manageVehicleFuel\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Vehicle Fuel</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"addVehicleFuel\" [(ngModel)]=\"SubUser.addVehicleFuel\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Vehicle Fuel</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewVehicleFuel\" [(ngModel)]=\"SubUser.viewVehicleFuel\"></mat-checkbox>\n              </div>\n            </div>   \n            <hr>\n            <h4>SMS,Call & Whatsapp Expenses</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View </b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewSms\" [(ngModel)]=\"SubUser.viewSms\"></mat-checkbox>\n              </div>\n            </div>\n\n          </mat-tab>\n          <mat-tab label=\"Operation\"> \n            <h4>Invoices for Car Booking</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageInvoices\" [(ngModel)]=\"SubUser.manageCabInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewInvoices\" [(ngModel)]=\"SubUser.viewCabInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewInvoices\" [(ngModel)]=\"SubUser.addCabInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Download invoices(PDF)</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"downloadInvoices\" [(ngModel)]=\"SubUser.downloadCabInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Email invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"emailInvoices\" [(ngModel)]=\"SubUser.emailCabInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Cancel invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"cancelInvoices\" [(ngModel)]=\"SubUser.cancelCabInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Export invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"exportInvoices\" [(ngModel)]=\"SubUser.exportCabInvoices\"></mat-checkbox>\n              </div>\n            </div>          \n            <hr>\n            <h4>Invoices for Hotel Booking</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageInvoices\" [(ngModel)]=\"SubUser.manageHotelInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewInvoices\" [(ngModel)]=\"SubUser.viewHotelInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewInvoices\" [(ngModel)]=\"SubUser.addHotelInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Download invoices(PDF)</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"downloadInvoices\" [(ngModel)]=\"SubUser.downloadHotelInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Email invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"emailInvoices\" [(ngModel)]=\"SubUser.emailHotelInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Cancel invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"cancelInvoices\" [(ngModel)]=\"SubUser.cancelHotelInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Export invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"exportInvoices\" [(ngModel)]=\"SubUser.exportHotelInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <hr>\n            <h4>Invoices for Flight Booking</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageInvoices\" [(ngModel)]=\"SubUser.manageFlightInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewInvoices\" [(ngModel)]=\"SubUser.viewFlightInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewInvoices\" [(ngModel)]=\"SubUser.addFlightInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Download invoices(PDF)</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"downloadInvoices\" [(ngModel)]=\"SubUser.downloadFlightInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Email invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"emailInvoices\" [(ngModel)]=\"SubUser.emailFlightInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Cancel invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"cancelInvoices\" [(ngModel)]=\"SubUser.cancelFlightInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Export invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"exportInvoices\" [(ngModel)]=\"SubUser.exportFlightInvoices\"></mat-checkbox>\n              </div>\n            </div>  \n            <hr>\n            <h4>Invoices for Visa Booking</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageInvoices\" [(ngModel)]=\"SubUser.manageVisaInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewInvoices\" [(ngModel)]=\"SubUser.viewVisaInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewInvoices\" [(ngModel)]=\"SubUser.addVisaInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Download invoices(PDF)</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"downloadInvoices\" [(ngModel)]=\"SubUser.downloadVisaInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Email invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"emailInvoices\" [(ngModel)]=\"SubUser.emailVisaInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Cancel invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"cancelInvoices\" [(ngModel)]=\"SubUser.cancelVisaInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Export invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"exportInvoices\" [(ngModel)]=\"SubUser.exportVisaInvoices\"></mat-checkbox>\n              </div>\n            </div> \n            <hr>\n            <h4>Branches</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Branches</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageBranches\" [(ngModel)]=\"SubUser.manageBranches\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Branches</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewBranches\" [(ngModel)]=\"SubUser.viewBranches\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Branches</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"addBranches\" [(ngModel)]=\"SubUser.addBranches\"></mat-checkbox>\n              </div>\n            </div>            \n            <hr>\n            <h4>Bank Accounts</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Bank Accounts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageBankAccounts\" [(ngModel)]=\"SubUser.manageBankAccounts\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Bank Accounts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewBankAccounts\" [(ngModel)]=\"SubUser.viewBankAccounts\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Bank Accounts</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"addBankAccounts\" [(ngModel)]=\"SubUser.addBankAccounts\"></mat-checkbox>\n              </div>\n            </div>            \n          </mat-tab>\n          <mat-tab label=\"Circles\">\n            <h4>Purchase Invoices</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Purchase Invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"managePurchasesInvoices\" [(ngModel)]=\"SubUser.managePurchasesInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Purchase Invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewPurchasesInvoices\" [(ngModel)]=\"SubUser.viewPurchasesInvoices\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Purchase Invoices</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"addPurchasesInvoices\" [(ngModel)]=\"SubUser.addPurchasesInvoices\"></mat-checkbox>\n              </div>\n            </div>             \n            <hr>\n            <h4>Purchase Duties</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Purchase Duties</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"managePurchasesDuties\" [(ngModel)]=\"SubUser.managePurchasesDuties\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Purchase Duties</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewPurchasesDuties\" [(ngModel)]=\"SubUser.viewPurchasesDuties\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Purchase Duties</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"addPurchasesDuties\" [(ngModel)]=\"SubUser.addPurchasesDuties\"></mat-checkbox>\n              </div>\n            </div>    \n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Request Invoice</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"addPurchasesDuties\" [(ngModel)]=\"SubUser.requestInvoice\"></mat-checkbox>\n              </div>\n            </div> \n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Request Duty Slip</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"addPurchasesDuties\" [(ngModel)]=\"SubUser.requestDutySlip\"></mat-checkbox>\n              </div>\n            </div>         \n            <hr>\n            <h4>Purchase Payments</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Purchase Payments</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"managePurchasePayments\" [(ngModel)]=\"SubUser.managePurchasePayments\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Purchase Payments</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewPurchasesPayments\" [(ngModel)]=\"SubUser.viewPurchasesPayments\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Purchase Payments</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"addPurchasesPayments\" [(ngModel)]=\"SubUser.addPurchasesPayments\"></mat-checkbox>\n              </div>\n            </div>            \n            <hr>\n            <h4>Supplier Group</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Supplier Group</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageSupplierGroup\" [(ngModel)]=\"SubUser.manageSupplierGroup\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Supplier Group</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewSupplierGroup\" [(ngModel)]=\"SubUser.viewSupplierGroup\"></mat-checkbox>\n              </div>\n            </div>      \n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Supplier Group</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewSupplierGroup\" [(ngModel)]=\"SubUser.addSupplierGroup\"></mat-checkbox>\n              </div>\n            </div>       \n            <hr>\n            <h4>Suppliers</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Suppliers</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageSuppliers\" [(ngModel)]=\"SubUser.manageSuppliers\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Suppliers</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewSuppliers\" [(ngModel)]=\"SubUser.viewSuppliers\"></mat-checkbox> \n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Suppliers</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"addSupplier\" [(ngModel)]=\"SubUser.addSupplier\"></mat-checkbox>\n              </div>\n            </div>        \n            <hr>\n            <h4>Sister Companies</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Sister Companies</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageSisterCompanies\" [(ngModel)]=\"SubUser.manageSisterCompanies\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Sister Companies</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewSisterCompanies\" [(ngModel)]=\"SubUser.viewSisterCompanies\"></mat-checkbox>\n              </div>\n            </div>            \n            <hr>\n            <h4>Circles</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Circle</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewCircle\" [(ngModel)]=\"SubUser.viewCircle\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Circle</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"addToCircle\" [(ngModel)]=\"SubUser.addToCircle\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Circle</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageCircle\" [(ngModel)]=\"SubUser.manageCircle\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Incoming Circle Requests</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewIncomingCircleRequests\" [(ngModel)]=\"SubUser.viewIncomingCircleRequests\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Accept/Decline Circle Requests</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"acceptDeclineCircleRequests\" [(ngModel)]=\"SubUser.acceptDeclineCircleRequests\"></mat-checkbox>\n              </div>\n            </div>\n            <hr>\n            <h4>Duties from circles</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Accept/Decline Incoming Duty Requests</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"acceptDeclineDutyRequests\" [(ngModel)]=\"SubUser.acceptDeclineDutyRequests\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Circle</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewCircle\" [(ngModel)]=\"SubUser.viewCircle\"></mat-checkbox>\n              </div>\n            </div>            \n            <hr>\n            <h4>Export Profiles</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Export Profiles</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageExportProfiles\" [(ngModel)]=\"SubUser.manageExportProfiles\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Edit Export Profiles</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewExportProfiles\" [(ngModel)]=\"SubUser.viewExportProfiles\"></mat-checkbox> \n              </div>\n            </div>            \n          </mat-tab>\n          <mat-tab label=\"Contact\">\n            <h4>Booked By</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Recurring Booked By</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"addRecurringBookedBy\" [(ngModel)]=\"SubUser.addRecurringBookedBy\">\n                </mat-checkbox>\n              </div>\n            </div> \n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Recurring Booked By</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewRecurringBookedBy\" [(ngModel)]=\"SubUser.viewRecurringBookedBy\">\n                </mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Recurring Booked By</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageRecurringBookedBy\" [(ngModel)]=\"SubUser.manageRecurringBookedBy\">\n                </mat-checkbox>\n              </div>\n            </div>\n            <hr>\n            <h4>Passenger</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Recurring Passenger</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"addRecurringPassenger\" [(ngModel)]=\"SubUser.addRecurringPassenger\">\n                </mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Recurring Passenger</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewRecurringPassenger\" [(ngModel)]=\"SubUser.viewRecurringPassenger\">\n                </mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Recurring Passenger</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageRecurringPassenger\" [(ngModel)]=\"SubUser.manageRecurringPassenger\">\n                </mat-checkbox>\n              </div>\n            </div>\n          </mat-tab>\n          <mat-tab label=\"General\">\n            <h4>Company</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Edit Information</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"editInfo\" [(ngModel)]=\"SubUser.editCompanyInfo\" matTooltip=\"Ability to edit allowances,email and other settings.Also user will be able to change company Information\"\n                  [matTooltipPosition]=\"position.value\"\n                  aria-label=\"Button that displays a tooltip in various positions\">\n                </mat-checkbox>\n              </div>\n            </div>  \n            <h4>Business Setting</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Edit business setting</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"editBusinessSettings\" [(ngModel)]=\"SubUser.editBusinessSetting\">\n                </mat-checkbox>\n              </div>\n            </div>    \n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View business setting</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewBusinessSettings\" [(ngModel)]=\"SubUser.viewBusinessSetting\">\n                </mat-checkbox>\n              </div>\n            </div>                  \n            <hr>\n            <h4>SMSes</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View SMS</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewSms\" [(ngModel)]=\"SubUser.viewSms\"></mat-checkbox>\n              </div>\n            </div>            \n          </mat-tab>\n          <mat-tab label=\"Hotels\">\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Hotels</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageHotels\" [(ngModel)]=\"SubUser.manageHotels\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Hotels</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewHotels\" [(ngModel)]=\"SubUser.viewHotels\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Hotel</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"addHotels\" [(ngModel)]=\"SubUser.addHotels\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Hotels Bookings</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageHotelsBookings\" [(ngModel)]=\"SubUser.manageHotelsBookings\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Hotels Bookings</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewHotelsBookings\" [(ngModel)]=\"SubUser.viewHotelsBookings\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Hotel Bookings</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"addHotelsBookings\" [(ngModel)]=\"SubUser.addHotelsBookings\"></mat-checkbox>\n              </div>\n            </div>  \n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Send Sms/Email or make Calls</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"generateDutySlip\" [(ngModel)]=\"SubUser.smsEmailCallHotels\">\n                </mat-checkbox>\n              </div>\n            </div>          \n          </mat-tab>\n          <mat-tab label=\"Visa\">\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Visa</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageVisa\" [(ngModel)]=\"SubUser.manageVisa\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Visa</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewVisa\" [(ngModel)]=\"SubUser.viewVisa\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Visa</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"addVisa\" [(ngModel)]=\"SubUser.addVisa\"></mat-checkbox>\n              </div>\n            </div>    \n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Send Sms/Email or make Calls</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"generateDutySlip\" [(ngModel)]=\"SubUser.smsEmailCallVisa\">\n                </mat-checkbox>\n              </div>\n            </div>        \n          </mat-tab>\n          <mat-tab label=\"Flights\">\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Manage Flights</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"manageFlights\" [(ngModel)]=\"SubUser.manageFlights\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Flights</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewFlights\" [(ngModel)]=\"SubUser.viewFlights\"></mat-checkbox>\n              </div>\n            </div>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Add Flights</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"addFlights\" [(ngModel)]=\"SubUser.addFlights\"></mat-checkbox>\n              </div>\n            </div>  \n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>Send Sms/Email or make Calls</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"generateDutySlip\" [(ngModel)]=\"SubUser.smsEmailCallFlights\">\n                </mat-checkbox>\n              </div>\n            </div>          \n          </mat-tab>\n          <mat-tab label=\"Vehicle Tracking\">\n            <h4>Vehicle Tracking</h4>\n            <div class=\"row pt-10\">\n              <div class=\"col-lg-11 col-9\">\n                <b>View Tracking</b>\n              </div>\n              <div class=\"col-lg-1 col-3\">\n                <mat-checkbox name=\"viewTracking\" [(ngModel)]=\"SubUser.viewTracking\"></mat-checkbox>\n              </div>\n            </div> \n          </mat-tab>\n        </mat-tab-group>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12\">\n    <button mat-raised-button color=\"primary\" (click)=\"updateSubUser()\">Update</button>\n    <button mat-raised-button color=\"warn\" (click)=\"close()\">Close</button>\n  </div>\n</div>  "

/***/ }),

/***/ "./src/app/pages/masters/sub-users/sub-users.component.scss":
/***/ (function(module, exports) {

module.exports = ".body-hidden {\n  overflow: hidden !important; }\n\nform {\n  float: right; }\n\n::ng-deep .mat-tab-body-content {\n  overflow: hidden !important; }\n\n.close-button {\n  position: absolute;\n  right: -8.5px;\n  top: -24px;\n  border-radius: 5px;\n  padding-bottom: 20px !important;\n  padding-left: 10px !important; }\n\n.mat-button, .mat-flat-button, .mat-icon-button, .mat-stroked-button {\n  min-width: 33px !important;\n  line-height: 20px !important;\n  padding: 0px 0px; }\n"

/***/ }),

/***/ "./src/app/pages/masters/sub-users/sub-users.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SubUsersComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__sub_user_service__ = __webpack_require__("./src/app/pages/masters/sub-users/sub-user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var SubUsersComponent = (function () {
    function SubUsersComponent(matDialogRef, data, subUserService, auth, _formBuilder, snackBar) {
        this.matDialogRef = matDialogRef;
        this.data = data;
        this.subUserService = subUserService;
        this.auth = auth;
        this._formBuilder = _formBuilder;
        this.snackBar = snackBar;
        this.user = {};
        this.positionOptions = ['after', 'before', 'above', 'below', 'left', 'right'];
        this.position = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */](this.positionOptions[0]);
        this.SubUser = {
            editCompanyInfo: 0,
            ownerId: '',
            editDuties: 0,
            allotVehiclesDriver: 0,
            closeDuty: 0,
            dispatchDuty: 0,
            cancelDuty: 0,
            sendInfoDuty: 0,
            viewDutySlip: 0,
            generateDutySlip: 0,
            exportDuty: 0,
            manageBooking: 0,
            viewBookings: 0,
            exportBookings: 0,
            addBookings: 0,
            manageCabInvoices: 0,
            addCabInvoices: 0,
            viewCabInvoices: 0,
            downloadCabInvoices: 0,
            emailCabInvoices: 0,
            cancelCabInvoices: 0,
            exportCabInvoices: 0,
            manageHotelInvoices: 0,
            viewHotelInvoices: 0,
            addHotelInvoices: 0,
            downloadHotelInvoices: 0,
            emailHotelInvoices: 0,
            cancelHotelInvoices: 0,
            exportHotelInvoices: 0,
            manageFlightInvoices: 0,
            viewFlightInvoices: 0,
            addFlightInvoices: 0,
            downloadFlightInvoices: 0,
            emailFlightInvoices: 0,
            cancelFlightInvoices: 0,
            exportFlightInvoices: 0,
            manageVisaInvoices: 0,
            viewVisaInvoices: 0,
            addVisaInvoices: 0,
            downloadVisaInvoices: 0,
            emailVisaInvoices: 0,
            cancelVisaInvoices: 0,
            exportVisaInvoices: 0,
            viewInvoices: 1,
            viewReceipts: 0,
            manageCabReceipts: 0,
            viewCabReceipts: 0,
            requestCabReceipts: 0,
            cancelCabReceipts: 0,
            exportCabReceipts: 0,
            addCabReceipts: 0,
            addFlightReceipts: 0,
            addHotelReceipts: 0,
            addVisaReceipts: 0,
            manageFlightReceipts: 0,
            viewFlightReceipts: 0,
            requestFlightReceipts: 0,
            cancelFlightReceipts: 0,
            exportFlightReceipts: 0,
            manageHotelReceipts: 0,
            viewHotelReceipts: 0,
            requestHotelReceipts: 0,
            cancelHotelReceipts: 0,
            exportHotelReceipts: 0,
            manageVisaReceipts: 0,
            viewVisaReceipts: 0,
            requestVisaReceipts: 0,
            cancelVisaReceipts: 0,
            exportVisaReceipts: 0,
            managePurchasesInvoices: 0,
            viewPurchasesInvoices: 0,
            addPurchasesInvoices: 0,
            cancelPurchases: 0,
            exportPurchases: 0,
            managePurchasesDuties: 0,
            addPurchasesDuties: 0,
            viewPurchasesDuties: 0,
            generatePurchaseDuties: 0,
            requestDutySlip: 0,
            requestInvoice: 0,
            managePurchasePayments: 0,
            viewPurchasesPayments: 0,
            addPurchasesPayments: 0,
            cancelPurchasesPayments: 0,
            managePettyCash: 0,
            addPettyCash: 0,
            viewPettyCash: 0,
            manageVehicleFuel: 0,
            addVehicleFuel: 0,
            viewVehicleFuel: 0,
            manageDrivers: 0,
            addDrivers: 0,
            viewDriver: 0,
            manageDriverInfo: 0,
            manageDriverUsers: 0,
            manageSupporters: 0,
            viewDutySupporters: 0,
            viewBasicDutySupporters: 0,
            addVehicles: 0,
            manageVehicles: 0,
            viewVehicles: 0,
            viewBasicVehicles: 0,
            addVehicleGroup: 0,
            manageVehicleGroup: 0,
            viewVehicleGroup: 0,
            addCustomerGroup: 0,
            manageCustomerGroup: 0,
            viewCustomerGroup: 0,
            manageCustomer: 0,
            addCustomer: 0,
            viewCustomer: 0,
            managePricing: 0,
            viewPricing: 0,
            manageSupplierGroup: 0,
            viewSupplierGroup: 0,
            addSupplierGroup: 0,
            manageSuppliers: 0,
            viewSuppliers: 0,
            addSupplier: 0,
            manageDutyType: 0,
            addDutyType: 0,
            viewDutyType: 0,
            manageTaxes: 0,
            viewTaxes: 0,
            addTaxes: 0,
            manageBranches: 0,
            viewBranches: 0,
            addBranches: 0,
            manageBillingItems: 0,
            viewBillingItems: 0,
            addBillingItems: 0,
            manageBankAccounts: 0,
            viewBankAccounts: 0,
            addBankAccounts: 0,
            manageSisterCompanies: 0,
            viewSisterCompanies: 0,
            viewLabels: 0,
            addLabels: 0,
            manageLabels: 0,
            manageExportProfiles: 0,
            viewExportProfiles: 0,
            manageEmployees: 0,
            addEmployees: 0,
            viewEmployees: 0,
            userId: '',
            manageFlights: 0,
            viewFlights: 0,
            addFlights: 0,
            manageVisa: 0,
            viewVisa: 0,
            addVisa: 0,
            manageHotels: 0,
            viewHotels: 0,
            addHotels: 0,
            manageHotelsBookings: 0,
            viewHotelsBookings: 0,
            addHotelsBookings: 0,
            addRecurringBookedBy: 0,
            viewRecurringBookedBy: 0,
            manageRecurringBookedBy: 0,
            addRecurringPassenger: 0,
            viewRecurringPassenger: 0,
            manageRecurringPassenger: 0,
            addVehicleBreakDowns: 0,
            viewVehicleBreakDowns: 0,
            manageVehicleBreakDowns: 0,
            addVehicleMaintenance: 0,
            viewVehicleMaintenance: 0,
            manageVehicleMaintenance: 0,
            viewTracking: 0,
            viewIncomingDutyRequests: 0,
            acceptDeclineDutyRequests: 0,
            viewIncomingCircleRequests: 0,
            acceptDeclineCircleRequests: 0,
            viewCircle: 0,
            addToCircle: 0,
            manageCircle: 0,
            addUsers: 0,
            viewUsers: 0,
            manageUsers: 0,
            addOfficeExpenses: 0,
            manageOfficeExpenses: 0,
            viewOfficeExpenses: 0,
            viewSms: 0,
            viewBusinessSetting: 0,
            editBusinessSetting: 0,
            smsEmailCallBookings: 0,
            smsEmailCallDuties: 0,
            smsEmailCallFlights: 0,
            smsEmailCallVisa: 0,
            smsEmailCallHotels: 0
        };
        //this.SubUser=data.row;
        //this.SubUser=this.SubUser;
        if (data != null) {
            this.editState = true;
            console.log(data);
            this.SubUser = data;
        }
        //this.defaltVal();
    }
    SubUsersComponent.prototype.saveSubUser = function () {
        this.subUserService.addSubUser(this.SubUser);
    };
    SubUsersComponent.prototype.savePreset = function () {
        delete this.SubUser.id;
        this.SubUser.name = this.preset.get('permissionName').value;
        this.subUserService.addPermission(this.SubUser);
        this.snackBar.open("Preset Saved", "X", { duration: 3000 });
    };
    SubUsersComponent.prototype.close = function () {
        this.matDialogRef.close();
    };
    SubUsersComponent.prototype.predefinedRoles = function (temp) {
        console.log(temp);
        this.SubUser = temp;
    };
    SubUsersComponent.prototype.updateSubUser = function () {
        this.matDialogRef.close(this.SubUser);
        //this.subUserService.updateSubUser(this.SubUser);
    };
    SubUsersComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.SubUser.ownerId = data[0].ownerId,
                _this.SubUser.userId = data[0].id;
            _this.user = data[0];
            _this.subUserService.getPermissionsProfiles(_this.user).subscribe(function (data) {
                _this.presets = data;
            });
        });
        this.preset = this._formBuilder.group({
            permissionName: ['', __WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]
        });
    };
    SubUsersComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-sub-users',
            template: __webpack_require__("./src/app/pages/masters/sub-users/sub-users.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/sub-users/sub-users.component.scss")]
        }),
        __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_2__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_material__["p" /* MatDialogRef */], Object, __WEBPACK_IMPORTED_MODULE_3__sub_user_service__["a" /* SubUserService */],
            __WEBPACK_IMPORTED_MODULE_4__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["I" /* MatSnackBar */]])
    ], SubUsersComponent);
    return SubUsersComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/subuserdisp/subuserdisp.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\" >\n    <nb-card>\n      <nb-card-header>\n        Permissions\n      </nb-card-header>\n      <nb-card-body>\n        <mat-table #table [dataSource]=\"dataSource\" matSort>\n\n          <!-- Name Column -->\n          <ng-container matColumnDef=\"userName\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>User Name</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.userName}} </mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"Options\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Options</mat-header-cell>\n            <mat-cell *matCellDef=\"let element ;let row\">\n              <button mat-button [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>\n              <mat-menu #menu=\"matMenu\">\n              <button mat-menu-item (click)=\"selectRow(row)\">Edit</button>\n              <button (click)=\"deleteDutyType(row)\" mat-menu-item>Delete</button>\n              </mat-menu>\n            </mat-cell>\n          </ng-container>\n      \n          \n          <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n          <mat-row *matRowDef=\"let row; columns: displayedColumns;\"></mat-row>\n        </mat-table>\n    \n        \n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"col-lg-12\">\n    \n    <br><br>\n    <button mat-raised-button color=\"primary\" (click)=\"addPermission()\">Add Permission</button>\n  </div>\n</div>  \n  \n    "

/***/ }),

/***/ "./src/app/pages/masters/subuserdisp/subuserdisp.component.scss":
/***/ (function(module, exports) {

module.exports = "button.mat-menu-item {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px; }\n\n.mat-chip {\n  height: 30px;\n  line-height: 30px; }\n\n.mat-icon {\n  font-size: 17px; }\n"

/***/ }),

/***/ "./src/app/pages/masters/subuserdisp/subuserdisp.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SubuserdispComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__sub_users_sub_user_service__ = __webpack_require__("./src/app/pages/masters/sub-users/sub-user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__sub_users_sub_users_component__ = __webpack_require__("./src/app/pages/masters/sub-users/sub-users.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var SubuserdispComponent = (function () {
    function SubuserdispComponent(subuserService, dialog, router) {
        this.subuserService = subuserService;
        this.dialog = dialog;
        this.router = router;
        this.displayedColumns = ['userName'];
    }
    SubuserdispComponent.prototype.selectRow = function (row) {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_3__sub_users_sub_users_component__["a" /* SubUsersComponent */], { autoFocus: false, disableClose: true, data: { row: row } });
    };
    SubuserdispComponent.prototype.addPermission = function () {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_3__sub_users_sub_users_component__["a" /* SubUsersComponent */], { autoFocus: false, disableClose: true, data: '' });
    };
    SubuserdispComponent.prototype.ngOnInit = function () {
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], SubuserdispComponent.prototype, "sort", void 0);
    SubuserdispComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-subuserdisp',
            template: __webpack_require__("./src/app/pages/masters/subuserdisp/subuserdisp.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/subuserdisp/subuserdisp.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__sub_users_sub_user_service__["a" /* SubUserService */], __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */], __WEBPACK_IMPORTED_MODULE_4__angular_router__["c" /* Router */]])
    ], SubuserdispComponent);
    return SubuserdispComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/supplierdisp/supplierdisp.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        B2B Customers\n      </nb-card-header>\n      <nb-card-body>\n        <mat-table #table [dataSource]=\"dataSource\" matSort>\n          <!-- Symbol Column --> \n          <ng-container matColumnDef=\"name\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Customer Name </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.name}} </mat-cell>\n          </ng-container>\n               \n          <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n          <mat-row *matRowDef=\"let row; columns: displayedColumns;\"(click)=\"selectRow(row)\"></mat-row>\n        </mat-table>                \n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>  \n"

/***/ }),

/***/ "./src/app/pages/masters/supplierdisp/supplierdisp.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/supplierdisp/supplierdisp.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SupplierdispComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__circles_circle_service__ = __webpack_require__("./src/app/pages/circles/circle.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__sub_users_sub_user_service__ = __webpack_require__("./src/app/pages/masters/sub-users/sub-user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var SupplierdispComponent = (function () {
    function SupplierdispComponent(auth, circleService, customerService, dialog, permissionService) {
        this.auth = auth;
        this.circleService = circleService;
        this.customerService = customerService;
        this.dialog = dialog;
        this.permissionService = permissionService;
        this.permission = {};
        this.user = {};
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_2__angular_material__["O" /* MatTableDataSource */]();
        this.displayedColumns = ['name'];
    }
    SupplierdispComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.auth.permissions.subscribe(function (data) {
                _this.permission = data[0];
                if (data[0].viewSuppliers == 1) {
                    _this.customerService.getB2BCustomers(_this.user).subscribe(function (data) {
                        _this.dataSource.data = data;
                    });
                    // this.circleService.getClients(this.user).subscribe(data=>{
                    //   this.dataSource.data=data;
                    // })
                }
                else {
                    window.alert("You do not have permission to view suppliers");
                }
            });
        });
    };
    SupplierdispComponent.prototype.selectRow = function (row) {
        this.dialog.close(row);
    };
    SupplierdispComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'supplierdisp',
            template: __webpack_require__("./src/app/pages/masters/supplierdisp/supplierdisp.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/supplierdisp/supplierdisp.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__circles_circle_service__["a" /* CircleService */],
            __WEBPACK_IMPORTED_MODULE_5__customer_customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["p" /* MatDialogRef */],
            __WEBPACK_IMPORTED_MODULE_4__sub_users_sub_user_service__["a" /* SubUserService */]])
    ], SupplierdispComponent);
    return SupplierdispComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/suppliergroupdisplay/suppliergroupdisplay.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n    <div class=\"col-lg-12\" >\n      <nb-card>\n        <nb-card-header>\n            Supplier Groups\n         </nb-card-header>\n        <nb-card-body>\n            <div align=\"center\">\n                <mat-form-field class=\"filter-field\">\n                  <input matInput   placeholder=\"Filter\"   [(ngModel)]=\"searchTerm\" (keyup)=\"search($event.target.value)\">\n                </mat-form-field>\n        \n                <button mat-icon-button><mat-icon class=\"filter-icon\">search</mat-icon></button>\n                <button mat-icon-button (click)=\"clear()\"><mat-icon class=\"filter-icon\">highlight_off</mat-icon></button>\n              </div>\n              <mat-table  [dataSource]=\"dataSource\" matSort>\n    \n                <!-- Weight Column -->\n                <ng-container matColumnDef=\"name\">\n                  <mat-header-cell *matHeaderCellDef mat-sort-header> Name </mat-header-cell>\n                  <mat-cell *matCellDef=\"let element\"> {{element.name}} </mat-cell>\n                </ng-container>\n  \n                <ng-container matColumnDef=\"Options\">\n                    <mat-header-cell *matHeaderCellDef> Options</mat-header-cell>\n                    <mat-cell *matCellDef=\"let element ;let row\">\n                      <button mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>\n                      <mat-menu #menu=\"matMenu\">\n                      <button mat-menu-item (click)=\"editSupplierGroup(row)\">Edit</button>\n                      <button (click)=\"deleteSupplierGroup(row)\" mat-menu-item>Delete</button>\n                      </mat-menu>\n                    </mat-cell>\n                  </ng-container>\n            \n                <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n                <mat-row *matRowDef=\"let row; columns: displayedColumns;\"></mat-row>\n              </mat-table>\n              <mat-paginator [length]=\"length\"\n              [pageSize]=\"pageSize\"\n              [pageSizeOptions]=\"pageSizeOptions\"></mat-paginator>\n        </nb-card-body>\n      </nb-card>\n    </div>\n    <div class=\"col-lg-12\" align=\"right\">\n      <a (click)=\"addSupplierGroup()\" class=\"float\">\n          <i style=\"color: ghostwhite\" class=\"fa fa-plus my-float\"></i>\n      </a>\n      </div>\n  </div>"

/***/ }),

/***/ "./src/app/pages/masters/suppliergroupdisplay/suppliergroupdisplay.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/suppliergroupdisplay/suppliergroupdisplay.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SuppliergroupdisplayComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__newsuppliergroup_newsuppliergroup_component__ = __webpack_require__("./src/app/pages/masters/newsuppliergroup/newsuppliergroup.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__sub_users_sub_user_service__ = __webpack_require__("./src/app/pages/masters/sub-users/sub-user.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var SuppliergroupdisplayComponent = (function () {
    function SuppliergroupdisplayComponent(auth, supplierGroupService, dialog, permissionService) {
        this.auth = auth;
        this.supplierGroupService = supplierGroupService;
        this.dialog = dialog;
        this.permissionService = permissionService;
        this.pageSize = 10; // set default to 10
        this.pageSizeOptions = [10, 15, 25, 40];
        this.user = {};
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_3__angular_material__["O" /* MatTableDataSource */]();
        this.displayedColumns = ['name', 'Options'];
        this.permission = {};
    }
    SuppliergroupdisplayComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.auth.permissions.subscribe(function (data) {
                if (_this.permission.manageSupplierGroup === 0) {
                    _this.displayedColumns.pop();
                }
                if (data[0].viewSupplierGroup == 1) {
                    _this.supplierGroupService.getSupplierGroups(_this.user).subscribe(function (data) {
                        _this.dataSource.data = data;
                    });
                }
                else {
                    window.alert("You do not have permission to view Supplier Group");
                }
            });
        });
    };
    SuppliergroupdisplayComponent.prototype.search = function (filterValue) {
        this.dataSource.filter = filterValue.trim().toLowerCase();
    };
    SuppliergroupdisplayComponent.prototype.clear = function () {
        this.searchTerm = '';
    };
    SuppliergroupdisplayComponent.prototype.addSupplierGroup = function () {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_2__newsuppliergroup_newsuppliergroup_component__["a" /* NewsuppliergroupComponent */], { autoFocus: false, disableClose: true });
    };
    SuppliergroupdisplayComponent.prototype.editSupplierGroup = function () {
    };
    SuppliergroupdisplayComponent.prototype.deleteSupplierGroup = function () {
    };
    SuppliergroupdisplayComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'suppliergroupdisplay',
            template: __webpack_require__("./src/app/pages/masters/suppliergroupdisplay/suppliergroupdisplay.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/suppliergroupdisplay/suppliergroupdisplay.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__core_auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_2__newsuppliergroup_newsuppliergroup_component__["a" /* NewsuppliergroupComponent */], __WEBPACK_IMPORTED_MODULE_3__angular_material__["n" /* MatDialog */], __WEBPACK_IMPORTED_MODULE_4__sub_users_sub_user_service__["a" /* SubUserService */]])
    ], SuppliergroupdisplayComponent);
    return SuppliergroupdisplayComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/suppliersdisp/suppliersdisp.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\" >\n    <nb-card>\n      <nb-card-header>\n          Suppliers\n        <button *ngIf=\"permission.viewSupplierGroup\" style=\"float: right;margin-top: -10px;\" mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>settings</mat-icon></button>\n        <mat-menu #menu=\"matMenu\" class=\"mat-menu-panel\">\n          <button mat-menu-item (click)=\"viewSupplierGroup()\">View Supplier Group</button>\n        </mat-menu>\n      </nb-card-header>\n      <nb-card-body>\n          <div align=\"center\">\n              <mat-form-field class=\"filter-field\">\n                <input matInput   placeholder=\"Filter\"   [(ngModel)]=\"searchTerm\" (keyup)=\"search($event.target.value)\">\n              </mat-form-field>\n      \n              <button mat-icon-button><mat-icon class=\"filter-icon\">search</mat-icon></button>\n              <button mat-icon-button (click)=\"clear()\"><mat-icon class=\"filter-icon\">highlight_off</mat-icon></button>\n          </div>\n          <mat-table #table [dataSource]=\"dataSource\" matSort matSortActive=\"name\" matSortDirection=\"asc\" matSortDisableClear>\n\n            <!-- Name Column -->\n            <ng-container matColumnDef=\"name\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header>Name</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.name}} </mat-cell>\n            </ng-container>\n        \n            <!-- Weight Column -->\n            <ng-container matColumnDef=\"phone\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header>Phone No.</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.phone}} </mat-cell>\n            </ng-container>\n        \n             \n            <ng-container matColumnDef=\"email\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header>Email ID</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.email}} </mat-cell>\n            </ng-container>\n      \n            <!-- Symbol Column --> \n            <ng-container matColumnDef=\"state\">\n                <mat-header-cell *matHeaderCellDef mat-sort-header>State</mat-header-cell>\n                <mat-cell *matCellDef=\"let element\"> {{element.state}} </mat-cell>\n              </ng-container>\n\n              <!-- Symbol Column --> \n            <ng-container matColumnDef=\"type\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header>Type</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.type}} </mat-cell>\n            </ng-container>\n      \n              <ng-container matColumnDef=\"Options\">\n                <mat-header-cell *matHeaderCellDef> Options</mat-header-cell>\n                <mat-cell *matCellDef=\"let element ;let row\" (click)=\"$event.stopPropagation()\">\n                  <button mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>\n                  <mat-menu #menu=\"matMenu\">\n                  <!-- <button mat-menu-item (click)=\"selectRow(row)\">Edit</button> -->\n                  <button (click)=\"deleteSupplier(row)\" mat-menu-item>Delete</button>\n                  </mat-menu>\n                </mat-cell>\n              </ng-container>\n      \n      \n            <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n            <mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"selectRow(row)\"></mat-row>\n          </mat-table>\n          \n          <mat-paginator [length]=\"length\"\n          [pageSize]=\"pageSize\"\n          [pageSizeOptions]=\"pageSizeOptions\"></mat-paginator>\n        \n  </nb-card-body>\n</nb-card>\n  </div>\n  <div class=\"col-lg-12\" align=\"right\">\n    <a *ngIf=\"permission.addSupplier\" (click)=\"selectRow(null)\" class=\"float\">\n      <i style=\"color: ghostwhite\" class=\"fa fa-plus my-float\"></i>\n    </a>\n    \n</div>\n</div>  \n\n  "

/***/ }),

/***/ "./src/app/pages/masters/suppliersdisp/suppliersdisp.component.scss":
/***/ (function(module, exports) {

module.exports = "button.mat-menu-item {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px; }\n\n.mat-chip {\n  height: 30px;\n  line-height: 30px; }\n\n.mat-icon {\n  font-size: 17px; }\n"

/***/ }),

/***/ "./src/app/pages/masters/suppliersdisp/suppliersdisp.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SuppliersdispComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__addsuppliers_supplier_service__ = __webpack_require__("./src/app/pages/masters/addsuppliers/supplier.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__newsuppliergroup_newsuppliergroup_component__ = __webpack_require__("./src/app/pages/masters/newsuppliergroup/newsuppliergroup.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__modals_confirm_confirm_component__ = __webpack_require__("./src/app/pages/modals/confirm/confirm.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var SuppliersdispComponent = (function () {
    function SuppliersdispComponent(SupplierService, dialog, auth, snackBar, router) {
        this.SupplierService = SupplierService;
        this.dialog = dialog;
        this.auth = auth;
        this.snackBar = snackBar;
        this.router = router;
        this.pageSize = 10; // set default to 10
        this.pageSizeOptions = [10, 15, 25, 40];
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
        this.users = {};
        this.displayedColumns = ['name', 'phone', 'email', 'state', 'type', 'Options']; //,'Passenger','vgroup','dutyt','status'];
        this.permission = {};
    }
    SuppliersdispComponent.prototype.selectRow = function (row) {
        localStorage.setItem('supplier', JSON.stringify(row));
        this.router.navigateByUrl('/pages/masters/addsupplier');
        // this.dialog.open(AddSuppliersComponent,{autoFocus:false,disableClose:true,data:{row}}).afterClosed().subscribe(data=>{
        //   if(data==undefined){
        //   }
        //   else{
        //     if(data.inserted=='yes'){
        //       this.tempArray.push(data.data);
        //       this.dataSource.data=this.tempArray
        //      } 
        //   }
        // });
    };
    SuppliersdispComponent.prototype.viewSupplierGroup = function () {
        this.router.navigateByUrl('/pages/masters/suppliergroupdisplay');
    };
    SuppliersdispComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.users = data[0];
            _this.auth.permissions.subscribe(function (data) {
                _this.permission = data[0];
            });
            _this.SupplierService.getSupplier(_this.users).subscribe(function (data) {
                _this.tempArray = data;
                _this.dataSource.data = _this.tempArray;
            });
        });
        this.dataSource.sort = this.sort;
        this.dataSource.paginator = this.paginator;
    };
    SuppliersdispComponent.prototype.newSupplierGroup = function () {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_3__newsuppliergroup_newsuppliergroup_component__["a" /* NewsuppliergroupComponent */], { autoFocus: false, disableClose: true });
    };
    SuppliersdispComponent.prototype.search = function (filterValue) {
        this.dataSource.filter = filterValue.trim().toLowerCase();
    };
    SuppliersdispComponent.prototype.clear = function () {
        this.searchTerm = '';
        this.dataSource.filter = '';
    };
    SuppliersdispComponent.prototype.deleteSupplier = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_5__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.SupplierService.deleteSupplier(row).subscribe(function (data) {
                    if (data.errno == undefined) {
                        var i = _this.tempArray.indexOf(row);
                        _this.tempArray.splice(i, 1);
                        _this.dataSource.data = _this.tempArray;
                        _this.snackBar.open("Supplier has been Deleted", "X", { duration: 3000 });
                    }
                });
            }
            else {
                if (data.errno == 1451) {
                    window.alert("Cannot delete because you have corresponding Data");
                }
                else {
                    window.alert("Error Cannot Delete Booking");
                }
            }
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], SuppliersdispComponent.prototype, "sort", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */])
    ], SuppliersdispComponent.prototype, "paginator", void 0);
    SuppliersdispComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-suppliersdisp',
            template: __webpack_require__("./src/app/pages/masters/suppliersdisp/suppliersdisp.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/suppliersdisp/suppliersdisp.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__addsuppliers_supplier_service__["a" /* SupplierService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_4__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_6__angular_router__["c" /* Router */]])
    ], SuppliersdispComponent);
    return SuppliersdispComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/taxesdisplay/taxesdisplay.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n          Taxes\n      </nb-card-header>\n      <nb-card-body>\n        <mat-table #table [dataSource]=\"dataSource\" matSort matSortActive=\"name\" matSortDirection=\"asc\">\n\n          <ng-container matColumnDef=\"taxName\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>Tax Name</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.name}} </mat-cell>\n          </ng-container>\n        \n          <ng-container matColumnDef=\"percent\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>Percentage</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\" > {{element.percent}} </mat-cell>\n          </ng-container>                              \n        \n          <ng-container matColumnDef=\"Options\">\n            <mat-header-cell *matHeaderCellDef> Options</mat-header-cell>\n            <mat-cell *matCellDef=\"let element ;let row\" (click)=\"$event.stopPropagation()\">\n              <button mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>\n              <mat-menu #menu=\"matMenu\">\n                <!-- <button mat-menu-item (click)=\"selectRow(row)\">Edit</button> -->\n                <button (click)=\"deleteRow(row)\" mat-menu-item>Delete</button>\n              </mat-menu>\n            </mat-cell>\n          </ng-container>\n        \n          <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n          <mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"selectRow(row)\"></mat-row>\n        \n        </mat-table>\n          \n        <mat-paginator [length]=\"length\" [pageSize]=\"pageSize\" [pageSizeOptions]=\"pageSizeOptions\"></mat-paginator>\n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"col-lg-12\">\n    <a *ngIf=\"permission.addTaxes\" (click)=\"selectRow(null)\" class=\"float\">\n      <i style=\"color: ghostwhite\" class=\"fa fa-plus my-float\"></i>\n    </a>      \n  </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/taxesdisplay/taxesdisplay.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/taxesdisplay/taxesdisplay.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TaxesdisplayComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material_table__ = __webpack_require__("./node_modules/@angular/material/esm5/table.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__taxes_taxes_component__ = __webpack_require__("./src/app/pages/masters/taxes/taxes.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_material_sort__ = __webpack_require__("./node_modules/@angular/material/esm5/sort.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_material_paginator__ = __webpack_require__("./node_modules/@angular/material/esm5/paginator.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_material_dialog__ = __webpack_require__("./node_modules/@angular/material/esm5/dialog.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__modals_confirm_confirm_component__ = __webpack_require__("./src/app/pages/modals/confirm/confirm.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var TaxesdisplayComponent = (function () {
    function TaxesdisplayComponent(auth, dialog, router, invoiceService, taxesService, snackBar) {
        this.auth = auth;
        this.dialog = dialog;
        this.router = router;
        this.invoiceService = invoiceService;
        this.taxesService = taxesService;
        this.snackBar = snackBar;
        this.pageSize = 10; // set default to 10
        this.pageSizeOptions = [10, 15, 25, 40];
        this.user = {};
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_1__angular_material_table__["a" /* MatTableDataSource */]();
        this.displayedColumns = ['taxName', 'percent', 'Options'];
        this.permission = {};
    }
    TaxesdisplayComponent.prototype.ngOnInit = function () {
        var _this = this;
        var HOST = location.origin.replace(/^http/, 'ws');
        this.ws = new WebSocket(HOST);
        this.ws.onmessage = function (event) {
            var _this = this;
            if (event.data == this.user.ownerId + 'taxes')
                this.invoiceService.getTaxes(this.user).subscribe(function (data) {
                    _this.tempArray = data;
                    _this.datasource.data = _this.tempArray;
                    _this.length = data.length;
                    _this.dataSource.paginator = _this.paginator;
                    _this.dataSource.sort = _this.sort;
                });
        }.bind(this);
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.auth.permissions.subscribe(function (data) {
                _this.permission = data[0];
                if (_this.permission.manageTaxes === 0) {
                    _this.displayedColumns.pop();
                }
            });
            _this.invoiceService.getTaxes(_this.user).subscribe(function (data) {
                console.log(data);
                _this.tempArray = data;
                _this.dataSource.data = _this.tempArray;
                _this.length = data.length;
                _this.dataSource.paginator = _this.paginator;
                _this.dataSource.sort = _this.sort;
            });
        });
    };
    TaxesdisplayComponent.prototype.ngOnDestroy = function () {
        this.ws.close();
    };
    TaxesdisplayComponent.prototype.selectRow = function (row) {
        var _this = this;
        console.log(row);
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_2__taxes_taxes_component__["a" /* TaxesComponent */], { autoFocus: false, disableClose: true, data: { row: row } }).afterClosed().subscribe(function (data) {
            if (data == undefined) {
                console.log('no');
            }
            else {
                console.log('yes');
                _this.tempArray.push(data.data);
                _this.dataSource.data = _this.tempArray;
                console.log(data.data);
            }
        });
    };
    TaxesdisplayComponent.prototype.deleteRow = function (row) {
        var _this = this;
        console.log("delete called");
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_9__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { autoFocus: false, disableClose: true }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.taxesService.deletetax(row).subscribe(function (data) {
                    if (data.errno == undefined) {
                        var i = _this.tempArray.indexOf(row);
                        _this.tempArray.splice(i, 1);
                        _this.dataSource.data = _this.tempArray;
                        _this.snackBar.open("Tax Deleted", "X", { duration: 3000 });
                    }
                });
            }
            else {
                if (data.errno == 1451) {
                    window.alert("Cannot delete because you have corresponding data");
                }
                else {
                    window.alert("Error Cannot be Deleted");
                }
            }
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_3__angular_material_sort__["a" /* MatSort */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_3__angular_material_sort__["a" /* MatSort */])
    ], TaxesdisplayComponent.prototype, "sort", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_4__angular_material_paginator__["a" /* MatPaginator */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_4__angular_material_paginator__["a" /* MatPaginator */])
    ], TaxesdisplayComponent.prototype, "paginator", void 0);
    TaxesdisplayComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'taxesdisplay',
            template: __webpack_require__("./src/app/pages/masters/taxesdisplay/taxesdisplay.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/taxesdisplay/taxesdisplay.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_6__angular_material_dialog__["b" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_7__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_8__createinvoice_invoice_service__["a" /* InvoiceService */],
            __WEBPACK_IMPORTED_MODULE_2__taxes_taxes_component__["a" /* TaxesComponent */],
            __WEBPACK_IMPORTED_MODULE_10__angular_material__["I" /* MatSnackBar */]])
    ], TaxesdisplayComponent);
    return TaxesdisplayComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/users/users.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\" >\n    <nb-card>\n      <nb-card-header>\n        Users\n      </nb-card-header>\n      <nb-card-body>\n        <mat-table #table [dataSource]=\"dataSource\" matSort>\n\n          <!-- Name Column -->\n          <ng-container matColumnDef=\"userName\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>User Name</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.userName}} </mat-cell>\n          </ng-container>\n\n          <!-- Name Column -->\n          <ng-container matColumnDef=\"name\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>Name</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.name}} </mat-cell>\n          </ng-container>\n\n          <!-- Name Column -->\n          <ng-container matColumnDef=\"email\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>Email</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.email}} </mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"type\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header>Type</mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.type}} </mat-cell>\n            </ng-container>\n\n          <ng-container matColumnDef=\"Options\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Options</mat-header-cell>\n            <mat-cell *matCellDef=\"let element ;let row\" (click)=\"$event.stopPropagation()\">\n              <button mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>\n              <mat-menu #menu=\"matMenu\">\n              <button mat-menu-item (click)=\"selectRow(row)\">Edit</button>\n              <button *ngIf=\"element.active\" (click)=\"deactivateUser(row)\" mat-menu-item>Deactivate</button>\n              <button *ngIf=\"element.type=='driver' && permission.manageDriverUsers\" (click)=\"changeDriverPassword(row)\" mat-menu-item>Change Password</button>\n              <button *ngIf=\"!element.active\" (click)=\"activateUser(row)\" mat-menu-item>Activate</button>\n              </mat-menu>\n            </mat-cell>\n          </ng-container>\n\n          <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n          <mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"selectRow(row)\"></mat-row>\n\n        </mat-table>\n        <mat-paginator [length]=\"length\" [pageSize]=\"pageSize\" [pageSizeOptions]=\"pageSizeOptions\"></mat-paginator>\n    \n        \n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"col-lg-12\" align=\"right\">\n    <!-- <a *ngIf=\"permission.addUsers\" (click)=\"newUser()\" class=\"float\">\n        <i style=\"color: ghostwhite\" class=\"fa fa-plus my-float\"></i>\n    </a>\n   -->\n</div>\n</div>  \n  \n    "

/***/ }),

/***/ "./src/app/pages/masters/users/users.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/users/users.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UsersComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__sub_users_sub_user_service__ = __webpack_require__("./src/app/pages/masters/sub-users/sub-user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__modals_confirm_confirm_component__ = __webpack_require__("./src/app/pages/modals/confirm/confirm.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__changedriverpassword_changedriverpassword_component__ = __webpack_require__("./src/app/pages/masters/changedriverpassword/changedriverpassword.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var UsersComponent = (function () {
    function UsersComponent(router, auth, permissionService, snackBar, dialog) {
        this.router = router;
        this.auth = auth;
        this.permissionService = permissionService;
        this.snackBar = snackBar;
        this.dialog = dialog;
        this.pageSize = 10; // set default to 10
        this.pageSizeOptions = [10, 15, 25, 40];
        this.displayedColumns = ['userName', 'name', 'email', 'type', 'Options'];
        this.permission = {};
    }
    UsersComponent.prototype.ngOnInit = function () {
        var _this = this;
        var HOST = location.origin.replace(/^http/, 'ws');
        this.ws = new WebSocket(HOST);
        this.ws.onmessage = function (event) {
            var _this = this;
            if (event.data == this.user.ownerId + 'user')
                this.auth.retrieveOwners(this.user).subscribe(function (data) {
                    _this.dataSource = data;
                });
        }.bind(this);
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.auth.permissions.subscribe(function (data) {
                _this.permission = data[0];
                if (_this.permission.manageUsers === 0) {
                    _this.displayedColumns.pop();
                }
                if (data[0].addUsers == 1) {
                    _this.auth.retrieveOwners(_this.user).subscribe(function (data) {
                        _this.dataSource = data;
                    });
                }
                else {
                    window.alert("You do not have permission to view users");
                }
            });
        });
    };
    UsersComponent.prototype.ngOnDestroy = function () {
        this.ws.close();
    };
    UsersComponent.prototype.newUser = function () {
        this.router.navigateByUrl('pages/masters/newuser');
    };
    UsersComponent.prototype.selectRow = function (row) {
        console.log(row);
        this.router.navigate(['pages/masters/newuser'], { queryParams: { id: row.id } });
    };
    UsersComponent.prototype.deactivateUser = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_5__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.auth.deactivateUser(row).subscribe(function (data) {
                    if (data.errno == undefined) {
                        _this.ws.send(_this.user.ownerId + "user");
                        // var i=this.tempArray.indexOf(row);
                        // this.tempArray.splice(i,1);
                        // this.datasource.data=this.tempArray;
                        _this.snackBar.open("User Deactivated", "X", { duration: 3000 });
                    }
                });
            }
        });
    };
    UsersComponent.prototype.changeDriverPassword = function (row) {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_6__changedriverpassword_changedriverpassword_component__["a" /* ChangedriverpasswordComponent */], { disableClose: true, autoFocus: false, data: row });
    };
    UsersComponent.prototype.activateUser = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_5__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.auth.deactivateUser(row).subscribe(function (data) {
                    if (data.errno == undefined) {
                        _this.ws.send(_this.user.ownerId + "user");
                        // var i=this.tempArray.indexOf(row);
                        // this.tempArray.splice(i,1);
                        // this.datasource.data=this.tempArray;
                        _this.snackBar.open("User Activated", "X", { duration: 3000 });
                    }
                });
            }
        });
    };
    UsersComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'users',
            template: __webpack_require__("./src/app/pages/masters/users/users.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/users/users.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__sub_users_sub_user_service__["a" /* SubUserService */],
            __WEBPACK_IMPORTED_MODULE_4__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_4__angular_material__["n" /* MatDialog */]])
    ], UsersComponent);
    return UsersComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/vehicledisp/vehicledisp.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>Vehicles</nb-card-header>\n      <nb-card-body>\n        <div align=\"center\">\n          <mat-form-field class=\"filter-field\">\n            <input matInput   placeholder=\"Filter\"   [(ngModel)]=\"searchTerm\" (keyup)=\"search($event.target.value)\">\n          </mat-form-field>\n        \n          <button mat-icon-button><mat-icon class=\"filter-icon\">search</mat-icon></button>\n          <button mat-icon-button (click)=\"clear()\"><mat-icon class=\"filter-icon\">highlight_off</mat-icon></button>\n        </div>\n        <mat-table #table [dataSource]=\"datasource\" matSort>\n  \n          <!-- Name Column -->\n          <ng-container matColumnDef=\"modelname\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Name </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.modelname}} </mat-cell>\n          </ng-container>\n    \n          <!-- Weight Column -->\n          <ng-container matColumnDef=\"number\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Number </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.number}} </mat-cell>\n          </ng-container>\n    \n          <!-- Symbol Column --> \n          <ng-container matColumnDef=\"seating\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Seating</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.seating}} </mat-cell>\n          </ng-container>\n          \n          <!-- Symbol Column --> \n          <ng-container matColumnDef=\"assignedDriver\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Assigned Driver </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.assignedDriver}} </mat-cell>\n          </ng-container>\n  \n          <!-- Symbol Column --> \n          <ng-container matColumnDef=\"vcolor\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Vehicle Color </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.vcolor}} </mat-cell>\n          </ng-container>\n\n          <!-- Symbol Column --> \n          <ng-container matColumnDef=\"status\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Active </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\">\n              <p style=\"margin:auto\" *ngIf=\"element.active==1\">Yes</p><p style=\"margin:auto\" *ngIf=\"element.active==0\">No</p>\n            </mat-cell>\n          </ng-container>\n  \n          <ng-container matColumnDef=\"Options\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Options</mat-header-cell>\n            <mat-cell *matCellDef=\"let element ;let row\" (click)=\"$event.stopPropagation()\">\n              <button mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>\n              <mat-menu #menu=\"matMenu\">\n                <!-- <button mat-menu-item (click)=\"selectRow(row)\">Edit</button> -->\n                <button *ngIf=\"element.active\" (click)=\"deactivateVehicle(row)\" mat-menu-item>Deactivate</button>\n                <button *ngIf=\"!element.active\" (click)=\"activateVehicle(row)\" mat-menu-item>Activate</button>\n                <button (click)=\"deleteVehicle(row)\" mat-menu-item>Delete</button>\n              </mat-menu>\n            </mat-cell>\n          </ng-container>\n    \n          <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n          <mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"openProfile(row)\"></mat-row>\n        </mat-table>\n        \n        <mat-paginator [length]=\"length\"\n          [pageSize]=\"pageSize\"\n          [pageSizeOptions]=\"pageSizeOptions\"\n        ></mat-paginator>\n          \n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"col-lg-12\" align=\"right\">\n    <a *ngIf=\"permission.addVehicles==1\" (click)=\"selectRow(null)\" class=\"float\">\n      <i style=\"color: ghostwhite\" class=\"fa fa-plus my-float\"></i>\n    </a>\n  </div>  \n</div>"

/***/ }),

/***/ "./src/app/pages/masters/vehicledisp/vehicledisp.component.scss":
/***/ (function(module, exports) {

module.exports = "button.mat-menu-item {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px; }\n\n.mat-chip {\n  height: 30px;\n  line-height: 30px; }\n\n.mat-icon {\n  font-size: 17px; }\n"

/***/ }),

/***/ "./src/app/pages/masters/vehicledisp/vehicledisp.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return VehicledispComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__new_vehicles_new_vehicles_component__ = __webpack_require__("./src/app/pages/masters/new-vehicles/new-vehicles.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__new_vehicles_vehicle_service__ = __webpack_require__("./src/app/pages/masters/new-vehicles/vehicle.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__modals_confirm_confirm_component__ = __webpack_require__("./src/app/pages/modals/confirm/confirm.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__sub_users_sub_user_service__ = __webpack_require__("./src/app/pages/masters/sub-users/sub-user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__vehicleprofile_vehicleprofile_component__ = __webpack_require__("./src/app/pages/masters/vehicleprofile/vehicleprofile.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var VehicledispComponent = (function () {
    function VehicledispComponent(dialog, vehicleService, snackBar, auth, permissionService) {
        this.dialog = dialog;
        this.vehicleService = vehicleService;
        this.snackBar = snackBar;
        this.auth = auth;
        this.permissionService = permissionService;
        this.pageSize = 10; // set default to 10
        this.pageSizeOptions = [10, 15, 25, 40];
        this.datasource = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
        this.permission = {};
        this.user = {};
        this.displayedColumns = ['modelname', 'number', 'seating', 'assignedDriver', 'vcolor', 'status', 'Options'];
    }
    VehicledispComponent.prototype.ngOnInit = function () {
        var _this = this;
        var HOST = location.origin.replace(/^http/, 'ws');
        this.ws = new WebSocket(HOST);
        this.ws.onmessage = function (event) {
            var _this = this;
            if (event.data == this.user.ownerId + 'vehicledisp')
                this.vehicleService.getVehicle(this.user).subscribe(function (data) {
                    _this.tempArray = data;
                    _this.datasource.data = _this.tempArray;
                });
        }.bind(this);
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.auth.permissions.subscribe(function (data) {
                _this.permission = data[0];
                if (_this.permission.manageVehicles === 0) {
                    _this.displayedColumns.pop();
                }
                if (data[0].viewVehicles == 1) {
                    _this.vehicleService.getVehicle(_this.user).subscribe(function (data) {
                        _this.tempArray = data;
                        _this.datasource.data = _this.tempArray;
                    });
                }
                else {
                    window.alert("You not have permission to view vehicles");
                }
            });
        });
        this.datasource.sort = this.sort;
        this.datasource.paginator = this.paginator;
    };
    VehicledispComponent.prototype.ngOnDestroy = function () {
        this.ws.close();
    };
    VehicledispComponent.prototype.selectRow = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_2__new_vehicles_new_vehicles_component__["a" /* NewVehiclesComponent */], { autoFocus: false, disableClose: true, data: { row: row } }).afterClosed().subscribe(function (data) {
            if (data == undefined) {
            }
            else {
                if (data.inserted == 'yes') {
                    _this.tempArray.push(data.data);
                    _this.datasource.data = _this.tempArray;
                }
            }
        });
    };
    VehicledispComponent.prototype.search = function (filterValue) {
        this.datasource.filter = filterValue.trim().toLowerCase();
    };
    VehicledispComponent.prototype.clear = function () {
        this.searchTerm = '';
        this.datasource.filter = '';
    };
    VehicledispComponent.prototype.deleteVehicle = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_4__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.vehicleService.deleteVehicle(row).subscribe(function (data) {
                    if (data.errno == undefined) {
                        var i = _this.tempArray.indexOf(row);
                        _this.tempArray.splice(i, 1);
                        _this.datasource.data = _this.tempArray;
                        _this.snackBar.open("Vehicle Deleted", "X", { duration: 3000 });
                    }
                    else {
                        if (data.errno == 1451) {
                            window.alert("Cannot delete because you have corresponding Data");
                        }
                        else {
                            window.alert("Error Cannot Delete Booking");
                        }
                    }
                });
            }
        });
    };
    VehicledispComponent.prototype.deactivateVehicle = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_4__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.vehicleService.deactivateVehicle(row).subscribe(function (data) {
                    if (data.errno == undefined) {
                        _this.ws.send(_this.user.ownerId + "vehicledisp");
                        // var i=this.tempArray.indexOf(row);
                        // this.tempArray.splice(i,1);
                        // this.datasource.data=this.tempArray;
                        _this.snackBar.open("Vehicle Deactivated", "X", { duration: 3000 });
                    }
                });
            }
        });
    };
    VehicledispComponent.prototype.activateVehicle = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_4__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.vehicleService.deactivateVehicle(row).subscribe(function (data) {
                    if (data.errno == undefined) {
                        _this.ws.send(_this.user.ownerId + "vehicledisp");
                        // var i=this.tempArray.indexOf(row);
                        // this.tempArray.splice(i,1);
                        // this.datasource.data=this.tempArray;
                        _this.snackBar.open("Vehicle Activated", "X", { duration: 3000 });
                    }
                });
            }
        });
    };
    VehicledispComponent.prototype.openProfile = function (row) {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_7__vehicleprofile_vehicleprofile_component__["a" /* VehicleprofileComponent */], { autoFocus: false, disableClose: true, data: { row: row } });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], VehicledispComponent.prototype, "sort", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */])
    ], VehicledispComponent.prototype, "paginator", void 0);
    VehicledispComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-vehicledisp',
            template: __webpack_require__("./src/app/pages/masters/vehicledisp/vehicledisp.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/vehicledisp/vehicledisp.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_3__new_vehicles_vehicle_service__["a" /* VehicleService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_5__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_6__sub_users_sub_user_service__["a" /* SubUserService */]])
    ], VehicledispComponent);
    return VehicledispComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/vehiclegroupdisp/vehiclegroupdisp.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n<div class=\"col-lg-12\" >\n  <nb-card>\n    <nb-card-header>Vehicle Groups</nb-card-header>\n    <nb-card-body>\n        <div align=\"center\">\n          <mat-form-field class=\"filter-field\">\n            <input matInput   placeholder=\"Filter\"   [(ngModel)]=\"searchTerm\" (keyup)=\"search($event.target.value)\">\n          </mat-form-field>\n    \n            <button mat-icon-button><mat-icon class=\"filter-icon\">search</mat-icon></button>\n            <button mat-icon-button (click)=\"clear()\"><mat-icon class=\"filter-icon\">highlight_off</mat-icon></button>\n        </div>\n  <mat-table #table [dataSource]=\"datasource\" matSort>\n\n\n    <!-- Weight Column -->\n    <ng-container matColumnDef=\"name\">\n      <mat-header-cell *matHeaderCellDef mat-sort-header> Name </mat-header-cell>\n      <mat-cell *matCellDef=\"let element\"> {{element.name}} </mat-cell>\n    </ng-container>\n\n    <!-- Symbol Column --> \n    <ng-container matColumnDef=\"number\">\n      <mat-header-cell *matHeaderCellDef mat-sort-header> Number</mat-header-cell>\n      <mat-cell *matCellDef=\"let element\"> {{element.number}} </mat-cell>\n    </ng-container>\n\n    <ng-container matColumnDef=\"Options\">\n      <mat-header-cell *matHeaderCellDef mat-sort-header> Options</mat-header-cell>\n      <mat-cell *matCellDef=\"let element ;let row\" (click)=\"$event.stopPropagation()\">\n        <button mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>\n        <mat-menu #menu=\"matMenu\">\n        <!-- <button mat-menu-item (click)=\"selectRow(row)\">Edit</button> -->\n        <button (click)=\"deleteVehicleGroup(row)\" mat-menu-item>Delete</button>\n        </mat-menu>\n      </mat-cell>\n    </ng-container>\n\n    \n    <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n    <mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"selectRow(row)\"></mat-row>\n  </mat-table>\n     \n  <mat-paginator [length]=\"length\"\n  [pageSize]=\"pageSize\"\n  [pageSizeOptions]=\"pageSizeOptions\"\n  ></mat-paginator>\n      \n</nb-card-body>\n</nb-card>\n</div>\n  <div class=\"col-lg-12\" align=\"right\">\n    \n    <a *ngIf=\"permission.addVehicleGroup==1\" (click)=\"selectRow(null)\" class=\"float\">\n        <i style=\"color: ghostwhite\" class=\"fa fa-plus my-float\"></i>\n    </a>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/pages/masters/vehiclegroupdisp/vehiclegroupdisp.component.scss":
/***/ (function(module, exports) {

module.exports = "button.mat-menu-item {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px; }\n\n.mat-chip {\n  height: 30px;\n  line-height: 30px; }\n\n.mat-icon {\n  font-size: 17px; }\n"

/***/ }),

/***/ "./src/app/pages/masters/vehiclegroupdisp/vehiclegroupdisp.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return VehiclegroupdispComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__vehiclegroups_vehiclegroups_component__ = __webpack_require__("./src/app/pages/masters/vehiclegroups/vehiclegroups.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__modals_confirm_confirm_component__ = __webpack_require__("./src/app/pages/modals/confirm/confirm.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__sub_users_sub_user_service__ = __webpack_require__("./src/app/pages/masters/sub-users/sub-user.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var VehiclegroupdispComponent = (function () {
    function VehiclegroupdispComponent(vehicleGroupService, dialog, auth, snackBar, permissionService) {
        this.vehicleGroupService = vehicleGroupService;
        this.dialog = dialog;
        this.auth = auth;
        this.snackBar = snackBar;
        this.permissionService = permissionService;
        this.pageSize = 10; // set default to 10
        this.pageSizeOptions = [10, 15, 25, 40];
        this.datasource = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
        this.user = {};
        this.displayedColumns = ['name', 'number', 'Options'];
        this.permission = {};
    }
    VehiclegroupdispComponent.prototype.selectRow = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_2__vehiclegroups_vehiclegroups_component__["a" /* VehicleGroupsComponent */], { autoFocus: false, disableClose: true, data: { row: row } }).afterClosed().subscribe(function (data) {
            if (data == undefined) {
            }
            else {
                if (data.inserted == 'yes') {
                    _this.tempArray.push(data.data);
                    _this.datasource.data = _this.tempArray;
                }
            }
        });
    };
    VehiclegroupdispComponent.prototype.ngOnInit = function () {
        var _this = this;
        var HOST = location.origin.replace(/^http/, 'ws');
        this.ws = new WebSocket(HOST);
        this.ws.onmessage = function (event) {
            var _this = this;
            if (event.data == this.user.ownerId + 'customer')
                this.vehicleGroupService.getvehicleGroup(this.user).subscribe(function (data) {
                    _this.tempArray = data;
                    _this.datasource.data = _this.tempArray;
                });
        }.bind(this);
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.auth.permissions.subscribe(function (data) {
                _this.permission = data[0];
                if (_this.permission.manageVehicleGroup === 0) {
                    _this.displayedColumns.pop();
                }
                if (data[0].viewVehicleGroup == 1) {
                    _this.vehicleGroupService.getvehicleGroup(_this.user).subscribe(function (data) {
                        _this.tempArray = data;
                        _this.datasource.data = _this.tempArray;
                    });
                }
                else {
                    window.alert("You not have permission to view vehicleGroup");
                }
            });
        });
        this.datasource.sort = this.sort;
        this.datasource.paginator = this.paginator;
    };
    VehiclegroupdispComponent.prototype.search = function (filterValue) {
        this.datasource.filter = filterValue.trim().toLowerCase();
    };
    VehiclegroupdispComponent.prototype.clear = function () {
        this.searchTerm = '';
        this.datasource.filter = '';
    };
    VehiclegroupdispComponent.prototype.deleteVehicleGroup = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_4__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.vehicleGroupService.deletevehicleGroup(row).subscribe(function (data) {
                    if (data.errno == undefined) {
                        var i = _this.tempArray.indexOf(row);
                        _this.tempArray.splice(i, 1);
                        _this.datasource.data = _this.tempArray;
                        _this.snackBar.open("Vehicle Group Deleted", "X", { duration: 3000 });
                    }
                    else {
                        if (data.errno == 1451) {
                            window.alert("Cannot delete because you have corresponding Data");
                        }
                        else {
                            window.alert("Error Cannot Delete Booking");
                        }
                    }
                });
            }
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], VehiclegroupdispComponent.prototype, "sort", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */])
    ], VehiclegroupdispComponent.prototype, "paginator", void 0);
    VehiclegroupdispComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-vehiclegroupdisp',
            template: __webpack_require__("./src/app/pages/masters/vehiclegroupdisp/vehiclegroupdisp.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/vehiclegroupdisp/vehiclegroupdisp.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__vehiclegroups_vehiclegroups_component__["a" /* VehicleGroupsComponent */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_3__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_5__sub_users_sub_user_service__["a" /* SubUserService */]])
    ], VehiclegroupdispComponent);
    return VehiclegroupdispComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/vehicleprofile/vehicleprofile.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>Vehicle Profile</nb-card-header>    \n      <nb-card-body>\n        <div class=\"row pb-10\">\n          <div class=\"col-lg-12 col-12\">\n            <img class=\"center\" [src]=\"imgUrl\" alt=\"\" height=\"150px\" (click)=\"open(_albums, 0)\">\n          </div>\n        </div>\n        <div class=\"row ptb-10\">\n          <div class=\"col-lg-3 col-12\">\n            <b>Model Name</b>\n            <br>\n            {{vehicle.modelname}}                      \n          </div>\n          <div class=\"col-lg-3 col-12\">            \n            <b>Vehicle Number</b>\n            <br>\n            {{vehicle.number}}              \n          </div>                \n          <div class=\"col-lg-3 col-12\">            \n            <b>Color</b>\n            <br>\n            {{vehicle.vcolor}}              \n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <b>Fuel Type</b>\n            <br>\n            {{vehicle.fuelType}}\n          </div>\n        </div>\n        <div class=\"row pb-10\">\n          <div class=\"col-lg-3 col-12\">\n            <b>Seating Capacity</b>\n            <br>\n            {{vehicle.seating}}\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <b>Assigned Driver</b>\n            <br>\n            {{vehicle.assignedDriver}}\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <b>Vehicle Group</b>\n            <br>\n            {{vehicle.vehicleGroup}}\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <b>Branch</b>\n            <br>\n            {{vehicle.branches}}\n          </div>\n        </div>\n        <hr>\n        <div class=\"row\">\n          <div class=\"col-lg-12\">\n            <h5>Insurance</h5>\n            <div class=\"row pb-10\">\n              <div class=\"col-lg-4 col-12\">\n                <b>Company Name</b>\n                <br>\n                {{vehicle.companyName}}\n              </div>\n              <div class=\"col-lg-4 col-12\">\n                <b>Policy Number</b>\n                <br>\n                {{vehicle.policyNumber}}\n              </div>\n              <div class=\"col-lg-4 col-12\">\n                <b>Issue Date</b>\n                <br>                    \n                <p style=\"margin: auto\" *ngIf=\"vehicle.issueDate != 'Invalid date' && vehicle.issueDate != null\">{{vehicle.issueDate | date: 'dd-MM-yyyy'}}</p>\n              </div>              \n            </div>\n            <div class=\"row pb-10\">\n              <div class=\"col-lg-4 col-12\">\n                <b>Premium Amount</b>\n                <br>\n                &#x20B9; {{vehicle.premiumAmount}}\n              </div>\n              <div class=\"col-lg-4 col-12\">\n                <b>Cover Amount</b>\n                <br>\n                &#x20B9; {{vehicle.coverAmount}}\n              </div>\n              <div class=\"col-lg-4 col-12\">\n                <b>Due Date</b>\n                <br>\n                <p style=\"margin: auto\" *ngIf=\"vehicle.dueDate != 'Invalid date' && vehicle.dueDate != null\">{{vehicle.dueDate | date: 'dd-MM-yyyy'}}</p>\n              </div>              \n            </div>\n          </div>\n        </div>\n        <hr>\n        <div class=\"row\">\n          <div class=\"col-lg-6\">            \n            <h5>Parts</h5>\n            <div class=\"row pb-10\">\n              <div class=\"col-lg-6 col-12\">\n                <b>Chassis Number</b>\n                <br>\n                {{vehicle.chassisNumber}}\n              </div>\n              <div class=\"col-lg-6 col-12\">\n                <b>Engine Number</b>\n                <br>\n                {{vehicle.engineNumber}}\n              </div>\n            </div>\n          </div>\n          <div class=\"col-lg-6\">\n            <h5>Registration</h5>\n            <div class=\"row pb-10\">\n              <div class=\"col-lg-6 col-12\">\n                <b>Registered Owner Name</b>\n                <br>\n                {{vehicle.regName}}\n              </div>\n              <div class=\"col-lg-6 col-12\">\n                <b>Registration Date</b>\n                <br>\n                <p style=\"margin: auto\" *ngIf=\"vehicle.regDate != 'Invalid date' && vehicle.regDate != null\">{{vehicle.regDate | date: 'dd-MM-yyyy'}}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <hr>\n        <div class=\"row\">\n          <div class=\"col-lg-12\">\n            <h5>RTO</h5>\n            <div class=\"row pb-10\">\n              <div class=\"col-lg-6 col-12\">\n                <b>Address</b>\n                <br>\n                {{vehicle.RTOAddress}}\n              </div>\n              <div class=\"col-lg-3 col-12\">\n                <b>Tax Efficiency</b>\n                <br>\n                {{vehicle.taxEfficiency}}\n              </div>\n              <div class=\"col-lg-3 col-12\">\n                <b>Expiry Date</b>\n                <br>\n                <p style=\"margin: auto\" *ngIf=\"vehicle.expiryDateRTO != 'Invalid date' && vehicle.expiryDateRTO != null\">{{vehicle.expiryDateRTO | date: 'dd-MM-yyyy'}}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <hr>\n        <div class=\"row\">\n          <div class=\"col-lg-6\">\n            <h5>Authorization</h5>\n            <div class=\"row pb-10\">\n              <div class=\"col-lg-6 col-12\">\n                <b>Authorization Number</b>\n                <br>\n                {{vehicle.authorizationNumber}}\n              </div>\n              <div class=\"col-lg-6 col-12\">\n                <b>Expiry Date</b>\n                <br>\n                <p style=\"margin: auto\" *ngIf=\"vehicle.expiryDateAuth != 'Invalid date' && vehicle.expiryDateAuth != null\">{{vehicle.expiryDateAuth | date: 'dd-MM-yyyy'}}</p>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-lg-6\">\n            <h5>PUC</h5>\n            <div class=\"row pb-10\">\n              <div class=\"col-lg-6 col-12\">\n                <b>Number</b>\n                <br>\n                {{vehicle.PUCNumber}}\n              </div>\n              <div class=\"col-lg-6 col-12\">\n                <b>Expiry Date</b>\n                <br>\n                <p style=\"margin: auto\" *ngIf=\"vehicle.expiryDatePUC != 'Invalid date' && vehicle.expiryDatePUC != null\">{{vehicle.expiryDatePUC | date: 'dd-MM-yyyy'}}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <hr>\n        <div class=\"row\">\n          <div class=\"col-lg-12\">\n            <h5>Loan</h5>\n            <div class=\"row pb-10\">\n              <div class=\"col-lg-4 col-12\">\n                <b>EMI Amount</b>\n                <br>\n                &#x20B9; {{vehicle.EMIAmount}}\n              </div>\n              <div class=\"col-lg-4 col-12\">\n                <b>Start Date</b>\n                <br>\n                <p style=\"margin: auto\" *ngIf=\"vehicle.startDate != 'Invalid date' && vehicle.startDate != null\">{{vehicle.startDate | date: 'dd-MM-yyyy'}}</p>\n              </div>\n              <div class=\"col-lg-4 col-12\">\n                <b>End Date</b>\n                <br>\n                <p style=\"margin: auto\" *ngIf=\"vehicle.endDate != 'Invalid date' && vehicle.endDate != null\">{{vehicle.endDate | date: 'dd-MM-yyyy'}}</p>\n              </div>\n            </div>\n            <div class=\"row pb-10\">\n              <div class=\"col-lg-4 col-12\">\n                <b>Bank Name</b>\n                <br>\n                {{vehicle.bankName}}\n              </div>\n              <div class=\"col-lg-4 col-12\">\n                <b>EMI Day</b>\n                <br>\n                {{vehicle.EMIDay}}\n              </div>\n            </div>\n          </div>\n        </div>\n        <hr>\n        <div class=\"row\">\n          <div class=\"col-lg-12\">\n            <h5>Fitness</h5>\n            <div class=\"row pb-10\">\n              <div class=\"col-lg-6 col-12\">\n                <b>Fitness Number</b>\n                <br>\n                {{vehicle.fitnessNumber}}\n              </div>\n              <div class=\"col-lg-6 col-12\" style=\"text-align: center;margin:auto;\">\n                <b>Expity Date</b>\n                <br>\n                <p style=\"margin: auto\" *ngIf=\"vehicle.expiryDateFitness != 'Invalid date' && vehicle.expiryDateFitness != null\">{{vehicle.expiryDateFitness | date: 'dd-MM-yyyy'}}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <hr>\n        <div class=\"row\">\n          <div class=\"col-lg-12\">\n            <h5>Files & Permits</h5>\n            <div class=\"row\" *ngFor=\"let element of files; let i = index;\">\n              <div class=\"col-lg-3 col-12\">\n                <mat-list>\n                  <mat-list-item> <a target=\"_blank\" href=\"{{element.url}}\"> {{element.name}} </a></mat-list-item>\n                </mat-list>\n              </div>\n              <div class=\"col-lg-9 col-12\">\n                <img alt=\"\" *ngIf=\"element.image!=null\" style=\"padding-left:10px;\" [src]=\"element.image\" height=\"100px\" width=\"100px\" (click)=\"open(_fileAlbums, i)\"/>\n                <mat-list *ngIf=\"element.image == null\">\n                  <mat-list-item> No Image </mat-list-item>\n                </mat-list>\n              </div>\n            </div>\n            <div class=\"row\" *ngIf=\"files.length == 0\">\n              <mat-list>\n                <mat-list-item> No Images Uploaded </mat-list-item>\n              </mat-list>\n            </div>\n          </div>\n        </div>\n        <div class=\"row ptb-10\">\n          <div class=\"col-lg-12\">\n            <mat-checkbox disabled [(ngModel)]=\"vehicle.active\">Active</mat-checkbox>\n          </div>\n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12\">\n    <button mat-raised-button color=\"primary\" (click)=\"edit()\">Edit</button>\n    <button mat-raised-button color=\"warn\"(click)=\"closeDialog()\">Close</button>\n  </div> \n</div>\n"

/***/ }),

/***/ "./src/app/pages/masters/vehicleprofile/vehicleprofile.component.scss":
/***/ (function(module, exports) {

module.exports = ".center {\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  width: auto; }\n"

/***/ }),

/***/ "./src/app/pages/masters/vehicleprofile/vehicleprofile.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return VehicleprofileComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_material_snack_bar__ = __webpack_require__("./node_modules/@angular/material/esm5/snack-bar.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_material_dialog__ = __webpack_require__("./node_modules/@angular/material/esm5/dialog.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__new_vehicles_vehicle_service__ = __webpack_require__("./src/app/pages/masters/new-vehicles/vehicle.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__new_vehicles_new_vehicles_component__ = __webpack_require__("./src/app/pages/masters/new-vehicles/new-vehicles.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_ngx_lightbox__ = __webpack_require__("./node_modules/ngx-lightbox/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_ngx_lightbox___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_ngx_lightbox__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};









var VehicleprofileComponent = (function () {
    function VehicleprofileComponent(auth, _sanitizer, uploadService, snackBar, dialog, data, vehicleService, _lightbox) {
        this.auth = auth;
        this._sanitizer = _sanitizer;
        this.uploadService = uploadService;
        this.snackBar = snackBar;
        this.dialog = dialog;
        this.data = data;
        this.vehicleService = vehicleService;
        this._lightbox = _lightbox;
        this.vehicle = {
            modelname: '',
            number: '',
            vcolor: '',
            seating: '',
            fuelType: '',
            branches: '',
            companyName: '',
            policyNumber: '',
            issueDate: '',
            dueDate: '',
            premiumAmount: '',
            coverAmount: '',
            chassisNumber: '',
            engineNumber: '',
            regName: '',
            regDate: '',
            RTOAddress: '',
            taxEfficiency: '',
            expiryDateRTO: '',
            authorizationNumber: '',
            expiryDateAuth: '',
            PUCNumber: '',
            expiryDatePUC: '',
            EMIAmount: '',
            startDate: '',
            endDate: '',
            bankName: '',
            EMIDay: '',
            // permitType:'',
            // permitExpiryDate:'',
            fileName: '',
            fileURL: '',
            assignedDriver: '',
            vehicleGroup: '',
            assignedDriverId: null,
            vehicleGroupId: null,
            branchId: null,
            ownerId: '',
            fitnessNumber: '',
            expiryDateFitness: null,
            active: true,
        };
        this.loader = false;
        this.editState = false;
        this.currUser = {};
        this.imgUrl = '';
        this.previousImgUrl = '';
        this.user = {};
        this.isOwner = false;
        this.isError = false;
        this.error = '';
        this.isProfileImage = true;
        this.visibleCustomers = [];
        this._albums = [];
        this._fileAlbums = [];
        this.permitImgUrl = [];
        this.fileImgUrl = [];
        this.fileUrl = [];
        this.files = [];
    }
    VehicleprofileComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            if (_this.data.row != null) {
                console.log(_this.data.row);
                _this.vehicle = _this.data.row;
                if (_this.vehicle.fileName != '' && _this.vehicle.fileName != null) {
                    _this.uploadService.getFile(_this.user.companyName, 'vehicleList', _this.vehicle.fileName).subscribe(function (data) {
                        _this.imgUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                            + data.text());
                        _this.previousImgUrl = _this.imgUrl;
                        var album = {
                            src: _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' + data.text())
                        };
                        _this._albums.push(album);
                    });
                }
                else {
                    _this.imgUrl = "../../../../assets/icons/iconfinder_user_925901.svg";
                    var album = {
                        src: "../../../../assets/icons/iconfinder_user_925901.svg"
                    };
                    _this._albums.push(album);
                }
                _this.vehicleService.getVehiclePermit(_this.vehicle).subscribe(function (data) {
                    var j = 0;
                    data.forEach(function (element) {
                        _this.uploadService.getFile(_this.user.companyName, 'vehiclePermits', element.fileName).subscribe(function (data) {
                            console.log(data.text());
                            if (data.text().includes("PDF")) {
                                _this.permitImgUrl[j] = null;
                            }
                            else {
                                _this.permitImgUrl[j] = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' + data.text());
                            }
                            var album = {
                                src: _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' + data.text())
                            };
                            _this._fileAlbums.push(album);
                            _this.uploadService.getPresignedUrl(_this.user.companyName, element.fileName, 'vehiclePermits').subscribe(function (data) {
                                _this.fileUrl[j] = data._body;
                            });
                            _this.files.push({ name: element.permitType, image: _this.permitImgUrl[j], url: _this.fileUrl[j] });
                            j = j + 1;
                        });
                    });
                });
                _this.vehicleService.getVehicleFile(_this.vehicle).subscribe(function (data) {
                    var k = 0;
                    data.forEach(function (element) {
                        _this.uploadService.getFile(_this.user.companyName, 'vehicleFiles', element.fileName).subscribe(function (data) {
                            if (data.text().includes("PDF")) {
                                _this.fileImgUrl[k] = null;
                            }
                            else {
                                _this.fileImgUrl[k] = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' + data.text());
                            }
                            var album = {
                                src: _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' + data.text())
                            };
                            _this._fileAlbums.push(album);
                            _this.uploadService.getPresignedUrl(_this.user.companyName, element.fileName, 'vehicleFiles').subscribe(function (data) {
                                _this.fileUrl[k] = data._body;
                            });
                            _this.files.push({ name: element.fileType, image: _this.fileImgUrl[k], url: _this.fileUrl[k] });
                            k = k + 1;
                        });
                    });
                });
            }
        });
    };
    VehicleprofileComponent.prototype.selectFile = function (event) {
        var _this = this;
        this.isProfileImage = true;
        var file = event.target.files[0];
        var reader = new FileReader();
        reader.onload = function (e) { return _this.imgUrl = reader.result; };
        reader.readAsDataURL(file);
    };
    VehicleprofileComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    VehicleprofileComponent.prototype.edit = function () {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_7__new_vehicles_new_vehicles_component__["a" /* NewVehiclesComponent */], { autoFocus: false, disableClose: true, data: {
                row: this.data.row
            } });
    };
    VehicleprofileComponent.prototype.open = function (albums, i) {
        this._lightbox.open(albums, i);
    };
    VehicleprofileComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'vehicleprofile',
            template: __webpack_require__("./src/app/pages/masters/vehicleprofile/vehicleprofile.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/vehicleprofile/vehicleprofile.component.scss")]
        }),
        __param(5, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_5__angular_material_dialog__["a" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__["DomSanitizer"],
            __WEBPACK_IMPORTED_MODULE_3__fileupload_service__["a" /* FileuploadService */],
            __WEBPACK_IMPORTED_MODULE_4__angular_material_snack_bar__["a" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_5__angular_material_dialog__["b" /* MatDialog */], Object, __WEBPACK_IMPORTED_MODULE_6__new_vehicles_vehicle_service__["a" /* VehicleService */],
            __WEBPACK_IMPORTED_MODULE_8_ngx_lightbox__["Lightbox"]])
    ], VehicleprofileComponent);
    return VehicleprofileComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/viewdutyslip/viewdutyslip.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        <div class=\"row\">\n          <div class=\"col-lg-8 col-12\">\n            <b>Duty #{{duty.id}}</b>\n          </div>\n          <div class=\"col-lg-4 col-12\">\n            <mat-chip-list>\n              <mat-chip color=\"primary\" selected>{{duty.status}}</mat-chip>\n            </mat-chip-list>\n          </div>\n        </div>\n      </nb-card-header>\n      <nb-card-body>\n        <div #dutySlip id=\"dutySlip\">\n          <div class=\"row ptb-10\">\n            <div class=\"col-lg-6 col-12\">\n              <b>Customer: </b>{{duty.cname}}\n            </div>\n            <div class=\"col-lg-6 col-12\">\n              <b>Duty ID: </b>{{duty.id}}\n            </div>\n          </div>\n          <div class=\"row pb-10\">\n            <div class=\"col-lg-6 col-12\">\n              <b>Date: </b>{{duty.startDate}}\n            </div>\n            <div class=\"col-lg-6 col-12\">\n              <b>Vehicle Group: </b>{{duty.vehicleGroup}}\n            </div>\n          </div>\n          <div class=\"row pb-10\">\n            <div class=\"col-lg-6 col-12\">\n              <b>Booked By: </b>{{duty.bookBy}}\n            </div>\n            <div class=\"col-lg-6 col-12\">\n              <b>Vehicle: </b>{{duty.vehicle}}\n            </div>\n          </div>\n          <div class=\"row pb-10\">\n            <div class=\"col-lg-6 col-12\">\n              <b>Passenger: </b>{{duty.passenger}}\n            </div>\n            <div class=\"col-lg-6 col-12\">\n              <b>Driver: </b>{{duty.driver}}\n            </div>\n          </div>\n          <div class=\"row pb-10\">\n            <div class=\"col-lg-12 col-12\">\n              <b>Reporting Address: </b>{{duty.reportingAddress}}\n            </div>\n          </div>\n          <div class=\"row pb-10\">\n            <div class=\"col-lg-12 col-12\">\n              <b>Drop Address: </b>{{duty.dropAddress}}\n            </div>\n          </div>\n          <div class=\"row ptb-10\">\n            <div class=\"col-lg-12 col-12\">\n              <table class=\"table table-bordered\">\n                <tbody>\n                  <tr>\n                    <td></td>\n                    <td><b>Reporting</b></td>\n                    <td><b>Release</b></td>\n                    <td><b>Total</b></td>\n                    <td><b>Extra</b></td>\n                  </tr>\n                  <tr>\n                    <td><b>KM</b></td>\n                    <td>{{dutySummary.startKm}}</td>\n                    <td>{{dutySummary.endKm}}</td>\n                    <td>{{dutySummary.totalKm}}</td>\n                    <td>{{dutySummary.extraKm}}</td>\n                  </tr>\n                  <tr>\n                    <td><b>Time</b></td>\n                    <td>{{dutySummary.startTime | date: 'dd-MM-yyyy HH:mm a'}}</td>\n                    <td>{{dutySummary.endTime | date: 'dd-MM-yyyy HH:mm a'}}</td>\n                    <td>{{dutySummary.totalTime}}</td>\n                    <td>{{dutySummary.extraTime}}</td>\n                  </tr>\n                  <!-- <tr>\n                    <td><b>Speedo KM</b></td>\n                    <td>{{dutySummary.startKm}}</td>\n                    <td>{{dutySummary.endKm}}</td>\n                    <td>{{dutySummary.totalKm}}</td>\n                    <td>{{dutySummary.extraKm}}</td>\n                  </tr> -->\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <div class=\"row pb-10\" *ngIf=\"mapImgUrl != ''\">\n            <div class=\"col-lg-12 col-12\">\n              <img [src]=\"mapImgUrl\"  width=\"auto\" height=\"400px\">\n            </div>\n          </div>\n          <div class=\"row ptb-10\" *ngIf=\"additionalCharges.length > 0\">\n            <div class=\"col-lg-12 col-12\">\n              <b>Additional Charges: </b>\n              <br>\n              <br>\n              <table class=\"table table-bordered\">\n                <thead>\n                  <tr>\n                    <th>Charges</th>\n                    <th>Amount</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr *ngFor=\"let element of additionalCharges\">\n                    <td *ngIf=\"!element.url\">{{element.name}}</td>\n                    <td *ngIf=\"element.url\"> <a target=\"_blank\" href=\"{{element.url}}\"> {{element.name}} </a> </td>\n                    <td>{{element.charges}}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <div class=\"row ptb-10\" *ngIf=\"dutySlipImgUrl!=''\">\n            <div class=\"col-lg-12\">\n              <a href=\"{{dutySlipImgUrl}}\">Duty Slip</a>\n            </div>\n          </div>\n          <div class=\"row ptb-10\" *ngIf=\"signImgUrl!=''\">\n            <div class=\"col-lg-12 col-12\">\n              <b>Customer Signature: </b>\n            </div>\n            <br>\n            <img [src]=\"signImgUrl\" width=\"300px\" height=\"150px\">\n          </div>\n        </div>\n        <div class=\"row ptb-10\" *ngIf=\"routeInfoUrl != ''\">\n          <div class=\"col-lg-12\">\n            <a target=\"_blank\" href=\"{{routeInfoUrl}}\">Get Route Info</a>\n          </div>\n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-12 col-12\">\n    <button mat-raised-button color=\"primary\" (click)=\"print()\">Print Duty Slip</button>\n    <button *ngIf=\"duty.subStatus == 'Needs Approval'\" mat-raised-button color=\"primary\" (click)=\"approveDutySlip()\">Approve Duty Slip</button>\n    <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/pages/masters/viewdutyslip/viewdutyslip.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/viewdutyslip/viewdutyslip.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ViewdutyslipComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__circles_companyprofile_companyprofile_service__ = __webpack_require__("./src/app/pages/circles/companyprofile/companyprofile.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__duties_duties_service__ = __webpack_require__("./src/app/pages/duties/duties.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__modals_confirm_confirm_component__ = __webpack_require__("./src/app/pages/modals/confirm/confirm.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};









var ViewdutyslipComponent = (function () {
    function ViewdutyslipComponent(auth, data, dialog, dutiesService, uploadService, _sanitizer, snackBar, companyprofileService) {
        this.auth = auth;
        this.data = data;
        this.dialog = dialog;
        this.dutiesService = dutiesService;
        this.uploadService = uploadService;
        this._sanitizer = _sanitizer;
        this.snackBar = snackBar;
        this.companyprofileService = companyprofileService;
        this.duty = {};
        this.additionalCharges = [];
        this.dutySummary = {};
        this.user = {};
        this.mapImgUrl = "";
        this.signImgUrl = "";
        this.dutySlipImgUrl = '';
        this.routeInfoUrl = '';
        console.log(data);
        this.duty = data;
    }
    ViewdutyslipComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.dutiesService.getDutyById({ id: _this.duty.supplierDId }).subscribe(function (data) {
                _this.companyprofileService.getCompanyProfile({ ownerId: data[0].ownerId }).subscribe(function (data) {
                    _this.companyName = data[0].name;
                });
                _this.uploadService.getFile(_this.companyName, "closeDutyPics/Pictures/" + _this.duty.supplierDId, "mapRoute.jpg").subscribe(function (data) {
                    _this.mapImgUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' + data.text().toString());
                    console.log(_this.mapImgUrl);
                });
                _this.uploadService.getFile(_this.companyName, "closeDutyPics/Pictures/" + _this.duty.supplierDId, "signature.jpg").subscribe(function (data) {
                    _this.signImgUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' + data.text().toString());
                });
            });
        });
        this.dutiesService.getEndedCloseDutyAdditionalCharges({ id: this.duty.supplierDId }).subscribe(function (data) {
            _this.additionalCharges = data;
            console.log(_this.additionalCharges);
            _this.additionalCharges.forEach(function (element) {
                console.log(element);
                if (element.fileName != 'undefined' && element.fileName != null) {
                    _this.uploadService.getPresignedUrl(_this.companyName, element.fileName, 'closeDutyPics/Pictures/' + _this.data.supplierDId).subscribe(function (data) {
                        element.url = data._body;
                    });
                }
            });
        });
        this.dutiesService.getDutySlipSummary({ id: this.duty.supplierDId }).subscribe(function (data) {
            console.log(data);
            _this.dutySummary = data[0];
            _this.uploadService.getPresignedUrl(_this.companyName, _this.dutySummary.dutySlipFileName, 'dutySlip').subscribe(function (data) {
                _this.dutySlipImgUrl = data._body;
            });
            var startTime = __WEBPACK_IMPORTED_MODULE_7_moment__(__WEBPACK_IMPORTED_MODULE_7_moment__(_this.dutySummary.startDate).format("YYYY-MM-DD") + " " + _this.dutySummary.startTime, "YYYY-MM-DD HH:mm a");
            var endTime = __WEBPACK_IMPORTED_MODULE_7_moment__(__WEBPACK_IMPORTED_MODULE_7_moment__(_this.dutySummary.endDate).format("YYYY-MM-DD") + " " + _this.dutySummary.endTime, "YYYY-MM-DD HH:mm a");
            _this.dutySummary.endTime = __WEBPACK_IMPORTED_MODULE_7_moment__(_this.dutySummary.endTime, "HH:mm a");
            ;
            _this.dutySummary.startTime = __WEBPACK_IMPORTED_MODULE_7_moment__(_this.dutySummary.startTime, "HH:mm a");
            var totalHrs = endTime.diff(startTime, 'hours');
            var totalMins = endTime.diff(startTime, 'minutes');
            var clearMins = totalMins % 60;
            _this.dutySummary.totalTime = totalHrs + "hrs " + clearMins + "mins";
            _this.dutySummary.totalKm = _this.dutySummary.endKm - _this.dutySummary.startKm;
            if (_this.dutySummary.maxHrs == '' || totalHrs < _this.dutySummary.maxHrs) {
                _this.dutySummary.extraTime = 0;
            }
            else {
                _this.dutySummary.extraTime = (totalHrs - _this.dutySummary.maxHrs) + "hrs " + clearMins + "mins";
            }
            if (_this.dutySummary.maxKms == '') {
                _this.dutySummary.extraKm = 0;
            }
            else {
                _this.dutySummary.extraKm = Number(_this.dutySummary.totalKm) - Number(_this.dutySummary.maxKms);
            }
            console.log(_this.dutySummary.totalTime);
            console.log(_this.dutySummary);
        });
        this.getRouteInfo();
    };
    ViewdutyslipComponent.prototype.approveDutySlip = function () {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_8__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.dutiesService.completeDuty(_this.duty).subscribe(function (data) { }, function (err) { }, function () {
                    _this.snackBar.open("Close Duty Approved", "X", { duration: 3000 });
                    _this.dialog.closeAll();
                });
            }
        });
    };
    ViewdutyslipComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    ViewdutyslipComponent.prototype.print = function () {
        // let data = document.getElementById('demo').innerHTML;  
        var data = this.dutySlip.nativeElement.innerHTML;
        var newWindow = window.open('', '_blank', 'top=0,left=0,height=100%,width=auto');
        newWindow.document.open();
        newWindow.document.write("\n    <html>\n      <head>        \n        <style media=\"print\">    \n         .row {\n            display: -webkit-box;\n            display: -ms-flexbox;\n            display: flex;\n            -ms-flex-wrap: wrap;\n            flex-wrap: wrap;\n            margin-right: -15px;\n            margin-left: -15px;\n          }  \n          body {\n            font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n            font-size: 1rem;\n            font-weight: 400;\n            line-height: 1.5;\n            color: #212529;\n            text-align: left;\n          }\n          .col-lg-12 {\n            -webkit-box-flex: 0;\n            -ms-flex: 0 0 100%;\n            flex: 0 0 100%;\n            max-width: 100%;\n          }\n          .col-lg-8 {\n            -webkit-box-flex: 0;\n            -ms-flex: 0 0 66.66666667%;\n            flex: 0 0 66.66666667%;\n            max-width: 66.66666667%;\n          }\n          .col-lg-4 {\n            -webkit-box-flex: 0;\n            -ms-flex: 0 0 33.33333333%;\n            flex: 0 0 33.33333333%;\n            max-width: 33.33333333%;\n          }\n          .ptb-10 {\n            padding: 10px 0px 10px 0px;\n          }\n          .col-lg-6 {\n            -webkit-box-flex: 0;\n            -ms-flex: 0 0 50%;\n            flex: 0 0 50%;\n            max-width: 50%;\n          }\n          .table {\n            width: 100%;\n            max-width: 100%;\n            margin-bottom: 1rem;\n            background-color: transparent;\n            border-collapse: collapse;\n          }\n          }\n          .table-bordered {\n            border: 1px solid #e9ecef;\n          }\n          @page {\n            size:  8.27in 11.69in !important;   /* auto is the initial value */\n            margin: 5mm 0mm 5mm 0mm !important;  /* this affects the margin in the printer settings */\n          }\n          @media print {\n            @page {\n              size:  8.27in 11.69in !important;   /* auto is the initial value */\n              margin: 5mm 0mm 5mm 0mm !important;  /* this affects the margin in the printer settings */\n            }\n            html {\n              margin: 0px !important;  /* this affects the margin on the html before sending to printer */\n            }\n            body {\n              margin: 0mm 5mm 0mm 5mm !important; /* margin you want for the content */\n            }\n          }\n        </style>\n      </head>\n      <body onload=\"window.print();window.close()\">" + data + "</body>\n\n    </html>");
        newWindow.document.close();
    };
    ViewdutyslipComponent.prototype.getRouteInfo = function () {
        var _this = this;
        this.uploadService.getPresignedUrl(this.companyName, 'route_info.csv', 'closeDutyPics/RouteCSV/' + this.duty.supplierDId).subscribe(function (data) {
            if (data.length > 0) {
                _this.routeInfoUrl = data._body;
            }
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('dutySlip'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], ViewdutyslipComponent.prototype, "dutySlip", void 0);
    ViewdutyslipComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'viewdutyslip',
            template: __webpack_require__("./src/app/pages/masters/viewdutyslip/viewdutyslip.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/viewdutyslip/viewdutyslip.component.scss")]
        }),
        __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */], Object, __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_6__duties_duties_service__["a" /* DutiesService */],
            __WEBPACK_IMPORTED_MODULE_4__fileupload_service__["a" /* FileuploadService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_platform_browser__["DomSanitizer"],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_5__circles_companyprofile_companyprofile_service__["a" /* CompanyprofileService */]])
    ], ViewdutyslipComponent);
    return ViewdutyslipComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/viewflightinvoice/viewflightinvoice.component.html":
/***/ (function(module, exports) {

module.exports = "<!-- <mat-tab-group>\n  <mat-tab label=\"Invoice\"> -->\n    <div class=\"row\">\n      <div class=\"col-lg-12\" id=\"print-section\">\n        <nb-card>\n          <nb-card-header>Invoice</nb-card-header>\n          <nb-card-body class=\"box\">\n            <div id=\"demo\" style=\"padding: 0 5px 0 5px\">\n              <div class=\"col-lg-12\" style=\"padding:10px;\"> \n                <table *ngIf=\"!businessSettings.HideBusinessLetterHead\" style=\"width: 100%;\" border-spacing=\"0\">\n                  <tr>\n                    <td rowspan=\"3\" style=\"border-bottom: 1px solid darkgrey; width: 10%; padding-left: 5%; padding-bottom: 10px;\">\n                      <img [src]=\"companyLogo\" height=\"70px\" width=\"auto\" />\n                    </td>                     \n                    <td style=\"text-align:left; padding-left: 10%;\">\n                      <b style=\"font-size: 18px; font-weight: 600 ;\">{{user.companyName}}</b>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td style=\"text-align: left; padding-left: 10%;\">\n                      <b>{{companyProfile.address}}</b>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td style=\"border-bottom: 1px solid darkgrey; text-align: left; padding-bottom: 10px; padding-left: 10%;\">\n                      <b><b>Email:</b> {{companyProfile.email}} <b>Mobile:</b> {{companyProfile.phone}}</b>\n                    </td>\n                  </tr>\n                </table>\n                <table style=\"width:100%\">\n                  <tr>\n                    <td style=\"border-bottom: 1px solid darkgrey; text-align: center;\"><b style=\"font-size: medium;\">Tax Invoice</b></td>\n                  </tr>\n                </table>\n              </div>\n              <div class=\"box2\" style=\"display: flex; flex-direction: row; border-bottom: 0.1px solid; border-bottom-color: darkgrey;\">\n                <div class=\"col-lg-6 vl\" style=\"border-right: 0.1px solid; border-right-color: darkgrey; width: 50%;\">\n                  <table cellpadding=2px>\n                    <tr>\n                      <td>\n                        <b>\n                          Customer Name:\n                        </b>\n                      </td>\n                      <td>\n                        {{customerDetails.name}}\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        <b>\n                          Customer No:\n                        </b>\n                      </td>\n                      <td>\n                        {{customerDetails.phone}}\n                      </td>\n                    </tr>\n                    <tr>\n                        <td>\n                          <b>\n                            Address:\n                          </b>\n                        </td>\n                        <td>\n                          {{customerDetails.caddress}}\n                        </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        <b>\n                          State:\n                        </b>\n                      </td>\n                      <td>\n                        {{customerDetails.state}}\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        <b>\n                          PAN:\n                        </b>\n                      </td>\n                      <td>\n                        {{customerDetails.panNo}}\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        <b>\n                          GSTIN:\n                        </b>\n                      </td>\n                      <td>\n                        {{customerDetails.gstin}}\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        <b>Billing Address:</b>\n                      </td>\n                      <td>\n                        {{customerDetails.billingAddress}}\n                      </td>\n                    </tr>\n                  </table>\n                </div>\n                <div class=\"col-lg-6\">\n                  <table cellpadding=2px>\n                    <tr>\n                      <td><b>&nbsp;Invoice Number:</b></td>\n                      <td>\n                        {{invoiceDetails.invoiceNumber}}\n                      </td>\n                    </tr>\n                      <tr><td><b>&nbsp;Invoice Date:</b></td>\n                        <td>\n                          {{invoiceDetails.invoiceDate | date: 'dd/MM/yyyy'}}\n                        </td>\n                      </tr>\n                      <tr>\n                        <td>\n                          <b>&nbsp;Invoice Period From:</b>\n                        </td>\n                        <td>\n                          {{invoiceDetails.invoicePeriodFrom | date: 'dd/MM/yyyy'}}\n                        </td>\n                      </tr>\n                      <tr>  \n                        <td>\n                          <b>&nbsp;Invoice Period To:</b>\n                        </td>\n                        <td>\n                          {{invoiceDetails.invoicePeriodTo | date: 'dd/MM/yyyy'}}\n                        </td>\n                      </tr>\n                    <tr>\n                      <td>\n                        <b>\n                          &nbsp;CC Number:\n                        </b>\n                      </td>\n                      <td>\n                        {{invoiceDetails.CCNumber}}\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        <b>\n                          &nbsp;PO Number\n                        </b>\n                      </td>\n                      <td>\n                          {{invoiceDetails.PONumber}}\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                      </td>\n                      <td>\n                      </td>\n                    </tr>\n                  </table>\n                </div>\n              </div>\n              <div class=\"col-lg-12\">                \n                <table style=\"width:100%\" cellpadding=\"4\">\n                  <tr class=\"invoiceTable\" style=\"border-bottom:1px solid;\">\n                    <th>Sr.</th>\n                    <th>Description</th>\n                    <th>Rate</th>\n                    <th>Quantity</th>\n                    <th>Amount</th>\n                  </tr>\n                  <tr *ngFor=\"let temp of flightDetails; let i=index\" style=\" text-align:center;\" class=\"invoiceTable\" style=\"border-bottom:1px solid;\">                    \n                    <td style=\"text-align:center;\">{{i+1}}</td>\n                    <td class=\"tdleft\">\n                      Flight Number:\n                      <b>\n                      {{temp.flightNo}}\n                      </b><br>\n                      Departure Date:\n                      <b>\n                      {{temp.departureDate}}\n                      </b><br>\n                      From:\n                      <b>\n                        {{temp.from}}\n                      </b><br>\n                      To: \n                      <b>\n                        {{temp.to}}\n                      </b><br>\n                      Passenger Name:\n                      <b>\n                        {{temp.guestName}}\n                      </b>\n                    </td>\n                    <td style=\"text-align:center;\">{{temp.price}}</td>\n                    <td style=\"text-align:center;\">1</td>\n                    <td style=\"text-align:center;\">{{temp.price}}</td>\n                  </tr>\n                  <tbody style=\"page-break-inside: avoid;\">\n                    <tr *ngFor=\"let temp of flightDetails; let i=index\" style=\" border-bottom:1px solid;\" class=\"invoiceTable\">\n                      <td style=\"text-align:center;\">{{i+1}}</td>\n                      <td class=\"tdleft\">\n                        Handling Charges:\n                      </td>\n                      <td style=\"text-align:center;\">\n                        {{temp.handlingCharges}}\n                      </td>\n                      <td style=\"text-align:center;\">\n                        1\n                      </td>\n                      <td style=\"text-align:center;\">\n                        {{temp.handlingCharges}}\n                      </td>\n                    </tr>\n                    <tr class=\"invoiceTable\" *ngIf=\"invoiceDetails.taxableAmount != null\">\n                      <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n                        \n                      </td>\n                      <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                        Taxable Amount\n                      </td>\n                      <td>&nbsp;</td>\n                      <td class=\"tdright\" style=\"text-align: center;\">\n                        <b>{{invoiceDetails.taxableAmount}}</b>\n                      </td>\n                    </tr>\n                    <tr *ngIf=\"invoiceDetails.taxType == 'CGST+SGST'\" style=\"border-bottom:1px solid;\" class=\"invoiceTable\">\n                      <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n                        Tax Type:\n                        \n                      </td>\n                      <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                        <b>\n                          &nbsp;CGST\n                        </b>\n                        <br>\n                        <b>\n                          SGST\n                        </b>\n                      </td>\n                      <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                        <b>\n                          &nbsp;{{invoiceDetails.taxRate/2}}%\n                        </b>\n                        <br>\n                        <b>\n                          {{invoiceDetails.taxRate/2}}%\n                        </b>\n                      </td>\n                      <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                        <b>\n                          &nbsp;{{invoiceDetails.taxAmount/2}}\n                        </b>\n                        <br>\n                        <b>\n                          {{invoiceDetails.taxAmount/2}}\n                        </b>\n                      </td>\n                    </tr>\n                    <tr *ngIf=\"invoiceDetails.taxType != 'CGST+SGST'\" style=\"border-bottom:1px solid;\" class=\"invoiceTable\">\n                      <td colspan=\"3\" class=\"tdright\" style=\"text-align: right;\">\n                        Tax Type:\n                        <b>\n                          {{invoiceDetails.taxType}}\n                        </b>\n                      </td>\n                      <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                        <b>\n                          {{invoiceDetails.taxRate}}%\n                        </b>\n                      </td>\n                      <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                        <b>\n                          {{invoiceDetails.taxAmount}}\n                        </b>\n                      </td>\n                    </tr>\n                    <tr style=\"border-bottom:1px solid;\" class=\"invoiceTable\">\n                      <td colspan=\"3\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n                        Discount Type:\n                        <b>\n                          {{invoiceDetails.discountType}}\n                        </b>\n                      </td>\n                      <td></td>\n                      <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                        <b>\n                          {{invoiceDetails.discountAmount}}\n                        </b>\n                      </td>\n                    </tr>\n                    <tr class=\"invoiceTable\" *ngIf=\"invoiceDetails.nonTaxableAmount > 0\">\n                      <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n                        \n                      </td>\n                      <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                        Non Taxable Amount\n                      </td>\n                      <td>&nbsp;</td>\n                      <td class=\"tdright\" style=\"text-align: center;\">\n                        <b>{{invoiceDetails.nonTaxableAmount}}</b>\n                      </td>\n                    </tr>\n                    <tr class=\"invoiceTable\">\n                      <td colspan=\"2\" style=\"text-align: left; border-bottom:2px solid black;\">\n                        In Words: <b style=\"text-transform:capitalize;\">{{totalInWords}}</b>\n                      </td>\n                      <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n                        Gross Total:\n                      </td>\n                      <td style=\"border-bottom:2px solid black;\">&nbsp;</td>\n                      <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n                        <b>{{invoiceDetails.totalAmount}}</b>\n                      </td>\n                    </tr>\n                    <tr class=\"invoiceTable\">\n                      <td colspan=\"3\" style=\"text-align: left; border-bottom:2px solid black;\">\n                        Advance Paid:\n                      </td>                      \n                      <td style=\"border-bottom:2px solid black;\">&nbsp;</td>\n                      <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n                        <b>{{invoiceDetails.advanceReceived}}</b>\n                      </td>\n                    </tr>\n                    <tr class=\"invoiceTable\">\n                      <td colspan=\"2\" style=\"text-align: left; border-bottom:2px solid black;\">\n                        In Words: <b style=\"text-transform:capitalize;\">{{totalInWords}}</b>\n                      </td>\n                      <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n                        Net Total:\n                      </td>\n                      <td style=\"border-bottom:2px solid black;\">&nbsp;</td>\n                      <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n                        <b>{{invoiceDetails.totalAmount - invoiceDetails.advanceReceived}}</b>\n                      </td>\n                    </tr>\n                  </tbody>  \n                </table>  \n              </div>\n            </div>\n          </nb-card-body>\n        </nb-card>\n      </div> \n      <div style=\"margin: auto;\">\n        <button\n          mat-raised-button\n          color=\"primary\" (click)=\"print()\" >Print</button>\n        <button *ngIf=\"permission.downloadFlightInvoices\" (click)=\"downloadInvoice()\" mat-raised-button color=\"warn\">Download</button>\n      </div> \n    </div>\n  <!-- </mat-tab>\n  <mat-tab label=\"Duty Summary\">\n    <div class=\"row\">\n      <div class=\"col-lg-12\">\n        <nb-card>\n          <nb-card-header>\n            Duty Summary\n          </nb-card-header>\n          <nb-card-body>\n            <table border=\"1\">\n              <tr>\n                <th *ngIf=\"\">Sr.</th>\n                <th *ngIf=\"businessSettings.ShowDutyId\">Duty Id</th>            \n                <th *ngIf=\"businessSettings.ShowBookedByName\">Booked By</th>\n                <th *ngIf=\"businessSettings.ShowPassengerNames\">Passenger</th>\n                <th *ngIf=\"businessSettings.ShowVehicleGroupName\">Veh.Group</th>\n                <th *ngIf=\"businessSettings.ShowVehicleNumber\">Veh.Num.</th>\n                <th *ngIf=\"businessSettings.ShowDutyType\">Duty Type</th>\n                <th *ngIf=\"businessSettings.ShowPrice\">Price</th>\n                <th *ngIf=\"businessSettings.ShowQuantityNumberOfDays\">Qty</th>\n                <th *ngIf=\"businessSettings.ShowTotalPrice\">Total Price</th>\n                <th *ngIf=\"businessSettings.ShowStartDate\">S.Date</th>\n                <th *ngIf=\"businessSettings.ShowEndDate\">E.Date</th>\n                <th *ngIf=\"businessSettings.ShowStartTime\">S.Time</th>\n                <th *ngIf=\"businessSettings.ShowEndTime\">E.Time</th>\n                <th *ngIf=\"\">T.Time</th>\n                <th *ngIf=\"\">Ex.Time</th>\n                <th *ngIf=\"businessSettings.ShowStartKM\">S.Km</th>\n                <th *ngIf=\"businessSettings.ShowEndKM\">E.Km</th>\n                <th *ngIf=\"businessSettings.ShowTotalKM\">T.Km</th>\n                <th *ngIf=\"businessSettings.ShowExtraKM\">Ex.Km</th>\n                <th *ngIf=\"businessSettings.ShowExtraHourRate\">Ex.Hr Rate</th>\n                <th *ngIf=\"businessSettings.ShowExtraKMRate\">Ex.Km Rate</th>\n                <th *ngIf=\"businessSettings.ShowExtraHourCost\">Ex.Hr Cost</th>\n                <th *ngIf=\"businessSettings.ShowExtraKMCost\">Ex.Km Cost</th>\n                <th *ngIf=\"\">Ex.Ch.</th>\n                <th *ngIf=\"\">Parking</th>\n                <th *ngIf=\"\">Out.Day</th>\n                <th *ngIf=\"\">Sun</th>\n                <th *ngIf=\"\">Late</th>\n                <th *ngIf=\"\">Car Hire Ch.</th>\n                <th *ngIf=\"businessSettings.ShowDutySubtotal\">Sub.Total</th>\n                <th *ngIf=\"businessSettings.ShowDutySubtotalIncludingAllowances\">Sub.Total (incl. Allowances)</th>\n              </tr>\n              <tr *ngFor=\"let element of dutySummary; let i=index;\">\n                <td>{{i+1}}.</td>\n                <td *ngIf=\"businessSettings.ShowDutyId\">{{element.dutyId}}</td>                \n                <td *ngIf=\"businessSettings.ShowBookedByName\">{{element.bookBy}}</td>\n                <td *ngIf=\"businessSettings.ShowPassengerNames\">{{element.passenger}}</td>\n                <td *ngIf=\"businessSettings.ShowVehicleGroupName\">{{element.vehicleGroup}}</td>\n                <td *ngIf=\"businessSettings.ShowVehicleNumber\">Veh.Num.</td>\n                <td *ngIf=\"businessSettings.ShowDutyType\">{{element.dutyType}}</td>\n                <td *ngIf=\"businessSettings.ShowPrice\">{{element.price}}</td>\n                <td *ngIf=\"businessSettings.ShowQuantityNumberOfDays\">1</td>\n                <td *ngIf=\"businessSettings.ShowTotalPrice\">{{element.price}}</td>\n                <td *ngIf=\"ssSettings.ShowStartDate\">{{element.startDate}}</td>\n                <td *ngIf=\"businessSettings.ShowEndDate\">{{element.endDate}}</td>\n                <td *ngIf=\"businessSettings.ShowStartTime\">{{element.startTime}}</td>\n                <td *ngIf=\"businessSettings.ShowEndTime\">{{element.endTime}}</td>\n                <td *ngIf=\"\">{{element.endTime - element.startTime}}</td>\n                <td *ngIf=\"\">Ex.Time</td>\n                <td *ngIf=\"businessSettings.ShowStartKM\">{{element.startKm}}</td>\n                <td *ngIf=\"businessSettings.ShowEndKM\">{{element.endKm}}</td>\n                <td *ngIf=\"businessSettings.ShowTotalKM\">{{element.endKm - element.startKm}}</td>\n                <td *ngIf=\"businessSettings.ShowExtraKM\">Ex.Km</td>\n                <td *ngIf=\"businessSettings.ShowExtraHourRate\">{{element.extraHrRate}}</td>\n                <td *ngIf=\"businessSettings.ShowExtraKMRate\">{{element.extraKmRate}}</td>\n                <td *ngIf=\"businessSettings.ShowExtraHourCost\">Ex.Hr Cost</td>\n                <td *ngIf=\"businessSettings.ShowExtraKMCost\">Ex.Km Cost</td>\n                <td *ngIf=\"\">Ex.Ch.</td>\n                <td *ngIf=\"\">Parking</td>\n                <td *ngIf=\"\">Out.Day</td>\n                <td *ngIf=\"\">Sun</td>\n                <td *ngIf=\"\">Late</td>\n                <td *ngIf=\"\">Car Hire Ch.</td>\n                <td *ngIf=\"businessSettings.ShowDutySubtotal\">{{element.finalPrice}}</td>\n                <td *ngIf=\"businessSettings.ShowDutySubtotalIncludingAllowances\">Sub.Total (incl. Allowances)</td>\n              </tr>\n            </table>\n          </nb-card-body>\n        </nb-card>\n      </div>      \n    </div>\n    <div class=\"row\">\n      <div class=\"col-lg-12\">\n        <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n      </div>\n    </div>\n  </mat-tab>\n  <mat-tab label=\"Duties\">\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-lg-12\" *ngFor=\"let element of dutySummary; let i=index;\">\n          <nb-card>\n            <nb-card-header>\n              Duty #{{element.dutyId}}\n            </nb-card-header>\n            <nb-card-body>\n              <div class=\"row\">\n                <div class=\"col-lg-12\">\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      Date\n                    </div>\n                    <div class=\"col-lg-6\">\n                      {{element.startDate}}\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      vehicle Group\n                    </div>\n                    <div class=\"col-lg-6\">\n                      {{element.vehicleGroup}}\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      Vehicle\n                    </div>\n                    <div class=\"col-lg-6\">\n                      {{element.vehicle}}\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      Driver\n                    </div>\n                    <div class=\"col-lg-6\">\n                      {{element.driver}}\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      Passengers\n                    </div>\n                    <div class=\"col-lg-6\">\n                      {{element.passenger}}\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      Reporting Address\n                    </div>\n                    <div class=\"col-lg-6\">\n                      {{element.reportingAddress}}\n                    </div>\n                  </div>    \n                </div>\n              </div>\n              <hr>\n              <div class=\"row\">\n                <div class=\"col-lg-12\">\n                  <table border=\"1\" style=\"width: 100%;\">\n                    <tr>\n                      <th></th>\n                      <th>Start</th>\n                      <th>End</th>\n                      <th>Total</th>\n                      <th>Extra</th>\n                    </tr>                  \n                    <tr>\n                      <td>KM</td>\n                      <td>{{element.startKm}}</td>\n                      <td>{{element.endKm}}</td>\n                      <td>\n                        {{element.endKm - element.startKm}}\n                      </td>\n                      <td></td>\n                    </tr>\n                    <tr>\n                      <td>Time</td>\n                      <td>{{element.startTime}}</td>\n                      <td>{{element.endTime}}</td>\n                      <td>{{element.endTime - element.startTime}}</td>\n                      <td></td>\n                    </tr>\n                  </table>\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"col-lg-6\">\n                  Additional Charges:\n                  <table border=\"1\">\n                    <tr>\n                      <th>Charges</th>\n                      <th>Amount</th>\n                    </tr>\n                    <tr>\n                      <td></td>\n                      <td></td>\n                    </tr>\n                  </table>\n                </div>\n                <div class=\"col-lg-6\">\n                  Driver Allowances:\n                  <table border=\"1\">\n                    <tr>\n                      <th>Charges</th>\n                      <th>Amount</th>\n                    </tr>\n                    <tr>\n                      <td></td>\n                      <td></td>\n                    </tr>\n                  </table>\n                </div>\n              </div>\n            </nb-card-body>\n          </nb-card>\n        </div>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-lg-12\">\n        <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n      </div>\n    </div>\n  </mat-tab>\n</mat-tab-group> -->\n"

/***/ }),

/***/ "./src/app/pages/masters/viewflightinvoice/viewflightinvoice.component.scss":
/***/ (function(module, exports) {

module.exports = "th {\n  text-align: center; }\n\n.box2 {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  border-bottom: 0.1px solid;\n  border-bottom-color: darkgrey; }\n\n.vl {\n  border-right: 0.1px solid;\n  border-right-color: darkgrey; }\n\n.tdleft {\n  text-align: left; }\n\n.tdright {\n  text-align: right;\n  -ms-flex-line-pack: right;\n      align-content: right;\n  place-content: right; }\n\n.trcenter {\n  text-align: center; }\n\n.invoiceTable {\n  border-bottom: 1px solid;\n  border-bottom-color: lightblue; }\n\n@media print {\n  header nav, footer {\n    display: none; } }\n\n::ng-deep .mat-tab-body-content {\n  overflow: hidden !important; }\n"

/***/ }),

/***/ "./src/app/pages/masters/viewflightinvoice/viewflightinvoice.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ViewflightinvoiceComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__circles_companyprofile_companyprofile_service__ = __webpack_require__("./src/app/pages/circles/companyprofile/companyprofile.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__operations_new_bank_account_bank_account_service__ = __webpack_require__("./src/app/pages/operations/new-bank-account/bank-account.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_number_to_words__ = __webpack_require__("./node_modules/number-to-words/numberToWords.min.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_number_to_words___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_number_to_words__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_file_saver__ = __webpack_require__("./node_modules/file-saver/dist/FileSaver.min.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_file_saver___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_file_saver__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var ViewflightinvoiceComponent = (function () {
    function ViewflightinvoiceComponent(auth, customerService, invoiceService, dialog, companyProfileService, bankAccountService, uploadService, _sanitizer, router) {
        this.auth = auth;
        this.customerService = customerService;
        this.invoiceService = invoiceService;
        this.dialog = dialog;
        this.companyProfileService = companyProfileService;
        this.bankAccountService = bankAccountService;
        this.uploadService = uploadService;
        this._sanitizer = _sanitizer;
        this.router = router;
        this.totalInWords = '';
        this.companyLogo = '';
        this.customerDetails = {};
        this.permission = {};
        this.dutySummary = [];
        this.businessSettings = {};
        this.companyProfile = {};
        this.bankAccount = {};
        this.invoiceDetails = {
            id: '',
            invoiceNumber: '',
            invoiceDate: '',
            invoicePeriodFrom: '',
            invoicePeriodTo: '',
            PONumber: '',
            CCNumber: '',
            totalAmount: null,
            taxType: '',
            taxAmount: null,
            discountType: '',
            discountRate: null,
            discountAmount: null,
            customerId: '',
            isDownloaded: false,
            isPrinted: false,
            isMailed: false,
        };
    }
    ViewflightinvoiceComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.permissions.subscribe(function (data) {
            _this.permission = data[0];
        });
        var iData = localStorage.getItem('flightInvoice');
        this.invoiceDetails = JSON.parse(iData);
        this.invoiceDetails.invoiceDate = __WEBPACK_IMPORTED_MODULE_11_moment__(this.invoiceDetails.invoiceDate).format("YYYY-MM-DD");
        if (this.invoiceDetails == undefined) {
            this.router.navigate(['/pages/masters/invoicedisplay']);
        }
        this.totalInWords = __WEBPACK_IMPORTED_MODULE_9_number_to_words__["toWords"](this.invoiceDetails.totalAmount);
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.companyProfileService.getCompanyProfile(_this.user).subscribe(function (data) {
                _this.companyProfile = data[0];
                _this.uploadService.getPresignedUrl(_this.user.companyName, _this.companyProfile.companyLogo, 'profileImages').subscribe(function (data) {
                    _this.companyLogo = data._body;
                    console.log(_this.companyLogo);
                });
                // this.uploadService.getFile(this.user.companyName,'profileImages',this.companyProfile.companyLogo).subscribe(data=>{
                //   this.companyLogo = this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' 
                //   + data.text());
                // })
            });
            console.log(data);
            _this.invoiceService.getFlightsInInvoice(_this.invoiceDetails).subscribe(function (data) {
                _this.flightDetails = data;
                console.log(data);
            });
            _this.customerService.getSingleCustomer(_this.invoiceDetails).subscribe(function (data) {
                _this.customerDetails = data[0];
            });
            _this.bankAccountService.getBankAccount(_this.user).subscribe(function (data) {
                console.log(data);
                _this.bankAccount = data[0];
            });
        });
        this.auth.businessSettings.subscribe(function (data) {
            _this.businessSettings = data;
        });
    };
    ViewflightinvoiceComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    ViewflightinvoiceComponent.prototype.print = function () {
        this.invoiceDetails.isPrinted = true;
        var data = document.getElementById('demo').innerHTML;
        var newWindow = window.open('', '_blank', 'top=0,left=0,height=100%,width=auto');
        newWindow.document.open();
        newWindow.document.write("\n    <html>\n      <head>        \n        <style media=\"print\">          \n          body {\n            font-family: \"Roboto\" !important;\n            font-size: 11px !important;\n          }\n          table {      \n            border-collapse: collapse;\n            font-size: 11px !important;\n          }\n          th {\n            text-align: center\n          }        \n          .box2 {\n            display: flex;\n            flex-direction: row;\n            border-bottom: 0.1px solid;\n            border-bottom-color: darkgrey;\n          }        \n          .vl {\n            border-right: 0.1px solid;\n            border-right-color: darkgrey;\n          }\n          .tdleft {\n            text-align: left;\n          }\n          .tdright {\n            text-align: right;\n            align-content: right;\n            place-content: right;\n            border-top:1px solid darkgrey !important;\n          }\n          .trcenter {\n            text-align: center;\n          }        \n          .invoiceTable td {\n            border-top:1px solid darkgrey !important;            \n          }\n          .iTbl td {\n            padding-top:5px !important;\n            border-top:1px solid darkgrey !important;            \n          }\n    \n          @page \n            {\n                size:  8.27in 11.69in !important;   /* auto is the initial value */\n                margin: 5mm 0mm 5mm 0mm !important;  /* this affects the margin in the printer settings */\n            }\n          @media print {\n            @page \n            {\n                size:  8.27in 11.69in !important;   /* auto is the initial value */\n                margin: 5mm 0mm 5mm 0mm !important;  /* this affects the margin in the printer settings */\n            }\n            html\n            {\n                margin: 0px !important;  /* this affects the margin on the html before sending to printer */\n            }\n\n            body\n            {\n                margin: 0mm 5mm 0mm 5mm !important; /* margin you want for the content */\n            }\n            .footer {\n              padding-top: 25px;\n              page-break-before: auto;\n              page-break-inside: avoid;\n              width: 100%;\n              color: white;\n              text-align: center;\n           }\n          }\n        </style>\n      </head>\n      <body onload=\"window.print();window.close()\">" + data + "\n      \n      <div class=\"footer\">\n      <table style=\"width:100%\">\n      <tr>\n          <td colspan=\"3\">\n            <p style=\"font-size:12px; margin-bottom:0px\">Subject to MUMBAI Jurisdiction<br>\n            No objection pertaining to this invoice would be entertained after 7 days from the date hereof</p>\n            <p style=\"font-size:12px; margin-bottom:0px\"><b style=\"font-size:12px; margin-bottom:0px\">GSTIN:</b> " + this.companyProfile.gstin + " | <b style=\"font-size:12px; margin-bottom:0px\">SAC/HSN/Accounting code:</b> " + this.companyProfile.hsnCode + " | <b style=\"font-size:12px; margin-bottom:0px\">PAN:</b> " + this.companyProfile.panNo + " |</p><br>\n            \n              <b style=\"font-size:12px; margin-bottom:0px\"><u>Bank Details</u></b><br>\n              <p style=\"font-size:12px; margin-bottom:0px\"><b>Account No:</b> " + this.bankAccount.number + " <b>Bank Name:</b> " + this.bankAccount.bankName + " </p>\n              <p style=\"font-size:12px; margin-bottom:0px\"><b>Branch: </b>" + this.bankAccount.branch + " <b>IFSC Code:</b> " + this.bankAccount.ifscCode + "</p>\n              <p style=\"font-size:12px; margin-bottom:0px\"><b>Cheque in favour of:</b> " + this.bankAccount.chequeInTheNameOf + "</p>\n            \n          </td>\n          <td colspan=\"2\" style=\"text-align: right\">\n            <p style=\"margin-top: -10px;font-size:12px; margin-bottom:0px\">\n              <b>For " + this.user.companyName + "</b>\n              <br><br><br><br><br>\n              Authorized signatory\n            </p>\n          </td>\n        </tr>\n      </table>\n      </div>\n      </body>\n\n    </html>");
        newWindow.document.close();
    };
    ViewflightinvoiceComponent.prototype.downloadInvoice = function () {
        var _this = this;
        var data = document.getElementById('demo').innerHTML;
        var pdfData = data;
        this.invoiceDetails.isDownloaded = true;
        this.uploadService.downloadPDF(pdfData, this.invoiceDetails.id + "_Invoice_" + __WEBPACK_IMPORTED_MODULE_11_moment__().format("DD-MM-YYYY"), "flightInvoice", this.user, this.companyProfile, this.bankAccount).subscribe(function (data) { return Object(__WEBPACK_IMPORTED_MODULE_12_file_saver__["saveAs"])(data, _this.invoiceDetails.id + "_Invoice_" + __WEBPACK_IMPORTED_MODULE_11_moment__().format("DD-MM-YYYY")); }, function (err) { return console.log(err); }, function () {
            _this.invoiceService.updateFlightInvoice(_this.invoiceDetails).subscribe();
        });
    };
    ViewflightinvoiceComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'viewflightinvoice',
            template: __webpack_require__("./src/app/pages/masters/viewflightinvoice/viewflightinvoice.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/viewflightinvoice/viewflightinvoice.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__customer_customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_4__createinvoice_invoice_service__["a" /* InvoiceService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_5__circles_companyprofile_companyprofile_service__["a" /* CompanyprofileService */],
            __WEBPACK_IMPORTED_MODULE_6__operations_new_bank_account_bank_account_service__["a" /* BankAccountService */],
            __WEBPACK_IMPORTED_MODULE_7__fileupload_service__["a" /* FileuploadService */],
            __WEBPACK_IMPORTED_MODULE_8__angular_platform_browser__["DomSanitizer"],
            __WEBPACK_IMPORTED_MODULE_10__angular_router__["c" /* Router */]])
    ], ViewflightinvoiceComponent);
    return ViewflightinvoiceComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/viewhotelinvoice/viewhotelinvoice.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n      <div class=\"col-lg-12\" id=\"print-section\">\n        <nb-card>\n          <nb-card-header>Invoice</nb-card-header>\n          <nb-card-body class=\"box\">\n            <div id=\"demo\" style=\"padding: 0 5px 0 5px\">\n              <div class=\"col-lg-12\" style=\"padding:10px;\"> \n                <table *ngIf=\"!businessSettings.HideBusinessLetterHead\" style=\"width: 100%;\" border-spacing=\"0\">\n                  <tr>\n                    <td rowspan=\"3\" style=\"border-bottom: 1px solid darkgrey; width: 10%; padding-left: 5%; padding-bottom: 10px;\">\n                      <img alt=\"\" [src]=\"companyLogo\" height=\"70px\" width=\"auto\" />\n                    </td>                    \n                    <td style=\"text-align:left; padding-left: 10%;\">\n                      <b style=\"font-size: 18px; font-weight: 600 ;\">{{user.companyName}}</b>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td style=\"text-align: left; padding-left: 10%;\">\n                      <b>{{companyProfile.address}}</b>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td style=\"border-bottom: 1px solid darkgrey; text-align: left; padding-bottom: 10px; padding-left: 10%;\">\n                      <b><b>Email:</b> {{companyProfile.email}} <b>Mobile:</b> {{companyProfile.phone}}</b>\n                    </td>\n                  </tr>\n                </table>\n                <table style=\"width:100%\">\n                  <tr>\n                    <td style=\"border-bottom: 1px solid darkgrey; text-align: center;\"><b style=\"font-size: medium;\">Tax Invoice</b></td>\n                  </tr>\n                </table>\n              </div>\n              <div class=\"box2\" style=\"display: flex; flex-direction: row; border-bottom: 0.1px solid; border-bottom-color: darkgrey;\">\n                <div class=\"col-lg-6 vl\" style=\"border-right: 0.1px solid; border-right-color: darkgrey; width: 50%;\">\n                  <table cellpadding=2px>\n                    <tr>\n                      <td>\n                        <b>\n                          Customer Name:\n                        </b>\n                      </td>\n                      <td>\n                        {{customerDetails.name}}\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        <b>\n                          Customer No:\n                        </b>\n                      </td>\n                      <td>\n                        {{customerDetails.phone}}\n                      </td>\n                    </tr>\n                    <tr>\n                        <td>\n                          <b>\n                            Address:\n                          </b>\n                        </td>\n                        <td>\n                          {{customerDetails.caddress}}\n                        </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        <b>\n                          State:\n                        </b>\n                      </td>\n                      <td>\n                        {{customerDetails.state}}\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        <b>\n                          PAN:\n                        </b>\n                      </td>\n                      <td>\n                        {{customerDetails.panNo}}\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        <b>GSTIN:</b>\n                      </td>\n                      <td>\n                        {{customerDetails.gstin}}\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        <b>Billing Address:</b>\n                      </td>\n                      <td>\n                        {{customerDetails.billingAddress}}\n                      </td>\n                    </tr>\n                  </table>\n                </div>\n                <div class=\"col-lg-6\">\n                  <table cellpadding=2px>\n                    <tr>\n                      <td><b>&nbsp;Invoice Number:</b></td>\n                      <td>\n                        {{invoiceDetails.invoiceNumber}}\n                      </td>\n                    </tr>\n                      <tr><td><b>&nbsp;Invoice Date:</b></td>\n                        <td>\n                          {{invoiceDetails.invoiceDate | date: 'dd/MM/yyyy'}}\n                        </td>\n                      </tr>\n                      <tr>\n                        <td>\n                          <b>&nbsp;Invoice Period From:</b>\n                        </td>\n                        <td>\n                          {{invoiceDetails.invoicePeriodFrom | date: 'dd/MM/yyyy'}}\n                        </td>\n                      </tr>\n                      <tr>  \n                        <td>\n                          <b>&nbsp;Invoice Period To:</b>\n                        </td>\n                        <td>\n                          {{invoiceDetails.invoicePeriodTo | date: 'dd/MM/yyyy'}}\n                        </td>\n                      </tr>\n                    <tr>\n                      <td>\n                        <b>\n                          &nbsp;CC Number:\n                        </b>\n                      </td>\n                      <td>\n                        {{invoiceDetails.CCNumber}}\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        <b>\n                          &nbsp;PO Number\n                        </b>\n                      </td>\n                      <td>\n                          {{invoiceDetails.PONumber}}\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                      </td>\n                      <td>\n                      </td>\n                    </tr>\n                  </table>\n                </div>\n              </div>\n              <div class=\"col-lg-12\">                \n                <table style=\"width:100%\" cellpadding=\"4\">\n                  <tr class=\"invoiceTable\" style=\"border-bottom:1px solid;\">\n                    <th>Sr.</th>\n                    <th>Description</th>\n                    <th>Rate</th>\n                    <th>Quantity</th>\n                    <th>Amount</th>\n                  </tr>\n                  <tr *ngFor=\"let temp of selectedBookings; let i=index\" style=\" text-align:center;\" class=\"invoiceTable\" style=\"border-bottom:1px solid;\">                      \n                    <td style=\"text-align:center;\">{{i+1}}</td>\n                    <td class=\"tdleft\">\n                      Hotel Name:\n                      <b>\n                        {{temp.hotelName}}\n                      </b><br>\n                      Hotel City:\n                      <b>\n                        {{temp.hotelCity}}\n                      </b><br>\n                      Check-in Date:\n                      <b>\n                        {{temp.checkInDate}}\n                      </b><br>\n                      Check-out Date:\n                      <b>\n                        {{temp.checkOutDate}}\n                      </b><br>\n                      Guest Name:\n                      <b>\n                        {{temp.guestName}}  \n                      </b>\n                    </td>\n                    <td style=\"text-align:center;\">{{temp.intTotal}}</td>\n                    <td style=\"text-align:center;\">1</td>\n                    <td style=\"text-align:center;\">{{temp.intTotal}}</td>\n                  </tr>\n                  <tbody style=\"page-break-inside: avoid\">\n                    <tr class=\"invoiceTable\" *ngIf=\"invoiceDetails.taxableAmount != null\">\n                      <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n                        \n                      </td>\n                      <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                        Taxable Amount\n                      </td>\n                      <td>&nbsp;</td>\n                      <td class=\"tdright\" style=\"text-align: center;\">\n                        <b>{{invoiceDetails.taxableAmount}}</b>\n                      </td>\n                    </tr>\n                    <tr *ngIf=\"invoiceDetails.taxType == 'CGST+SGST'\" style=\"border-bottom:1px solid;\" class=\"invoiceTable\">\n                      <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n                        Tax Type:\n                        \n                      </td>\n                      <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                        <b>\n                          &nbsp;CGST\n                        </b>\n                        <br>\n                        <b>\n                          SGST\n                        </b>\n                      </td>\n                      <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                        <b>\n                          &nbsp;{{invoiceDetails.taxRate/2}}%\n                        </b>\n                        <br>\n                        <b>\n                          {{invoiceDetails.taxRate/2}}%\n                        </b>\n                      </td>\n                      <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                        <b>\n                          &nbsp;{{invoiceDetails.taxAmount/2}}\n                        </b>\n                        <br>\n                        <b>\n                          {{invoiceDetails.taxAmount/2}}\n                        </b>\n                      </td>\n                    </tr>\n                    <tr *ngIf=\"invoiceDetails.taxType != 'CGST+SGST'\" style=\"border-bottom:1px solid;\" class=\"invoiceTable\">\n                      <td colspan=\"3\" class=\"tdright\" style=\"text-align: right;\">\n                        Tax Type:\n                        <b>\n                          {{invoiceDetails.taxType}}\n                        </b>\n                      </td>\n                      <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                        <b>\n                          {{invoiceDetails.taxRate}}%\n                        </b>\n                      </td>\n                      <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                        <b>\n                          {{invoiceDetails.taxAmount}}\n                        </b>\n                      </td>\n                    </tr>\n                    <tr style=\"border-bottom:1px solid;\" class=\"invoiceTable\">\n                      <td colspan=\"3\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n                        Discount Type:\n                        <b>\n                          {{invoiceDetails.discountType}}\n                        </b>\n                      </td>\n                      <td></td>\n                      <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                        <b>\n                          {{invoiceDetails.discountAmount}}\n                        </b>\n                      </td>\n                    </tr>\n                    <tr class=\"invoiceTable\" *ngIf=\"invoiceDetails.nonTaxableAmount > 0\">\n                      <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n                        \n                      </td>\n                      <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                        Non Taxable Amount\n                      </td>\n                      <td>&nbsp;</td>\n                      <td class=\"tdright\" style=\"text-align: center;\">\n                        <b>{{invoiceDetails.nonTaxableAmount}}</b>\n                      </td>\n                    </tr>\n                    <tr class=\"invoiceTable\">\n                      <td colspan=\"2\" style=\"text-align: left; border-bottom:2px solid black;\">\n                        In Words: <b style=\"text-transform:capitalize;\">{{totalInWords}}</b>\n                      </td>\n                      <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n                        Gross Total:\n                      </td>\n                      <td style=\"border-bottom:2px solid black;\">&nbsp;</td>\n                      <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n                        <b>{{invoiceDetails.totalAmount}}</b>\n                      </td>\n                    </tr>\n                    <tr class=\"invoiceTable\">\n                      <td colspan=\"3\" style=\"text-align: left; border-bottom:2px solid black;\">\n                        Advance Paid:\n                      </td>                      \n                      <td style=\"border-bottom:2px solid black;\">&nbsp;</td>\n                      <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n                        <b>{{invoiceDetails.advanceReceived}}</b>\n                      </td>\n                    </tr>\n                    <tr class=\"invoiceTable\">\n                      <td colspan=\"2\" style=\"text-align: left; border-bottom:2px solid black;\">\n                        In Words: <b style=\"text-transform:capitalize;\">{{totalInWords}}</b>\n                      </td>\n                      <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n                        Net Total:\n                      </td>\n                      <td style=\"border-bottom:2px solid black;\">&nbsp;</td>\n                      <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n                        <b>{{invoiceDetails.totalAmount - invoiceDetails.advanceReceived}}</b>\n                      </td>\n                    </tr>\n                  </tbody>                  \n                </table>  \n              </div>\n            </div>\n          </nb-card-body>\n        </nb-card>\n      </div>  \n      <div style=\"margin: auto\">\n        <button\n          mat-raised-button\n          color=\"primary\" (click)=\"print()\" >Print</button>\n        <button *ngIf=\"permission.downloadHotelInvoices\" (click)=\"downloadInvoice()\" mat-raised-button color=\"warn\">Download</button>      \n      </div>\n    </div>\n  <!-- </mat-tab>\n  <mat-tab label=\"Duty Summary\">\n    <div class=\"row\">\n      <div class=\"col-lg-12\">\n        <nb-card>\n          <nb-card-header>\n            Duty Summary\n          </nb-card-header>\n          <nb-card-body>\n            <table border=\"1\">\n              <tr>\n                <th *ngIf=\"\">Sr.</th>\n                <th *ngIf=\"businessSettings.ShowDutyId\">Duty Id</th>            \n                <th *ngIf=\"businessSettings.ShowBookedByName\">Booked By</th>\n                <th *ngIf=\"businessSettings.ShowPassengerNames\">Passenger</th>\n                <th *ngIf=\"businessSettings.ShowVehicleGroupName\">Veh.Group</th>\n                <th *ngIf=\"businessSettings.ShowVehicleNumber\">Veh.Num.</th>\n                <th *ngIf=\"businessSettings.ShowDutyType\">Duty Type</th>\n                <th *ngIf=\"businessSettings.ShowPrice\">Price</th>\n                <th *ngIf=\"businessSettings.ShowQuantityNumberOfDays\">Qty</th>\n                <th *ngIf=\"businessSettings.ShowTotalPrice\">Total Price</th>\n                <th *ngIf=\"businessSettings.ShowStartDate\">S.Date</th>\n                <th *ngIf=\"businessSettings.ShowEndDate\">E.Date</th>\n                <th *ngIf=\"businessSettings.ShowStartTime\">S.Time</th>\n                <th *ngIf=\"businessSettings.ShowEndTime\">E.Time</th>\n                <th *ngIf=\"\">T.Time</th>\n                <th *ngIf=\"\">Ex.Time</th>\n                <th *ngIf=\"businessSettings.ShowStartKM\">S.Km</th>\n                <th *ngIf=\"businessSettings.ShowEndKM\">E.Km</th>\n                <th *ngIf=\"businessSettings.ShowTotalKM\">T.Km</th>\n                <th *ngIf=\"businessSettings.ShowExtraKM\">Ex.Km</th>\n                <th *ngIf=\"businessSettings.ShowExtraHourRate\">Ex.Hr Rate</th>\n                <th *ngIf=\"businessSettings.ShowExtraKMRate\">Ex.Km Rate</th>\n                <th *ngIf=\"businessSettings.ShowExtraHourCost\">Ex.Hr Cost</th>\n                <th *ngIf=\"businessSettings.ShowExtraKMCost\">Ex.Km Cost</th>\n                <th *ngIf=\"\">Ex.Ch.</th>\n                <th *ngIf=\"\">Parking</th>\n                <th *ngIf=\"\">Out.Day</th>\n                <th *ngIf=\"\">Sun</th>\n                <th *ngIf=\"\">Late</th>\n                <th *ngIf=\"\">Car Hire Ch.</th>\n                <th *ngIf=\"businessSettings.ShowDutySubtotal\">Sub.Total</th>\n                <th *ngIf=\"businessSettings.ShowDutySubtotalIncludingAllowances\">Sub.Total (incl. Allowances)</th>\n              </tr>\n              <tr *ngFor=\"let element of dutySummary; let i=index;\">\n                <td>{{i+1}}.</td>\n                <td *ngIf=\"businessSettings.ShowDutyId\">{{element.dutyId}}</td>                \n                <td *ngIf=\"businessSettings.ShowBookedByName\">{{element.bookBy}}</td>\n                <td *ngIf=\"businessSettings.ShowPassengerNames\">{{element.passenger}}</td>\n                <td *ngIf=\"businessSettings.ShowVehicleGroupName\">{{element.vehicleGroup}}</td>\n                <td *ngIf=\"businessSettings.ShowVehicleNumber\">Veh.Num.</td>\n                <td *ngIf=\"businessSettings.ShowDutyType\">{{element.dutyType}}</td>\n                <td *ngIf=\"businessSettings.ShowPrice\">{{element.price}}</td>\n                <td *ngIf=\"businessSettings.ShowQuantityNumberOfDays\">1</td>\n                <td *ngIf=\"businessSettings.ShowTotalPrice\">{{element.price}}</td>\n                <td *ngIf=\"ssSettings.ShowStartDate\">{{element.startDate}}</td>\n                <td *ngIf=\"businessSettings.ShowEndDate\">{{element.endDate}}</td>\n                <td *ngIf=\"businessSettings.ShowStartTime\">{{element.startTime}}</td>\n                <td *ngIf=\"businessSettings.ShowEndTime\">{{element.endTime}}</td>\n                <td *ngIf=\"\">{{element.endTime - element.startTime}}</td>\n                <td *ngIf=\"\">Ex.Time</td>\n                <td *ngIf=\"businessSettings.ShowStartKM\">{{element.startKm}}</td>\n                <td *ngIf=\"businessSettings.ShowEndKM\">{{element.endKm}}</td>\n                <td *ngIf=\"businessSettings.ShowTotalKM\">{{element.endKm - element.startKm}}</td>\n                <td *ngIf=\"businessSettings.ShowExtraKM\">Ex.Km</td>\n                <td *ngIf=\"businessSettings.ShowExtraHourRate\">{{element.extraHrRate}}</td>\n                <td *ngIf=\"businessSettings.ShowExtraKMRate\">{{element.extraKmRate}}</td>\n                <td *ngIf=\"businessSettings.ShowExtraHourCost\">Ex.Hr Cost</td>\n                <td *ngIf=\"businessSettings.ShowExtraKMCost\">Ex.Km Cost</td>\n                <td *ngIf=\"\">Ex.Ch.</td>\n                <td *ngIf=\"\">Parking</td>\n                <td *ngIf=\"\">Out.Day</td>\n                <td *ngIf=\"\">Sun</td>\n                <td *ngIf=\"\">Late</td>\n                <td *ngIf=\"\">Car Hire Ch.</td>\n                <td *ngIf=\"businessSettings.ShowDutySubtotal\">{{element.finalPrice}}</td>\n                <td *ngIf=\"businessSettings.ShowDutySubtotalIncludingAllowances\">Sub.Total (incl. Allowances)</td>\n              </tr>\n            </table>\n          </nb-card-body>\n        </nb-card>\n      </div>      \n    </div>\n    <div class=\"row\">\n      <div class=\"col-lg-12\">\n        <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n      </div>\n    </div>\n  </mat-tab>\n  <mat-tab label=\"Duties\">\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-lg-12\" *ngFor=\"let element of dutySummary; let i=index;\">\n          <nb-card>\n            <nb-card-header>\n              Duty #{{element.dutyId}}\n            </nb-card-header>\n            <nb-card-body>\n              <div class=\"row\">\n                <div class=\"col-lg-12\">\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      Date\n                    </div>\n                    <div class=\"col-lg-6\">\n                      {{element.startDate}}\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      vehicle Group\n                    </div>\n                    <div class=\"col-lg-6\">\n                      {{element.vehicleGroup}}\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      Vehicle\n                    </div>\n                    <div class=\"col-lg-6\">\n                      {{element.vehicle}}\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      Driver\n                    </div>\n                    <div class=\"col-lg-6\">\n                      {{element.driver}}\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      Passengers\n                    </div>\n                    <div class=\"col-lg-6\">\n                      {{element.passenger}}\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      Reporting Address\n                    </div>\n                    <div class=\"col-lg-6\">\n                      {{element.reportingAddress}}\n                    </div>\n                  </div>    \n                </div>\n              </div>\n              <hr>\n              <div class=\"row\">\n                <div class=\"col-lg-12\">\n                  <table border=\"1\" style=\"width: 100%;\">\n                    <tr>\n                      <th></th>\n                      <th>Start</th>\n                      <th>End</th>\n                      <th>Total</th>\n                      <th>Extra</th>\n                    </tr>                  \n                    <tr>\n                      <td>KM</td>\n                      <td>{{element.startKm}}</td>\n                      <td>{{element.endKm}}</td>\n                      <td>\n                        {{element.endKm - element.startKm}}\n                      </td>\n                      <td></td>\n                    </tr>\n                    <tr>\n                      <td>Time</td>\n                      <td>{{element.startTime}}</td>\n                      <td>{{element.endTime}}</td>\n                      <td>{{element.endTime - element.startTime}}</td>\n                      <td></td>\n                    </tr>\n                  </table>\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"col-lg-6\">\n                  Additional Charges:\n                  <table border=\"1\">\n                    <tr>\n                      <th>Charges</th>\n                      <th>Amount</th>\n                    </tr>\n                    <tr>\n                      <td></td>\n                      <td></td>\n                    </tr>\n                  </table>\n                </div>\n                <div class=\"col-lg-6\">\n                  Driver Allowances:\n                  <table border=\"1\">\n                    <tr>\n                      <th>Charges</th>\n                      <th>Amount</th>\n                    </tr>\n                    <tr>\n                      <td></td>\n                      <td></td>\n                    </tr>\n                  </table>\n                </div>\n              </div>\n            </nb-card-body>\n          </nb-card>\n        </div>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-lg-12\">\n        <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n      </div>\n    </div>\n  </mat-tab>\n</mat-tab-group> -->"

/***/ }),

/***/ "./src/app/pages/masters/viewhotelinvoice/viewhotelinvoice.component.scss":
/***/ (function(module, exports) {

module.exports = "th {\n  text-align: center; }\n\n.box2 {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  border-bottom: 0.1px solid;\n  border-bottom-color: darkgrey; }\n\n.vl {\n  border-right: 0.1px solid;\n  border-right-color: darkgrey; }\n\n.tdleft {\n  text-align: left; }\n\n.tdright {\n  text-align: right;\n  -ms-flex-line-pack: right;\n      align-content: right;\n  place-content: right; }\n\n.trcenter {\n  text-align: center; }\n\n.invoiceTable {\n  border-bottom: 1px solid;\n  border-bottom-color: lightblue; }\n\n@media print {\n  header nav, footer {\n    display: none; } }\n\n::ng-deep .mat-tab-body-content {\n  overflow: hidden !important; }\n"

/***/ }),

/***/ "./src/app/pages/masters/viewhotelinvoice/viewhotelinvoice.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ViewhotelinvoiceComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_number_to_words__ = __webpack_require__("./node_modules/number-to-words/numberToWords.min.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_number_to_words___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_number_to_words__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__circles_companyprofile_companyprofile_service__ = __webpack_require__("./src/app/pages/circles/companyprofile/companyprofile.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__operations_new_bank_account_bank_account_service__ = __webpack_require__("./src/app/pages/operations/new-bank-account/bank-account.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_file_saver__ = __webpack_require__("./node_modules/file-saver/dist/FileSaver.min.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_file_saver___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_file_saver__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_moment__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var ViewhotelinvoiceComponent = (function () {
    function ViewhotelinvoiceComponent(auth, customerService, invoiceService, dialog, companyProfileService, bankAccountService, uploadService, _sanitizer, router) {
        this.auth = auth;
        this.customerService = customerService;
        this.invoiceService = invoiceService;
        this.dialog = dialog;
        this.companyProfileService = companyProfileService;
        this.bankAccountService = bankAccountService;
        this.uploadService = uploadService;
        this._sanitizer = _sanitizer;
        this.router = router;
        this.totalInWords = '';
        this.companyLogo = '';
        this.customerDetails = {};
        this.selectedBookings = [];
        this.user = {};
        this.permission = {};
        this.dutySummary = [];
        this.businessSettings = {};
        this.companyProfile = {};
        this.bankAccount = {};
        this.invoiceDetails = {
            id: '',
            invoiceNumber: '',
            invoiceDate: '',
            invoicePeriodFrom: '',
            invoicePeriodTo: '',
            PONumber: '',
            CCNumber: '',
            totalAmount: null,
            taxType: '',
            taxAmount: null,
            discountType: '',
            discountRate: null,
            discountAmount: null,
            customerId: '',
            isDownloaded: false,
            isPrinted: false,
            isMailed: false,
        };
    }
    ViewhotelinvoiceComponent.prototype.ngOnInit = function () {
        var _this = this;
        var iData = localStorage.getItem('hotelInvoice');
        this.invoiceDetails = JSON.parse(iData);
        this.invoiceDetails.invoiceDate = __WEBPACK_IMPORTED_MODULE_12_moment__(this.invoiceDetails.invoiceDate).format("YYYY-MM-DD");
        if (this.invoiceDetails == undefined) {
            this.router.navigate(['/pages/masters/invoicedisplay']);
        }
        this.totalInWords = __WEBPACK_IMPORTED_MODULE_5_number_to_words__["toWords"](this.invoiceDetails.totalAmount);
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.auth.permissions.subscribe(function (data) {
                _this.permission = data[0];
            });
            _this.companyProfileService.getCompanyProfile(_this.user).subscribe(function (data) {
                _this.companyProfile = data[0];
                _this.uploadService.getPresignedUrl(_this.user.companyName, _this.companyProfile.companyLogo, 'profileImages').subscribe(function (data) {
                    _this.companyLogo = data._body;
                    console.log(_this.companyLogo);
                });
                // this.uploadService.getFile(this.user.companyName,'profileImages',this.companyProfile.companyLogo).subscribe(data=>{
                //   this.companyLogo = this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' 
                //   + data.text());
                // })
            });
            _this.invoiceService.getHotelsInInvoice(_this.invoiceDetails).subscribe(function (data) {
                _this.customerDetails = data[0];
                console.log(data);
                var temp = {
                    id: data[0].hotelBookingId
                };
                _this.invoiceService.getHotelsInInvoice(_this.invoiceDetails).subscribe(function (data) {
                    _this.selectedBookings = data;
                    console.log(data);
                });
                _this.customerService.getSingleCustomer(_this.invoiceDetails).subscribe(function (data) {
                    _this.customerDetails = data[0];
                });
                _this.bankAccountService.getBankAccount(_this.user).subscribe(function (data) {
                    console.log(data);
                    _this.bankAccount = data[0];
                });
            });
        });
        this.auth.businessSettings.subscribe(function (data) {
            _this.businessSettings = data;
        });
    };
    ViewhotelinvoiceComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    ViewhotelinvoiceComponent.prototype.print = function () {
        this.invoiceDetails.isPrinted = true;
        var data = document.getElementById('demo').innerHTML;
        var newWindow = window.open('', '_blank', 'top=0,left=0,height=100%,width=auto');
        newWindow.document.open();
        newWindow.document.write("\n    <html>\n      <head>        \n        <style media=\"print\">          \n          body {\n            font-family: \"Roboto\" !important;\n            font-size: 11px !important;\n          }\n          table {      \n            border-collapse: collapse;\n            font-size: 11px !important;\n          }\n          th {\n            text-align: center\n          }        \n          .box2 {\n            display: flex;\n            flex-direction: row;\n            border-bottom: 0.1px solid;\n            border-bottom-color: darkgrey;\n          }        \n          .vl {\n            border-right: 0.1px solid;\n            border-right-color: darkgrey;\n          }\n          .tdleft {\n            text-align: left;\n          }\n          .tdright {\n            text-align: right;\n            align-content: right;\n            place-content: right;\n            border-top:1px solid darkgrey !important;\n          }\n          .trcenter {\n            text-align: center;\n          }        \n          .invoiceTable td {\n            border-top:1px solid darkgrey !important;            \n          }\n          .iTbl td {\n            padding-top:5px !important;\n            border-top:1px solid darkgrey !important;            \n          }\n          @page \n            {\n                size:  8.27in 11.69in !important;   /* auto is the initial value */\n                margin: 5mm 0mm 5mm 0mm !important;  /* this affects the margin in the printer settings */\n            }\n          @media print {\n            @page \n            {\n                size:  8.27in 11.69in !important;   /* auto is the initial value */\n                margin: 5mm 0mm 5mm 0mm !important;  /* this affects the margin in the printer settings */\n            }\n            html\n            {\n                margin: 0px !important;  /* this affects the margin on the html before sending to printer */\n            }\n\n            body\n            {\n                margin: 0mm 5mm 0mm 5mm !important; /* margin you want for the content */\n            }\n            .footer {\n              padding-top: 25px;\n              page-break-before: auto;\n              page-break-inside: avoid;\n              width: 100%;\n              color: white;\n              text-align: center;\n           }\n          }\n        </style>\n      </head>\n      <body onload=\"window.print();window.close()\">" + data + "\n      \n      <div class=\"footer\">\n      <table style=\"width:100%\">\n      <tr>\n          <td colspan=\"3\">\n            <p style=\"font-size:12px; margin-bottom:0px\">Subject to MUMBAI Jurisdiction<br>\n            No objection pertaining to this invoice would be entertained after 7 days from the date hereof</p>\n            <p style=\"font-size:12px; margin-bottom:0px\"><b style=\"font-size:12px; margin-bottom:0px\">GSTIN:</b> " + this.companyProfile.gstin + " | <b style=\"font-size:12px; margin-bottom:0px\">SAC/HSN/Accounting code:</b> " + this.companyProfile.hsnCode + " | <b style=\"font-size:12px; margin-bottom:0px\">PAN:</b> " + this.companyProfile.panNo + " |</p><br>\n            \n              <b style=\"font-size:12px; margin-bottom:0px\"><u>Bank Details</u></b><br>\n              <p style=\"font-size:12px; margin-bottom:0px\"><b>Account No:</b> " + this.bankAccount.number + " <b>Bank Name:</b> " + this.bankAccount.bankName + " </p>\n              <p style=\"font-size:12px; margin-bottom:0px\"><b>Branch: </b>" + this.bankAccount.branch + " <b>IFSC Code:</b> " + this.bankAccount.ifscCode + "</p>\n              <p style=\"font-size:12px; margin-bottom:0px\"><b>Cheque in favour of:</b> " + this.bankAccount.chequeInTheNameOf + "</p>\n            \n          </td>\n          <td colspan=\"2\" style=\"text-align: right\">\n            <p style=\"margin-top: -10px;font-size:12px; margin-bottom:0px\">\n              <b>For " + this.user.companyName + "</b>\n              <br><br><br><br><br>\n              Authorized signatory\n            </p>\n          </td>\n        </tr>\n      </table>\n      </div>\n      </body>\n\n    </html>");
        newWindow.document.close();
    };
    ViewhotelinvoiceComponent.prototype.downloadInvoice = function () {
        var _this = this;
        var data = document.getElementById('demo').innerHTML;
        var pdfData = data;
        this.invoiceDetails.isDownloaded = true;
        this.uploadService.downloadPDF(pdfData, this.invoiceDetails.id + "_Invoice_" + __WEBPACK_IMPORTED_MODULE_12_moment__().format("DD-MM-YYYY"), "hotelInvoice", this.user, this.companyProfile, this.bankAccount).subscribe(function (data) { return Object(__WEBPACK_IMPORTED_MODULE_11_file_saver__["saveAs"])(data, _this.invoiceDetails.id + "_Invoice_" + __WEBPACK_IMPORTED_MODULE_12_moment__().format("DD-MM-YYYY")); }, function (err) { return console.log(err); }, function () {
            _this.invoiceService.updateInvoice(_this.invoiceDetails).subscribe();
        });
    };
    ViewhotelinvoiceComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'viewhotelinvoice',
            template: __webpack_require__("./src/app/pages/masters/viewhotelinvoice/viewhotelinvoice.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/viewhotelinvoice/viewhotelinvoice.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__customer_customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_4__createinvoice_invoice_service__["a" /* InvoiceService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_6__circles_companyprofile_companyprofile_service__["a" /* CompanyprofileService */],
            __WEBPACK_IMPORTED_MODULE_7__operations_new_bank_account_bank_account_service__["a" /* BankAccountService */],
            __WEBPACK_IMPORTED_MODULE_8__fileupload_service__["a" /* FileuploadService */],
            __WEBPACK_IMPORTED_MODULE_9__angular_platform_browser__["DomSanitizer"],
            __WEBPACK_IMPORTED_MODULE_10__angular_router__["c" /* Router */]])
    ], ViewhotelinvoiceComponent);
    return ViewhotelinvoiceComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/viewinvoice/viewinvoice.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\" >\n    <nb-card>\n      <nb-card-body class=\"hide-overflow\">\n        <mat-tab-group>\n          <mat-tab label=\"Invoice\">\n            <div class=\"row\">\n              <div class=\"col-lg-12\" id=\"print-section\">\n                <!-- <nb-card>\n                <nb-card-header>Invoice</nb-card-header>\n                <nb-card-body class=\"box\"> -->\n                <div #demo id=\"demo\" style=\"padding: 0 5px 0 5px\">\n                  <div class=\"col-lg-12\" style=\"padding:10px;\"> \n                    <table *ngIf=\"!businessSettings.HideBusinessLetterHead\" style=\"width: 100%;\" border-spacing=\"0\">\n                      <tr>\n                        <td rowspan=\"3\" style=\"border-bottom: 1px solid darkgrey; width: 10%; padding-left: 5%; padding-bottom: 10px;\">\n                          <img alt=\"\" [src]=\"companyLogo\" height=\"70px\" width=\"auto\" />\n                        </td>                     \n                        <td style=\"text-align:left; padding-left: 10%;\">\n                          <b style=\"font-size: 18px; font-weight: 600 ;\">{{user.companyName}}</b>\n                        </td>\n                      </tr>\n                      <tr>\n                        <td style=\"text-align: left; padding-left: 10%;\">\n                          <b>{{companyProfile.address}}</b>\n                        </td>\n                      </tr>\n                      <tr>\n                        <td style=\"border-bottom: 1px solid darkgrey; text-align: left; padding-bottom: 10px; padding-left: 10%;\">\n                          <b><b>Email:</b> {{companyProfile.email}} <b>Mobile:</b> {{companyProfile.phone}}</b>\n                        </td>\n                      </tr>\n                    </table>\n                    <table style=\"width:100%\">\n                      <tr>\n                        <td style=\"border-bottom: 1px solid darkgrey; text-align: center;\"><b style=\"font-size: medium;\">Tax Invoice</b></td>\n                      </tr>\n                    </table>\n                  </div>\n                  <div class=\"box2\" style=\"display: flex; flex-direction: row; border-bottom: 0.1px solid; border-bottom-color: darkgrey;\">\n                    <div class=\"col-lg-6 vl\" style=\"border-right: 0.1px solid; border-right-color: darkgrey; width: 50%;\">\n                      <table cellpadding=2px>\n                        <tr>\n                          <td>\n                            <b>\n                              Customer Name:\n                            </b>\n                          </td>\n                          <td>\n                            {{customerDetails.name}}\n                          </td>\n                        </tr>\n                        <tr>\n                          <td>\n                            <b>\n                              Customer No:\n                            </b>\n                          </td>\n                          <td>\n                            {{customerDetails.phone}}\n                          </td>\n                        </tr>\n                        <tr>\n                          <td>\n                            <b>\n                              Address:\n                            </b>\n                          </td>\n                          <td>\n                            {{customerDetails.caddress}}\n                          </td>\n                        </tr>\n                        <tr>\n                          <td>\n                            <b>\n                              State:\n                            </b>\n                          </td>\n                          <td>\n                            {{customerDetails.state}}\n                          </td>\n                        </tr>\n                        <tr>\n                          <td>\n                            <b>\n                              PAN:\n                            </b>\n                          </td>\n                          <td>\n                            {{customerDetails.panNo}}\n                          </td>\n                        </tr>\n                        <tr>\n                          <td>\n                            <b>GSTIN:</b>\n                          </td>\n                          <td>\n                            {{customerDetails.gstin}}\n                          </td>\n                        </tr>\n                        <tr>\n                          <td>\n                            <b>Billing Address:</b>\n                          </td>\n                          <td>\n                            {{customerDetails.billingAddress}}\n                          </td>\n                        </tr>\n                      </table>\n                    </div>\n                    <div class=\"col-lg-6\">\n                      <table cellpadding=2px>\n                        <tr>\n                          <td><b>&nbsp;Invoice Number:</b></td>\n                          <td>\n                            {{invoiceDetails.invoiceNumber}}\n                          </td>\n                        </tr>\n                        <tr><td><b>&nbsp;Invoice Date:</b></td>\n                          <td>\n                            {{invoiceDetails.invoiceDate | date: 'dd/MM/yyyy'}}\n                          </td>\n                        </tr>\n                        <tr>\n                          <td>\n                            <b>&nbsp;Invoice Period From:</b>\n                          </td>\n                          <td>\n                            {{invoiceDetails.invoicePeriodFrom | date: 'dd/MM/yyyy'}}\n                          </td>\n                        </tr>\n                        <tr>  \n                          <td>\n                            <b>&nbsp;Invoice Period To:</b>\n                          </td>\n                          <td>\n                            {{invoiceDetails.invoicePeriodTo | date: 'dd/MM/yyyy'}}\n                          </td>\n                        </tr>\n                        <tr>\n                          <td>\n                            <b>\n                              &nbsp;CC Number:\n                            </b>\n                          </td>\n                          <td>\n                            {{invoiceDetails.CCNumber}}\n                          </td>\n                        </tr>\n                        <tr>\n                          <td>\n                            <b>\n                              &nbsp;PO Number\n                            </b>\n                          </td>\n                          <td>\n                            {{invoiceDetails.PONumber}}\n                          </td>\n                        </tr>\n                        <tr>\n                          <td>\n                          </td>\n                          <td>\n                          </td>\n                        </tr>\n                      </table>\n                    </div>\n                  </div>\n                  <div class=\"col-lg-12\">                  \n                    <table style=\"width:100%\" cellpadding=\"4\">\n                      <tr class=\"invoiceTable\" style=\"border-bottom:1px solid;\">\n                        <th>Sr.</th>\n                        <th>Description</th>\n                        <th>Rate</th>\n                        <th>Quantity</th>\n                        <th>Amount</th>              \n                      </tr>\n                      <tbody style=\"page-break-inside: avoid\" *ngFor=\"let temp of selectedBookings; let i=index\">\n                        <tr style=\"border-bottom:1px solid;\" class=\"invoiceTable\">\n                          <td>{{i+1}}</td>\n                          <td class=\"tdleft\" style=\"text-align: left;\">\n                            ReportingAddress:\n                            <b>\n                              {{temp.reportingAddress}}\n                            </b><br>\n                            DutyType:\n                            <b>\n                              {{temp.dutyType}}\n                            </b><br>\n                            Vehicle Group:\n                            <b>\n                              {{temp.vehicleGroup}}\n                            </b><br>\n                            Passenger Name:\n                            <b>\n                              {{temp.passenger}}\n                            </b>\n                          </td>\n                          <td style=\"text-align: center;\">{{temp.totalPrice}}</td>\n                          <td style=\"text-align: center;\">1</td>\n                          <td style=\"text-align: center;\">{{temp.totalPrice}}</td>              \n                        </tr>\n                        <tr style=\"text-align:center;\" class=\"invoiceTable\" *ngFor=\"let element of temp.extras\">\n                          <td colspan=\"3\" style=\"text-align: center;\" *ngIf=\"temp.extras\">{{element.name}}</td>\n                          <td *ngIf=\"temp.extras\">1</td>\n                          <td *ngIf=\"temp.extras\">{{element.charges}}</td>\n                          <td></td>\n                        </tr>\n                      </tbody>\n                      <tbody style=\"page-break-inside: avoid\">\n                        <tr class=\"invoiceTable\" *ngIf=\"invoiceDetails.taxableAmount != null\">\n                          <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n                            \n                          </td>\n                          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                            Taxable Amount\n                          </td>\n                          <td>&nbsp;</td>\n                          <td class=\"tdright\" style=\"text-align: center;\">\n                            <b>{{invoiceDetails.taxableAmount}}</b>\n                          </td>\n                        </tr>\n                        <tr *ngIf=\"invoiceDetails.taxType == 'CGST+SGST'\" style=\"border-bottom:1px solid; border-top:1px solid;\" class=\"invoiceTable\">\n                          <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n                            Tax Type:                        \n                          </td>\n                          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                            <b>\n                              &nbsp;CGST\n                            </b>\n                            <br>\n                            <b>\n                              SGST\n                            </b>\n                          </td>\n                          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                            <b>\n                              &nbsp;{{invoiceDetails.taxRate/2}}%\n                            </b>\n                            <br>\n                            <b>\n                              {{invoiceDetails.taxRate/2}}%\n                            </b>\n                          </td>\n                          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                            <b>\n                              &nbsp;{{invoiceDetails.taxAmount/2}}\n                            </b>\n                            <br>\n                            <b>\n                              {{invoiceDetails.taxAmount/2}}\n                            </b>\n                          </td>\n                        </tr>\n                        <tr *ngIf=\"invoiceDetails.taxType != 'CGST+SGST'\" style=\"border-bottom:1px solid; border-top:1px solid;\" class=\"invoiceTable\">\n                          <td colspan=\"3\" class=\"tdright\" style=\"text-align: right;\">\n                            Tax Type:\n                            <b>\n                              {{invoiceDetails.taxType}}\n                            </b>\n                          </td>\n                          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                            <b>\n                              {{invoiceDetails.taxRate}}%\n                            </b>\n                          </td>\n                          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                            <b>\n                              {{invoiceDetails.taxAmount}}\n                            </b>\n                          </td>\n                        </tr>\n                        <tr style=\"border-bottom:1px solid;\" class=\"invoiceTable\">\n                          <td colspan=\"3\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n                            Discount Type:\n                            <b>\n                              {{invoiceDetails.discountType}}\n                            </b>\n                          </td>\n                          <td></td>\n                          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                            <b>\n                              {{invoiceDetails.discountAmount}}\n                            </b>\n                          </td>\n                        </tr>\n                        <tr class=\"invoiceTable\" *ngIf=\"invoiceDetails.nonTaxableAmount > 0\">\n                          <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n                            \n                          </td>\n                          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                            Non Taxable Amount\n                          </td>\n                          <td>&nbsp;</td>\n                          <td class=\"tdright\" style=\"text-align: center;\">\n                            <b>{{invoiceDetails.nonTaxableAmount}}</b>\n                          </td>\n                        </tr>\n                        <tr class=\"invoiceTable\">\n                          <td colspan=\"2\" style=\"text-align: left; border-bottom:2px solid black;\">\n                            In Words: <b style=\"text-transform:capitalize;\">{{totalInWords}}</b>\n                          </td>\n                          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n                            Gross Total:\n                          </td>\n                          <td style=\"border-bottom:2px solid black;\">&nbsp;</td>\n                          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n                            <b>{{invoiceDetails.totalAmount}}</b>\n                          </td>\n                        </tr>\n                        <tr class=\"invoiceTable\">\n                          <td colspan=\"3\" style=\"text-align: left; border-bottom:2px solid black;\">\n                            Advance Paid:\n                          </td>                      \n                          <td style=\"border-bottom:2px solid black;\">&nbsp;</td>\n                          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n                            <b>{{invoiceDetails.advanceReceived}}</b>\n                          </td>\n                        </tr>\n                        <tr class=\"invoiceTable\">\n                          <td colspan=\"2\" style=\"text-align: left; border-bottom:2px solid black;\">\n                            In Words: <b style=\"text-transform:capitalize;\">{{totalInWords}}</b>\n                          </td>\n                          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n                            Net Total:\n                          </td>\n                          <td style=\"border-bottom:2px solid black;\">&nbsp;</td>\n                          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n                            <b>{{invoiceDetails.totalAmount - invoiceDetails.advanceReceived}}</b>\n                          </td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              <!-- </nb-card-body>\n            </nb-card> -->\n          </div>\n        </div>\n        <div style=\"margin-top: 15px;text-align: center;\">\n          <!-- <button mat-raised-button color=\"primary\" (click)=\"print()\">Print</button> -->\n          <button mat-raised-button color=\"primary\" (click)=\"printDocs()\">Print</button>\n          <!-- <button *ngIf=\"permission.downloadCabInvoices\" (click)=\"downloadInvoice()\" mat-raised-button color=\"primary\">Download</button> -->\n          <button *ngIf=\"permission.downloadCabInvoices\" (click)=\"downloadDocs()\" mat-raised-button color=\"primary\">Download</button>\n        </div>\n      </mat-tab>\n      <mat-tab label=\"Duty Summary\" *ngIf=\"businessSettings.ShowDutySummaryAtTheTopOfTheInvoiceAlways\">\n        <div class=\"row\">\n          <div class=\"col-lg-12\">\n            <nb-card>\n              <nb-card-header>\n                Duty Summary\n              </nb-card-header>\n              <nb-card-body>\n                <div #demo2 id=\"demo2\">\n                <table border=\"1\" class=\"dutyTable\">                                                                                                                                                                                                                                                                                                                                                                                                                                                            \n                  <tr>\n                    <th>Sr.</th>\n                    <th *ngIf=\"businessSettings.ShowDutyId\">Duty Id</th>            \n                    <th *ngIf=\"businessSettings.ShowBookedByName\">Booked By</th>\n                    <th *ngIf=\"businessSettings.ShowPassengerNames\">Passenger</th>\n                    <th *ngIf=\"businessSettings.ShowVehicleGroupName\">Veh.Group</th>\n                    <th *ngIf=\"businessSettings.ShowVehicleNumber\">Veh.Num.</th>\n                    <th *ngIf=\"businessSettings.ShowDutyType\">Duty Type</th>\n                    <th *ngIf=\"businessSettings.ShowPrice\">Price</th>\n                    <th *ngIf=\"businessSettings.ShowQuantityNumberOfDays\">Qty</th>\n                    <th *ngIf=\"businessSettings.ShowTotalPrice\">Total Price</th>\n                    <th *ngIf=\"businessSettings.ShowStartDate\">S.Date</th>\n                    <th *ngIf=\"businessSettings.ShowEndDate\">E.Date</th>\n                    <th *ngIf=\"businessSettings.ShowStartTime\">S.Time</th>\n                    <th *ngIf=\"businessSettings.ShowEndTime\">E.Time</th>\n                    <th>T.Time</th>\n                    <th>Ex.Time</th>\n                    <th *ngIf=\"businessSettings.ShowStartKM\">S.Km</th>\n                    <th *ngIf=\"businessSettings.ShowEndKM\">E.Km</th>\n                    <th *ngIf=\"businessSettings.ShowTotalKM\">T.Km</th>\n                    <th *ngIf=\"businessSettings.ShowExtraKM\">Ex.Km</th>\n                    <th *ngIf=\"businessSettings.ShowExtraHourRate\">Ex.Hr Rate</th>\n                    <th *ngIf=\"businessSettings.ShowExtraKMRate\">Ex.Km Rate</th>\n                    <th *ngIf=\"businessSettings.ShowExtraHourCost\">Ex.Hr Cost</th>\n                    <th *ngIf=\"businessSettings.ShowExtraKMCost\">Ex.Km Cost</th>\n                    <th>Ex.Charges</th>\n                    <!-- <th *ngIf=\"\">Ex.Ch.</th>\n                    <th *ngIf=\"\">Parking</th>\n                    <th *ngIf=\"\">Out.Day</th>\n                    <th *ngIf=\"\">Sun</th>\n                    <th *ngIf=\"\">Late</th>\n                    <th *ngIf=\"\">Car Hire Ch.</th> -->\n                    <th *ngIf=\"businessSettings.ShowDutySubtotal\">Sub.Total</th>\n                    <!-- <th *ngIf=\"businessSettings.ShowDutySubtotalIncludingAllowances\">Sub.Total (incl. Allowances)</th> -->\n                  </tr>\n                  <tr *ngFor=\"let element of dutySummary; let i=index;\">\n                    <td>{{i+1}}.</td>\n                    <td *ngIf=\"businessSettings.ShowDutyId\">{{element.dutyId}}</td>                \n                    <td *ngIf=\"businessSettings.ShowBookedByName\">{{element.bookBy}}</td>\n                    <td *ngIf=\"businessSettings.ShowPassengerNames\">{{element.passenger}}</td>\n                    <td *ngIf=\"businessSettings.ShowVehicleGroupName\">{{element.vehicleGroup}}</td>\n                    <td *ngIf=\"businessSettings.ShowVehicleNumber\">{{element.number}}</td>\n                    <td *ngIf=\"businessSettings.ShowDutyType\">{{element.dutyType}}</td>\n                    <td *ngIf=\"businessSettings.ShowPrice\">{{element.price}}</td>\n                    <td *ngIf=\"businessSettings.ShowQuantityNumberOfDays\">1</td>\n                    <td *ngIf=\"businessSettings.ShowTotalPrice\">{{element.price}}</td>\n                    <td *ngIf=\"businessSettings.ShowStartDate\">{{element.startDate | date: 'dd-MM-yyyy'}}</td>\n                    <td *ngIf=\"businessSettings.ShowEndDate\">{{element.endDate | date: 'dd-MM-yyyy'}}</td>\n                    <td *ngIf=\"businessSettings.ShowStartTime\">{{element.startTime | date:'HH:mm a'}}</td>\n                    <td *ngIf=\"businessSettings.ShowEndTime\">{{element.endTime | date:'HH:mm a'}}</td>\n                    <td>{{element.totalTime}}</td>\n                    <td>{{element.extraTime}}</td>\n                    <td *ngIf=\"businessSettings.ShowStartKM\">{{element.startKm}}</td>\n                    <td *ngIf=\"businessSettings.ShowEndKM\">{{element.endKm}}</td>\n                    <td *ngIf=\"businessSettings.ShowTotalKM\">{{element.totalKm}}</td>\n                    <td *ngIf=\"businessSettings.ShowExtraKM\">{{element.extraKm}}</td>\n                    <td *ngIf=\"businessSettings.ShowExtraHourRate\">{{element.extraHrs}}</td>\n                    <td *ngIf=\"businessSettings.ShowExtraKMRate\">{{element.extraKm}}</td>\n                    <td *ngIf=\"businessSettings.ShowExtraHourCost\">{{element.extraHrRate}}</td>\n                    <td *ngIf=\"businessSettings.ShowExtraKMCost\">{{element.extraKmRate}}</td>\n                    <td>{{element.charges}}</td>\n                    <!-- <td *ngIf=\"\">Ex.Ch.</td>\n                    <td *ngIf=\"\">Parking</td> -->\n                    <!-- <td *ngIf=\"\">Out.Day</td>\n                    <td *ngIf=\"\">Sun</td>\n                    <td *ngIf=\"\">Late</td>\n                    <td *ngIf=\"\">Car Hire Ch.</td> -->\n                    <td *ngIf=\"businessSettings.ShowDutySubtotal\">{{element.finalPrice}}</td>\n                    <!-- <td *ngIf=\"businessSettings.ShowDutySubtotalIncludingAllowances\">Sub.Total (incl. Allowances)</td> -->\n                  </tr>\n                </table>\n                </div>\n              </nb-card-body>\n            </nb-card>\n          </div>      \n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-12\" style=\"text-align:center;\">\n            <button mat-raised-button color=\"primary\" (click)=\"printDocs()\">Print</button>\n            <!-- <button mat-raised-button color=\"primary\" (click)=\"printDutySummary()\">Print</button> -->\n            <!-- <button *ngIf=\"permission.downloadCabInvoices\" (click)=\"downloadDutySummary()\" mat-raised-button color=\"primary\">Download</button> -->\n            <button *ngIf=\"permission.downloadCabInvoices\" (click)=\"downloadDocs()\" mat-raised-button color=\"primary\">Download</button>\n          </div>\n        </div>\n      </mat-tab>\n      <mat-tab label=\"Duties\">\n        <div class=\"container\">\n          <div class=\"row\">\n            <div class=\"col-lg-12\" *ngFor=\"let element of dutySummary; let i=index;\">\n              <nb-card>\n                <nb-card-header>\n                  Duty #{{element.dutyId}}\n                </nb-card-header>\n                <nb-card-body>\n                  <div class=\"row\">\n                    <div class=\"col-lg-12\">\n                      <div class=\"row\">\n                        <div class=\"col-lg-6\">\n                          Date\n                        </div>\n                        <div class=\"col-lg-6\">\n                          {{element.startDate}}\n                        </div>\n                      </div>\n                      <div class=\"row\">\n                        <div class=\"col-lg-6\">\n                          vehicle Group\n                        </div>\n                        <div class=\"col-lg-6\">\n                          {{element.vehicleGroup}}\n                        </div>\n                      </div>\n                      <div class=\"row\">\n                        <div class=\"col-lg-6\">\n                          Vehicle\n                        </div>\n                        <div class=\"col-lg-6\">\n                          {{element.vehicle}}\n                        </div>\n                      </div>\n                      <div class=\"row\">\n                        <div class=\"col-lg-6\">\n                          Driver\n                        </div>\n                        <div class=\"col-lg-6\">\n                          {{element.driver}}\n                        </div>\n                      </div>\n                      <div class=\"row\">\n                        <div class=\"col-lg-6\">\n                          Passengers\n                        </div>\n                        <div class=\"col-lg-6\">\n                          {{element.passenger}}\n                        </div>\n                      </div>\n                      <div class=\"row\">\n                        <div class=\"col-lg-6\">\n                          Reporting Address\n                        </div>\n                        <div class=\"col-lg-6\">\n                          {{element.reportingAddress}}\n                        </div>\n                      </div>    \n                    </div>\n                  </div>\n                  <hr>\n                  <div class=\"row\">\n                    <div class=\"col-lg-12\">\n                      <table class=\"table table-bordered\">\n                        <tr>\n                          <th></th>\n                          <th>Start</th>\n                          <th>End</th>\n                          <th>Total</th>\n                          <!-- <th>Extra</th> -->\n                        </tr>                  \n                        <tr>\n                          <td>KM</td>\n                          <td>{{element.startKm}}</td>\n                          <td>{{element.endKm}}</td>\n                          <td>\n                            {{element.endKm - element.startKm}}\n                          </td>\n                          <!-- <td></td> -->\n                        </tr>\n                        <tr>\n                          <td>Time</td>\n                          <td>{{element.startTime | date:'HH:mm a'}}</td>\n                          <td>{{element.endTime | date:'HH:mm a'}}</td>\n                          <td>{{element.totalTime}}</td>\n                          <!-- <td></td> -->\n                        </tr>\n                      </table>\n                    </div>\n                  </div>\n                  <!-- <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      Additional Charges:\n                      <table border=\"1\">\n                        <tr>\n                          <th>Charges</th>\n                          <th>Amount</th>\n                        </tr>\n                        <tr>\n                          <td></td>\n                          <td></td>\n                        </tr>\n                      </table>\n                    </div>\n                    <div class=\"col-lg-6\">\n                      Driver Allowances:\n                      <table border=\"1\">\n                        <tr>\n                          <th>Charges</th>\n                          <th>Amount</th>\n                        </tr>\n                        <tr>\n                          <td></td>\n                          <td></td>\n                        </tr>\n                      </table>\n                    </div>\n                  </div> -->\n                </nb-card-body>\n              </nb-card>\n            </div>\n          </div>\n        </div>\n        <!-- <div class=\"row\">\n          <div class=\"col-lg-12\">\n            <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n          </div>\n        </div> -->\n      </mat-tab>\n    </mat-tab-group>    \n\n    \n  </nb-card-body>\n</nb-card>\n</div></div>"

/***/ }),

/***/ "./src/app/pages/masters/viewinvoice/viewinvoice.component.scss":
/***/ (function(module, exports) {

module.exports = "th {\n  text-align: center; }\n\n.box2 {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  border-bottom: 0.1px solid;\n  border-bottom-color: darkgrey; }\n\n.vl {\n  border-right: 0.1px solid;\n  border-right-color: darkgrey; }\n\n.tdleft {\n  text-align: left; }\n\n.tdright {\n  text-align: right;\n  -ms-flex-line-pack: right;\n      align-content: right;\n  place-content: right; }\n\n.trcenter {\n  text-align: center; }\n\n.invoiceTable {\n  border-bottom: 1px solid;\n  border-bottom-color: lightblue; }\n\n@media print {\n  header nav, footer {\n    display: none; } }\n\n::ng-deep .mat-tab-body-content {\n  overflow: hidden !important; }\n\n.dutyTable {\n  font-size: 11px; }\n"

/***/ }),

/***/ "./src/app/pages/masters/viewinvoice/viewinvoice.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ViewinvoiceComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__circles_companyprofile_companyprofile_service__ = __webpack_require__("./src/app/pages/circles/companyprofile/companyprofile.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__operations_new_bank_account_bank_account_service__ = __webpack_require__("./src/app/pages/operations/new-bank-account/bank-account.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_number_to_words__ = __webpack_require__("./node_modules/number-to-words/numberToWords.min.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_number_to_words___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_number_to_words__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_file_saver__ = __webpack_require__("./node_modules/file-saver/dist/FileSaver.min.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_file_saver___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_file_saver__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__invoiceattachmentmodal_invoiceattachmentmodal_component__ = __webpack_require__("./src/app/pages/masters/invoiceattachmentmodal/invoiceattachmentmodal.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};














var ViewinvoiceComponent = (function () {
    function ViewinvoiceComponent(auth, customerService, invoiceService, dialog, companyProfileService, bankAccountService, uploadService, _sanitizer, router) {
        this.auth = auth;
        this.customerService = customerService;
        this.invoiceService = invoiceService;
        this.dialog = dialog;
        this.companyProfileService = companyProfileService;
        this.bankAccountService = bankAccountService;
        this.uploadService = uploadService;
        this._sanitizer = _sanitizer;
        this.router = router;
        this.totalInWords = '';
        this.netTotalInWords = '';
        this.companyLogo = '';
        this.customerDetails = {};
        this.selectedBookings = [];
        this.dutySummary = [];
        this.extraCharges = [];
        this.permission = {};
        this.businessSettings = {};
        this.companyProfile = {};
        this.bankAccount = {};
        this.printI = false;
        this.printD = false;
        this.bookingIds = [];
        this.extras = [];
        this.invoiceDetails = {
            id: '',
            invoiceNumber: '',
            invoiceDate: '',
            invoicePeriodFrom: '',
            invoicePeriodTo: '',
            PONumber: '',
            CCNumber: '',
            totalAmount: null,
            taxType: '',
            taxAmount: null,
            discountType: '',
            discountRate: null,
            discountAmount: null,
            customerId: '',
            isDownloaded: false,
            isPrinted: false,
            isMailed: false,
        };
    }
    ViewinvoiceComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.permissions.subscribe(function (data) {
            _this.permission = data[0];
        });
        var iData = localStorage.getItem('cabInvoice');
        this.invoiceDetails = JSON.parse(iData);
        this.invoiceDetails.invoiceDate = __WEBPACK_IMPORTED_MODULE_5_moment__(this.invoiceDetails.invoiceDate).format("YYYY-MM-DD");
        if (this.invoiceDetails == undefined) {
            this.router.navigate(['/pages/masters/invoicedisplay']);
        }
        this.totalInWords = __WEBPACK_IMPORTED_MODULE_10_number_to_words__["toWords"](this.invoiceDetails.totalAmount);
        this.netTotalInWords = __WEBPACK_IMPORTED_MODULE_10_number_to_words__["toWords"]((this.invoiceDetails.totalAmount - this.invoiceDetails.advanceReceived));
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.companyProfileService.getCompanyProfile(_this.user).subscribe(function (data) {
                _this.companyProfile = data[0];
                _this.uploadService.getPresignedUrl(_this.user.companyName, _this.companyProfile.companyLogo, 'profileImages').subscribe(function (data) {
                    _this.companyLogo = data._body;
                    console.log(_this.companyLogo);
                });
                // this.uploadService.getFile(this.user.companyName,'profileImages',this.companyProfile.companyLogo).subscribe(data=>{
                //   this.companyLogo = this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' 
                //   + data.text());
                // })
            });
            _this.customerService.getSingleCustomer(_this.invoiceDetails).subscribe(function (data) {
                _this.customerDetails = data[0];
            });
            _this.invoiceService.getBookingsInInvoice(_this.invoiceDetails).subscribe(function (data) {
                console.log(data);
                _this.selectedBookings = data;
                _this.selectedBookings.forEach(function (element) {
                    _this.bookingIds.push(element.id);
                });
                if (_this.selectedBookings.length > 0) {
                    _this.invoiceService.getExtraCharges({ idArray: _this.bookingIds }).subscribe(function (data) {
                        console.log(data);
                        _this.extras = data;
                        for (var v in _this.selectedBookings) {
                            console.log(v);
                            for (var e in _this.extras) {
                                console.log(e);
                                if (_this.extras[e].bookyId == _this.selectedBookings[v].id) {
                                    if (_this.selectedBookings[v].extras == undefined) {
                                        _this.selectedBookings[v].extras = [{ name: _this.extras[e].name, charges: _this.extras[e].charges }];
                                    }
                                    else {
                                        _this.selectedBookings[v].extras.push({ name: _this.extras[e].name, charges: _this.extras[e].charges });
                                    }
                                }
                            }
                        }
                    });
                }
            });
            // this.invoiceService.getInvoiceExtras(this.invoiceDetails).subscribe(data => {
            //   console.log(data)
            // })
            _this.bankAccountService.getBankAccount(_this.user).subscribe(function (data) {
                _this.bankAccount = data[0];
            });
            // this.invoiceService.getHotelsInInvoice(this.invoiceDetails).subscribe(data => {
            // })
            // this.invoiceService.getFlightsInInvoice(this.invoiceDetails).subscribe(data=>{
            // })
            _this.invoiceService.getDutySummary(_this.invoiceDetails).subscribe(function (data) {
                console.log(data);
                _this.dutySummary = data;
                _this.dutySummary.forEach(function (element) {
                    element.charges = 0;
                    var temp = {
                        id: element.bid
                    };
                    _this.invoiceService.getCloseExtras(temp).subscribe(function (data) {
                        _this.extraCharges = data;
                        console.log(data);
                    });
                    _this.extraCharges.forEach(function (data) {
                        console.log(data);
                        if (element.dutyId == data.dutyId) {
                            element.charges += data.charges;
                        }
                    });
                    var startTime = __WEBPACK_IMPORTED_MODULE_5_moment__(element.startDate + " " + element.startTime, "YYYY-MM-DD HH:mm a");
                    var endTime = __WEBPACK_IMPORTED_MODULE_5_moment__(element.endDate + " " + element.endTime, "YYYY-MM-DD HH:mm a");
                    element.endTime = __WEBPACK_IMPORTED_MODULE_5_moment__(element.endTime, "HH:mm a");
                    ;
                    element.startTime = __WEBPACK_IMPORTED_MODULE_5_moment__(element.startTime, "HH:mm a");
                    var totalHrs = endTime.diff(startTime, 'hours');
                    var totalMins = endTime.diff(startTime, 'minutes');
                    var clearMins = totalMins % 60;
                    element.totalTime = totalHrs + "hrs " + clearMins + "mins";
                    element.totalKm = element.endKm - element.startKm;
                    if (element.maxHrs == '' || totalHrs < element.maxHrs) {
                        element.extraTime = 0;
                    }
                    else {
                        element.extraTime = (totalHrs - element.maxHrs) + "hrs " + clearMins + "mins";
                    }
                    if (element.maxKms == '') {
                        element.extraKm = 0;
                    }
                    else {
                        element.extraKm = element.totalKms - element.maxKms;
                    }
                    console.log(element.totalTime);
                });
                console.log(_this.dutySummary);
            });
        });
        this.auth.businessSettings.subscribe(function (data) {
            _this.businessSettings = data;
        });
    };
    ViewinvoiceComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    ViewinvoiceComponent.prototype.printBoth = function () {
        var data = document.getElementById('demo').innerHTML;
        var data2 = document.getElementById('demo2').innerHTML;
        var newWindow = window.open('', '_blank', 'top=0,left=0,height=100%,width=auto');
        console.log(data, data2);
        newWindow.document.open();
        newWindow.document.write("\n    <html>\n      <head>        \n        <style media=\"print\">      \n          body {\n            font-family: \"Roboto\" !important;\n            font-size: 11px !important;\n          }\n          table {      \n            border-collapse: collapse;\n            font-size: 11px !important;\n          }\n          th {\n            text-align: center\n          }        \n          .box2 {\n            display: flex;\n            flex-direction: row;\n            border-bottom: 0.1px solid;\n            border-bottom-color: darkgrey;\n          }        \n          .vl {\n            border-right: 0.1px solid;\n            border-right-color: darkgrey;\n          }\n          .tdleft {\n            text-align: left;\n          }\n          .tdright {\n            text-align: right;\n            align-content: right;\n            place-content: right;\n            border-top:1px solid darkgrey !important;\n          }\n          .trcenter {\n            text-align: center;\n          }        \n          .invoiceTable td {\n            border-top:1px solid darkgrey !important;            \n          }\n          .iTbl td {\n            padding-top:5px !important;\n            border-top:1px solid darkgrey !important;            \n          }\n          @page \n            {\n                size:  8.27in 11.69in !important;   /* auto is the initial value */\n                margin: 5mm 0mm 5mm 0mm !important;  /* this affects the margin in the printer settings */\n            }\n          @media print {\n            @page \n            {\n                size:  8.27in 11.69in !important;   /* auto is the initial value */\n                margin: 5mm 0mm 5mm 0mm !important;  /* this affects the margin in the printer settings */\n            }\n            html\n            {\n                margin: 0px !important;  /* this affects the margin on the html before sending to printer */\n            }\n\n            body\n            {\n                margin: 0mm 5mm 0mm 5mm !important; /* margin you want for the content */\n            }\n            .footer {\n              padding-top: 25px;\n              page-break-before: auto;\n              page-break-inside: avoid;\n              width: 100%;\n              color: white;\n              text-align: center;\n           }\n          }\n        </style>\n      </head>\n      <body onload=\"window.print();window.close()\">\n      <div>\n        " + data + "      \n        <div class=\"footer\">\n          <table style=\"width:100%\">\n            <tr>\n              <td colspan=\"3\">\n                <p style=\"font-size:12px; margin-bottom:0px\">Subject to MUMBAI Jurisdiction<br>\n                  No objection pertaining to this invoice would be entertained after 7 days from the date hereof</p>\n                <p style=\"font-size:12px; margin-bottom:0px\"><b style=\"font-size:12px; margin-bottom:0px\">GSTIN:</b> " + this.companyProfile.gstin + " | <b style=\"font-size:12px; margin-bottom:0px\">SAC/HSN/Accounting code:</b> " + this.companyProfile.hsnCode + " | <b style=\"font-size:12px; margin-bottom:0px\">PAN:</b> " + this.companyProfile.panNo + " |</p><br>\n            \n                <b style=\"font-size:12px; margin-bottom:0px\"><u>Bank Details</u></b><br>\n                <p style=\"font-size:12px; margin-bottom:0px\"><b>Account No:</b> " + this.bankAccount.number + " <b>Bank Name:</b> " + this.bankAccount.bankName + " </p>\n                <p style=\"font-size:12px; margin-bottom:0px\"><b>Branch: </b>" + this.bankAccount.branch + " <b>IFSC Code:</b> " + this.bankAccount.ifscCode + "</p>\n                <p style=\"font-size:12px; margin-bottom:0px\"><b>Cheque in favour of:</b> " + this.bankAccount.chequeInTheNameOf + "</p>\n            \n              </td>\n              <td colspan=\"2\" style=\"text-align: right\">\n                <p style=\"margin-top: -5px;font-size:12px; margin-bottom:0px\">\n                  <b>For " + this.user.companyName + "</b>\n                  <br><br><br><br><br>\n                  Authorized signatory\n                </p>\n              </td>\n             </tr>\n          </table>\n        </div>\n      </div>\n      <div>\n        " + data2 + "\n      </div>\n    </body>\n  </html>");
        newWindow.document.close();
    };
    ViewinvoiceComponent.prototype.printDutySummary = function () {
        this.invoiceDetails.isPrinted = true;
        // let data2 = document.getElementById('demo2').innerHTML;
        console.log(this.demo2);
        var data2 = this.demo2.nativeElement.innerHTML;
        var newWindow = window.open('', '_blank', 'top=0,left=0,height=100%,width=auto');
        newWindow.document.open();
        newWindow.document.write("<html>\n        <head>\n          <style media=\"print\">  \n          @media print{\n            @page {\n              size: landscape;\n              margin: 5mm 0mm 5mm 0mm !important;  /* this affects the margin in the printer settings */\n            }\n            html\n            {\n                margin: 0px !important;  /* this affects the margin on the html before sending to printer */\n            }\n\n            body\n            {\n                margin: 0mm 5mm 0mm 5mm !important; /* margin you want for the content */\n            }\n          }   \n        </style>\n        </head>\n        <body onload=\"window.print();window.close()\">" + data2 + "</body>\n      </html>");
        newWindow.document.close();
        this.invoiceService.updateInvoice(this.invoiceDetails).subscribe();
    };
    ViewinvoiceComponent.prototype.print = function () {
        this.invoiceDetails.isPrinted = true;
        // let data = document.getElementById('demo').innerHTML;  
        var data = this.demo.nativeElement.innerHTML;
        var newWindow = window.open('', '_blank', 'top=0,left=0,height=100%,width=auto');
        newWindow.document.open();
        newWindow.document.write("\n    <html>\n      <head>        \n        <style media=\"print\">      \n          body {\n            font-family: \"Roboto\" !important;\n            font-size: 11px !important;\n          }\n          table {      \n            border-collapse: collapse;\n            font-size: 11px !important;\n          }\n          th {\n            text-align: center\n          }        \n          .box2 {\n            display: flex;\n            flex-direction: row;\n            border-bottom: 0.1px solid;\n            border-bottom-color: darkgrey;\n          }        \n          .vl {\n            border-right: 0.1px solid;\n            border-right-color: darkgrey;\n          }\n          .tdleft {\n            text-align: left;\n          }\n          .tdright {\n            text-align: right;\n            align-content: right;\n            place-content: right;\n            border-top:1px solid darkgrey !important;\n          }\n          .trcenter {\n            text-align: center;\n          }        \n          .invoiceTable td {\n            border-top:1px solid darkgrey !important;            \n          }\n          .iTbl td {\n            padding-top:5px !important;\n            border-top:1px solid darkgrey !important;            \n          }\n          @page \n            {\n                size:  8.27in 11.69in !important;   /* auto is the initial value */\n                margin: 5mm 0mm 5mm 0mm !important;  /* this affects the margin in the printer settings */\n            }\n          @media print {\n            @page \n            {\n                size:  8.27in 11.69in !important;   /* auto is the initial value */\n                margin: 5mm 0mm 5mm 0mm !important;  /* this affects the margin in the printer settings */\n            }\n            html\n            {\n                margin: 0px !important;  /* this affects the margin on the html before sending to printer */\n            }\n\n            body\n            {\n                margin: 0mm 5mm 0mm 5mm !important; /* margin you want for the content */\n            }\n            .footer {\n              padding-top: 25px;\n              page-break-before: auto;\n              page-break-inside: avoid;\n              width: 100%;\n              color: white;\n              text-align: center;\n           }\n          }\n        </style>\n      </head>\n      <body onload=\"window.print();window.close()\">" + data + "\n      \n      <div class=\"footer\">\n      <table style=\"width:100%\">\n      <tr>\n          <td colspan=\"3\">\n            <p style=\"font-size:12px; margin-bottom:0px\">Subject to MUMBAI Jurisdiction<br>\n            No objection pertaining to this invoice would be entertained after 7 days from the date hereof</p>\n            <p style=\"font-size:12px; margin-bottom:0px\"><b style=\"font-size:12px; margin-bottom:0px\">GSTIN:</b> " + this.companyProfile.gstin + " | <b style=\"font-size:12px; margin-bottom:0px\">SAC/HSN/Accounting code:</b> " + this.companyProfile.hsnCode + " | <b style=\"font-size:12px; margin-bottom:0px\">PAN:</b> " + this.companyProfile.panNo + " |</p><br>\n            \n              <b style=\"font-size:12px; margin-bottom:0px\"><u>Bank Details</u></b><br>\n              <p style=\"font-size:12px; margin-bottom:0px\"><b>Account No:</b> " + this.bankAccount.number + " <b>Bank Name:</b> " + this.bankAccount.bankName + " </p>\n              <p style=\"font-size:12px; margin-bottom:0px\"><b>Branch: </b>" + this.bankAccount.branch + " <b>IFSC Code:</b> " + this.bankAccount.ifscCode + "</p>\n              <p style=\"font-size:12px; margin-bottom:0px\"><b>Cheque in favour of:</b> " + this.bankAccount.chequeInTheNameOf + "</p>\n            \n          </td>\n          <td colspan=\"2\" style=\"text-align: right\">\n            <p style=\"margin-top: -5px;font-size:12px; margin-bottom:0px\">\n              <b>For " + this.user.companyName + "</b>\n              <br><br><br><br><br>\n              Authorized signatory\n            </p>\n          </td>\n        </tr>\n      </table>\n      </div>\n      </body>\n\n    </html>");
        newWindow.document.close();
        this.invoiceService.updateInvoice(this.invoiceDetails).subscribe(function (data) { });
    };
    ViewinvoiceComponent.prototype.printDocs = function () {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_13__invoiceattachmentmodal_invoiceattachmentmodal_component__["a" /* InvoiceattachmentmodalComponent */], { autoFocus: false, disableClose: true }).afterClosed().subscribe(function (data) {
            console.log(data);
            if (data == undefined) { }
            if (data.invoice == true) {
                _this.print();
            }
            if (data.dutySummary == true) {
                _this.printDutySummary();
            }
        });
    };
    ViewinvoiceComponent.prototype.downloadDocs = function () {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_13__invoiceattachmentmodal_invoiceattachmentmodal_component__["a" /* InvoiceattachmentmodalComponent */], { autoFocus: false, disableClose: true }).afterClosed().subscribe(function (data) {
            console.log(data);
            if (data == undefined) { }
            if (data.invoice == true) {
                _this.downloadInvoice();
            }
            if (data.dutySummary == true) {
                _this.downloadDutySummary();
            }
        });
    };
    ViewinvoiceComponent.prototype.downloadInvoice = function () {
        var _this = this;
        var data = this.demo.nativeElement.innerHTML;
        // let data = document.getElementById('demo').innerHTML;
        var pdfData = data;
        this.invoiceDetails.isDownloaded = true;
        this.uploadService.downloadPDF(pdfData, this.invoiceDetails.id + "_Invoice_" + __WEBPACK_IMPORTED_MODULE_5_moment__().format("DD-MM-YYYY"), "cabInvoice", this.user, this.companyProfile, this.bankAccount).subscribe(function (data) { return Object(__WEBPACK_IMPORTED_MODULE_12_file_saver__["saveAs"])(data, _this.invoiceDetails.id + "_Invoice_" + __WEBPACK_IMPORTED_MODULE_5_moment__().format("DD-MM-YYYY")); }, function (err) { return console.log(err); }, function () {
            _this.invoiceService.updateInvoice(_this.invoiceDetails).subscribe();
        });
    };
    ViewinvoiceComponent.prototype.downloadDutySummary = function () {
        var _this = this;
        var data2 = this.demo2.nativeElement.innerHTML;
        // let data2 = document.getElementById('demo2').innerHTML;     
        var pdfData2 = data2;
        this.invoiceDetails.isDownloaded = true;
        this.uploadService.downloadPDF(pdfData2, this.invoiceDetails.id + "_DutySummary_" + __WEBPACK_IMPORTED_MODULE_5_moment__().format("DD-MM-YYYY"), "dutySummary", this.user, this.companyProfile, this.bankAccount).subscribe(function (data) { return Object(__WEBPACK_IMPORTED_MODULE_12_file_saver__["saveAs"])(data, _this.invoiceDetails.id + "_DutySummary_" + __WEBPACK_IMPORTED_MODULE_5_moment__().format("DD-MM-YYYY")); }, function (err) { return console.log(err); }, function () {
            _this.invoiceService.updateInvoice(_this.invoiceDetails).subscribe();
        });
    };
    ViewinvoiceComponent.prototype.printDoc = function () {
        if (this.printI && this.printD) {
            var data = document.getElementById('demo').innerHTML;
            var data2 = document.getElementById('demo2').innerHTML;
            var pdfData = data;
            var pdfData2 = data2;
            this.uploadService.downloadPDF(pdfData, this.invoiceDetails.id + "_Invoice_" + __WEBPACK_IMPORTED_MODULE_5_moment__().format("DD-MM-YYYY"), "cabInvoice", this.user, this.companyProfile, this.bankAccount);
            this.uploadService.downloadPDF(pdfData2, this.invoiceDetails.id + "_DutySummary_" + __WEBPACK_IMPORTED_MODULE_5_moment__().format("DD-MM-YYYY"), "dutySummary", this.user, this.companyProfile, this.bankAccount);
        }
        else if (this.printD == true) {
        }
        else if (this.printI == true) {
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('demo2'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], ViewinvoiceComponent.prototype, "demo2", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('demo'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], ViewinvoiceComponent.prototype, "demo", void 0);
    ViewinvoiceComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'viewinvoice',
            template: __webpack_require__("./src/app/pages/masters/viewinvoice/viewinvoice.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/viewinvoice/viewinvoice.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__customer_customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_4__createinvoice_invoice_service__["a" /* InvoiceService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_6__circles_companyprofile_companyprofile_service__["a" /* CompanyprofileService */],
            __WEBPACK_IMPORTED_MODULE_7__operations_new_bank_account_bank_account_service__["a" /* BankAccountService */],
            __WEBPACK_IMPORTED_MODULE_8__fileupload_service__["a" /* FileuploadService */],
            __WEBPACK_IMPORTED_MODULE_9__angular_platform_browser__["DomSanitizer"],
            __WEBPACK_IMPORTED_MODULE_11__angular_router__["c" /* Router */]])
    ], ViewinvoiceComponent);
    return ViewinvoiceComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/viewpurchaseinvoice/viewpurchaseinvoice.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\" >\n    <nb-card>\n      <nb-card-body class=\"hide-overflow\">\n        <mat-tab-group>\n          <mat-tab label=\"Invoice\">\n            <div class=\"row\">\n              <div class=\"col-lg-12\" id=\"print-section\">\n              <!-- <nb-card>\n              <nb-card-header>Invoice</nb-card-header>\n              <nb-card-body class=\"box\"> -->\n                <div id=\"demo\" style=\"padding: 0 5px 0 5px\">\n                  <div class=\"col-lg-12\" style=\"padding:10px;\"> \n                    <table *ngIf=\"!businessSettings.HideBusinessLetterHead\" style=\"width: 100%;\" border-spacing=\"0\">\n                      <tr>\n                        <td rowspan=\"3\" style=\"border-bottom: 1px solid darkgrey; width: 10%; padding-left: 5%; padding-bottom: 10px;\">\n                          <img alt=\"\" [src]=\"companyLogo\" height=\"70px\" width=\"auto\" />\n                        </td>\n                        <td style=\"text-align:left; padding-left: 10%;\">\n                          <b style=\"font-size: 18px; font-weight: 600 ;\">{{user.companyName}}</b>\n                        </td>\n                      </tr>\n                      <tr>\n                        <td style=\"text-align: left; padding-left: 10%;\">\n                          <b>{{companyProfile.address}}</b>\n                        </td>\n                      </tr>\n                      <tr>\n                        <td style=\"border-bottom: 1px solid darkgrey; text-align: left; padding-bottom: 10px; padding-left: 10%;\">\n                          <b><b>Email:</b> {{companyProfile.email}} <b>Mobile:</b> {{companyProfile.phone}}</b>\n                        </td>\n                      </tr>\n                    </table>\n                    <table style=\"width:100%\">\n                      <tr>\n                        <td style=\"border-bottom: 1px solid darkgrey; text-align: center;\"><b style=\"font-size: medium;\">Tax Invoice</b></td>\n                      </tr>\n                    </table>\n                  </div>\n                  <div class=\"box2\" style=\"display: flex; flex-direction: row; border-bottom: 0.1px solid; border-bottom-color: darkgrey;\">\n                    <div class=\"col-lg-6 vl\" style=\"border-right: 0.1px solid; border-right-color: darkgrey;\">\n                      <table cellpadding=8px>\n                        <tr>\n                          <td>\n                            <b>\n                              Customer Name:\n                            </b>\n                          </td>\n                          <td>\n                            {{customerDetails.name}}\n                          </td>\n                        </tr>\n                        <tr>\n                          <td>\n                            <b>\n                              Customer No:\n                            </b>\n                          </td>\n                          <td>\n                            {{customerDetails.phone}}\n                          </td>\n                        </tr>\n                        <tr>\n                          <td>\n                            <b>\n                              State:\n                            </b>\n                          </td>\n                          <td>\n                            {{customerDetails.state}}\n                          </td>\n                        </tr>\n                        <tr>\n                          <td>\n                            <b>\n                              Pan:\n                            </b>\n                          </td>\n                          <td>\n                            {{customerDetails.panNo}}\n                          </td>\n                        </tr>\n                        <tr>\n                          <td>\n                            <b>GSTIN:</b>\n                          </td>\n                          <td>\n                            {{customerDetails.gstin}}\n                          </td>\n                        </tr>\n                        <tr>\n                          <td>\n                            <b>Billing Address:</b>\n                          </td>\n                          <td>\n                            {{customerDetails.billingAddress}}\n                          </td>\n                        </tr>\n                      </table>\n                    </div>\n                    <div class=\"col-lg-6\">\n                      <table cellpadding=2px>\n                        <tr>\n                          <td><b>&nbsp;Invoice Number:</b></td>\n                          <td>\n                            {{invoiceDetails.invoiceNumber}}\n                          </td>\n                        </tr>\n                        <tr><td><b>&nbsp;Invoice Date:</b></td>\n                          <td>\n                            {{invoiceDetails.invoiceDate | date: 'dd/MM/yyyy'}}\n                          </td>\n                        </tr>\n                        <tr>\n                          <td>\n                            <b>&nbsp;Invoice Period From:</b>\n                          </td>\n                          <td>\n                            {{invoiceDetails.invoicePeriodFrom | date: 'dd/MM/yyyy'}}\n                          </td>\n                        </tr>\n                        <tr>  \n                          <td>\n                            <b>&nbsp;Invoice Period From:</b>\n                          </td>\n                          <td>\n                            {{invoiceDetails.invoicePeriodFrom | date: 'dd/MM/yyyy'}}\n                          </td>\n                        </tr>\n                        <tr>\n                          <td>\n                            <b>\n                              &nbsp;CC Number:\n                            </b>\n                          </td>\n                          <td>\n                            {{invoiceDetails.CCNumber}}\n                          </td>\n                        </tr>\n                        <tr>\n                          <td>\n                            <b>\n                              &nbsp;PO Number\n                            </b>\n                          </td>\n                          <td>\n                            {{invoiceDetails.PONumber}}\n                          </td>\n                        </tr>\n                        <tr>\n                          <td>\n                          </td>\n                          <td>\n                          </td>\n                        </tr>\n                      </table>\n                    </div>\n                  </div>\n                  <div class=\"col-lg-12\">                    \n                    <table style=\"width:100%\" cellpadding=\"4\">\n                      <tr class=\"invoiceTable\" style=\"border-bottom:1px solid;\">\n                        <th>Sr.</th>\n                        <th>Description</th>\n                        <th>Rate</th>\n                        <th>Quantity</th>\n                        <th>Amount</th>              \n                      </tr>\n                      <tbody style=\"page-break-inside: avoid\" *ngFor=\"let temp of selectedBookings; let i=index\">\n                        <tr class=\"invoiceTable\">\n                          <td>{{i+1}}</td>\n                          <td class=\"tdleft\" style=\"text-align: left;\">\n                            ReportingAddress:\n                            <b>\n                              {{temp.reportingAddress}}\n                            </b><br>\n                            DutyType:\n                            <b>\n                              {{temp.dutyType}}\n                            </b><br>\n                            Vehicle Group:\n                            <b>\n                              {{temp.vehicleGroup}}\n                            </b><br>\n                            Passenger Name:\n                            <b>\n                              {{temp.passenger}}\n                            </b>\n                          </td>\n                          <td>{{temp.totalPrice}}</td>\n                          <td>1</td>\n                          <td>{{temp.totalPrice}}</td>              \n                        </tr>\n                        <tr style=\"text-align:center;\" class=\"invoiceTable\" *ngFor=\"let element of temp.extras\">\n                          <td colspan=\"3\" style=\"text-align: center;\" *ngIf=\"temp.extras\">{{element.name}}</td>\n                          <td *ngIf=\"temp.extras\">1</td>\n                          <td *ngIf=\"temp.extras\">{{element.charges}}</td>\n                          <td></td>\n                        </tr>\n                      </tbody>\n                      <tbody style=\"page-break-inside: avoid\">\n                        <tr class=\"invoiceTable\" *ngIf=\"invoiceDetails.taxableAmount != null\">\n                          <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n                            \n                          </td>\n                          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                            Taxable Amount\n                          </td>\n                          <td>&nbsp;</td>\n                          <td class=\"tdright\" style=\"text-align: center;\">\n                            <b>{{invoiceDetails.taxableAmount}}</b>\n                          </td>\n                        </tr>\n                        <tr *ngIf=\"invoiceDetails.taxType == 'CGST+SGST'\" style=\"border-bottom:1px solid; border-top:1px solid;\" class=\"invoiceTable\">\n                          <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n                            Tax Type:\n                              \n                          </td>\n                          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                            <b>\n                              &nbsp;CGST\n                            </b>\n                            <br>\n                            <b>\n                              SGST\n                            </b>\n                          </td>\n                          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                            <b>\n                              &nbsp;{{invoiceDetails.taxRate/2}}%\n                            </b>\n                            <br>\n                            <b>\n                              {{invoiceDetails.taxRate/2}}%\n                            </b>\n                          </td>\n                          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                            <b>\n                              &nbsp;{{invoiceDetails.taxAmount/2}}\n                            </b>\n                            <br>\n                            <b>\n                              {{invoiceDetails.taxAmount/2}}\n                            </b>\n                          </td>\n                        </tr>\n                        <tr *ngIf=\"invoiceDetails.taxType != 'CGST+SGST'\" style=\"border-bottom:1px solid; border-top:1px solid;\" class=\"invoiceTable\">\n                          <td colspan=\"3\" class=\"tdright\" style=\"text-align: right;\">\n                            Tax Type:\n                            <b>\n                              {{invoiceDetails.taxType}}\n                            </b>\n                          </td>\n                          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                            <b>\n                              {{invoiceDetails.taxRate}}%\n                            </b>\n                          </td>\n                          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                            <b>\n                              {{invoiceDetails.taxAmount}}\n                            </b>\n                          </td>\n                        </tr>\n                        <tr style=\"border-bottom:1px solid;\" class=\"invoiceTable\">\n                          <td colspan=\"3\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n                            Discount Type:\n                            <b>\n                              {{invoiceDetails.discountType}}\n                            </b>\n                          </td>\n                          <td></td>\n                          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                            <b>\n                              {{invoiceDetails.discountAmount}}\n                            </b>\n                          </td>\n                        </tr>\n                        <tr class=\"invoiceTable\" *ngIf=\"invoiceDetails.nonTaxableAmount > 0\">\n                          <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n                            \n                          </td>\n                          <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                            Non Taxable Amount\n                          </td>\n                          <td>&nbsp;</td>\n                          <td class=\"tdright\" style=\"text-align: center;\">\n                            <b>{{invoiceDetails.nonTaxableAmount}}</b>\n                          </td>\n                        </tr>\n                        <tr class=\"invoiceTable\">\n                          <td colspan=\"2\" style=\"text-align: left; border-bottom:2px solid black;\">\n                            In Words: <b style=\"text-transform:capitalize;\">{{totalInWords}}</b>\n                          </td>\n                          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n                            Total:\n                          </td>\n                          <td style=\"border-bottom:2px solid black;\">&nbsp;</td>\n                          <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n                            <b>{{invoiceDetails.totalAmount}}</b>\n                          </td>\n                        </tr>                  \n                      </tbody>\n                      <!-- <tr class=\"trcenter\" style=\"text-align: center;\"><td colspan=\"4\"></td>\n                      <td></td>\n                      </tr>                     -->\n                    </table>  \n                  </div>\n                </div>\n              </div>              \n            </div>\n            <div style=\"margin-top: 15px;text-align: center;\">\n              <button mat-raised-button color=\"primary\" (click)=\"print()\" >Print</button>                \n            </div>\n          </mat-tab>\n          <mat-tab label=\"Duty Summary\">\n            <div class=\"row\">\n              <div class=\"col-lg-12\">\n                <nb-card>\n                  <nb-card-header>\n                    Duty Summary\n                  </nb-card-header>\n                  <nb-card-body>\n                    <table border=\"1\" class=\"dutyTable\">\n                      <tr>\n                        <th>Sr.</th>\n                        <th *ngIf=\"businessSettings.ShowPurchaseDutyID\">Duty Id</th>            \n                        <th *ngIf=\"businessSettings.ShowPurchaseBookedByName\">Booked By</th>\n                        <th *ngIf=\"businessSettings.ShowPurchasePassengerNames\">Passenger</th>\n                        <th *ngIf=\"businessSettings.ShowPurchaseVehicleGroupName\">Veh.Group</th>\n                        <th *ngIf=\"businessSettings.ShowPurchaseVehicleNumber\">Veh.Num.</th>\n                        <th *ngIf=\"businessSettings.ShowPurchaseDutyType\">Duty Type</th>\n                        <th *ngIf=\"businessSettings.ShowPurchasePrice\">Price</th>\n                        <th>Qty</th>\n                        <th *ngIf=\"businessSettings.ShowPurchasePrice\">Total Price</th>\n                        <th *ngIf=\"businessSettings.ShowPurchaseStartDate\">S.Date</th>\n                        <th *ngIf=\"businessSettings.ShowPurchaseEndDate\">E.Date</th>\n                        <th *ngIf=\"businessSettings.ShowPurchaseStartTime\">S.Time</th>\n                        <th *ngIf=\"businessSettings.ShowPurchaseEndTime\">E.Time</th>\n                        <th>T.Time</th>\n                        <th>Ex.Time</th>\n                        <th *ngIf=\"businessSettings.ShowPurchaseStartKM\">S.Km</th>\n                        <th *ngIf=\"businessSettings.ShowPurchaseEndKM\">E.Km</th>\n                        <th *ngIf=\"businessSettings.ShowPurchaseTotalKm\">T.Km</th>\n                        <th *ngIf=\"businessSettings.ShowPurchaseExtraKM\">Ex.Km</th>\n                        <th *ngIf=\"businessSettings.ShowPurchaseExtraHourRate\">Ex.Hr Rate</th>\n                        <th *ngIf=\"businessSettings.ShowPurchaseExtraKMRate\">Ex.Km Rate</th>\n                        <th *ngIf=\"businessSettings.ShowPurchaseExtraHourCost\">Ex.Hr Cost</th>\n                        <th *ngIf=\"businessSettings.ShowPurchaseExtraKMCost\">Ex.Km Cost</th>\n                        <th>Ex.Charges</th>\n                        <!-- <th *ngIf=\"\">Ex.Ch.</th>\n                        <th *ngIf=\"\">Parking</th>\n                        <th *ngIf=\"\">Out.Day</th>\n                        <th *ngIf=\"\">Sun</th>\n                        <th *ngIf=\"\">Late</th>\n                        <th *ngIf=\"\">Car Hire Ch.</th> -->\n                        <th *ngIf=\"businessSettings.ShowPurchaseDutySubtotal\">Sub.Total</th>\n                        <!-- <th *ngIf=\"businessSettings.ShowPurchaseDutySubtotalIncludingAllowances\">Sub.Total (incl. Allowances)</th> -->\n                      </tr>\n                      <tr *ngFor=\"let element of dutySummary; let i=index;\">\n                        <td>{{i+1}}.</td>\n                        <td *ngIf=\"businessSettings.ShowPurchaseDutyID\">{{element.dutyId}}</td>                \n                        <td *ngIf=\"businessSettings.ShowPurchaseBookedByName\">{{element.bookBy}}</td>\n                        <td *ngIf=\"businessSettings.ShowPurchasePassengerNames\">{{element.passenger}}</td>\n                        <td *ngIf=\"businessSettings.ShowPurchaseVehicleGroupName\">{{element.vehicleGroup}}</td>\n                        <td *ngIf=\"businessSettings.ShowPurchaseVehicleNumber\">{{element.number}}</td>\n                        <td *ngIf=\"businessSettings.ShowPurchaseDutyType\">{{element.dutyType}}</td>\n                        <td *ngIf=\"businessSettings.ShowPurchasePrice\">{{element.price}}</td>\n                        <td>1</td>\n                        <td *ngIf=\"businessSettings.ShowPurchasePrice\">{{element.price}}</td>\n                        <td *ngIf=\"businessSettings.ShowPurchaseStartDate\">{{element.startDate | date: 'dd-MM-yyyy'}}</td>\n                        <td *ngIf=\"businessSettings.ShowPurchaseEndDate\">{{element.endDate | date: 'dd-MM-yyyy'}}</td>\n                        <td *ngIf=\"businessSettings.ShowPurchaseStartTime\">{{element.startTime | date:'HH:mm a'}}</td>\n                        <td *ngIf=\"businessSettings.ShowPurchaseEndTime\">{{element.endTime | date:'HH:mm a'}}</td>\n                        <td>{{element.totalTime}}</td>\n                        <td>{{element.extraTime}}</td>\n                        <td *ngIf=\"businessSettings.ShowPurchaseStartKM\">{{element.startKm}}</td>\n                        <td *ngIf=\"businessSettings.ShowPurchaseEndKM\">{{element.endKm}}</td>\n                        <td *ngIf=\"businessSettings.ShowPurchaseTotalKm\">{{element.totalKm}}</td>\n                        <td *ngIf=\"businessSettings.ShowPurchaseExtraKM\">{{element.extraKm}}</td>\n                        <td *ngIf=\"businessSettings.ShowPurchaseExtraHourRate\">{{element.extraHrs}}</td>\n                        <td *ngIf=\"businessSettings.ShowPurchaseExtraKMRate\">{{element.extraKm}}</td>\n                        <td *ngIf=\"businessSettings.ShowPurchaseExtraHourCost\">{{element.extraHrRate}}</td>\n                        <td *ngIf=\"businessSettings.ShowPurchaseExtraKMCost\">{{element.extraKmRate}}</td>\n                        <td>{{element.charges}}</td>\n                        <!-- <td *ngIf=\"\">Ex.Ch.</td>\n                        <td *ngIf=\"\">Parking</td> -->\n                        <!-- <td *ngIf=\"\">Out.Day</td>\n                        <td *ngIf=\"\">Sun</td>\n                        <td *ngIf=\"\">Late</td>\n                        <td *ngIf=\"\">Car Hire Ch.</td> -->\n                        <td *ngIf=\"businessSettings.ShowPurchaseDutySubtotal\">{{element.finalPrice}}</td>\n                        <!-- <td *ngIf=\"businessSettings.ShowPurchaseDutySubtotalIncludingAllowances\">Sub.Total (incl. Allowances)</td> -->\n                      </tr>\n                    </table>\n                  </nb-card-body>\n                </nb-card>\n              </div>      \n            </div>\n            <div class=\"row\">\n              <div class=\"col-lg-12\" style=\"text-align:center;\">\n                <button mat-raised-button color=\"primary\" (click)=\"printDutySummary()\">Print</button>\n              </div>\n            </div>\n          </mat-tab>\n          <!-- <mat-tab label=\"Duties\">\n            <div class=\"container\">\n              <div class=\"row\">\n                <div class=\"col-lg-12\" *ngFor=\"let element of dutySummary; let i=index;\">\n                  <nb-card>\n                    <nb-card-header>\n                      Duty #{{element.dutyId}}\n                    </nb-card-header>\n                    <nb-card-body>\n                      <div class=\"row\">\n                        <div class=\"col-lg-12\">\n                          <div class=\"row\">\n                            <div class=\"col-lg-6\">\n                              Date\n                            </div>\n                            <div class=\"col-lg-6\">\n                              {{element.startDate}}\n                            </div>\n                          </div>\n                          <div class=\"row\">\n                            <div class=\"col-lg-6\">\n                              vehicle Group\n                            </div>\n                            <div class=\"col-lg-6\">\n                              {{element.vehicleGroup}}\n                            </div>\n                          </div>\n                          <div class=\"row\">\n                            <div class=\"col-lg-6\">\n                              Vehicle\n                            </div>\n                            <div class=\"col-lg-6\">\n                              {{element.vehicle}}\n                            </div>\n                          </div>\n                          <div class=\"row\">\n                            <div class=\"col-lg-6\">\n                              Driver\n                            </div>\n                            <div class=\"col-lg-6\">\n                              {{element.driver}}\n                            </div>\n                          </div>\n                          <div class=\"row\">\n                            <div class=\"col-lg-6\">\n                              Passengers\n                            </div>\n                            <div class=\"col-lg-6\">\n                              {{element.passenger}}\n                            </div>\n                          </div>\n                          <div class=\"row\">\n                            <div class=\"col-lg-6\">\n                              Reporting Address\n                            </div>\n                            <div class=\"col-lg-6\">\n                              {{element.reportingAddress}}\n                            </div>\n                          </div>    \n                        </div>\n                      </div>\n                      <hr>\n                      <div class=\"row\">\n                        <div class=\"col-lg-12\">\n                          <table border=\"1\" style=\"width: 100%;\">\n                            <tr>\n                              <th></th>\n                              <th>Start</th>\n                              <th>End</th>\n                              <th>Total</th>\n                              <!-/- <th>Extra</th> -/->\n                            </tr>                  \n                            <tr>\n                              <td>KM</td>\n                              <td>{{element.startKm}}</td>\n                              <td>{{element.endKm}}</td>\n                              <td>\n                                {{element.endKm - element.startKm}}\n                              </td>\n                              <!-/- <td></td> -/->\n                            </tr>\n                            <tr>\n                              <td>Time</td>\n                              <td>{{element.startTime}}</td>\n                              <td>{{element.endTime}}</td>\n                              <td>{{element.endTime - element.startTime}}</td>\n                              <!-/- <td></td> -/->\n                            </tr>\n                          </table>\n                        </div>\n                      </div>\n                      <!-/- <div class=\"row\">\n                        <div class=\"col-lg-6\">\n                          Additional Charges:\n                          <table border=\"1\">\n                            <tr>\n                              <th>Charges</th>\n                              <th>Amount</th>\n                            </tr>\n                            <tr>\n                              <td></td>\n                              <td></td>\n                            </tr>\n                          </table>\n                        </div>\n                        <div class=\"col-lg-6\">\n                          Driver Allowances:\n                          <table border=\"1\">\n                            <tr>\n                              <th>Charges</th>\n                              <th>Amount</th>\n                            </tr>\n                            <tr>\n                              <td></td>\n                              <td></td>\n                            </tr>\n                          </table>\n                        </div>\n                      </div> -/->\n                    </nb-card-body>\n                  </nb-card>\n                </div>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-lg-12\">\n                <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n              </div>\n            </div>\n          </mat-tab> -->\n        </mat-tab-group>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/pages/masters/viewpurchaseinvoice/viewpurchaseinvoice.component.scss":
/***/ (function(module, exports) {

module.exports = "th {\n  text-align: center; }\n\n.box2 {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  border-bottom: 0.1px solid;\n  border-bottom-color: darkgrey; }\n\n.vl {\n  border-right: 0.1px solid;\n  border-right-color: darkgrey; }\n\n.tdleft {\n  text-align: left; }\n\n.tdright {\n  text-align: right;\n  -ms-flex-line-pack: right;\n      align-content: right;\n  place-content: right; }\n\n.trcenter {\n  text-align: center; }\n\n.invoiceTable {\n  border-bottom: 1px solid;\n  border-bottom-color: lightblue; }\n\n@media print {\n  header nav, footer {\n    display: none; } }\n\n::ng-deep .mat-tab-body-content {\n  overflow: hidden !important; }\n\n.dutyTable {\n  font-size: 11px; }\n"

/***/ }),

/***/ "./src/app/pages/masters/viewpurchaseinvoice/viewpurchaseinvoice.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ViewpurchaseinvoiceComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material_dialog__ = __webpack_require__("./node_modules/@angular/material/esm5/dialog.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_number_to_words__ = __webpack_require__("./node_modules/number-to-words/numberToWords.min.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_number_to_words___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_number_to_words__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__operations_new_bank_account_bank_account_service__ = __webpack_require__("./src/app/pages/operations/new-bank-account/bank-account.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__circles_companyprofile_companyprofile_service__ = __webpack_require__("./src/app/pages/circles/companyprofile/companyprofile.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_file_saver__ = __webpack_require__("./node_modules/file-saver/dist/FileSaver.min.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_file_saver___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_file_saver__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__invoiceattachmentmodal_invoiceattachmentmodal_component__ = __webpack_require__("./src/app/pages/masters/invoiceattachmentmodal/invoiceattachmentmodal.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};














var ViewpurchaseinvoiceComponent = (function () {
    function ViewpurchaseinvoiceComponent(data, auth, customerService, invoiceService, dialog, router, bankAccountService, companyProfileService, uploadService, _sanitizer) {
        this.data = data;
        this.auth = auth;
        this.customerService = customerService;
        this.invoiceService = invoiceService;
        this.dialog = dialog;
        this.router = router;
        this.bankAccountService = bankAccountService;
        this.companyProfileService = companyProfileService;
        this.uploadService = uploadService;
        this._sanitizer = _sanitizer;
        this.customerDetails = {};
        this.selectedBookings = [];
        this.dutySummary = [];
        this.businessSettings = {};
        this.totalInWords = '';
        this.companyProfile = {};
        this.companyLogo = '';
        this.bankAccount = {};
        this.extraCharges = [];
        this.dutyIds = [];
        this.extras = [];
        this.invoiceDetails = {
            id: '',
            invoiceNumber: '',
            invoiceDate: '',
            invoicePeriodFrom: '',
            invoicePeriodTo: '',
            PONumber: '',
            CCNumber: '',
            totalAmount: null,
            taxType: '',
            taxAmount: null,
            discountType: '',
            discountRate: null,
            discountAmount: null,
            customerId: '',
            isDownloaded: false,
            isPrinted: false,
            isMailed: false,
        };
    }
    ViewpurchaseinvoiceComponent.prototype.ngOnInit = function () {
        var _this = this;
        var iData = localStorage.getItem('purchaseinvoice');
        this.invoiceDetails = JSON.parse(iData);
        this.invoiceDetails.invoiceDate = __WEBPACK_IMPORTED_MODULE_11_moment__(this.invoiceDetails.invoiceDate).format("YYYY-MM-DD");
        if (this.invoiceDetails == undefined) {
            this.router.navigate(['/pages/masters/purchase-invoice']);
        }
        this.totalInWords = __WEBPACK_IMPORTED_MODULE_6_number_to_words__["toWords"](this.invoiceDetails.totalAmount);
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.companyProfileService.getCompanyProfile(_this.user).subscribe(function (data) {
                _this.companyProfile = data[0];
                _this.uploadService.getPresignedUrl(_this.user.companyName, _this.companyProfile.companyLogo, 'profileImages').subscribe(function (data) {
                    _this.companyLogo = data._body;
                    console.log(_this.companyLogo);
                });
                // this.uploadService.getFile(this.user.companyName,'profileImages',this.companyProfile.companyLogo).subscribe(data=>{
                //   this.companyLogo = this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' 
                //   + data.text());
                // })
            });
            _this.customerService.getSingleCustomer(_this.invoiceDetails).subscribe(function (data) {
                _this.customerDetails = data[0];
                console.log(_this.customerDetails);
            });
            _this.invoiceService.getPurchaseInInvoice(_this.invoiceDetails).subscribe(function (data) {
                if (data != undefined) {
                    _this.selectedBookings = data;
                    console.log(_this.selectedBookings);
                    _this.selectedBookings.forEach(function (element) {
                        if (element.dutyId != null) {
                            _this.dutyIds.push(element.id);
                        }
                    });
                    console.log(_this.selectedBookings);
                    if (_this.dutyIds.length > 0) {
                        _this.invoiceService.getExtraCharges({ idArray: _this.dutyIds }).subscribe(function (data) {
                            console.log(data);
                            _this.extras = data;
                            for (var v in _this.selectedBookings) {
                                console.log(v);
                                for (var e in _this.extras) {
                                    console.log(e);
                                    if (_this.extras[e].dutyId == _this.selectedBookings[v].id) {
                                        if (_this.selectedBookings[v].extras == undefined) {
                                            _this.selectedBookings[v].extras = [{ name: _this.extras[e].name, charges: _this.extras[e].charges }];
                                        }
                                        else {
                                            _this.selectedBookings[v].extras.push({ name: _this.extras[e].name, charges: _this.extras[e].charges });
                                        }
                                    }
                                }
                            }
                        });
                    }
                }
            });
            _this.invoiceService.getPurchaseInInvoiceByBooking(_this.invoiceDetails).subscribe(function (data) {
                if (data != undefined) {
                    _this.selectedBookings = data;
                    console.log(_this.selectedBookings);
                }
            });
            _this.invoiceService.getInvoiceExtras(_this.invoiceDetails).subscribe(function (data) {
                console.log(data);
            });
            _this.bankAccountService.getBankAccount(_this.user).subscribe(function (data) {
                _this.bankAccount = data[0];
            });
            _this.invoiceService.getDutySummaryForPurchase(_this.invoiceDetails).subscribe(function (data) {
                console.log(data);
                _this.dutySummary = data;
                _this.dutySummary.forEach(function (element) {
                    element.charges = 0;
                    var temp = {
                        id: element.bid
                    };
                    _this.invoiceService.getCloseExtras(temp).subscribe(function (data) {
                        _this.extraCharges = data;
                        console.log(data);
                    });
                    _this.extraCharges.forEach(function (data) {
                        console.log(data);
                        if (element.dutyId == data.dutyId) {
                            element.charges += data.charges;
                        }
                    });
                    var startTime = __WEBPACK_IMPORTED_MODULE_11_moment__(element.startDate + " " + element.startTime, "YYYY-MM-DD HH:mm a");
                    var endTime = __WEBPACK_IMPORTED_MODULE_11_moment__(element.endDate + " " + element.endTime, "YYYY-MM-DD HH:mm a");
                    element.endTime = __WEBPACK_IMPORTED_MODULE_11_moment__(element.endTime, "HH:mm a");
                    ;
                    element.startTime = __WEBPACK_IMPORTED_MODULE_11_moment__(element.startTime, "HH:mm a");
                    var totalHrs = endTime.diff(startTime, 'hours');
                    var totalMins = endTime.diff(startTime, 'minutes');
                    var clearMins = totalMins % 60;
                    element.totalTime = totalHrs + "hrs " + clearMins + "mins";
                    element.totalKm = element.endKm - element.startKm;
                    console.log(element.totalKm);
                    if (element.maxHrs == '' || totalHrs < element.maxHrs) {
                        element.extraTime = 0;
                    }
                    else {
                        element.extraTime = (totalHrs - element.maxHrs) + "hrs " + clearMins + "mins";
                    }
                    if (element.maxKms == '') {
                        element.extraKm = 0;
                    }
                    else {
                        element.extraKm = element.totalKms - element.maxKms;
                    }
                    console.log(element.totalTime);
                });
                console.log(_this.dutySummary);
            });
        });
        this.auth.businessSettings.subscribe(function (data) {
            _this.businessSettings = data;
        });
    };
    ViewpurchaseinvoiceComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    ViewpurchaseinvoiceComponent.prototype.printDutySummary = function () {
        this.invoiceDetails.isPrinted = true;
        // let data2 = document.getElementById('demo2').innerHTML;    
        console.log(this.demo2);
        var data2 = this.demo2.nativeElement.innerHTML;
        var newWindow = window.open('', '_blank', 'top=0,left=0,height=100%,width=auto');
        newWindow.document.open();
        newWindow.document.write("<html>\n        <head>\n          <style media=\"print\">  \n          @media print{\n            @page {\n              size: landscape;\n              margin: 5mm 0mm 5mm 0mm !important;  /* this affects the margin in the printer settings */\n            }\n            html\n            {\n                margin: 0px !important;  /* this affects the margin on the html before sending to printer */\n            }\n\n            body\n            {\n                margin: 0mm 5mm 0mm 5mm !important; /* margin you want for the content */\n            }\n          }   \n        </style>\n        </head>\n        <body onload=\"window.print();window.close()\">" + data2 + "</body>\n      </html>");
        newWindow.document.close();
    };
    ViewpurchaseinvoiceComponent.prototype.print = function () {
        // let data = document.getElementById('demo').innerHTML;
        var data = this.demo.nativeElement.innerHTML;
        var newWindow = window.open('', '_blank', 'top=0,left=0,height=100%,width=auto');
        newWindow.document.open();
        newWindow.document.write("\n    <html>\n      <head>        \n        <style>          \n          body {\n            font-family: \"Roboto\" !important;\n            font-size: 11px !important;\n          }\n          table {      \n            boreder-collapse: collapse;\n            font-size: 11px !important;\n          }\n          th {\n            text-align: center\n          }        \n          .box2 {\n            display: flex;\n            flex-direction: row;\n            border-bottom: 0.1px solid;\n            border-bottom-color: darkgrey;\n          }        \n          .vl {\n            border-right: 0.1px solid;\n            border-right-color: darkgrey;\n          }\n          .tdleft {\n            text-align: left;\n          }\n          .tdright {\n            text-align: right;\n            align-content: right;\n            place-content: right;\n            border-top:1px solid darkgrey !important;\n          }\n          .trcenter {\n            text-align: center;\n          }        \n          .invoiceTable td {\n            border-top:1px solid darkgrey !important;            \n          }          \n          .iTbl td {\n            padding-top:5px !important;\n            border-top:1px solid darkgrey !important;            \n          }\n          @media print {\n            @page \n            {\n                size:  8.27in 11.69in !important;   /* auto is the initial value */\n                margin: 5mm 0mm 5mm 0mm !important;  /* this affects the margin in the printer settings */\n            }\n            html\n            {\n                margin: 0px !important;  /* this affects the margin on the html before sending to printer */\n            }\n\n            body\n            {\n                margin: 0mm 5mm 0mm 5mm !important; /* margin you want for the content */\n            }\n            .footer {\n              padding-top: 25px;\n              page-break-before: auto;\n              page-break-inside: avoid;\n              width: 100%;\n              color: white;\n              text-align: center;\n           }\n          }\n        </style>\n      </head>\n      <body onload=\"window.print();window.close()\">" + data + "\n      \n      <div class=\"footer\">\n      <table style=\"width:100%\">\n      <tr>\n          <td colspan=\"3\">\n            <p style=\"font-size:12px; margin-bottom:0px\">Subject to MUMBAI Jurisdiction<br>\n            No objection pertaining to this invoice would be entertained after 7 days from the date hereof</p>\n            <p style=\"font-size:12px; margin-bottom:0px\"><b style=\"font-size:12px; margin-bottom:0px\">GSTIN:</b> " + this.companyProfile.gstin + " | <b style=\"font-size:12px; margin-bottom:0px\">SAC/HSN/Accounting code:</b> " + this.companyProfile.hsnCode + " | <b style=\"font-size:12px; margin-bottom:0px\">PAN:</b> " + this.companyProfile.panNo + " |</p><br>\n            \n              <b style=\"font-size:12px; margin-bottom:0px\"><u>Bank Details</u></b><br>\n              <p style=\"font-size:12px; margin-bottom:0px\"><b>Account No:</b> " + this.bankAccount.number + " <b>Bank Name:</b> " + this.bankAccount.bankName + " </p>\n              <p style=\"font-size:12px; margin-bottom:0px\"><b>Branch: </b>" + this.bankAccount.branch + " <b>IFSC Code:</b> " + this.bankAccount.ifscCode + "</p>\n              <p style=\"font-size:12px; margin-bottom:0px\"><b>Cheque in favour of:</b> " + this.bankAccount.chequeInTheNameOf + "</p>\n            \n          </td>\n          <td colspan=\"2\" style=\"text-align: right\">\n            <p style=\"margin-top: -5px;font-size:12px; margin-bottom:0px\">\n              <b>For " + this.user.companyName + "</b>\n              <br><br><br><br><br>\n              Authorized signatory\n            </p>\n          </td>\n        </tr>\n      </table>\n      </div>\n      </body>\n\n    </html>");
        newWindow.document.close();
    };
    ViewpurchaseinvoiceComponent.prototype.printDocs = function () {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_13__invoiceattachmentmodal_invoiceattachmentmodal_component__["a" /* InvoiceattachmentmodalComponent */], { autoFocus: false, disableClose: true }).afterClosed().subscribe(function (data) {
            console.log(data);
            if (data == undefined) { }
            if (data.invoice == true) {
                _this.print();
            }
            if (data.dutySummary == true) {
                _this.printDutySummary();
            }
        });
    };
    ViewpurchaseinvoiceComponent.prototype.downloadDocs = function () {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_13__invoiceattachmentmodal_invoiceattachmentmodal_component__["a" /* InvoiceattachmentmodalComponent */], { autoFocus: false, disableClose: true }).afterClosed().subscribe(function (data) {
            console.log(data);
            if (data == undefined) { }
            if (data.invoice == true) {
                _this.downloadInvoice();
            }
            if (data.dutySummary == true) {
                _this.downloadDutySummary();
            }
        });
    };
    ViewpurchaseinvoiceComponent.prototype.downloadInvoice = function () {
        var _this = this;
        var data = document.getElementById('demo').innerHTML;
        var pdfData = data;
        this.invoiceDetails.isDownloaded = true;
        this.uploadService.downloadPDF(pdfData, this.invoiceDetails.id + "_Invoice_" + __WEBPACK_IMPORTED_MODULE_11_moment__().format("DD-MM-YYYY"), "cabInvoice", this.user, this.companyProfile, this.bankAccount).subscribe(function (data) { return Object(__WEBPACK_IMPORTED_MODULE_12_file_saver__["saveAs"])(data, _this.invoiceDetails.id + "_Invoice_" + __WEBPACK_IMPORTED_MODULE_11_moment__().format("DD-MM-YYYY")); }, function (err) { return console.log(err); }, function () {
            _this.invoiceService.updateInvoice(_this.invoiceDetails).subscribe();
        });
    };
    ViewpurchaseinvoiceComponent.prototype.downloadDutySummary = function () {
        var _this = this;
        var data2 = document.getElementById('demo2').innerHTML;
        var pdfData2 = data2;
        this.invoiceDetails.isDownloaded = true;
        this.uploadService.downloadPDF(pdfData2, this.invoiceDetails.id + "_DutySummary_" + __WEBPACK_IMPORTED_MODULE_11_moment__().format("DD-MM-YYYY"), "dutySummary", this.user, this.companyProfile, this.bankAccount).subscribe(function (data) { return Object(__WEBPACK_IMPORTED_MODULE_12_file_saver__["saveAs"])(data, _this.invoiceDetails.id + "_DutySummary_" + __WEBPACK_IMPORTED_MODULE_11_moment__().format("DD-MM-YYYY")); }, function (err) { return console.log(err); }, function () {
            _this.invoiceService.updateInvoice(_this.invoiceDetails).subscribe();
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('demo2'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], ViewpurchaseinvoiceComponent.prototype, "demo2", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('demo'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], ViewpurchaseinvoiceComponent.prototype, "demo", void 0);
    ViewpurchaseinvoiceComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'viewpurchaseinvoice',
            template: __webpack_require__("./src/app/pages/masters/viewpurchaseinvoice/viewpurchaseinvoice.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/viewpurchaseinvoice/viewpurchaseinvoice.component.scss")]
        }),
        __param(0, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material_dialog__["a" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [Object, __WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_4__customer_customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_3__createinvoice_invoice_service__["a" /* InvoiceService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material_dialog__["b" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_5__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_7__operations_new_bank_account_bank_account_service__["a" /* BankAccountService */],
            __WEBPACK_IMPORTED_MODULE_8__circles_companyprofile_companyprofile_service__["a" /* CompanyprofileService */],
            __WEBPACK_IMPORTED_MODULE_9__fileupload_service__["a" /* FileuploadService */],
            __WEBPACK_IMPORTED_MODULE_10__angular_platform_browser__["DomSanitizer"]])
    ], ViewpurchaseinvoiceComponent);
    return ViewpurchaseinvoiceComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/viewvisainvoice/viewvisainvoice.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\" id=\"print-section\">\n    <nb-card>\n      <nb-card-header>Invoice</nb-card-header>\n      <nb-card-body class=\"box\">\n        <div id=\"demo\" style=\"padding: 0 5px 0 5px\">\n          <div class=\"col-lg-12\" style=\"padding:10px;\"> \n            <table *ngIf=\"!businessSettings.HideBusinessLetterHead\" style=\"width: 100%;\" border-spacing=\"0\">\n              <tr>\n                <td rowspan=\"3\" style=\"border-bottom: 1px solid darkgrey; width: 10%; padding-left: 5%; padding-bottom: 10px;\">\n                  <img alt=\"\" [src]=\"companyLogo\" height=\"70px\" width=\"auto\" />\n                </td>\n                <td style=\"text-align:left; padding-left: 10%;\">\n                  <b style=\"font-size: 18px; font-weight: 600 ;\">{{user.companyName}}</b>\n                </td>\n              </tr>\n              <tr>\n                <td style=\"text-align: left; padding-left: 10%;\">\n                  <b>{{companyProfile.address}}</b>\n                </td>\n              </tr>\n              <tr>\n                <td style=\"border-bottom: 1px solid darkgrey; text-align: left; padding-bottom: 10px; padding-left: 10%;\">\n                  <b><b>Email:</b> {{companyProfile.email}} <b>Mobile:</b> {{companyProfile.phone}}</b>\n                </td>\n              </tr>\n            </table>\n            <table style=\"width:100%\">\n              <tr>\n                <td style=\"border-bottom: 1px solid darkgrey; text-align: center;\"><b style=\"font-size: medium;\">Tax Invoice</b></td>\n              </tr>\n            </table>\n          </div>\n          <div class=\"box2\" style=\"display: flex; flex-direction: row; border-bottom: 0.1px solid; border-bottom-color: darkgrey;\">\n            <div class=\"col-lg-6 vl\" style=\"border-right: 0.1px solid; border-right-color: darkgrey; width: 50%;\">\n              <table cellpadding=2px>\n                <tr>\n                  <td>\n                    <b>\n                      Customer Name:\n                    </b>\n                  </td>\n                  <td>\n                    {{customerDetails.name}}\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <b>\n                      Customer No:\n                    </b>\n                  </td>\n                  <td>\n                    {{customerDetails.phone}}\n                  </td>\n                </tr>\n                <tr>\n                    <td>\n                      <b>\n                        Address:\n                      </b>\n                    </td>\n                    <td>\n                      {{customerDetails.caddress}}\n                    </td>\n                </tr>\n                <tr>\n                  <td>\n                    <b>\n                      State:\n                    </b>\n                  </td>\n                  <td>\n                    {{customerDetails.state}}\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <b>\n                      PAN:\n                    </b>\n                  </td>\n                  <td>\n                    {{customerDetails.panNo}}\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <b>GSTIN:</b>\n                  </td>\n                  <td>\n                    {{customerDetails.gstin}}\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <b>Billing Address:</b>\n                  </td>\n                  <td>\n                    {{customerDetails.billingAddress}}\n                  </td>\n                </tr>\n              </table>\n            </div>\n            <div class=\"col-lg-6\">\n              <table cellpadding=2px>\n                <tr>\n                  <td><b>&nbsp;Invoice Number:</b></td>\n                  <td>\n                    {{invoiceDetails.invoiceNumber}}\n                  </td>\n                </tr>\n                  <tr><td><b>&nbsp;Invoice Date:</b></td>\n                    <td>\n                      {{invoiceDetails.invoiceDate | date: 'dd/MM/yyyy'}}\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <b>&nbsp;Invoice Period From:</b>\n                    </td>\n                    <td>\n                      {{invoiceDetails.invoicePeriodFrom | date: 'dd/MM/yyyy'}}\n                    </td>\n                  </tr>\n                  <tr>  \n                    <td>\n                      <b>&nbsp;Invoice Period To:</b>\n                    </td>\n                    <td>\n                      {{invoiceDetails.invoicePeriodTo | date: 'dd/MM/yyyy'}}\n                    </td>\n                  </tr>\n                <tr>\n                  <td>\n                    <b>\n                      &nbsp;CC Number:\n                    </b>\n                  </td>\n                  <td>\n                    {{invoiceDetails.CCNumber}}\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <b>\n                      &nbsp;PO Number\n                    </b>\n                  </td>\n                  <td>\n                      {{invoiceDetails.PONumber}}\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                  </td>\n                  <td>\n                  </td>\n                </tr>\n              </table>\n            </div>\n          </div>\n          <div class=\"col-lg-12\">            \n            <table style=\"width:100%;margin-top:5px;\" cellpadding=\"4\">\n              <tr class=\"invoiceTable\" style=\"border-bottom:1px solid;\">\n                <th>Sr.</th>\n                <th>Description</th>\n                <th>Rate</th>\n                <th>Quantity</th>\n                <th>Amount</th>\n              </tr>\n              <tr *ngFor=\"let temp of selectedBookings; let i=index\" style=\" text-align:center;\" class=\"invoiceTable\" style=\"border-bottom:1px solid;\">                      \n                <td style=\"text-align:center;\">{{i+1}}</td>\n                <td class=\"tdleft\">\n                  Travellers:\n                  <b>\n                    {{temp.travellers}}\n                  </b><br>\n                  Country Name:\n                  <b>\n                    {{temp.location}}\n                  </b><br>\n                  Visa Type:\n                  <b>\n                    {{temp.visaType}}\n                  </b><br>\n                  Date:\n                  <b>\n                    {{temp.from | date:'dd-MM-yyyy'}} - {{temp.to | date:'dd-MM-yyyy'}} \n                  </b><br>                  \n                </td>\n                <td style=\"text-align:center;\">{{temp.visaCost}}</td>\n                <td style=\"text-align:center;\">1</td>\n                <td style=\"text-align:center;\">{{temp.visaCost}}</td>\n              </tr>\n              <tbody style=\"page-break-inside: avoid\">\n                <tr class=\"invoiceTable\" *ngIf=\"invoiceDetails.taxableAmount != null\">\n                  <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n                    \n                  </td>\n                  <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                    Taxable Amount\n                  </td>\n                  <td>&nbsp;</td>\n                  <td class=\"tdright\" style=\"text-align: center;\">\n                    <b>{{invoiceDetails.taxableAmount}}</b>\n                  </td>\n                </tr>\n                <tr *ngIf=\"invoiceDetails.taxType == 'CGST+SGST'\" style=\"border-bottom:1px solid;\" class=\"invoiceTable\">\n                  <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n                    Tax Type:\n                  \n                  </td>\n                  <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                    <b>\n                      &nbsp;CGST\n                    </b>\n                    <br>\n                    <b>\n                      SGST\n                    </b>\n                  </td>\n                  <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                    <b>\n                      &nbsp;{{invoiceDetails.taxRate/2}}%\n                    </b>\n                    <br>\n                    <b>\n                      {{invoiceDetails.taxRate/2}}%\n                    </b>\n                  </td>\n                  <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                    <b>\n                      &nbsp;{{invoiceDetails.taxAmount/2}}\n                    </b>\n                    <br>\n                    <b>\n                      {{invoiceDetails.taxAmount/2}}\n                    </b>\n                  </td>\n                </tr>\n                <tr *ngIf=\"invoiceDetails.taxType != 'CGST+SGST'\" style=\"border-bottom:1px solid;\" class=\"invoiceTable\">\n                  <td colspan=\"3\" class=\"tdright\" style=\"text-align: right;\">\n                    Tax Type:\n                    <b>\n                      {{invoiceDetails.taxType}}\n                    </b>\n                  </td>\n                  <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                    <b>\n                      {{invoiceDetails.taxRate}}%\n                    </b>\n                  </td>\n                  <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                    <b>\n                      {{invoiceDetails.taxAmount}}\n                    </b>\n                  </td>\n                </tr>\n                <tr style=\"border-bottom:1px solid;\" class=\"invoiceTable\">\n                  <td colspan=\"3\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n                    Discount Type:\n                    <b>\n                      {{invoiceDetails.discountType}}\n                    </b>\n                  </td>\n                  <td></td>\n                  <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                    <b>\n                      {{invoiceDetails.discountAmount}}\n                    </b>\n                  </td>\n                </tr>\n                <tr class=\"invoiceTable\" *ngIf=\"invoiceDetails.nonTaxableAmount > 0\">\n                  <td colspan=\"2\" class=\"tdright\" style=\"text-align: right; align-content: right; place-content: right;\">\n                    \n                  </td>\n                  <td class=\"tdright\" style=\"text-align: center; align-content: right; place-content: right;\">\n                    Non Taxable Amount\n                  </td>\n                  <td>&nbsp;</td>\n                  <td class=\"tdright\" style=\"text-align: center;\">\n                    <b>{{invoiceDetails.nonTaxableAmount}}</b>\n                  </td>\n                </tr>\n                <tr class=\"invoiceTable\">\n                  <td colspan=\"2\" style=\"text-align: left; border-bottom:2px solid black;\">\n                    In Words: <b style=\"text-transform:capitalize;\">{{totalInWords}}</b>\n                  </td>\n                  <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n                    Gross Total:\n                  </td>\n                  <td style=\"border-bottom:2px solid black;\">&nbsp;</td>\n                  <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n                    <b>{{invoiceDetails.totalAmount}}</b>\n                  </td>\n                </tr>\n                <tr class=\"invoiceTable\">\n                  <td colspan=\"3\" style=\"text-align: left; border-bottom:2px solid black;\">\n                    Advance Paid:\n                  </td>                      \n                  <td style=\"border-bottom:2px solid black;\">&nbsp;</td>\n                  <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n                    <b>{{invoiceDetails.advanceReceived}}</b>\n                  </td>\n                </tr>\n                <tr class=\"invoiceTable\">\n                  <td colspan=\"2\" style=\"text-align: left; border-bottom:2px solid black;\">\n                    In Words: <b style=\"text-transform:capitalize;\">{{totalInWords}}</b>\n                  </td>\n                  <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n                    Net Total:\n                  </td>\n                  <td style=\"border-bottom:2px solid black;\">&nbsp;</td>\n                  <td class=\"tdright\" style=\"text-align: center; border-bottom:2px solid black;\">\n                    <b>{{invoiceDetails.totalAmount - invoiceDetails.advanceReceived}}</b>\n                  </td>\n                </tr>\n              </tbody>                  \n            </table>  \n          </div>\n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>  \n  <div style=\"margin: auto\">\n    <button\n      mat-raised-button\n      color=\"primary\" (click)=\"print()\" >Print</button>\n    <button *ngIf=\"permission.downloadVisaInvoices\" (click)=\"downloadInvoice()\" mat-raised-button color=\"warn\">Download</button>      \n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/pages/masters/viewvisainvoice/viewvisainvoice.component.scss":
/***/ (function(module, exports) {

module.exports = "th {\n  text-align: center; }\n\n.box2 {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  border-bottom: 0.1px solid;\n  border-bottom-color: darkgrey; }\n\n.vl {\n  border-right: 0.1px solid;\n  border-right-color: darkgrey; }\n\n.tdleft {\n  text-align: left; }\n\n.tdright {\n  text-align: right;\n  -ms-flex-line-pack: right;\n      align-content: right;\n  place-content: right; }\n\n.trcenter {\n  text-align: center; }\n\n.invoiceTable {\n  border-bottom: 1px solid;\n  border-bottom-color: lightblue; }\n\n@media print {\n  header nav, footer {\n    display: none; } }\n\n::ng-deep .mat-tab-body-content {\n  overflow: hidden !important; }\n"

/***/ }),

/***/ "./src/app/pages/masters/viewvisainvoice/viewvisainvoice.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ViewvisainvoiceComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_material_dialog__ = __webpack_require__("./node_modules/@angular/material/esm5/dialog.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__circles_companyprofile_companyprofile_service__ = __webpack_require__("./src/app/pages/circles/companyprofile/companyprofile.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__operations_new_bank_account_bank_account_service__ = __webpack_require__("./src/app/pages/operations/new-bank-account/bank-account.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_number_to_words__ = __webpack_require__("./node_modules/number-to-words/numberToWords.min.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_number_to_words___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_number_to_words__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_file_saver__ = __webpack_require__("./node_modules/file-saver/dist/FileSaver.min.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_file_saver___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_file_saver__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var ViewvisainvoiceComponent = (function () {
    function ViewvisainvoiceComponent(auth, customerService, invoiceService, dialog, companyProfileService, bankAccountService, uploadService, _sanitizer, router) {
        this.auth = auth;
        this.customerService = customerService;
        this.invoiceService = invoiceService;
        this.dialog = dialog;
        this.companyProfileService = companyProfileService;
        this.bankAccountService = bankAccountService;
        this.uploadService = uploadService;
        this._sanitizer = _sanitizer;
        this.router = router;
        this.totalInWords = '';
        this.companyLogo = '';
        this.customerDetails = {};
        this.selectedBookings = [];
        this.user = {};
        this.permission = {};
        this.dutySummary = [];
        this.businessSettings = {};
        this.companyProfile = {};
        this.bankAccount = {};
        this.invoiceDetails = {
            id: '',
            invoiceNumber: '',
            invoiceDate: '',
            invoicePeriodFrom: '',
            invoicePeriodTo: '',
            PONumber: '',
            CCNumber: '',
            totalAmount: null,
            taxType: '',
            taxAmount: null,
            discountType: '',
            discountRate: null,
            discountAmount: null,
            customerId: '',
            isDownloaded: false,
            isPrinted: false,
            isMailed: false,
        };
    }
    ViewvisainvoiceComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.permissions.subscribe(function (data) {
            _this.permission = data[0];
        });
        var iData = localStorage.getItem('visaInvoice');
        this.invoiceDetails = JSON.parse(iData);
        this.invoiceDetails.invoiceDate = __WEBPACK_IMPORTED_MODULE_11_moment__(this.invoiceDetails.invoiceDate).format("YYYY-MM-DD");
        console.log(this.invoiceDetails);
        if (this.invoiceDetails == undefined) {
            this.router.navigate(['/pages/masters/invoicedisplay']);
        }
        this.totalInWords = __WEBPACK_IMPORTED_MODULE_10_number_to_words__["toWords"](this.invoiceDetails.totalAmount);
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.companyProfileService.getCompanyProfile(_this.user).subscribe(function (data) {
                _this.companyProfile = data[0];
                _this.uploadService.getPresignedUrl(_this.user.companyName, _this.companyProfile.companyLogo, 'profileImages').subscribe(function (data) {
                    _this.companyLogo = data._body;
                    console.log(_this.companyLogo);
                });
                // this.uploadService.getFile(this.user.companyName,'profileImages',this.companyProfile.companyLogo).subscribe(data=>{
                //   this.companyLogo = this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' 
                //   + data.text());
                // })
            });
            _this.invoiceService.getVisaInInvoice(_this.invoiceDetails).subscribe(function (data) {
                _this.selectedBookings = data;
                console.log(data);
            });
            _this.customerService.getSingleCustomer(_this.invoiceDetails).subscribe(function (data) {
                console.log(data);
                _this.customerDetails = data[0];
            });
            _this.bankAccountService.getBankAccount(_this.user).subscribe(function (data) {
                console.log(data);
                _this.bankAccount = data[0];
            });
        });
        this.auth.businessSettings.subscribe(function (data) {
            _this.businessSettings = data;
        });
    };
    ViewvisainvoiceComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    ViewvisainvoiceComponent.prototype.print = function () {
        this.invoiceDetails.isPrinted = true;
        var data = document.getElementById('demo').innerHTML;
        var newWindow = window.open('', '_blank', 'top=0,left=0,height=100%,width=auto');
        newWindow.document.open();
        newWindow.document.write("\n    <html>\n      <head>        \n        <style media=\"print\">          \n          body {\n            font-family: \"Roboto\" !important;\n            font-size: 11px !important;\n          }\n          table {      \n            border-collapse: collapse;\n            font-size: 11px !important;\n          }\n          th {\n            text-align: center\n          }        \n          .box2 {\n            display: flex;\n            flex-direction: row;\n            border-bottom: 0.1px solid;\n            border-bottom-color: darkgrey;\n          }        \n          .vl {\n            border-right: 0.1px solid;\n            border-right-color: darkgrey;\n          }\n          .tdleft {\n            text-align: left;\n          }\n          .tdright {\n            text-align: right;\n            align-content: right;\n            place-content: right;\n            border-top:1px solid darkgrey !important;\n          }\n          .trcenter {\n            text-align: center;\n          }        \n          .invoiceTable td {\n            border-top:1px solid darkgrey !important;            \n          }\n          .iTbl td {\n            padding-top:5px !important;\n            border-top:1px solid darkgrey !important;            \n          }\n          @page \n            {\n                size:  8.27in 11.69in !important;   /* auto is the initial value */\n                margin: 5mm 0mm 5mm 0mm !important;  /* this affects the margin in the printer settings */\n            }\n          @media print {\n            @page \n            {\n                size:  8.27in 11.69in !important;   /* auto is the initial value */\n                margin: 5mm 0mm 5mm 0mm !important;  /* this affects the margin in the printer settings */\n            }\n            html\n            {\n                margin: 0px !important;  /* this affects the margin on the html before sending to printer */\n            }\n\n            body\n            {\n                margin: 0mm 5mm 0mm 5mm !important; /* margin you want for the content */\n            }\n            .footer {\n              padding-top: 25px;\n              page-break-before: auto;\n              page-break-inside: avoid;\n              width: 100%;\n              color: white;\n              text-align: center;\n           }\n          }\n        </style>\n      </head>\n      <body onload=\"window.print();window.close()\">" + data + "\n      \n      <div class=\"footer\">\n      <table style=\"width:100%\">\n      <tr>\n          <td colspan=\"3\">\n            <p style=\"font-size:12px; margin-bottom:0px\">Subject to MUMBAI Jurisdiction<br>\n            No objection pertaining to this invoice would be entertained after 7 days from the date hereof</p>\n            <p style=\"font-size:12px; margin-bottom:0px\"><b style=\"font-size:12px; margin-bottom:0px\">GSTIN:</b> " + this.companyProfile.gstin + " | <b style=\"font-size:12px; margin-bottom:0px\">SAC/HSN/Accounting code:</b> " + this.companyProfile.hsnCode + " | <b style=\"font-size:12px; margin-bottom:0px\">PAN:</b> " + this.companyProfile.panNo + " |</p><br>\n            \n              <b style=\"font-size:12px; margin-bottom:0px\"><u>Bank Details</u></b><br>\n              <p style=\"font-size:12px; margin-bottom:0px\"><b>Account No:</b> " + this.bankAccount.number + " <b>Bank Name:</b> " + this.bankAccount.bankName + " </p>\n              <p style=\"font-size:12px; margin-bottom:0px\"><b>Branch: </b>" + this.bankAccount.branch + " <b>IFSC Code:</b> " + this.bankAccount.ifscCode + "</p>\n              <p style=\"font-size:12px; margin-bottom:0px\"><b>Cheque in favour of:</b> " + this.bankAccount.chequeInTheNameOf + "</p>\n            \n          </td>\n          <td colspan=\"2\" style=\"text-align: right\">\n            <p style=\"margin-top: -10px;font-size:12px; margin-bottom:0px\">\n              <b>For " + this.user.companyName + "</b>\n              <br><br><br><br><br>\n              Authorized signatory\n            </p>\n          </td>\n        </tr>\n      </table>\n      </div>\n      </body>\n\n    </html>");
        newWindow.document.close();
    };
    ViewvisainvoiceComponent.prototype.downloadInvoice = function () {
        var _this = this;
        var data = document.getElementById('demo').innerHTML;
        var pdfData = data;
        this.invoiceDetails.isDownloaded = true;
        this.uploadService.downloadPDF(pdfData, this.invoiceDetails.id + "_Invoice_" + __WEBPACK_IMPORTED_MODULE_11_moment__().format("DD-MM-YYYY"), "visaInvoice", this.user, this.companyProfile, this.bankAccount).subscribe(function (data) { return Object(__WEBPACK_IMPORTED_MODULE_12_file_saver__["saveAs"])(data, _this.invoiceDetails.id + "_Invoice_" + __WEBPACK_IMPORTED_MODULE_11_moment__().format("DD-MM-YYYY")); }, function (err) { return console.log(err); }, function () {
            _this.invoiceService.updateInvoice(_this.invoiceDetails).subscribe();
        });
    };
    ViewvisainvoiceComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'viewvisainvoice',
            template: __webpack_require__("./src/app/pages/masters/viewvisainvoice/viewvisainvoice.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/viewvisainvoice/viewvisainvoice.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__customer_customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_3__createinvoice_invoice_service__["a" /* InvoiceService */],
            __WEBPACK_IMPORTED_MODULE_4__angular_material_dialog__["b" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_5__circles_companyprofile_companyprofile_service__["a" /* CompanyprofileService */],
            __WEBPACK_IMPORTED_MODULE_6__operations_new_bank_account_bank_account_service__["a" /* BankAccountService */],
            __WEBPACK_IMPORTED_MODULE_7__fileupload_service__["a" /* FileuploadService */],
            __WEBPACK_IMPORTED_MODULE_8__angular_platform_browser__["DomSanitizer"],
            __WEBPACK_IMPORTED_MODULE_9__angular_router__["c" /* Router */]])
    ], ViewvisainvoiceComponent);
    return ViewvisainvoiceComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/visadispinvoice/visadispinvoice.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        VISA\n      </nb-card-header>      \n      <nb-card-body>\n        <mat-table #table [dataSource]=\"dataSource\" matSort>\n\n          <!-- Position Column -->\n          <!-- <ng-container matColumnDef=\"Date\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Date. </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.date}} </mat-cell>\n          </ng-container>\n          -->\n          <!-- Name Column -->          \n          <ng-container matColumnDef=\"Customer\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Customer </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.cname}} </mat-cell>\n          </ng-container>\n\n          <!-- Weight Column -->\n          <ng-container matColumnDef=\"Booked by\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Booked by </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.bookBy}} </mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"Guest Name\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Guest Name </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.name}} </mat-cell>\n          </ng-container>\n\n          <!-- Symbol Column -->\n          <ng-container matColumnDef=\"Visa Type\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Visa Type </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.visaType}} </mat-cell>    \n          </ng-container>\n\n          <ng-container matColumnDef=\"From\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> From </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.from | date: 'dd-MM-yyyy'}} </mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"To\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> To </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.to | date: 'dd-MM-yyyy'}} </mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"Selector\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Selector</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"><mat-checkbox (change)=\"chooseBooking(element,$event)\" [checked]=\"isSelected(element.id)\"></mat-checkbox>\n            </mat-cell>   \n          </ng-container>\n\n          <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n          <mat-row *matRowDef=\"let row; columns: displayedColumns;\"></mat-row>\n\n        </mat-table>\n\n        <div align=\"center\" style=\"padding-top:10px\">\n          <button mat-raised-button color=\"primary\" (click)=\"selectBooking()\">Close</button>\n          <!-- <button mat-fab color=\"warn\"(click)=\"selectRow(null)\">Add</button>-->\n          <br><br>\n          <!--  <input type=\"button\" action=\"#\"(click)=\"selectRow(null)\" value=\"+\" class=\"btn btn-success btn-semi-round btn-demo\"> -->\n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/pages/masters/visadispinvoice/visadispinvoice.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/visadispinvoice/visadispinvoice.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return VisadispinvoiceComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__airline_visa_visa_service__ = __webpack_require__("./src/app/pages/airline/visa/visa.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var VisadispinvoiceComponent = (function () {
    function VisadispinvoiceComponent(dialog, data, auth, booking, visaService) {
        this.dialog = dialog;
        this.data = data;
        this.auth = auth;
        this.booking = booking;
        this.visaService = visaService;
        // bookings: Booking[];
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
        this.invoice = {};
        // editState: boolean = false;
        // bookingToEdit: Booking;
        this.displayedColumns = ['Customer', 'Booked by', 'Guest Name', 'Visa Type', 'From', 'To', 'Selector'];
        this.selectedBookings = [];
        this.checkedBookings = [];
        this.currUser = {};
        console.log(data);
        this.selectedCustomer = data.temp.customer;
        this.checkedBookings = data.temp.bookings;
        this.selectedBookings = this.checkedBookings;
    }
    VisadispinvoiceComponent.prototype.isSelected = function (id) {
        return this.checkedBookings.find(function (val) { return val.id === id; });
    };
    VisadispinvoiceComponent.prototype.ngOnInit = function () {
        var _this = this;
        var temp = {
            customerId: this.selectedCustomer
        };
        this.visaService.getVisaByCustomer(temp).subscribe(function (data) {
            _this.dataSource.data = data;
        });
    };
    VisadispinvoiceComponent.prototype.chooseBooking = function (booking, event) {
        var index = this.selectedBookings.indexOf(booking);
        if (event.checked) {
            this.selectedBookings.push(booking);
        }
        else {
            this.selectedBookings.splice(index, 1);
        }
        //   //this.invoice.bookings.push(booking);       
    };
    VisadispinvoiceComponent.prototype.selectBooking = function () {
        this.dialog.close(this.selectedBookings);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], VisadispinvoiceComponent.prototype, "sort", void 0);
    VisadispinvoiceComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'visadispinvoice',
            template: __webpack_require__("./src/app/pages/masters/visadispinvoice/visadispinvoice.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/visadispinvoice/visadispinvoice.component.scss")]
        }),
        __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_material__["p" /* MatDialogRef */], Object, __WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__createinvoice_invoice_service__["a" /* InvoiceService */],
            __WEBPACK_IMPORTED_MODULE_4__airline_visa_visa_service__["a" /* VisaService */]])
    ], VisadispinvoiceComponent);
    return VisadispinvoiceComponent;
}());



/***/ })

});
//# sourceMappingURL=masters.module.chunk.js.map
webpackJsonp(["main"],{

/***/ "./node_modules/moment/locale recursive ^\\.\\/.*$":
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-SG": "./node_modules/moment/locale/en-SG.js",
	"./en-SG.js": "./node_modules/moment/locale/en-SG.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./ga": "./node_modules/moment/locale/ga.js",
	"./ga.js": "./node_modules/moment/locale/ga.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it-ch": "./node_modules/moment/locale/it-ch.js",
	"./it-ch.js": "./node_modules/moment/locale/it-ch.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};
function webpackContext(req) {
	return __webpack_require__(webpackContextResolve(req));
};
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) // check for number or string
		throw new Error("Cannot find module '" + req + "'.");
	return id;
};
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./airline/airline.module": [
		"./src/app/pages/airline/airline.module.ts",
		"airline.module",
		"common"
	],
	"./circles/circles.module": [
		"./src/app/pages/circles/circles.module.ts",
		"circles.module"
	],
	"./expenses/expenses.module": [
		"./src/app/pages/expenses/expenses.module.ts",
		"expenses.module"
	],
	"./hotels/hotels.module": [
		"./src/app/pages/hotels/hotels.module.ts",
		"hotels.module",
		"common"
	],
	"./masters/masters.module": [
		"./src/app/pages/masters/masters.module.ts",
		"masters.module",
		"common"
	],
	"./operations/operations.module": [
		"./src/app/pages/operations/operations.module.ts",
		"operations.module",
		"common"
	],
	"./tracking/tracking.module": [
		"./src/app/pages/tracking/tracking.module.ts",
		"tracking.module"
	],
	"./wallet/wallet.module": [
		"./src/app/pages/wallet/wallet.module.ts",
		"wallet.module"
	],
	"app/pages/pages.module": [
		"./src/app/pages/pages.module.ts",
		"pages.module"
	]
};
function webpackAsyncContext(req) {
	var ids = map[req];
	if(!ids)
		return Promise.reject(new Error("Cannot find module '" + req + "'."));
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {
		return __webpack_require__(ids[0]);
	});
};
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./src/app/@core/core.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CoreModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__module_import_guard__ = __webpack_require__("./src/app/@core/module-import-guard.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__data_data_module__ = __webpack_require__("./src/app/@core/data/data.module.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};




var NB_CORE_PROVIDERS = __WEBPACK_IMPORTED_MODULE_3__data_data_module__["a" /* DataModule */].forRoot().providers.slice();
var CoreModule = (function () {
    function CoreModule(parentModule) {
        Object(__WEBPACK_IMPORTED_MODULE_2__module_import_guard__["a" /* throwIfAlreadyLoaded */])(parentModule, 'CoreModule');
    }
    CoreModule_1 = CoreModule;
    CoreModule.forRoot = function () {
        return {
            ngModule: CoreModule_1,
            providers: NB_CORE_PROVIDERS.slice(),
        };
    };
    CoreModule = CoreModule_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */]
            ],
            exports: [],
            declarations: [],
        }),
        __param(0, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Optional"])()), __param(0, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["SkipSelf"])()),
        __metadata("design:paramtypes", [CoreModule])
    ], CoreModule);
    return CoreModule;
    var CoreModule_1;
}());



/***/ }),

/***/ "./src/app/@core/data/data.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DataModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__state_service__ = __webpack_require__("./src/app/@core/data/state.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



var SERVICES = [
    __WEBPACK_IMPORTED_MODULE_2__state_service__["a" /* StateService */],
];
var DataModule = (function () {
    function DataModule() {
    }
    DataModule_1 = DataModule;
    DataModule.forRoot = function () {
        return {
            ngModule: DataModule_1,
            providers: SERVICES.slice(),
        };
    };
    DataModule = DataModule_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */],
            ],
            providers: SERVICES.slice(),
        })
    ], DataModule);
    return DataModule;
    var DataModule_1;
}());



/***/ }),

/***/ "./src/app/@core/data/state.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return StateService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_BehaviorSubject__ = __webpack_require__("./node_modules/rxjs/_esm5/BehaviorSubject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_observable_of__ = __webpack_require__("./node_modules/rxjs/_esm5/add/observable/of.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var StateService = (function () {
    function StateService() {
        this.layouts = [
            {
                name: 'One Column',
                icon: 'nb-layout-default',
                id: 'one-column',
                selected: true,
            },
            {
                name: 'Two Column',
                icon: 'nb-layout-two-column',
                id: 'two-column',
            },
            {
                name: 'Center Column',
                icon: 'nb-layout-centre',
                id: 'center-column',
            },
        ];
        this.sidebars = [
            {
                name: 'Left Sidebar',
                icon: 'nb-layout-sidebar-left',
                id: 'left',
                selected: true,
            },
            {
                name: 'Right Sidebar',
                icon: 'nb-layout-sidebar-right',
                id: 'right',
            },
        ];
        this.layoutState$ = new __WEBPACK_IMPORTED_MODULE_2_rxjs_BehaviorSubject__["a" /* BehaviorSubject */](this.layouts[0]);
        this.sidebarState$ = new __WEBPACK_IMPORTED_MODULE_2_rxjs_BehaviorSubject__["a" /* BehaviorSubject */](this.sidebars[0]);
    }
    StateService.prototype.setLayoutState = function (state) {
        this.layoutState$.next(state);
    };
    StateService.prototype.getLayoutStates = function () {
        return __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__["a" /* Observable */].of(this.layouts);
    };
    StateService.prototype.onLayoutState = function () {
        return this.layoutState$.asObservable();
    };
    StateService.prototype.setSidebarState = function (state) {
        this.sidebarState$.next(state);
    };
    StateService.prototype.getSidebarStates = function () {
        return __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__["a" /* Observable */].of(this.sidebars);
    };
    StateService.prototype.onSidebarState = function () {
        return this.sidebarState$.asObservable();
    };
    StateService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], StateService);
    return StateService;
}());



/***/ }),

/***/ "./src/app/@core/module-import-guard.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["a"] = throwIfAlreadyLoaded;
function throwIfAlreadyLoaded(parentModule, moduleName) {
    if (parentModule) {
        throw new Error(moduleName + " has already been loaded. Import Core modules in the AppModule only.");
    }
}


/***/ }),

/***/ "./src/app/@theme/components/footer/footer.component.scss":
/***/ (function(module, exports) {

module.exports = "/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This is a starting point where we declare the maps of themes and globally available functions/mixins\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\nbutton:focus {\n  outline: none; }\n.mat-icon {\n  font-size: 17px; }\ninput[type=date]::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  display: none; }\n.float {\n  position: fixed;\n  width: 60px;\n  height: 60px;\n  bottom: 20px !important;\n  right: 20px !important;\n  background-color: #0C9;\n  color: #FFF;\n  border-radius: 50px;\n  text-align: center;\n  -webkit-box-shadow: 2px 2px 3px #999;\n          box-shadow: 2px 2px 3px #999; }\n.my-float {\n  margin-top: 22px; }\na:hover {\n  cursor: pointer; }\n.mat-checkbox-checked.mat-accent .mat-checkbox-background, .mat-checkbox-indeterminate.mat-accent .mat-checkbox-background {\n  background-color: #1b8ef1 !important; }\n.mat-ripple-element {\n  background: rgba(27, 142, 241, 0.4) !important; }\n.mat-radio-button.mat-accent .mat-radio-inner-circle {\n  background-color: #4286f4; }\n.mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle {\n  border-color: #4286f4; }\n.mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element {\n  background-color: rgba(66, 134, 244, 0.26); }\n@-webkit-keyframes spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n@keyframes spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n#test {\n  margin-top: 25px;\n  font-size: 21px;\n  text-align: center;\n  -webkit-animation: fadein 1s;\n  /* Safari, Chrome and Opera > 12.1 */\n  /* Firefox < 16 */\n  /* Internet Explorer */\n  /* Opera < 12.1 */\n  animation: fadein 1s; }\n@keyframes fadein {\n  from {\n    opacity: 0; }\n  to {\n    opacity: 1; } }\n/* Firefox < 16 */\n/* Safari, Chrome and Opera > 12.1 */\n@-webkit-keyframes fadein {\n  from {\n    opacity: 0; }\n  to {\n    opacity: 1; } }\n/* Internet Explorer */\n/* Opera < 12.1 */\n.mat-table {\n  position: relative;\n  overflow-x: auto;\n  width: 100%;\n  background-color: rgba(255, 255, 255, 0.959); }\n.mat-paginator {\n  background-color: white; }\n.mat-row, .mat-header-row {\n  min-width: 1024px;\n  width: 100%;\n  padding: 0px 0px !important;\n  cursor: pointer; }\n.mat-row:hover {\n  background-color: rgba(211, 211, 211, 0.377) !important; }\n.mat-header-cell, .mat-cell {\n  font-size: 11px !important;\n  padding-top: 2px !important;\n  padding-bottom: 2px !important;\n  text-align: center !important; }\n::ng-deep .mat-sort-header-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  color: black;\n  padding-left: 15px !important; }\n.mat-chip {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px;\n  margin: auto; }\nbutton.mat-icon-button:active,\nbutton.mat-icon-button:focus,\nbutton.mat-icon-button {\n  border: none;\n  outline: none;\n  cursor: pointer; }\n@media only screen and (max-height: 800px) {\n  ::ng-deep .mat-menu-panel {\n    max-height: 300px !important;\n    overflow: auto !important;\n    right: 10px; } }\nbutton.mat-menu-item {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px; }\n::ng-deep .mat-sort-header-arrow.ng-trigger.ng-trigger-arrowPosition {\n  opacity: 0; }\n::ng-deep .mat-sort-header-pointer-left.ng-trigger.ng-trigger-leftPointer {\n  -webkit-transform: rotate(-45deg);\n          transform: rotate(-45deg); }\n::ng-deep .mat-sort-header-pointer-right.ng-trigger.ng-trigger-rightPointer {\n  -webkit-transform: rotate(45deg);\n          transform: rotate(45deg); }\nnb-sidebar,\nnb-sidebar > div.main-container {\n  -webkit-transition: width 0.5s;\n  transition: width 0.5s; }\n::ng-deep .mat-dialog-container {\n  border-radius: 5px !important;\n  display: inline-block !important;\n  position: fixed !important;\n  top: 2.5% !important;\n  bottom: auto !important;\n  left: 0 !important;\n  right: 0 !important;\n  margin: auto !important;\n  height: -webkit-fit-content !important;\n  height: -moz-fit-content !important;\n  height: fit-content !important;\n  width: -webkit-fit-content !important;\n  width: -moz-fit-content !important;\n  width: fit-content !important;\n  max-height: 95% !important;\n  max-width: 85% !important; }\n::ng-deep .mat-tooltip {\n  font-size: 14px; }\n.w-100 {\n  width: 100%; }\n.ptb-10 {\n  padding: 10px 0px 10px 0px; }\n.pt-10 {\n  padding-top: 10px; }\n.pb-10 {\n  padding-bottom: 10px; }\n.bottom-align {\n  bottom: 0px;\n  position: absolute !important; }\n.hide-overflow {\n  overflow: hidden !important; }\n@media only screen and (max-width: 400px) {\n  .bottom-align {\n    position: relative !important; } }\n.mat-datepicker-popup {\n  -webkit-transform: scale(0.85);\n          transform: scale(0.85);\n  -webkit-transform-origin: 0% 0;\n          transform-origin: 0% 0; }\n.invoice-button-container {\n  text-align: center; }\n.confirm-container {\n  text-align: center !important;\n  margin-left: 150px !important;\n  margin-top: 20px !important; }\n.invoice-button {\n  display: inline-block !important;\n  margin: 5px 5px 5px 5px !important; }\n.call-container {\n  text-align: left; }\n.call-div {\n  display: inline-block !important;\n  margin: 10px 10px 10px 10px !important; }\n@media only screen and (max-width: 480px) {\n  .mat-paginator-page-size {\n    margin-right: 0px;\n    -webkit-transform: scale(0.9, 0.9);\n            transform: scale(0.9, 0.9); }\n  .mat-paginator-range-label {\n    margin: 0 10px 0 5px; }\n  .invoice-button-container {\n    text-align: left; }\n  .confirm-container {\n    text-align: center !important;\n    width: 100% !important;\n    margin-left: unset !important;\n    margin-top: 20px !important; }\n  .confirm-question {\n    text-align: center !important; }\n  .mobile-select {\n    width: 45% !important;\n    -webkit-transform: scale(0.85);\n            transform: scale(0.85);\n    -webkit-transform-origin: 0% 0;\n            transform-origin: 0% 0; }\n  .filter-field {\n    width: 60% !important; }\n  .filter-date {\n    width: 45% !important; }\n  nb-card {\n    margin-right: -10px;\n    margin-left: -10px; } }\n.filter-field {\n  width: 30%; }\n.img-icon {\n  height: 17px; }\n@media only screen and (min-width: 490px) {\n  .filter-icon {\n    font-size: 30px !important; }\n  .img-icon {\n    height: 30px; }\n  nb-card {\n    margin-right: -10px; }\n  .graph-height {\n    height: 62vh !important; } }\nnb-card-body {\n  padding-right: 15px !important; }\n.modal-row {\n  margin-right: -2px;\n  margin-left: -15px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap; }\n.mat-snack-bar-container {\n  margin: 10px !important;\n  opacity: 0.9 !important; }\n.mat-simple-snackbar {\n  padding: 5px !important; }\n.mat-chip {\n  -webkit-transform: scale(0.85, 0.85);\n          transform: scale(0.85, 0.85); }\n.mat-list-item {\n  font-size: inherit; }\nnb-layout-header {\n  z-index: 100 !important; }\n.nb-theme-cosmic nb-layout .layout .layout-container nb-sidebar.fixed {\n  z-index: 1000; }\n.mat-ripple-element {\n  display: none !important; }\n.mat-raised-button.mat-primary {\n  background-color: #3fb577 !important; }\n.mat-raised-button[disabled][disabled] {\n  background-color: rgba(0, 0, 0, 0.12) !important; }\ninput.mat-input-element {\n  margin-top: 5px; }\n.nb-theme-cosmic nb-menu {\n  font-size: 14px !important; }\n.nb-theme-cosmic nb-sidebar {\n  line-height: 1.15 !important; }\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n:host-context(.nb-theme-default) {\n  width: 100%;\n  display: block;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n:host-context(.nb-theme-default) .socials {\n    font-size: 2rem; }\n:host-context(.nb-theme-default) .socials a {\n      padding: 0.4rem;\n      color: #a4abb3;\n      -webkit-transition: color ease-out 0.1s;\n      transition: color ease-out 0.1s; }\n:host-context(.nb-theme-default) .socials a:hover {\n        color: #2a2a2a; }\n@media (max-width: 575px) {\n    :host-context(.nb-theme-default) .socials {\n      font-size: 1.5rem; } }\n:host-context(.nb-theme-cosmic) {\n  width: 100%;\n  display: block;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n:host-context(.nb-theme-cosmic) .socials {\n    font-size: 2rem; }\n:host-context(.nb-theme-cosmic) .socials a {\n      padding: 0.4rem;\n      color: #a4abb3;\n      -webkit-transition: color ease-out 0.1s;\n      transition: color ease-out 0.1s; }\n:host-context(.nb-theme-cosmic) .socials a:hover {\n        color: #2a2a2a; }\n@media (max-width: 575px) {\n    :host-context(.nb-theme-cosmic) .socials {\n      font-size: 1.5rem; } }\n"

/***/ }),

/***/ "./src/app/@theme/components/footer/footer.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FooterComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var FooterComponent = (function () {
    function FooterComponent() {
    }
    FooterComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ngx-footer',
            styles: [__webpack_require__("./src/app/@theme/components/footer/footer.component.scss")],
            template: "\n    <span class=\"created-by\">Created by <a href=\"http://www.techsimians.com\" target=\"_blank\"><b>Tech Simians</b></a></span>\n  ",
        })
    ], FooterComponent);
    return FooterComponent;
}());



/***/ }),

/***/ "./src/app/@theme/components/header/header.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"header-container\"\n     [class.left]=\"position === 'normal'\"\n     [class.right]=\"position === 'inverse'\">\n  <div class=\"logo-containter\">\n    <a (click)=\"toggleSidebar()\" href=\"#\" class=\"navigation\"><i class=\"nb-menu\"></i></a>\n    <div style=\"cursor: pointer;\" class=\"logo\" (click)=\"goToHome()\"><span>YourFleetMan</span></div>\n    <mat-form-field *ngIf=\"screenWidth>=480\" style=\"text-align: center;margin-left: 25px;\" class=\"no-line\">\n      <mat-select [(ngModel)]=\"selectValue\" #mySelect (mouseover)=\"mySelect.open()\" class=\"my-class\">\n        <span (mouseleave)=\"mySelect.close()\">\n        <mat-option style=\"text-align: center;color: black;\" value=\"Quick Links\" disabled>Quick Links</mat-option>\n        <mat-option value=\"Duties\" (click)=\"quickRoute('/pages/duties')\">Duties</mat-option>\n        <mat-optgroup label=\"Bookings\">\n          <mat-option value=\"Add Booking\" *ngIf=\"permission.addBooking\" (click)=\"quickRoute('/pages/operations/addbooking')\">\n            Add Booking\n          </mat-option>\n          <mat-option value=\"View Bookings\"  *ngIf=\"permission.viewBookings\" (click)=\"quickRoute('/pages/operations/bookingsdisp')\">\n            View Bookings\n          </mat-option>\n        </mat-optgroup>\n        <mat-optgroup label=\"Hotels\" *ngIf=\"permission.addHotelsBookings || permission.viewHotelsBookings\">\n          <mat-option value=\"Add Hotel Booking\" *ngIf=\"permission.addHotelsBookings\" (click)=\"quickRoute('/pages/hotels/displayhotelbookings')\">\n            Add Hotel Booking\n          </mat-option>\n          <mat-option value=\"View Hotel Bookings\"  *ngIf=\"permission.viewHotelsBookings\" (click)=\"quickRoute('/pages/hotels/displayhotelbookings')\">\n            View Hotel Bookings\n          </mat-option>\n        </mat-optgroup>\n        <mat-optgroup label=\"Flights\" *ngIf=\"permission.addFlights || permission.viewFlights\">\n          <mat-option value=\"Add Flight Booking\"  *ngIf=\"permission.addFlights\" (click)=\"quickRoute('/pages/airline/airlinedisp')\">\n            Add Flight Booking\n          </mat-option>\n          <mat-option value=\"View Flight Bookings\" *ngIf=\"permission.viewFlights\" (click)=\"quickRoute('/pages/airline/airlinedisp')\">\n            View Flight Bookings\n          </mat-option>\n        </mat-optgroup>\n        </span>\n      </mat-select>\n    </mat-form-field>\n  </div>\n</div>\n\n<button *ngIf=\"screenWidth<=480\" class=\"button-badge\" mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>notifications</mat-icon><span class=\"badge alert\">{{notificationCount}}</span></button>\n    <mat-menu #menu=\"matMenu\" yPosition=\"below\" overlapTrigger=\"false\">\n      <button mat-menu-item (click)=\"route(item.route,item.id)\" *ngFor=\"let item of notifications\" [ngStyle]=\"{'background-color':rowColor(item.status)}\">\n          {{ item.Content }}\n      </button>\n      <button *ngIf=\"notifications.length==0\" style=\"border-bottom: 1px solid lightgray;\" disabled mat-menu-item>You do not have any new notifications</button>\n      <button style=\"text-align:center;border-top: 1px solid lightgray;width: 100% !important;\" (click)=\"showAllNotifications()\" mat-menu-item>Show all</button>\n</mat-menu>\n\n<nb-actions\n  style=\"padding-right:40px\"\n  size=\"medium\"\n  class=\"header-container\"\n  [class.right]=\"position === 'normal'\"\n  [class.left]=\"position === 'inverse'\"\n  *ngIf=\"screenWidth>=480\">\n\n  <nb-action>\n    <nb-user [nbContextMenu]=\"items\" [name]=\"user?.name\" style=\"cursor:pointer;\"></nb-user>\n  </nb-action>\n\n  <nb-action>\n    <button class=\"button-badge\" mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>notifications</mat-icon><span class=\"badge alert\">{{notificationCount}}</span></button>\n    <mat-menu #menu=\"matMenu\" yPosition=\"below\" overlapTrigger=\"false\" class=\"my-full-width-menu\">\n      <button mat-menu-item (click)=\"route(item.route,item.id)\" *ngFor=\"let item of notifications\" [ngStyle]=\"{'background-color':rowColor(item.status)}\" class=\"full-button\">\n        {{ item.Content }} <i *ngIf=\"item.status=='Read'\" class=\"fa fa-check\" style=\"margin-left:10px;\" aria-hidden=\"true\"></i>\n      </button>\n      <button *ngIf=\"notifications.length==0\" style=\"border-bottom: 1px solid lightgray;\" disabled mat-menu-item class=\"full-button\">You do not have any new notifications</button>\n      <button style=\"text-align:center;border-top: 1px solid lightgray;width: 100% !important;\" (click)=\"showAllNotifications()\" mat-menu-item class=\"full-button\">Show all</button>\n    </mat-menu>\n  </nb-action>\n  \n</nb-actions>"

/***/ }),

/***/ "./src/app/@theme/components/header/header.component.scss":
/***/ (function(module, exports) {

module.exports = "/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This is a starting point where we declare the maps of themes and globally available functions/mixins\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\nbutton:focus {\n  outline: none; }\n.mat-icon {\n  font-size: 17px; }\ninput[type=date]::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  display: none; }\n.float {\n  position: fixed;\n  width: 60px;\n  height: 60px;\n  bottom: 20px !important;\n  right: 20px !important;\n  background-color: #0C9;\n  color: #FFF;\n  border-radius: 50px;\n  text-align: center;\n  -webkit-box-shadow: 2px 2px 3px #999;\n          box-shadow: 2px 2px 3px #999; }\n.my-float {\n  margin-top: 22px; }\na:hover {\n  cursor: pointer; }\n.mat-checkbox-checked.mat-accent .mat-checkbox-background, .mat-checkbox-indeterminate.mat-accent .mat-checkbox-background {\n  background-color: #1b8ef1 !important; }\n.mat-ripple-element {\n  background: rgba(27, 142, 241, 0.4) !important; }\n.mat-radio-button.mat-accent .mat-radio-inner-circle {\n  background-color: #4286f4; }\n.mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle {\n  border-color: #4286f4; }\n.mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element {\n  background-color: rgba(66, 134, 244, 0.26); }\n@-webkit-keyframes spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n@keyframes spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n#test {\n  margin-top: 25px;\n  font-size: 21px;\n  text-align: center;\n  -webkit-animation: fadein 1s;\n  /* Safari, Chrome and Opera > 12.1 */\n  /* Firefox < 16 */\n  /* Internet Explorer */\n  /* Opera < 12.1 */\n  animation: fadein 1s; }\n@keyframes fadein {\n  from {\n    opacity: 0; }\n  to {\n    opacity: 1; } }\n/* Firefox < 16 */\n/* Safari, Chrome and Opera > 12.1 */\n@-webkit-keyframes fadein {\n  from {\n    opacity: 0; }\n  to {\n    opacity: 1; } }\n/* Internet Explorer */\n/* Opera < 12.1 */\n.mat-table {\n  position: relative;\n  overflow-x: auto;\n  width: 100%;\n  background-color: rgba(255, 255, 255, 0.959); }\n.mat-paginator {\n  background-color: white; }\n.mat-row, .mat-header-row {\n  min-width: 1024px;\n  width: 100%;\n  padding: 0px 0px !important;\n  cursor: pointer; }\n.mat-row:hover {\n  background-color: rgba(211, 211, 211, 0.377) !important; }\n.mat-header-cell, .mat-cell {\n  font-size: 11px !important;\n  padding-top: 2px !important;\n  padding-bottom: 2px !important;\n  text-align: center !important; }\n::ng-deep .mat-sort-header-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  color: black;\n  padding-left: 15px !important; }\n.mat-chip {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px;\n  margin: auto; }\nbutton.mat-icon-button:active,\nbutton.mat-icon-button:focus,\nbutton.mat-icon-button {\n  border: none;\n  outline: none;\n  cursor: pointer; }\n@media only screen and (max-height: 800px) {\n  ::ng-deep .mat-menu-panel {\n    max-height: 300px !important;\n    overflow: auto !important;\n    right: 10px; } }\nbutton.mat-menu-item {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px; }\n::ng-deep .mat-sort-header-arrow.ng-trigger.ng-trigger-arrowPosition {\n  opacity: 0; }\n::ng-deep .mat-sort-header-pointer-left.ng-trigger.ng-trigger-leftPointer {\n  -webkit-transform: rotate(-45deg);\n          transform: rotate(-45deg); }\n::ng-deep .mat-sort-header-pointer-right.ng-trigger.ng-trigger-rightPointer {\n  -webkit-transform: rotate(45deg);\n          transform: rotate(45deg); }\nnb-sidebar,\nnb-sidebar > div.main-container {\n  -webkit-transition: width 0.5s;\n  transition: width 0.5s; }\n::ng-deep .mat-dialog-container {\n  border-radius: 5px !important;\n  display: inline-block !important;\n  position: fixed !important;\n  top: 2.5% !important;\n  bottom: auto !important;\n  left: 0 !important;\n  right: 0 !important;\n  margin: auto !important;\n  height: -webkit-fit-content !important;\n  height: -moz-fit-content !important;\n  height: fit-content !important;\n  width: -webkit-fit-content !important;\n  width: -moz-fit-content !important;\n  width: fit-content !important;\n  max-height: 95% !important;\n  max-width: 85% !important; }\n::ng-deep .mat-tooltip {\n  font-size: 14px; }\n.w-100 {\n  width: 100%; }\n.ptb-10 {\n  padding: 10px 0px 10px 0px; }\n.pt-10 {\n  padding-top: 10px; }\n.pb-10 {\n  padding-bottom: 10px; }\n.bottom-align {\n  bottom: 0px;\n  position: absolute !important; }\n.hide-overflow {\n  overflow: hidden !important; }\n@media only screen and (max-width: 400px) {\n  .bottom-align {\n    position: relative !important; } }\n.mat-datepicker-popup {\n  -webkit-transform: scale(0.85);\n          transform: scale(0.85);\n  -webkit-transform-origin: 0% 0;\n          transform-origin: 0% 0; }\n.invoice-button-container {\n  text-align: center; }\n.confirm-container {\n  text-align: center !important;\n  margin-left: 150px !important;\n  margin-top: 20px !important; }\n.invoice-button {\n  display: inline-block !important;\n  margin: 5px 5px 5px 5px !important; }\n.call-container {\n  text-align: left; }\n.call-div {\n  display: inline-block !important;\n  margin: 10px 10px 10px 10px !important; }\n@media only screen and (max-width: 480px) {\n  .mat-paginator-page-size {\n    margin-right: 0px;\n    -webkit-transform: scale(0.9, 0.9);\n            transform: scale(0.9, 0.9); }\n  .mat-paginator-range-label {\n    margin: 0 10px 0 5px; }\n  .invoice-button-container {\n    text-align: left; }\n  .confirm-container {\n    text-align: center !important;\n    width: 100% !important;\n    margin-left: unset !important;\n    margin-top: 20px !important; }\n  .confirm-question {\n    text-align: center !important; }\n  .mobile-select {\n    width: 45% !important;\n    -webkit-transform: scale(0.85);\n            transform: scale(0.85);\n    -webkit-transform-origin: 0% 0;\n            transform-origin: 0% 0; }\n  .filter-field {\n    width: 60% !important; }\n  .filter-date {\n    width: 45% !important; }\n  nb-card {\n    margin-right: -10px;\n    margin-left: -10px; } }\n.filter-field {\n  width: 30%; }\n.img-icon {\n  height: 17px; }\n@media only screen and (min-width: 490px) {\n  .filter-icon {\n    font-size: 30px !important; }\n  .img-icon {\n    height: 30px; }\n  nb-card {\n    margin-right: -10px; }\n  .graph-height {\n    height: 62vh !important; } }\nnb-card-body {\n  padding-right: 15px !important; }\n.modal-row {\n  margin-right: -2px;\n  margin-left: -15px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap; }\n.mat-snack-bar-container {\n  margin: 10px !important;\n  opacity: 0.9 !important; }\n.mat-simple-snackbar {\n  padding: 5px !important; }\n.mat-chip {\n  -webkit-transform: scale(0.85, 0.85);\n          transform: scale(0.85, 0.85); }\n.mat-list-item {\n  font-size: inherit; }\nnb-layout-header {\n  z-index: 100 !important; }\n.nb-theme-cosmic nb-layout .layout .layout-container nb-sidebar.fixed {\n  z-index: 1000; }\n.mat-ripple-element {\n  display: none !important; }\n.mat-raised-button.mat-primary {\n  background-color: #3fb577 !important; }\n.mat-raised-button[disabled][disabled] {\n  background-color: rgba(0, 0, 0, 0.12) !important; }\ninput.mat-input-element {\n  margin-top: 5px; }\n.nb-theme-cosmic nb-menu {\n  font-size: 14px !important; }\n.nb-theme-cosmic nb-sidebar {\n  line-height: 1.15 !important; }\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n.mat-icon {\n  font-size: 24px; }\n:host-context(.nb-theme-default) {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  width: 100%; }\n:host-context(.nb-theme-default) .left {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    width: 100%;\n    -webkit-box-ordinal-group: 1;\n        -ms-flex-order: 0;\n            order: 0;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: row;\n            flex-direction: row; }\n:host-context(.nb-theme-default) .right {\n    -webkit-box-ordinal-group: 2;\n        -ms-flex-order: 1;\n            order: 1;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: reverse;\n        -ms-flex-direction: row-reverse;\n            flex-direction: row-reverse; }\n:host-context(.nb-theme-default) .logo-containter {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center; }\n:host-context(.nb-theme-default) .control-item {\n    display: block; }\n:host-context(.nb-theme-default) .header-container {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    width: 100%; }\n:host-context(.nb-theme-default) .header-container .navigation {\n      padding-right: 1.25rem;\n      font-size: 2.5rem;\n      text-decoration: none; }\n:host-context(.nb-theme-default) .header-container .navigation i {\n        display: block; }\n:host-context(.nb-theme-default) .header-container .logo {\n      padding: 0 1.25rem;\n      font-size: 1.75rem;\n      font-weight: 500;\n      border-left: 1px solid #ebeef2;\n      white-space: nowrap; }\n:host-context(.nb-theme-default) .header-container .logo span {\n        font-weight: 400; }\n:host-context(.nb-theme-default) .toggle-layout /deep/ a {\n    display: block;\n    text-decoration: none;\n    line-height: 1; }\n:host-context(.nb-theme-default) .toggle-layout /deep/ a i {\n      color: #40dc7e;\n      font-size: 2.25rem; }\n@media (max-width: 991px) {\n    :host-context(.nb-theme-default) nb-action:not(.toggle-layout) {\n      border: none; }\n    :host-context(.nb-theme-default) .control-item {\n      display: none; }\n    :host-context(.nb-theme-default) .toggle-layout {\n      padding: 0; } }\n@media (max-width: 767px) {\n    :host-context(.nb-theme-default) nb-user /deep/ .user-name {\n      display: none; } }\n@media (max-width: 575px) {\n    :host-context(.nb-theme-default) .header-container .logo {\n      font-size: 1.25rem; }\n    :host-context(.nb-theme-default) .toggle-layout {\n      display: none; }\n    :host-context(.nb-theme-default) nb-action:not(.toggle-layout) {\n      padding: 0; } }\n@media (max-width: 399px) {\n    :host-context(.nb-theme-default) .right /deep/ {\n      display: none; } }\n:host-context(.nb-theme-cosmic) {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  width: 100%; }\n:host-context(.nb-theme-cosmic) .left {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    width: 100%;\n    -webkit-box-ordinal-group: 1;\n        -ms-flex-order: 0;\n            order: 0;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: row;\n            flex-direction: row; }\n:host-context(.nb-theme-cosmic) .right {\n    -webkit-box-ordinal-group: 2;\n        -ms-flex-order: 1;\n            order: 1;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: reverse;\n        -ms-flex-direction: row-reverse;\n            flex-direction: row-reverse; }\n:host-context(.nb-theme-cosmic) .logo-containter {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center; }\n:host-context(.nb-theme-cosmic) .control-item {\n    display: block; }\n:host-context(.nb-theme-cosmic) .header-container {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    width: 100%; }\n:host-context(.nb-theme-cosmic) .header-container .navigation {\n      padding-right: 1.25rem;\n      font-size: 2.5rem;\n      text-decoration: none; }\n:host-context(.nb-theme-cosmic) .header-container .navigation i {\n        display: block; }\n:host-context(.nb-theme-cosmic) .header-container .logo {\n      padding: 0 1.25rem;\n      font-size: 1.75rem;\n      font-weight: 500;\n      border-left: 1px solid #ebeef2;\n      white-space: nowrap; }\n:host-context(.nb-theme-cosmic) .header-container .logo span {\n        font-weight: 400; }\n:host-context(.nb-theme-cosmic) .toggle-layout /deep/ a {\n    display: block;\n    text-decoration: none;\n    line-height: 1; }\n:host-context(.nb-theme-cosmic) .toggle-layout /deep/ a i {\n      color: #40dc7e;\n      font-size: 2.25rem; }\n@media (max-width: 991px) {\n    :host-context(.nb-theme-cosmic) nb-action:not(.toggle-layout) {\n      border: none; }\n    :host-context(.nb-theme-cosmic) .control-item {\n      display: none; }\n    :host-context(.nb-theme-cosmic) .toggle-layout {\n      padding: 0; } }\n@media (max-width: 767px) {\n    :host-context(.nb-theme-cosmic) nb-user /deep/ .user-name {\n      display: none; } }\n@media (max-width: 575px) {\n    :host-context(.nb-theme-cosmic) .header-container .logo {\n      font-size: 1.25rem; }\n    :host-context(.nb-theme-cosmic) .toggle-layout {\n      display: none; }\n    :host-context(.nb-theme-cosmic) nb-action:not(.toggle-layout) {\n      padding: 0; } }\n@media (max-width: 399px) {\n    :host-context(.nb-theme-cosmic) .right /deep/ {\n      display: none; } }\n.button-badge {\n  -webkit-box-align: end;\n      -ms-flex-align: end;\n          align-items: flex-end;\n  text-decoration: none;\n  position: relative;\n  display: inline-block;\n  border-radius: 50%;\n  -webkit-transition: all ease 1s;\n  transition: all ease 1s; }\n.button-badge:hover {\n  -webkit-box-shadow: 5px 5px 5px rgba(0, 0, 0, 0.1);\n          box-shadow: 5px 5px 5px rgba(0, 0, 0, 0.1); }\n.badge {\n  position: absolute;\n  top: -15px;\n  right: -20px;\n  font-size: 14px;\n  color: red; }\nbutton.mat-menu-item.full-button {\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  cursor: pointer;\n  outline: 0;\n  border: none;\n  -webkit-tap-highlight-color: transparent;\n  white-space: inherit;\n  overflow: hidden;\n  text-overflow: unset;\n  display: block;\n  height: auto;\n  padding: 20px;\n  text-align: left;\n  text-decoration: none;\n  max-width: 100%;\n  position: relative;\n  border-bottom: 1px solid lightgray; }\n::ng-deep .mat-menu-content {\n  padding-top: 0px !important;\n  padding-bottom: 0px !important; }\nbutton.mat-menu-item.full-button {\n  font-size: 15px !important;\n  height: auto !important;\n  line-height: inherit !important;\n  width: auto !important; }\n::ng-deep .mat-menu-panel.my-full-width-menu {\n  min-width: 280px !important;\n  max-height: 45vw !important; }\n::ng-deep .no-line .mat-form-field-underline {\n  display: none !important; }\n::ng-deep .no-line .mat-form-field-wrapper {\n  padding-bottom: 0.8em; }\n::ng-deep .my-class > .mat-select-panel {\n  max-height: unset !important; }\n::ng-deep .nb-theme-cosmic nb-popover {\n  border: 2px solid #509c42 !important;\n  -webkit-box-shadow: 0 2px 12px 0 #838790 !important;\n          box-shadow: 0 2px 12px 0 #838790 !important; }\n::ng-deep .nb-theme-cosmic nb-popover .arrow {\n  border-bottom: 11px solid #28a745 !important; }\n::ng-deep nb-menu ul.menu-items {\n  padding: 0 !important; }\n::ng-deep .nb-theme-cosmic nb-menu.context-menu .menu-items .menu-item a:hover {\n  color: #ffffff !important;\n  background: #28a745 !important; }\n"

/***/ }),

/***/ "./src/app/@theme/components/header/header.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HeaderComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__nebular_theme__ = __webpack_require__("./node_modules/@nebular/theme/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pages_masters_notifications_notification_service__ = __webpack_require__("./src/app/pages/masters/notifications/notification.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_material_snack_bar__ = __webpack_require__("./node_modules/@angular/material/esm5/snack-bar.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__messaging_service__ = __webpack_require__("./src/app/messaging.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var HeaderComponent = (function () {
    function HeaderComponent(sidebarService, menuService, msgService, snackBar, router, notificationService, auth) {
        this.sidebarService = sidebarService;
        this.menuService = menuService;
        this.msgService = msgService;
        this.snackBar = snackBar;
        this.router = router;
        this.notificationService = notificationService;
        this.auth = auth;
        this.position = 'normal';
        this.selectValue = "Quick Links";
        this.user = {};
        this.permission = {};
        this.notifications = [];
        this.items = [{ title: 'My Profile' }, { title: 'Business Settings' }, { title: 'Company Profile' }, { title: 'Logout' }];
        this.notificationCount = 0;
        // this.onResize();
    }
    HeaderComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.notificationService.getRecentNotifications(_this.user).subscribe(function (data) {
                // console.log(data)
                // console.log(data.length)
                _this.notifications = data;
            });
            _this.notificationService.getUnreadCount(_this.user).subscribe(function (data) {
                // console.log(data)
                // console.log(data.length)
                _this.notificationCount = data[0].count;
            });
            _this.auth.permissions.subscribe(function (data) {
                _this.permission = data[0];
                if (_this.permission.viewBusinessSetting === 0) {
                    var index = _this.items.findIndex(function (x) { return x.title === "Business Settings"; });
                    _this.items.splice(index, 1);
                }
                if (_this.permission.editCompanyInfo === 0) {
                    var index = _this.items.findIndex(function (x) { return x.title === "Company Profile"; });
                    _this.items.splice(index, 1);
                }
            });
        });
        this.screenWidth = window.innerWidth;
        if (this.screenWidth < 480) {
            this.menuService.addItems([{
                    title: 'Profile',
                    icon: 'nb-person',
                    children: [
                        {
                            title: 'My Profile',
                            link: '/pages/masters/myprofile'
                        },
                        {
                            title: 'Company Profile',
                            link: '/pages/circles/companyprofile'
                        },
                        {
                            title: 'Business Settings',
                            link: '/pages/circles/businesssetting'
                        },
                        {
                            title: 'Logout'
                        }
                    ]
                }]);
        }
    };
    HeaderComponent.prototype.showAllNotifications = function () {
        this.router.navigate(['/pages/masters/notifications']);
    };
    HeaderComponent.prototype.toggleSidebar = function () {
        this.sidebarService.toggle(true, 'menu-sidebar');
        return false;
    };
    HeaderComponent.prototype.rowColor = function (status) {
        if (status == 'Read') {
            return '#9acd3287';
        }
        else {
            return 'white';
        }
    };
    HeaderComponent.prototype.toggleSettings = function () {
        this.sidebarService.toggle(false, 'settings-sidebar');
        return false;
    };
    HeaderComponent.prototype.goToHome = function () {
        this.menuService.navigateHome();
    };
    HeaderComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        this.msgService.getPermission();
        this.msgService.receiveMessage();
        this.message = this.msgService.currentMessage;
        this.message.subscribe(function (payload) {
            if (payload != null && payload != undefined && payload != '') {
                // console.log(payload)
                // this.snackBar.open("Call from "+this.callFrom,"Show",{
                //   duration: 10000,
                // }).onAction().subscribe(payload=>{        
                //   window.open("http://localhost:8080/#/pages/bookinganddutydisplay");
                //   localStorage.setItem('callpayload', this.callFrom);
                // })
                if (payload.notification.body != null && payload.notification.body != undefined && payload.notification.body != '') {
                    _this.snackBar.open(payload.notification.body, "x", {
                        duration: 3000,
                        verticalPosition: 'top',
                        horizontalPosition: 'right'
                    });
                    _this.notificationService.getRecentNotifications(_this.user).subscribe(function (data) {
                        console.log(data);
                        console.log(data.length);
                        // this.notificationCount = data.length
                    });
                }
            }
        });
    };
    HeaderComponent.prototype.route = function (url, id) {
        var noti = {
            id: id
        };
        this.notificationService.setReadNotification(noti).subscribe();
        console.log(url);
        this.router.navigate([url]);
    };
    HeaderComponent.prototype.quickRoute = function (url) {
        this.router.navigate([url]);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], HeaderComponent.prototype, "position", void 0);
    HeaderComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ngx-header',
            styles: [__webpack_require__("./src/app/@theme/components/header/header.component.scss")],
            template: __webpack_require__("./src/app/@theme/components/header/header.component.html"),
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__nebular_theme__["l" /* NbSidebarService */],
            __WEBPACK_IMPORTED_MODULE_1__nebular_theme__["h" /* NbMenuService */],
            __WEBPACK_IMPORTED_MODULE_6__messaging_service__["a" /* MessagingService */],
            __WEBPACK_IMPORTED_MODULE_5__angular_material_snack_bar__["a" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__pages_masters_notifications_notification_service__["a" /* NotificationService */],
            __WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */]])
    ], HeaderComponent);
    return HeaderComponent;
}());



/***/ }),

/***/ "./src/app/@theme/components/index.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__header_header_component__ = __webpack_require__("./src/app/@theme/components/header/header.component.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "b", function() { return __WEBPACK_IMPORTED_MODULE_0__header_header_component__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__footer_footer_component__ = __webpack_require__("./src/app/@theme/components/footer/footer.component.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_1__footer_footer_component__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__search_input_search_input_component__ = __webpack_require__("./src/app/@theme/components/search-input/search-input.component.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "c", function() { return __WEBPACK_IMPORTED_MODULE_2__search_input_search_input_component__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__tiny_mce_tiny_mce_component__ = __webpack_require__("./src/app/@theme/components/tiny-mce/tiny-mce.component.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "f", function() { return __WEBPACK_IMPORTED_MODULE_3__tiny_mce_tiny_mce_component__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__theme_settings_theme_settings_component__ = __webpack_require__("./src/app/@theme/components/theme-settings/theme-settings.component.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "d", function() { return __WEBPACK_IMPORTED_MODULE_4__theme_settings_theme_settings_component__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__theme_switcher_theme_switcher_component__ = __webpack_require__("./src/app/@theme/components/theme-switcher/theme-switcher.component.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "e", function() { return __WEBPACK_IMPORTED_MODULE_5__theme_switcher_theme_switcher_component__["a"]; });








/***/ }),

/***/ "./src/app/@theme/components/search-input/search-input.component.scss":
/***/ (function(module, exports) {

module.exports = ":host {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n  :host i.control-icon::before {\n    font-size: 2.3rem; }\n  :host i.control-icon:hover {\n    cursor: pointer; }\n  :host input {\n    border: none;\n    outline: none;\n    margin-left: 1rem;\n    width: 15rem;\n    -webkit-transition: width 0.2s ease;\n    transition: width 0.2s ease; }\n  :host input.hidden {\n      width: 0;\n      margin: 0; }\n  :host /deep/ search-input input {\n    background: transparent; }\n"

/***/ }),

/***/ "./src/app/@theme/components/search-input/search-input.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SearchInputComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var SearchInputComponent = (function () {
    function SearchInputComponent() {
        this.search = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.isInputShown = false;
    }
    SearchInputComponent.prototype.showInput = function () {
        this.isInputShown = true;
        this.input.nativeElement.focus();
    };
    SearchInputComponent.prototype.hideInput = function () {
        this.isInputShown = false;
    };
    SearchInputComponent.prototype.onInput = function (val) {
        this.search.emit(val);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('input'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], SearchInputComponent.prototype, "input", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], SearchInputComponent.prototype, "search", void 0);
    SearchInputComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ngx-search-input',
            styles: [__webpack_require__("./src/app/@theme/components/search-input/search-input.component.scss")],
            template: "\n    <i class=\"control-icon ion ion-ios-search\"\n       (click)=\"showInput()\"></i>\n    <input placeholder=\"Type your search request here...\"\n           #input\n           [class.hidden]=\"!isInputShown\"\n           (blur)=\"hideInput()\"\n           (input)=\"onInput($event)\">\n  ",
        })
    ], SearchInputComponent);
    return SearchInputComponent;
}());



/***/ }),

/***/ "./src/app/@theme/components/theme-settings/theme-settings.component.scss":
/***/ (function(module, exports) {

module.exports = "/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This is a starting point where we declare the maps of themes and globally available functions/mixins\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\nbutton:focus {\n  outline: none; }\n.mat-icon {\n  font-size: 17px; }\ninput[type=date]::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  display: none; }\n.float {\n  position: fixed;\n  width: 60px;\n  height: 60px;\n  bottom: 20px !important;\n  right: 20px !important;\n  background-color: #0C9;\n  color: #FFF;\n  border-radius: 50px;\n  text-align: center;\n  -webkit-box-shadow: 2px 2px 3px #999;\n          box-shadow: 2px 2px 3px #999; }\n.my-float {\n  margin-top: 22px; }\na:hover {\n  cursor: pointer; }\n.mat-checkbox-checked.mat-accent .mat-checkbox-background, .mat-checkbox-indeterminate.mat-accent .mat-checkbox-background {\n  background-color: #1b8ef1 !important; }\n.mat-ripple-element {\n  background: rgba(27, 142, 241, 0.4) !important; }\n.mat-radio-button.mat-accent .mat-radio-inner-circle {\n  background-color: #4286f4; }\n.mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle {\n  border-color: #4286f4; }\n.mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element {\n  background-color: rgba(66, 134, 244, 0.26); }\n@-webkit-keyframes spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n@keyframes spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n#test {\n  margin-top: 25px;\n  font-size: 21px;\n  text-align: center;\n  -webkit-animation: fadein 1s;\n  /* Safari, Chrome and Opera > 12.1 */\n  /* Firefox < 16 */\n  /* Internet Explorer */\n  /* Opera < 12.1 */\n  animation: fadein 1s; }\n@keyframes fadein {\n  from {\n    opacity: 0; }\n  to {\n    opacity: 1; } }\n/* Firefox < 16 */\n/* Safari, Chrome and Opera > 12.1 */\n@-webkit-keyframes fadein {\n  from {\n    opacity: 0; }\n  to {\n    opacity: 1; } }\n/* Internet Explorer */\n/* Opera < 12.1 */\n.mat-table {\n  position: relative;\n  overflow-x: auto;\n  width: 100%;\n  background-color: rgba(255, 255, 255, 0.959); }\n.mat-paginator {\n  background-color: white; }\n.mat-row, .mat-header-row {\n  min-width: 1024px;\n  width: 100%;\n  padding: 0px 0px !important;\n  cursor: pointer; }\n.mat-row:hover {\n  background-color: rgba(211, 211, 211, 0.377) !important; }\n.mat-header-cell, .mat-cell {\n  font-size: 11px !important;\n  padding-top: 2px !important;\n  padding-bottom: 2px !important;\n  text-align: center !important; }\n::ng-deep .mat-sort-header-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  color: black;\n  padding-left: 15px !important; }\n.mat-chip {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px;\n  margin: auto; }\nbutton.mat-icon-button:active,\nbutton.mat-icon-button:focus,\nbutton.mat-icon-button {\n  border: none;\n  outline: none;\n  cursor: pointer; }\n@media only screen and (max-height: 800px) {\n  ::ng-deep .mat-menu-panel {\n    max-height: 300px !important;\n    overflow: auto !important;\n    right: 10px; } }\nbutton.mat-menu-item {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px; }\n::ng-deep .mat-sort-header-arrow.ng-trigger.ng-trigger-arrowPosition {\n  opacity: 0; }\n::ng-deep .mat-sort-header-pointer-left.ng-trigger.ng-trigger-leftPointer {\n  -webkit-transform: rotate(-45deg);\n          transform: rotate(-45deg); }\n::ng-deep .mat-sort-header-pointer-right.ng-trigger.ng-trigger-rightPointer {\n  -webkit-transform: rotate(45deg);\n          transform: rotate(45deg); }\nnb-sidebar,\nnb-sidebar > div.main-container {\n  -webkit-transition: width 0.5s;\n  transition: width 0.5s; }\n::ng-deep .mat-dialog-container {\n  border-radius: 5px !important;\n  display: inline-block !important;\n  position: fixed !important;\n  top: 2.5% !important;\n  bottom: auto !important;\n  left: 0 !important;\n  right: 0 !important;\n  margin: auto !important;\n  height: -webkit-fit-content !important;\n  height: -moz-fit-content !important;\n  height: fit-content !important;\n  width: -webkit-fit-content !important;\n  width: -moz-fit-content !important;\n  width: fit-content !important;\n  max-height: 95% !important;\n  max-width: 85% !important; }\n::ng-deep .mat-tooltip {\n  font-size: 14px; }\n.w-100 {\n  width: 100%; }\n.ptb-10 {\n  padding: 10px 0px 10px 0px; }\n.pt-10 {\n  padding-top: 10px; }\n.pb-10 {\n  padding-bottom: 10px; }\n.bottom-align {\n  bottom: 0px;\n  position: absolute !important; }\n.hide-overflow {\n  overflow: hidden !important; }\n@media only screen and (max-width: 400px) {\n  .bottom-align {\n    position: relative !important; } }\n.mat-datepicker-popup {\n  -webkit-transform: scale(0.85);\n          transform: scale(0.85);\n  -webkit-transform-origin: 0% 0;\n          transform-origin: 0% 0; }\n.invoice-button-container {\n  text-align: center; }\n.confirm-container {\n  text-align: center !important;\n  margin-left: 150px !important;\n  margin-top: 20px !important; }\n.invoice-button {\n  display: inline-block !important;\n  margin: 5px 5px 5px 5px !important; }\n.call-container {\n  text-align: left; }\n.call-div {\n  display: inline-block !important;\n  margin: 10px 10px 10px 10px !important; }\n@media only screen and (max-width: 480px) {\n  .mat-paginator-page-size {\n    margin-right: 0px;\n    -webkit-transform: scale(0.9, 0.9);\n            transform: scale(0.9, 0.9); }\n  .mat-paginator-range-label {\n    margin: 0 10px 0 5px; }\n  .invoice-button-container {\n    text-align: left; }\n  .confirm-container {\n    text-align: center !important;\n    width: 100% !important;\n    margin-left: unset !important;\n    margin-top: 20px !important; }\n  .confirm-question {\n    text-align: center !important; }\n  .mobile-select {\n    width: 45% !important;\n    -webkit-transform: scale(0.85);\n            transform: scale(0.85);\n    -webkit-transform-origin: 0% 0;\n            transform-origin: 0% 0; }\n  .filter-field {\n    width: 60% !important; }\n  .filter-date {\n    width: 45% !important; }\n  nb-card {\n    margin-right: -10px;\n    margin-left: -10px; } }\n.filter-field {\n  width: 30%; }\n.img-icon {\n  height: 17px; }\n@media only screen and (min-width: 490px) {\n  .filter-icon {\n    font-size: 30px !important; }\n  .img-icon {\n    height: 30px; }\n  nb-card {\n    margin-right: -10px; }\n  .graph-height {\n    height: 62vh !important; } }\nnb-card-body {\n  padding-right: 15px !important; }\n.modal-row {\n  margin-right: -2px;\n  margin-left: -15px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap; }\n.mat-snack-bar-container {\n  margin: 10px !important;\n  opacity: 0.9 !important; }\n.mat-simple-snackbar {\n  padding: 5px !important; }\n.mat-chip {\n  -webkit-transform: scale(0.85, 0.85);\n          transform: scale(0.85, 0.85); }\n.mat-list-item {\n  font-size: inherit; }\nnb-layout-header {\n  z-index: 100 !important; }\n.nb-theme-cosmic nb-layout .layout .layout-container nb-sidebar.fixed {\n  z-index: 1000; }\n.mat-ripple-element {\n  display: none !important; }\n.mat-raised-button.mat-primary {\n  background-color: #3fb577 !important; }\n.mat-raised-button[disabled][disabled] {\n  background-color: rgba(0, 0, 0, 0.12) !important; }\ninput.mat-input-element {\n  margin-top: 5px; }\n.nb-theme-cosmic nb-menu {\n  font-size: 14px !important; }\n.nb-theme-cosmic nb-sidebar {\n  line-height: 1.15 !important; }\n:host-context(.nb-theme-default) h6 {\n  margin-bottom: 0.5rem; }\n:host-context(.nb-theme-default) .settings-row {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  width: 90%;\n  margin: 0 0 1rem; }\n:host-context(.nb-theme-default) .settings-row a {\n    text-decoration: none;\n    font-size: 2.25rem;\n    color: #a4abb3; }\n:host-context(.nb-theme-default) .settings-row a.selected {\n      color: #40dc7e; }\n:host-context(.nb-theme-cosmic) h6 {\n  margin-bottom: 0.5rem; }\n:host-context(.nb-theme-cosmic) .settings-row {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  width: 90%;\n  margin: 0 0 1rem; }\n:host-context(.nb-theme-cosmic) .settings-row a {\n    text-decoration: none;\n    font-size: 2.25rem;\n    color: #a4abb3; }\n:host-context(.nb-theme-cosmic) .settings-row a.selected {\n      color: #40dc7e; }\n:host-context(.nb-theme-cosmic) .settings-row a.selected {\n      color: #3dcc6d; }\n"

/***/ }),

/***/ "./src/app/@theme/components/theme-settings/theme-settings.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ThemeSettingsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_data_state_service__ = __webpack_require__("./src/app/@core/data/state.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ThemeSettingsComponent = (function () {
    function ThemeSettingsComponent(stateService) {
        var _this = this;
        this.stateService = stateService;
        this.layouts = [];
        this.sidebars = [];
        this.stateService.getLayoutStates()
            .subscribe(function (layouts) { return _this.layouts = layouts; });
        this.stateService.getSidebarStates()
            .subscribe(function (sidebars) { return _this.sidebars = sidebars; });
    }
    ThemeSettingsComponent.prototype.layoutSelect = function (layout) {
        this.layouts = this.layouts.map(function (l) {
            l.selected = false;
            return l;
        });
        layout.selected = true;
        this.stateService.setLayoutState(layout);
        return false;
    };
    ThemeSettingsComponent.prototype.sidebarSelect = function (sidebars) {
        this.sidebars = this.sidebars.map(function (s) {
            s.selected = false;
            return s;
        });
        sidebars.selected = true;
        this.stateService.setSidebarState(sidebars);
        return false;
    };
    ThemeSettingsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ngx-theme-settings',
            styles: [__webpack_require__("./src/app/@theme/components/theme-settings/theme-settings.component.scss")],
            template: "\n    <h6>LAYOUTS</h6>\n    <div class=\"settings-row\">\n      <a *ngFor=\"let layout of layouts\"\n         href=\"#\"\n         [class.selected]=\"layout.selected\"\n         [attr.title]=\"layout.name\"\n         (click)=\"layoutSelect(layout)\">\n        <i [attr.class]=\"layout.icon\"></i>\n      </a>\n    </div>\n    <h6>SIDEBAR</h6>\n    <div class=\"settings-row\">\n      <a *ngFor=\"let sidebar of sidebars\"\n         href=\"#\"\n         [class.selected]=\"sidebar.selected\"\n         [attr.title]=\"sidebar.name\"\n         (click)=\"sidebarSelect(sidebar)\">\n        <i [attr.class]=\"sidebar.icon\"></i>\n      </a>\n    </div>\n  ",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__core_data_state_service__["a" /* StateService */]])
    ], ThemeSettingsComponent);
    return ThemeSettingsComponent;
}());



/***/ }),

/***/ "./src/app/@theme/components/theme-switcher/theme-switcher.component.scss":
/***/ (function(module, exports) {

module.exports = "/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This is a starting point where we declare the maps of themes and globally available functions/mixins\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\nbutton:focus {\n  outline: none; }\n.mat-icon {\n  font-size: 17px; }\ninput[type=date]::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  display: none; }\n.float {\n  position: fixed;\n  width: 60px;\n  height: 60px;\n  bottom: 20px !important;\n  right: 20px !important;\n  background-color: #0C9;\n  color: #FFF;\n  border-radius: 50px;\n  text-align: center;\n  -webkit-box-shadow: 2px 2px 3px #999;\n          box-shadow: 2px 2px 3px #999; }\n.my-float {\n  margin-top: 22px; }\na:hover {\n  cursor: pointer; }\n.mat-checkbox-checked.mat-accent .mat-checkbox-background, .mat-checkbox-indeterminate.mat-accent .mat-checkbox-background {\n  background-color: #1b8ef1 !important; }\n.mat-ripple-element {\n  background: rgba(27, 142, 241, 0.4) !important; }\n.mat-radio-button.mat-accent .mat-radio-inner-circle {\n  background-color: #4286f4; }\n.mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle {\n  border-color: #4286f4; }\n.mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element {\n  background-color: rgba(66, 134, 244, 0.26); }\n@-webkit-keyframes spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n@keyframes spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n#test {\n  margin-top: 25px;\n  font-size: 21px;\n  text-align: center;\n  -webkit-animation: fadein 1s;\n  /* Safari, Chrome and Opera > 12.1 */\n  /* Firefox < 16 */\n  /* Internet Explorer */\n  /* Opera < 12.1 */\n  animation: fadein 1s; }\n@keyframes fadein {\n  from {\n    opacity: 0; }\n  to {\n    opacity: 1; } }\n/* Firefox < 16 */\n/* Safari, Chrome and Opera > 12.1 */\n@-webkit-keyframes fadein {\n  from {\n    opacity: 0; }\n  to {\n    opacity: 1; } }\n/* Internet Explorer */\n/* Opera < 12.1 */\n.mat-table {\n  position: relative;\n  overflow-x: auto;\n  width: 100%;\n  background-color: rgba(255, 255, 255, 0.959); }\n.mat-paginator {\n  background-color: white; }\n.mat-row, .mat-header-row {\n  min-width: 1024px;\n  width: 100%;\n  padding: 0px 0px !important;\n  cursor: pointer; }\n.mat-row:hover {\n  background-color: rgba(211, 211, 211, 0.377) !important; }\n.mat-header-cell, .mat-cell {\n  font-size: 11px !important;\n  padding-top: 2px !important;\n  padding-bottom: 2px !important;\n  text-align: center !important; }\n::ng-deep .mat-sort-header-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  color: black;\n  padding-left: 15px !important; }\n.mat-chip {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px;\n  margin: auto; }\nbutton.mat-icon-button:active,\nbutton.mat-icon-button:focus,\nbutton.mat-icon-button {\n  border: none;\n  outline: none;\n  cursor: pointer; }\n@media only screen and (max-height: 800px) {\n  ::ng-deep .mat-menu-panel {\n    max-height: 300px !important;\n    overflow: auto !important;\n    right: 10px; } }\nbutton.mat-menu-item {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px; }\n::ng-deep .mat-sort-header-arrow.ng-trigger.ng-trigger-arrowPosition {\n  opacity: 0; }\n::ng-deep .mat-sort-header-pointer-left.ng-trigger.ng-trigger-leftPointer {\n  -webkit-transform: rotate(-45deg);\n          transform: rotate(-45deg); }\n::ng-deep .mat-sort-header-pointer-right.ng-trigger.ng-trigger-rightPointer {\n  -webkit-transform: rotate(45deg);\n          transform: rotate(45deg); }\nnb-sidebar,\nnb-sidebar > div.main-container {\n  -webkit-transition: width 0.5s;\n  transition: width 0.5s; }\n::ng-deep .mat-dialog-container {\n  border-radius: 5px !important;\n  display: inline-block !important;\n  position: fixed !important;\n  top: 2.5% !important;\n  bottom: auto !important;\n  left: 0 !important;\n  right: 0 !important;\n  margin: auto !important;\n  height: -webkit-fit-content !important;\n  height: -moz-fit-content !important;\n  height: fit-content !important;\n  width: -webkit-fit-content !important;\n  width: -moz-fit-content !important;\n  width: fit-content !important;\n  max-height: 95% !important;\n  max-width: 85% !important; }\n::ng-deep .mat-tooltip {\n  font-size: 14px; }\n.w-100 {\n  width: 100%; }\n.ptb-10 {\n  padding: 10px 0px 10px 0px; }\n.pt-10 {\n  padding-top: 10px; }\n.pb-10 {\n  padding-bottom: 10px; }\n.bottom-align {\n  bottom: 0px;\n  position: absolute !important; }\n.hide-overflow {\n  overflow: hidden !important; }\n@media only screen and (max-width: 400px) {\n  .bottom-align {\n    position: relative !important; } }\n.mat-datepicker-popup {\n  -webkit-transform: scale(0.85);\n          transform: scale(0.85);\n  -webkit-transform-origin: 0% 0;\n          transform-origin: 0% 0; }\n.invoice-button-container {\n  text-align: center; }\n.confirm-container {\n  text-align: center !important;\n  margin-left: 150px !important;\n  margin-top: 20px !important; }\n.invoice-button {\n  display: inline-block !important;\n  margin: 5px 5px 5px 5px !important; }\n.call-container {\n  text-align: left; }\n.call-div {\n  display: inline-block !important;\n  margin: 10px 10px 10px 10px !important; }\n@media only screen and (max-width: 480px) {\n  .mat-paginator-page-size {\n    margin-right: 0px;\n    -webkit-transform: scale(0.9, 0.9);\n            transform: scale(0.9, 0.9); }\n  .mat-paginator-range-label {\n    margin: 0 10px 0 5px; }\n  .invoice-button-container {\n    text-align: left; }\n  .confirm-container {\n    text-align: center !important;\n    width: 100% !important;\n    margin-left: unset !important;\n    margin-top: 20px !important; }\n  .confirm-question {\n    text-align: center !important; }\n  .mobile-select {\n    width: 45% !important;\n    -webkit-transform: scale(0.85);\n            transform: scale(0.85);\n    -webkit-transform-origin: 0% 0;\n            transform-origin: 0% 0; }\n  .filter-field {\n    width: 60% !important; }\n  .filter-date {\n    width: 45% !important; }\n  nb-card {\n    margin-right: -10px;\n    margin-left: -10px; } }\n.filter-field {\n  width: 30%; }\n.img-icon {\n  height: 17px; }\n@media only screen and (min-width: 490px) {\n  .filter-icon {\n    font-size: 30px !important; }\n  .img-icon {\n    height: 30px; }\n  nb-card {\n    margin-right: -10px; }\n  .graph-height {\n    height: 62vh !important; } }\nnb-card-body {\n  padding-right: 15px !important; }\n.modal-row {\n  margin-right: -2px;\n  margin-left: -15px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap; }\n.mat-snack-bar-container {\n  margin: 10px !important;\n  opacity: 0.9 !important; }\n.mat-simple-snackbar {\n  padding: 5px !important; }\n.mat-chip {\n  -webkit-transform: scale(0.85, 0.85);\n          transform: scale(0.85, 0.85); }\n.mat-list-item {\n  font-size: inherit; }\nnb-layout-header {\n  z-index: 100 !important; }\n.nb-theme-cosmic nb-layout .layout .layout-container nb-sidebar.fixed {\n  z-index: 1000; }\n.mat-ripple-element {\n  display: none !important; }\n.mat-raised-button.mat-primary {\n  background-color: #3fb577 !important; }\n.mat-raised-button[disabled][disabled] {\n  background-color: rgba(0, 0, 0, 0.12) !important; }\ninput.mat-input-element {\n  margin-top: 5px; }\n.nb-theme-cosmic nb-menu {\n  font-size: 14px !important; }\n.nb-theme-cosmic nb-sidebar {\n  line-height: 1.15 !important; }\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n:host-context(.nb-theme-default) {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  width: 50%; }\n:host-context(.nb-theme-default) .theme-switch {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    cursor: pointer;\n    margin: 0; }\n:host-context(.nb-theme-default) .theme-switch > span {\n      font-size: 1.125rem;\n      font-weight: 600;\n      -webkit-transition: opacity 0.3s ease;\n      transition: opacity 0.3s ease; }\n:host-context(.nb-theme-default) .theme-switch > span.light {\n        color: #4b4b4b;\n        padding-right: 10px; }\n:host-context(.nb-theme-default) .theme-switch > span.cosmic {\n        color: #a4abb3;\n        padding-left: 10px; }\n:host-context(.nb-theme-default) .theme-switch > span:active {\n        opacity: 0.78; }\n:host-context(.nb-theme-default) .switch {\n    position: relative;\n    display: inline-block;\n    width: 4rem;\n    height: 1.75rem;\n    margin: 0; }\n:host-context(.nb-theme-default) .switch input {\n      display: none; }\n:host-context(.nb-theme-default) .switch input:checked + .slider::before {\n        -webkit-transform: translateX(2.25rem);\n                transform: translateX(2.25rem); }\n:host-context(.nb-theme-default) .switch .slider {\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      border-radius: 1.75rem;\n      background-color: #ebeff5; }\n:host-context(.nb-theme-default) .switch .slider::before {\n      position: absolute;\n      content: '';\n      height: 1.75rem;\n      width: 1.75rem;\n      border-radius: 50%;\n      background-color: #40dc7e;\n      -webkit-transition: 0.2s;\n      transition: 0.2s;\n      -webkit-box-shadow: 0 0 0.25rem 0 rgba(164, 171, 179, 0.4);\n              box-shadow: 0 0 0.25rem 0 rgba(164, 171, 179, 0.4); }\n@media (max-width: 575px) {\n    :host-context(.nb-theme-default) .light, :host-context(.nb-theme-default) .cosmic {\n      display: none; } }\n@media (max-width: 399px) {\n    :host-context(.nb-theme-default) {\n      -webkit-box-align: end;\n          -ms-flex-align: end;\n              align-items: flex-end; } }\n:host-context(.nb-theme-cosmic) {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  width: 50%; }\n:host-context(.nb-theme-cosmic) .theme-switch {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    cursor: pointer;\n    margin: 0; }\n:host-context(.nb-theme-cosmic) .theme-switch > span {\n      font-size: 1.125rem;\n      font-weight: 600;\n      -webkit-transition: opacity 0.3s ease;\n      transition: opacity 0.3s ease; }\n:host-context(.nb-theme-cosmic) .theme-switch > span.light {\n        color: #4b4b4b;\n        padding-right: 10px; }\n:host-context(.nb-theme-cosmic) .theme-switch > span.cosmic {\n        color: #a4abb3;\n        padding-left: 10px; }\n:host-context(.nb-theme-cosmic) .theme-switch > span.light {\n        color: #a4abb3; }\n:host-context(.nb-theme-cosmic) .theme-switch > span.cosmic {\n        color: #ffffff; }\n:host-context(.nb-theme-cosmic) .theme-switch > span:active {\n        opacity: 0.78; }\n:host-context(.nb-theme-cosmic) .switch {\n    position: relative;\n    display: inline-block;\n    width: 4rem;\n    height: 1.75rem;\n    margin: 0; }\n:host-context(.nb-theme-cosmic) .switch input {\n      display: none; }\n:host-context(.nb-theme-cosmic) .switch input:checked + .slider::before {\n        -webkit-transform: translateX(2.25rem);\n                transform: translateX(2.25rem); }\n:host-context(.nb-theme-cosmic) .switch .slider {\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      border-radius: 1.75rem;\n      background-color: #ebeff5; }\n:host-context(.nb-theme-cosmic) .switch .slider::before {\n      position: absolute;\n      content: '';\n      height: 1.75rem;\n      width: 1.75rem;\n      border-radius: 50%;\n      background-color: #40dc7e;\n      -webkit-transition: 0.2s;\n      transition: 0.2s;\n      -webkit-box-shadow: 0 0 0.25rem 0 rgba(164, 171, 179, 0.4);\n              box-shadow: 0 0 0.25rem 0 rgba(164, 171, 179, 0.4);\n      background-image: -webkit-gradient(linear, left top, right top, from(#b57fff), to(#8a7fff));\n      background-image: linear-gradient(to right, #b57fff, #8a7fff); }\n@media (max-width: 575px) {\n    :host-context(.nb-theme-cosmic) .light, :host-context(.nb-theme-cosmic) .cosmic {\n      display: none; } }\n@media (max-width: 399px) {\n    :host-context(.nb-theme-cosmic) {\n      -webkit-box-align: end;\n          -ms-flex-align: end;\n              align-items: flex-end; } }\n"

/***/ }),

/***/ "./src/app/@theme/components/theme-switcher/theme-switcher.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ThemeSwitcherComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__nebular_theme__ = __webpack_require__("./node_modules/@nebular/theme/index.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ThemeSwitcherComponent = (function () {
    function ThemeSwitcherComponent(themeService) {
        this.themeService = themeService;
    }
    ThemeSwitcherComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.themeService.getJsTheme()
            .subscribe(function (theme) { return _this.theme = theme; });
    };
    ThemeSwitcherComponent.prototype.toggleTheme = function (theme) {
        var boolTheme = this.boolToTheme(theme);
        this.themeService.changeTheme(boolTheme);
    };
    ThemeSwitcherComponent.prototype.currentBoolTheme = function () {
        return this.themeToBool(this.theme);
    };
    ThemeSwitcherComponent.prototype.themeToBool = function (theme) {
        return theme.name === 'cosmic';
    };
    ThemeSwitcherComponent.prototype.boolToTheme = function (theme) {
        return theme ? 'cosmic' : 'default';
    };
    ThemeSwitcherComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ngx-theme-switcher',
            styles: [__webpack_require__("./src/app/@theme/components/theme-switcher/theme-switcher.component.scss")],
            template: "\n    <label class=\"theme-switch\">\n      <span class=\"light\">Light</span>\n      <div class=\"switch\">\n        <input type=\"checkbox\" [checked]=\"currentBoolTheme()\" (change)=\"toggleTheme(theme.checked)\" #theme>\n        <span class=\"slider\"></span>\n      </div>\n      <span class=\"cosmic\">Cosmic</span>\n    </label>\n  ",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__nebular_theme__["o" /* NbThemeService */]])
    ], ThemeSwitcherComponent);
    return ThemeSwitcherComponent;
}());



/***/ }),

/***/ "./src/app/@theme/components/tiny-mce/tiny-mce.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TinyMCEComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var TinyMCEComponent = (function () {
    function TinyMCEComponent(host) {
        this.host = host;
        this.editorKeyup = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
    }
    TinyMCEComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        tinymce.init({
            target: this.host.nativeElement,
            plugins: ['link', 'paste', 'table'],
            skin_url: 'assets/skins/lightgray',
            setup: function (editor) {
                _this.editor = editor;
                editor.on('keyup', function () {
                    _this.editorKeyup.emit(editor.getContent());
                });
            },
            height: '320',
        });
    };
    TinyMCEComponent.prototype.ngOnDestroy = function () {
        tinymce.remove(this.editor);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], TinyMCEComponent.prototype, "editorKeyup", void 0);
    TinyMCEComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ngx-tiny-mce',
            template: '',
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"]])
    ], TinyMCEComponent);
    return TinyMCEComponent;
}());



/***/ }),

/***/ "./src/app/@theme/layouts/index.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__one_column_one_column_layout__ = __webpack_require__("./src/app/@theme/layouts/one-column/one-column.layout.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__one_column_one_column_layout__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__two_columns_two_columns_layout__ = __webpack_require__("./src/app/@theme/layouts/two-columns/two-columns.layout.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "d", function() { return __WEBPACK_IMPORTED_MODULE_1__two_columns_two_columns_layout__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__three_columns_three_columns_layout__ = __webpack_require__("./src/app/@theme/layouts/three-columns/three-columns.layout.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "c", function() { return __WEBPACK_IMPORTED_MODULE_2__three_columns_three_columns_layout__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__sample_sample_layout__ = __webpack_require__("./src/app/@theme/layouts/sample/sample.layout.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "b", function() { return __WEBPACK_IMPORTED_MODULE_3__sample_sample_layout__["a"]; });






/***/ }),

/***/ "./src/app/@theme/layouts/one-column/one-column.layout.scss":
/***/ (function(module, exports) {

module.exports = "/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This is a starting point where we declare the maps of themes and globally available functions/mixins\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\nbutton:focus {\n  outline: none; }\n.mat-icon {\n  font-size: 17px; }\ninput[type=date]::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  display: none; }\n.float {\n  position: fixed;\n  width: 60px;\n  height: 60px;\n  bottom: 20px !important;\n  right: 20px !important;\n  background-color: #0C9;\n  color: #FFF;\n  border-radius: 50px;\n  text-align: center;\n  -webkit-box-shadow: 2px 2px 3px #999;\n          box-shadow: 2px 2px 3px #999; }\n.my-float {\n  margin-top: 22px; }\na:hover {\n  cursor: pointer; }\n.mat-checkbox-checked.mat-accent .mat-checkbox-background, .mat-checkbox-indeterminate.mat-accent .mat-checkbox-background {\n  background-color: #1b8ef1 !important; }\n.mat-ripple-element {\n  background: rgba(27, 142, 241, 0.4) !important; }\n.mat-radio-button.mat-accent .mat-radio-inner-circle {\n  background-color: #4286f4; }\n.mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle {\n  border-color: #4286f4; }\n.mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element {\n  background-color: rgba(66, 134, 244, 0.26); }\n@-webkit-keyframes spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n@keyframes spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n#test {\n  margin-top: 25px;\n  font-size: 21px;\n  text-align: center;\n  -webkit-animation: fadein 1s;\n  /* Safari, Chrome and Opera > 12.1 */\n  /* Firefox < 16 */\n  /* Internet Explorer */\n  /* Opera < 12.1 */\n  animation: fadein 1s; }\n@keyframes fadein {\n  from {\n    opacity: 0; }\n  to {\n    opacity: 1; } }\n/* Firefox < 16 */\n/* Safari, Chrome and Opera > 12.1 */\n@-webkit-keyframes fadein {\n  from {\n    opacity: 0; }\n  to {\n    opacity: 1; } }\n/* Internet Explorer */\n/* Opera < 12.1 */\n.mat-table {\n  position: relative;\n  overflow-x: auto;\n  width: 100%;\n  background-color: rgba(255, 255, 255, 0.959); }\n.mat-paginator {\n  background-color: white; }\n.mat-row, .mat-header-row {\n  min-width: 1024px;\n  width: 100%;\n  padding: 0px 0px !important;\n  cursor: pointer; }\n.mat-row:hover {\n  background-color: rgba(211, 211, 211, 0.377) !important; }\n.mat-header-cell, .mat-cell {\n  font-size: 11px !important;\n  padding-top: 2px !important;\n  padding-bottom: 2px !important;\n  text-align: center !important; }\n::ng-deep .mat-sort-header-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  color: black;\n  padding-left: 15px !important; }\n.mat-chip {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px;\n  margin: auto; }\nbutton.mat-icon-button:active,\nbutton.mat-icon-button:focus,\nbutton.mat-icon-button {\n  border: none;\n  outline: none;\n  cursor: pointer; }\n@media only screen and (max-height: 800px) {\n  ::ng-deep .mat-menu-panel {\n    max-height: 300px !important;\n    overflow: auto !important;\n    right: 10px; } }\nbutton.mat-menu-item {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px; }\n::ng-deep .mat-sort-header-arrow.ng-trigger.ng-trigger-arrowPosition {\n  opacity: 0; }\n::ng-deep .mat-sort-header-pointer-left.ng-trigger.ng-trigger-leftPointer {\n  -webkit-transform: rotate(-45deg);\n          transform: rotate(-45deg); }\n::ng-deep .mat-sort-header-pointer-right.ng-trigger.ng-trigger-rightPointer {\n  -webkit-transform: rotate(45deg);\n          transform: rotate(45deg); }\nnb-sidebar,\nnb-sidebar > div.main-container {\n  -webkit-transition: width 0.5s;\n  transition: width 0.5s; }\n::ng-deep .mat-dialog-container {\n  border-radius: 5px !important;\n  display: inline-block !important;\n  position: fixed !important;\n  top: 2.5% !important;\n  bottom: auto !important;\n  left: 0 !important;\n  right: 0 !important;\n  margin: auto !important;\n  height: -webkit-fit-content !important;\n  height: -moz-fit-content !important;\n  height: fit-content !important;\n  width: -webkit-fit-content !important;\n  width: -moz-fit-content !important;\n  width: fit-content !important;\n  max-height: 95% !important;\n  max-width: 85% !important; }\n::ng-deep .mat-tooltip {\n  font-size: 14px; }\n.w-100 {\n  width: 100%; }\n.ptb-10 {\n  padding: 10px 0px 10px 0px; }\n.pt-10 {\n  padding-top: 10px; }\n.pb-10 {\n  padding-bottom: 10px; }\n.bottom-align {\n  bottom: 0px;\n  position: absolute !important; }\n.hide-overflow {\n  overflow: hidden !important; }\n@media only screen and (max-width: 400px) {\n  .bottom-align {\n    position: relative !important; } }\n.mat-datepicker-popup {\n  -webkit-transform: scale(0.85);\n          transform: scale(0.85);\n  -webkit-transform-origin: 0% 0;\n          transform-origin: 0% 0; }\n.invoice-button-container {\n  text-align: center; }\n.confirm-container {\n  text-align: center !important;\n  margin-left: 150px !important;\n  margin-top: 20px !important; }\n.invoice-button {\n  display: inline-block !important;\n  margin: 5px 5px 5px 5px !important; }\n.call-container {\n  text-align: left; }\n.call-div {\n  display: inline-block !important;\n  margin: 10px 10px 10px 10px !important; }\n@media only screen and (max-width: 480px) {\n  .mat-paginator-page-size {\n    margin-right: 0px;\n    -webkit-transform: scale(0.9, 0.9);\n            transform: scale(0.9, 0.9); }\n  .mat-paginator-range-label {\n    margin: 0 10px 0 5px; }\n  .invoice-button-container {\n    text-align: left; }\n  .confirm-container {\n    text-align: center !important;\n    width: 100% !important;\n    margin-left: unset !important;\n    margin-top: 20px !important; }\n  .confirm-question {\n    text-align: center !important; }\n  .mobile-select {\n    width: 45% !important;\n    -webkit-transform: scale(0.85);\n            transform: scale(0.85);\n    -webkit-transform-origin: 0% 0;\n            transform-origin: 0% 0; }\n  .filter-field {\n    width: 60% !important; }\n  .filter-date {\n    width: 45% !important; }\n  nb-card {\n    margin-right: -10px;\n    margin-left: -10px; } }\n.filter-field {\n  width: 30%; }\n.img-icon {\n  height: 17px; }\n@media only screen and (min-width: 490px) {\n  .filter-icon {\n    font-size: 30px !important; }\n  .img-icon {\n    height: 30px; }\n  nb-card {\n    margin-right: -10px; }\n  .graph-height {\n    height: 62vh !important; } }\nnb-card-body {\n  padding-right: 15px !important; }\n.modal-row {\n  margin-right: -2px;\n  margin-left: -15px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap; }\n.mat-snack-bar-container {\n  margin: 10px !important;\n  opacity: 0.9 !important; }\n.mat-simple-snackbar {\n  padding: 5px !important; }\n.mat-chip {\n  -webkit-transform: scale(0.85, 0.85);\n          transform: scale(0.85, 0.85); }\n.mat-list-item {\n  font-size: inherit; }\nnb-layout-header {\n  z-index: 100 !important; }\n.nb-theme-cosmic nb-layout .layout .layout-container nb-sidebar.fixed {\n  z-index: 1000; }\n.mat-ripple-element {\n  display: none !important; }\n.mat-raised-button.mat-primary {\n  background-color: #3fb577 !important; }\n.mat-raised-button[disabled][disabled] {\n  background-color: rgba(0, 0, 0, 0.12) !important; }\ninput.mat-input-element {\n  margin-top: 5px; }\n.nb-theme-cosmic nb-menu {\n  font-size: 14px !important; }\n.nb-theme-cosmic nb-sidebar {\n  line-height: 1.15 !important; }\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n:host-context(.nb-theme-default) nb-layout-column.small {\n  -webkit-box-flex: 0.15 !important;\n      -ms-flex: 0.15 !important;\n          flex: 0.15 !important; }\n:host-context(.nb-theme-default) nb-sidebar.settings-sidebar {\n  -webkit-transition: width 0.3s ease;\n  transition: width 0.3s ease;\n  width: 7.5rem;\n  overflow: hidden; }\n:host-context(.nb-theme-default) nb-sidebar.settings-sidebar.collapsed {\n    width: 0; }\n:host-context(.nb-theme-default) nb-sidebar.settings-sidebar.collapsed /deep/ .main-container {\n      width: 0; }\n:host-context(.nb-theme-default) nb-sidebar.settings-sidebar.collapsed /deep/ .main-container .scrollable {\n        width: 7.5rem;\n        padding: 1.25rem; }\n:host-context(.nb-theme-default) nb-sidebar.settings-sidebar /deep/ .main-container {\n    width: 7.5rem;\n    background: #ffffff;\n    -webkit-transition: width 0.3s ease;\n    transition: width 0.3s ease;\n    overflow: hidden; }\n:host-context(.nb-theme-default) nb-sidebar.settings-sidebar /deep/ .main-container .scrollable {\n      width: 7.5rem; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar {\n  margin-top: 2rem;\n  background: transparent; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar /deep/ .main-container {\n    height: calc(100vh - 4.75rem - 2rem) !important;\n    border-top-right-radius: 0.375rem; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar /deep/ nb-sidebar-header {\n    padding-bottom: 0.5rem;\n    text-align: center; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar .main-btn {\n    padding: 0.75rem 2.5rem;\n    margin-top: -2rem;\n    font-weight: bold;\n    -webkit-transition: padding 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.48);\n    transition: padding 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.48); }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar .main-btn i {\n      font-size: 2rem;\n      text-shadow: 0 1px 1px rgba(0, 0, 0, 0.2); }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar .main-btn span {\n      padding-left: 0.25rem; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar .main-btn i, :host-context(.nb-theme-default) nb-sidebar.menu-sidebar .main-btn span {\n      vertical-align: middle; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar.compacted /deep/ nb-sidebar-header {\n    padding-left: 0;\n    padding-right: 0; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar.compacted .main-btn {\n    width: 46px;\n    height: 44px;\n    padding: 0.375rem;\n    border-radius: 5px;\n    -webkit-transition: none;\n    transition: none; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar.compacted .main-btn span {\n      display: none; }\n@media (max-width: 399px) {\n  :host-context(.nb-theme-default) .main-content {\n    padding: 0.75rem !important; } }\n@media (max-width: 767px) {\n  :host-context(.nb-theme-default) nb-sidebar.menu-sidebar {\n    margin-top: 0; }\n    :host-context(.nb-theme-default) nb-sidebar.menu-sidebar /deep/ .main-container {\n      height: calc(100vh - 4.75rem) !important;\n      border-top-right-radius: 0; }\n      :host-context(.nb-theme-default) nb-sidebar.menu-sidebar /deep/ .main-container .scrollable {\n        padding-top: 0; }\n  :host-context(.nb-theme-default) .main-btn {\n    display: none; } }\n:host-context(.nb-theme-cosmic) nb-layout-column.small {\n  -webkit-box-flex: 0.15 !important;\n      -ms-flex: 0.15 !important;\n          flex: 0.15 !important; }\n:host-context(.nb-theme-cosmic) nb-sidebar.settings-sidebar {\n  -webkit-transition: width 0.3s ease;\n  transition: width 0.3s ease;\n  width: 7.5rem;\n  overflow: hidden; }\n:host-context(.nb-theme-cosmic) nb-sidebar.settings-sidebar.collapsed {\n    width: 0; }\n:host-context(.nb-theme-cosmic) nb-sidebar.settings-sidebar.collapsed /deep/ .main-container {\n      width: 0; }\n:host-context(.nb-theme-cosmic) nb-sidebar.settings-sidebar.collapsed /deep/ .main-container .scrollable {\n        width: 7.5rem;\n        padding: 1.25rem; }\n:host-context(.nb-theme-cosmic) nb-sidebar.settings-sidebar /deep/ .main-container {\n    width: 7.5rem;\n    background: #ffffff;\n    -webkit-transition: width 0.3s ease;\n    transition: width 0.3s ease;\n    overflow: hidden;\n    background: #ebeff5; }\n:host-context(.nb-theme-cosmic) nb-sidebar.settings-sidebar /deep/ .main-container .scrollable {\n      width: 7.5rem; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar {\n  margin-top: 1.5rem;\n  background: transparent; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar /deep/ .main-container {\n    height: calc(100vh - 3.5rem - 1.5rem) !important;\n    border-top-right-radius: 0.375rem; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar /deep/ nb-sidebar-header {\n    padding-bottom: 0.5rem;\n    text-align: center; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar .main-btn {\n    padding: 0.75rem 2.5rem;\n    margin-top: -2rem;\n    font-weight: bold;\n    -webkit-transition: padding 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.48);\n    transition: padding 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.48); }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar .main-btn i {\n      font-size: 2rem;\n      text-shadow: 0 1px 1px rgba(0, 0, 0, 0.2); }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar .main-btn span {\n      padding-left: 0.25rem; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar .main-btn i, :host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar .main-btn span {\n      vertical-align: middle; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar.compacted /deep/ nb-sidebar-header {\n    padding-left: 0;\n    padding-right: 0; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar.compacted .main-btn {\n    width: 46px;\n    height: 44px;\n    padding: 0.375rem;\n    border-radius: 5px;\n    -webkit-transition: none;\n    transition: none; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar.compacted .main-btn span {\n      display: none; }\n@media (max-width: 399px) {\n  :host-context(.nb-theme-cosmic) .main-content {\n    padding: 0.75rem !important; } }\n@media (max-width: 767px) {\n  :host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar {\n    margin-top: 0; }\n    :host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar /deep/ .main-container {\n      height: calc(100vh - 3.5rem) !important;\n      border-top-right-radius: 0; }\n      :host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar /deep/ .main-container .scrollable {\n        padding-top: 0; }\n  :host-context(.nb-theme-cosmic) .main-btn {\n    display: none; } }\n"

/***/ }),

/***/ "./src/app/@theme/layouts/one-column/one-column.layout.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OneColumnLayoutComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

// TODO: move layouts into the framework
var OneColumnLayoutComponent = (function () {
    function OneColumnLayoutComponent() {
    }
    OneColumnLayoutComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ngx-one-column-layout',
            styles: [__webpack_require__("./src/app/@theme/layouts/one-column/one-column.layout.scss")],
            template: "\n    <nb-layout>\n      <nb-layout-header fixed>\n        <ngx-header></ngx-header>\n      </nb-layout-header>\n\n      <nb-sidebar class=\"menu-sidebar\" tag=\"menu-sidebar\" responsive>\n        <nb-sidebar-header>\n          <a href=\"#\" class=\"btn btn-hero-success main-btn\">\n            <i class=\"ion ion-social-github\"></i> <span>YFM</span>\n          </a>\n        </nb-sidebar-header>\n        <ng-content select=\"nb-menu\"></ng-content>\n      </nb-sidebar>\n\n      <nb-layout-column>\n        <ng-content select=\"router-outlet\"></ng-content>\n      </nb-layout-column>\n\n      <nb-layout-footer fixed>\n        <ngx-footer></ngx-footer>\n      </nb-layout-footer>\n    </nb-layout>\n  ",
        })
    ], OneColumnLayoutComponent);
    return OneColumnLayoutComponent;
}());



/***/ }),

/***/ "./src/app/@theme/layouts/sample/sample.layout.scss":
/***/ (function(module, exports) {

module.exports = "/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This is a starting point where we declare the maps of themes and globally available functions/mixins\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\nbutton:focus {\n  outline: none; }\n.mat-icon {\n  font-size: 17px; }\ninput[type=date]::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  display: none; }\n.float {\n  position: fixed;\n  width: 60px;\n  height: 60px;\n  bottom: 20px !important;\n  right: 20px !important;\n  background-color: #0C9;\n  color: #FFF;\n  border-radius: 50px;\n  text-align: center;\n  -webkit-box-shadow: 2px 2px 3px #999;\n          box-shadow: 2px 2px 3px #999; }\n.my-float {\n  margin-top: 22px; }\na:hover {\n  cursor: pointer; }\n.mat-checkbox-checked.mat-accent .mat-checkbox-background, .mat-checkbox-indeterminate.mat-accent .mat-checkbox-background {\n  background-color: #1b8ef1 !important; }\n.mat-ripple-element {\n  background: rgba(27, 142, 241, 0.4) !important; }\n.mat-radio-button.mat-accent .mat-radio-inner-circle {\n  background-color: #4286f4; }\n.mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle {\n  border-color: #4286f4; }\n.mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element {\n  background-color: rgba(66, 134, 244, 0.26); }\n@-webkit-keyframes spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n@keyframes spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n#test {\n  margin-top: 25px;\n  font-size: 21px;\n  text-align: center;\n  -webkit-animation: fadein 1s;\n  /* Safari, Chrome and Opera > 12.1 */\n  /* Firefox < 16 */\n  /* Internet Explorer */\n  /* Opera < 12.1 */\n  animation: fadein 1s; }\n@keyframes fadein {\n  from {\n    opacity: 0; }\n  to {\n    opacity: 1; } }\n/* Firefox < 16 */\n/* Safari, Chrome and Opera > 12.1 */\n@-webkit-keyframes fadein {\n  from {\n    opacity: 0; }\n  to {\n    opacity: 1; } }\n/* Internet Explorer */\n/* Opera < 12.1 */\n.mat-table {\n  position: relative;\n  overflow-x: auto;\n  width: 100%;\n  background-color: rgba(255, 255, 255, 0.959); }\n.mat-paginator {\n  background-color: white; }\n.mat-row, .mat-header-row {\n  min-width: 1024px;\n  width: 100%;\n  padding: 0px 0px !important;\n  cursor: pointer; }\n.mat-row:hover {\n  background-color: rgba(211, 211, 211, 0.377) !important; }\n.mat-header-cell, .mat-cell {\n  font-size: 11px !important;\n  padding-top: 2px !important;\n  padding-bottom: 2px !important;\n  text-align: center !important; }\n::ng-deep .mat-sort-header-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  color: black;\n  padding-left: 15px !important; }\n.mat-chip {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px;\n  margin: auto; }\nbutton.mat-icon-button:active,\nbutton.mat-icon-button:focus,\nbutton.mat-icon-button {\n  border: none;\n  outline: none;\n  cursor: pointer; }\n@media only screen and (max-height: 800px) {\n  ::ng-deep .mat-menu-panel {\n    max-height: 300px !important;\n    overflow: auto !important;\n    right: 10px; } }\nbutton.mat-menu-item {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px; }\n::ng-deep .mat-sort-header-arrow.ng-trigger.ng-trigger-arrowPosition {\n  opacity: 0; }\n::ng-deep .mat-sort-header-pointer-left.ng-trigger.ng-trigger-leftPointer {\n  -webkit-transform: rotate(-45deg);\n          transform: rotate(-45deg); }\n::ng-deep .mat-sort-header-pointer-right.ng-trigger.ng-trigger-rightPointer {\n  -webkit-transform: rotate(45deg);\n          transform: rotate(45deg); }\nnb-sidebar,\nnb-sidebar > div.main-container {\n  -webkit-transition: width 0.5s;\n  transition: width 0.5s; }\n::ng-deep .mat-dialog-container {\n  border-radius: 5px !important;\n  display: inline-block !important;\n  position: fixed !important;\n  top: 2.5% !important;\n  bottom: auto !important;\n  left: 0 !important;\n  right: 0 !important;\n  margin: auto !important;\n  height: -webkit-fit-content !important;\n  height: -moz-fit-content !important;\n  height: fit-content !important;\n  width: -webkit-fit-content !important;\n  width: -moz-fit-content !important;\n  width: fit-content !important;\n  max-height: 95% !important;\n  max-width: 85% !important; }\n::ng-deep .mat-tooltip {\n  font-size: 14px; }\n.w-100 {\n  width: 100%; }\n.ptb-10 {\n  padding: 10px 0px 10px 0px; }\n.pt-10 {\n  padding-top: 10px; }\n.pb-10 {\n  padding-bottom: 10px; }\n.bottom-align {\n  bottom: 0px;\n  position: absolute !important; }\n.hide-overflow {\n  overflow: hidden !important; }\n@media only screen and (max-width: 400px) {\n  .bottom-align {\n    position: relative !important; } }\n.mat-datepicker-popup {\n  -webkit-transform: scale(0.85);\n          transform: scale(0.85);\n  -webkit-transform-origin: 0% 0;\n          transform-origin: 0% 0; }\n.invoice-button-container {\n  text-align: center; }\n.confirm-container {\n  text-align: center !important;\n  margin-left: 150px !important;\n  margin-top: 20px !important; }\n.invoice-button {\n  display: inline-block !important;\n  margin: 5px 5px 5px 5px !important; }\n.call-container {\n  text-align: left; }\n.call-div {\n  display: inline-block !important;\n  margin: 10px 10px 10px 10px !important; }\n@media only screen and (max-width: 480px) {\n  .mat-paginator-page-size {\n    margin-right: 0px;\n    -webkit-transform: scale(0.9, 0.9);\n            transform: scale(0.9, 0.9); }\n  .mat-paginator-range-label {\n    margin: 0 10px 0 5px; }\n  .invoice-button-container {\n    text-align: left; }\n  .confirm-container {\n    text-align: center !important;\n    width: 100% !important;\n    margin-left: unset !important;\n    margin-top: 20px !important; }\n  .confirm-question {\n    text-align: center !important; }\n  .mobile-select {\n    width: 45% !important;\n    -webkit-transform: scale(0.85);\n            transform: scale(0.85);\n    -webkit-transform-origin: 0% 0;\n            transform-origin: 0% 0; }\n  .filter-field {\n    width: 60% !important; }\n  .filter-date {\n    width: 45% !important; }\n  nb-card {\n    margin-right: -10px;\n    margin-left: -10px; } }\n.filter-field {\n  width: 30%; }\n.img-icon {\n  height: 17px; }\n@media only screen and (min-width: 490px) {\n  .filter-icon {\n    font-size: 30px !important; }\n  .img-icon {\n    height: 30px; }\n  nb-card {\n    margin-right: -10px; }\n  .graph-height {\n    height: 62vh !important; } }\nnb-card-body {\n  padding-right: 15px !important; }\n.modal-row {\n  margin-right: -2px;\n  margin-left: -15px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap; }\n.mat-snack-bar-container {\n  margin: 10px !important;\n  opacity: 0.9 !important; }\n.mat-simple-snackbar {\n  padding: 5px !important; }\n.mat-chip {\n  -webkit-transform: scale(0.85, 0.85);\n          transform: scale(0.85, 0.85); }\n.mat-list-item {\n  font-size: inherit; }\nnb-layout-header {\n  z-index: 100 !important; }\n.nb-theme-cosmic nb-layout .layout .layout-container nb-sidebar.fixed {\n  z-index: 1000; }\n.mat-ripple-element {\n  display: none !important; }\n.mat-raised-button.mat-primary {\n  background-color: #3fb577 !important; }\n.mat-raised-button[disabled][disabled] {\n  background-color: rgba(0, 0, 0, 0.12) !important; }\ninput.mat-input-element {\n  margin-top: 5px; }\n.nb-theme-cosmic nb-menu {\n  font-size: 14px !important; }\n.nb-theme-cosmic nb-sidebar {\n  line-height: 1.15 !important; }\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n:host-context(.nb-theme-default) nb-layout-column.small {\n  -webkit-box-flex: 0.15 !important;\n      -ms-flex: 0.15 !important;\n          flex: 0.15 !important; }\n:host-context(.nb-theme-default) nb-sidebar.settings-sidebar {\n  -webkit-transition: width 0.3s ease;\n  transition: width 0.3s ease;\n  width: 7.5rem;\n  overflow: hidden; }\n:host-context(.nb-theme-default) nb-sidebar.settings-sidebar.collapsed {\n    width: 0; }\n:host-context(.nb-theme-default) nb-sidebar.settings-sidebar.collapsed /deep/ .main-container {\n      width: 0; }\n:host-context(.nb-theme-default) nb-sidebar.settings-sidebar.collapsed /deep/ .main-container .scrollable {\n        width: 7.5rem;\n        padding: 1.25rem; }\n:host-context(.nb-theme-default) nb-sidebar.settings-sidebar /deep/ .main-container {\n    width: 7.5rem;\n    background: #ffffff;\n    -webkit-transition: width 0.3s ease;\n    transition: width 0.3s ease;\n    overflow: hidden; }\n:host-context(.nb-theme-default) nb-sidebar.settings-sidebar /deep/ .main-container .scrollable {\n      width: 7.5rem; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar {\n  margin-top: 2rem;\n  background: transparent; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar /deep/ .main-container {\n    height: calc(100vh - 4.75rem - 2rem) !important;\n    border-top-right-radius: 0.375rem; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar /deep/ nb-sidebar-header {\n    padding-bottom: 0.5rem;\n    text-align: center; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar .main-btn {\n    padding: 0.75rem 2.5rem;\n    margin-top: -2rem;\n    font-weight: bold;\n    -webkit-transition: padding 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.48);\n    transition: padding 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.48); }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar .main-btn i {\n      font-size: 2rem;\n      text-shadow: 0 1px 1px rgba(0, 0, 0, 0.2); }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar .main-btn span {\n      padding-left: 0.25rem; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar .main-btn i, :host-context(.nb-theme-default) nb-sidebar.menu-sidebar .main-btn span {\n      vertical-align: middle; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar.compacted /deep/ nb-sidebar-header {\n    padding-left: 0;\n    padding-right: 0; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar.compacted .main-btn {\n    width: 46px;\n    height: 44px;\n    padding: 0.375rem;\n    border-radius: 5px;\n    -webkit-transition: none;\n    transition: none; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar.compacted .main-btn span {\n      display: none; }\n@media (max-width: 399px) {\n  :host-context(.nb-theme-default) .main-content {\n    padding: 0.75rem !important; } }\n@media (max-width: 767px) {\n  :host-context(.nb-theme-default) nb-sidebar.menu-sidebar {\n    margin-top: 0; }\n    :host-context(.nb-theme-default) nb-sidebar.menu-sidebar /deep/ .main-container {\n      height: calc(100vh - 4.75rem) !important;\n      border-top-right-radius: 0; }\n      :host-context(.nb-theme-default) nb-sidebar.menu-sidebar /deep/ .main-container .scrollable {\n        padding-top: 0; }\n  :host-context(.nb-theme-default) .main-btn {\n    display: none; } }\n:host-context(.nb-theme-cosmic) nb-layout-column.small {\n  -webkit-box-flex: 0.15 !important;\n      -ms-flex: 0.15 !important;\n          flex: 0.15 !important; }\n:host-context(.nb-theme-cosmic) nb-sidebar.settings-sidebar {\n  -webkit-transition: width 0.3s ease;\n  transition: width 0.3s ease;\n  width: 7.5rem;\n  overflow: hidden; }\n:host-context(.nb-theme-cosmic) nb-sidebar.settings-sidebar.collapsed {\n    width: 0; }\n:host-context(.nb-theme-cosmic) nb-sidebar.settings-sidebar.collapsed /deep/ .main-container {\n      width: 0; }\n:host-context(.nb-theme-cosmic) nb-sidebar.settings-sidebar.collapsed /deep/ .main-container .scrollable {\n        width: 7.5rem;\n        padding: 1.25rem; }\n:host-context(.nb-theme-cosmic) nb-sidebar.settings-sidebar /deep/ .main-container {\n    width: 7.5rem;\n    background: #ffffff;\n    -webkit-transition: width 0.3s ease;\n    transition: width 0.3s ease;\n    overflow: hidden;\n    background: #ebeff5; }\n:host-context(.nb-theme-cosmic) nb-sidebar.settings-sidebar /deep/ .main-container .scrollable {\n      width: 7.5rem; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar {\n  margin-top: 1.5rem;\n  background: transparent; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar /deep/ .main-container {\n    height: calc(100vh - 3.5rem - 1.5rem) !important;\n    border-top-right-radius: 0.375rem; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar /deep/ nb-sidebar-header {\n    padding-bottom: 0.5rem;\n    text-align: center; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar .main-btn {\n    padding: 0.75rem 2.5rem;\n    margin-top: -2rem;\n    font-weight: bold;\n    -webkit-transition: padding 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.48);\n    transition: padding 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.48); }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar .main-btn i {\n      font-size: 2rem;\n      text-shadow: 0 1px 1px rgba(0, 0, 0, 0.2); }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar .main-btn span {\n      padding-left: 0.25rem; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar .main-btn i, :host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar .main-btn span {\n      vertical-align: middle; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar.compacted /deep/ nb-sidebar-header {\n    padding-left: 0;\n    padding-right: 0; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar.compacted .main-btn {\n    width: 46px;\n    height: 44px;\n    padding: 0.375rem;\n    border-radius: 5px;\n    -webkit-transition: none;\n    transition: none; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar.compacted .main-btn span {\n      display: none; }\n@media (max-width: 399px) {\n  :host-context(.nb-theme-cosmic) .main-content {\n    padding: 0.75rem !important; } }\n@media (max-width: 767px) {\n  :host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar {\n    margin-top: 0; }\n    :host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar /deep/ .main-container {\n      height: calc(100vh - 3.5rem) !important;\n      border-top-right-radius: 0; }\n      :host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar /deep/ .main-container .scrollable {\n        padding-top: 0; }\n  :host-context(.nb-theme-cosmic) .main-btn {\n    display: none; } }\n"

/***/ }),

/***/ "./src/app/@theme/layouts/sample/sample.layout.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SampleLayoutComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__nebular_theme__ = __webpack_require__("./node_modules/@nebular/theme/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_data_state_service__ = __webpack_require__("./src/app/@core/data/state.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_withLatestFrom__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/withLatestFrom.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_delay__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/delay.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





// TODO: move layouts into the framework
var SampleLayoutComponent = (function () {
    function SampleLayoutComponent(stateService, menuService, themeService, bpService, sidebarService) {
        var _this = this;
        this.stateService = stateService;
        this.menuService = menuService;
        this.themeService = themeService;
        this.bpService = bpService;
        this.sidebarService = sidebarService;
        this.subMenu = [
            {
                title: 'PAGE LEVEL MENU',
                group: true,
            },
            {
                title: 'Buttons',
                icon: 'ion ion-android-radio-button-off',
                link: '/pages/ui-features/buttons',
            },
            {
                title: 'Grid',
                icon: 'ion ion-android-radio-button-off',
                link: '/pages/ui-features/grid',
            },
            {
                title: 'Icons',
                icon: 'ion ion-android-radio-button-off',
                link: '/pages/ui-features/icons',
            },
            {
                title: 'Modals',
                icon: 'ion ion-android-radio-button-off',
                link: '/pages/ui-features/modals',
            },
            {
                title: 'Typography',
                icon: 'ion ion-android-radio-button-off',
                link: '/pages/ui-features/typography',
            },
            {
                title: 'Animated Searches',
                icon: 'ion ion-android-radio-button-off',
                link: '/pages/ui-features/search-fields',
            },
            {
                title: 'Tabs',
                icon: 'ion ion-android-radio-button-off',
                link: '/pages/ui-features/tabs',
            },
        ];
        this.layout = {};
        this.sidebar = {};
        this.layoutState$ = this.stateService.onLayoutState()
            .subscribe(function (layout) { return _this.layout = layout; });
        this.sidebarState$ = this.stateService.onSidebarState()
            .subscribe(function (sidebar) {
            _this.sidebar = sidebar;
        });
        var isBp = this.bpService.getByName('is');
        this.menuClick$ = this.menuService.onItemSelect()
            .withLatestFrom(this.themeService.onMediaQueryChange())
            .delay(20)
            .subscribe(function (_a) {
            var item = _a[0], _b = _a[1], bpFrom = _b[0], bpTo = _b[1];
            if (bpTo.width <= isBp.width) {
                _this.sidebarService.collapse('menu-sidebar');
            }
        });
    }
    SampleLayoutComponent.prototype.ngOnDestroy = function () {
        this.layoutState$.unsubscribe();
        this.sidebarState$.unsubscribe();
        this.menuClick$.unsubscribe();
    };
    SampleLayoutComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ngx-sample-layout',
            styles: [__webpack_require__("./src/app/@theme/layouts/sample/sample.layout.scss")],
            template: "\n    <nb-layout [center]=\"layout.id === 'center-column'\" windowMode>\n      <nb-layout-header fixed>\n        <ngx-header [position]=\"sidebar.id === 'left' ? 'normal': 'inverse'\"></ngx-header>\n      </nb-layout-header>\n\n      <nb-sidebar class=\"menu-sidebar\"\n                   tag=\"menu-sidebar\"\n                   responsive\n                   [right]=\"sidebar.id === 'right'\">\n        <nb-sidebar-header>\n          <a style=\"color:white;\" class=\"btn btn-hero-success main-btn\">\n            <span>YFM</span>\n          </a>\n        </nb-sidebar-header>\n        <ng-content select=\"nb-menu\"></ng-content>\n      </nb-sidebar>\n\n      <nb-layout-column class=\"main-content\">\n        <ng-content select=\"router-outlet\"></ng-content>\n      </nb-layout-column>\n\n      <nb-layout-column left class=\"small\" *ngIf=\"layout.id === 'two-column' || layout.id === 'three-column'\">\n        <nb-menu [items]=\"subMenu\"></nb-menu>\n      </nb-layout-column>\n\n      <nb-layout-column right class=\"small\" *ngIf=\"layout.id === 'three-column'\">\n        <nb-menu [items]=\"subMenu\"></nb-menu>\n      </nb-layout-column>\n\n      <nb-layout-footer fixed>\n        <ngx-footer></ngx-footer>\n      </nb-layout-footer>\n\n      <nb-sidebar class=\"settings-sidebar\"\n                   tag=\"settings-sidebar\"\n                   state=\"collapsed\"\n                   fixed\n                   [right]=\"sidebar.id !== 'right'\">\n        <ngx-theme-settings></ngx-theme-settings>\n      </nb-sidebar>\n    </nb-layout>\n  ",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__core_data_state_service__["a" /* StateService */],
            __WEBPACK_IMPORTED_MODULE_1__nebular_theme__["h" /* NbMenuService */],
            __WEBPACK_IMPORTED_MODULE_1__nebular_theme__["o" /* NbThemeService */],
            __WEBPACK_IMPORTED_MODULE_1__nebular_theme__["f" /* NbMediaBreakpointsService */],
            __WEBPACK_IMPORTED_MODULE_1__nebular_theme__["l" /* NbSidebarService */]])
    ], SampleLayoutComponent);
    return SampleLayoutComponent;
}());



/***/ }),

/***/ "./src/app/@theme/layouts/three-columns/three-columns.layout.scss":
/***/ (function(module, exports) {

module.exports = "/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This is a starting point where we declare the maps of themes and globally available functions/mixins\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\nbutton:focus {\n  outline: none; }\n.mat-icon {\n  font-size: 17px; }\ninput[type=date]::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  display: none; }\n.float {\n  position: fixed;\n  width: 60px;\n  height: 60px;\n  bottom: 20px !important;\n  right: 20px !important;\n  background-color: #0C9;\n  color: #FFF;\n  border-radius: 50px;\n  text-align: center;\n  -webkit-box-shadow: 2px 2px 3px #999;\n          box-shadow: 2px 2px 3px #999; }\n.my-float {\n  margin-top: 22px; }\na:hover {\n  cursor: pointer; }\n.mat-checkbox-checked.mat-accent .mat-checkbox-background, .mat-checkbox-indeterminate.mat-accent .mat-checkbox-background {\n  background-color: #1b8ef1 !important; }\n.mat-ripple-element {\n  background: rgba(27, 142, 241, 0.4) !important; }\n.mat-radio-button.mat-accent .mat-radio-inner-circle {\n  background-color: #4286f4; }\n.mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle {\n  border-color: #4286f4; }\n.mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element {\n  background-color: rgba(66, 134, 244, 0.26); }\n@-webkit-keyframes spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n@keyframes spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n#test {\n  margin-top: 25px;\n  font-size: 21px;\n  text-align: center;\n  -webkit-animation: fadein 1s;\n  /* Safari, Chrome and Opera > 12.1 */\n  /* Firefox < 16 */\n  /* Internet Explorer */\n  /* Opera < 12.1 */\n  animation: fadein 1s; }\n@keyframes fadein {\n  from {\n    opacity: 0; }\n  to {\n    opacity: 1; } }\n/* Firefox < 16 */\n/* Safari, Chrome and Opera > 12.1 */\n@-webkit-keyframes fadein {\n  from {\n    opacity: 0; }\n  to {\n    opacity: 1; } }\n/* Internet Explorer */\n/* Opera < 12.1 */\n.mat-table {\n  position: relative;\n  overflow-x: auto;\n  width: 100%;\n  background-color: rgba(255, 255, 255, 0.959); }\n.mat-paginator {\n  background-color: white; }\n.mat-row, .mat-header-row {\n  min-width: 1024px;\n  width: 100%;\n  padding: 0px 0px !important;\n  cursor: pointer; }\n.mat-row:hover {\n  background-color: rgba(211, 211, 211, 0.377) !important; }\n.mat-header-cell, .mat-cell {\n  font-size: 11px !important;\n  padding-top: 2px !important;\n  padding-bottom: 2px !important;\n  text-align: center !important; }\n::ng-deep .mat-sort-header-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  color: black;\n  padding-left: 15px !important; }\n.mat-chip {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px;\n  margin: auto; }\nbutton.mat-icon-button:active,\nbutton.mat-icon-button:focus,\nbutton.mat-icon-button {\n  border: none;\n  outline: none;\n  cursor: pointer; }\n@media only screen and (max-height: 800px) {\n  ::ng-deep .mat-menu-panel {\n    max-height: 300px !important;\n    overflow: auto !important;\n    right: 10px; } }\nbutton.mat-menu-item {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px; }\n::ng-deep .mat-sort-header-arrow.ng-trigger.ng-trigger-arrowPosition {\n  opacity: 0; }\n::ng-deep .mat-sort-header-pointer-left.ng-trigger.ng-trigger-leftPointer {\n  -webkit-transform: rotate(-45deg);\n          transform: rotate(-45deg); }\n::ng-deep .mat-sort-header-pointer-right.ng-trigger.ng-trigger-rightPointer {\n  -webkit-transform: rotate(45deg);\n          transform: rotate(45deg); }\nnb-sidebar,\nnb-sidebar > div.main-container {\n  -webkit-transition: width 0.5s;\n  transition: width 0.5s; }\n::ng-deep .mat-dialog-container {\n  border-radius: 5px !important;\n  display: inline-block !important;\n  position: fixed !important;\n  top: 2.5% !important;\n  bottom: auto !important;\n  left: 0 !important;\n  right: 0 !important;\n  margin: auto !important;\n  height: -webkit-fit-content !important;\n  height: -moz-fit-content !important;\n  height: fit-content !important;\n  width: -webkit-fit-content !important;\n  width: -moz-fit-content !important;\n  width: fit-content !important;\n  max-height: 95% !important;\n  max-width: 85% !important; }\n::ng-deep .mat-tooltip {\n  font-size: 14px; }\n.w-100 {\n  width: 100%; }\n.ptb-10 {\n  padding: 10px 0px 10px 0px; }\n.pt-10 {\n  padding-top: 10px; }\n.pb-10 {\n  padding-bottom: 10px; }\n.bottom-align {\n  bottom: 0px;\n  position: absolute !important; }\n.hide-overflow {\n  overflow: hidden !important; }\n@media only screen and (max-width: 400px) {\n  .bottom-align {\n    position: relative !important; } }\n.mat-datepicker-popup {\n  -webkit-transform: scale(0.85);\n          transform: scale(0.85);\n  -webkit-transform-origin: 0% 0;\n          transform-origin: 0% 0; }\n.invoice-button-container {\n  text-align: center; }\n.confirm-container {\n  text-align: center !important;\n  margin-left: 150px !important;\n  margin-top: 20px !important; }\n.invoice-button {\n  display: inline-block !important;\n  margin: 5px 5px 5px 5px !important; }\n.call-container {\n  text-align: left; }\n.call-div {\n  display: inline-block !important;\n  margin: 10px 10px 10px 10px !important; }\n@media only screen and (max-width: 480px) {\n  .mat-paginator-page-size {\n    margin-right: 0px;\n    -webkit-transform: scale(0.9, 0.9);\n            transform: scale(0.9, 0.9); }\n  .mat-paginator-range-label {\n    margin: 0 10px 0 5px; }\n  .invoice-button-container {\n    text-align: left; }\n  .confirm-container {\n    text-align: center !important;\n    width: 100% !important;\n    margin-left: unset !important;\n    margin-top: 20px !important; }\n  .confirm-question {\n    text-align: center !important; }\n  .mobile-select {\n    width: 45% !important;\n    -webkit-transform: scale(0.85);\n            transform: scale(0.85);\n    -webkit-transform-origin: 0% 0;\n            transform-origin: 0% 0; }\n  .filter-field {\n    width: 60% !important; }\n  .filter-date {\n    width: 45% !important; }\n  nb-card {\n    margin-right: -10px;\n    margin-left: -10px; } }\n.filter-field {\n  width: 30%; }\n.img-icon {\n  height: 17px; }\n@media only screen and (min-width: 490px) {\n  .filter-icon {\n    font-size: 30px !important; }\n  .img-icon {\n    height: 30px; }\n  nb-card {\n    margin-right: -10px; }\n  .graph-height {\n    height: 62vh !important; } }\nnb-card-body {\n  padding-right: 15px !important; }\n.modal-row {\n  margin-right: -2px;\n  margin-left: -15px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap; }\n.mat-snack-bar-container {\n  margin: 10px !important;\n  opacity: 0.9 !important; }\n.mat-simple-snackbar {\n  padding: 5px !important; }\n.mat-chip {\n  -webkit-transform: scale(0.85, 0.85);\n          transform: scale(0.85, 0.85); }\n.mat-list-item {\n  font-size: inherit; }\nnb-layout-header {\n  z-index: 100 !important; }\n.nb-theme-cosmic nb-layout .layout .layout-container nb-sidebar.fixed {\n  z-index: 1000; }\n.mat-ripple-element {\n  display: none !important; }\n.mat-raised-button.mat-primary {\n  background-color: #3fb577 !important; }\n.mat-raised-button[disabled][disabled] {\n  background-color: rgba(0, 0, 0, 0.12) !important; }\ninput.mat-input-element {\n  margin-top: 5px; }\n.nb-theme-cosmic nb-menu {\n  font-size: 14px !important; }\n.nb-theme-cosmic nb-sidebar {\n  line-height: 1.15 !important; }\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n:host-context(.nb-theme-default) nb-layout-column.small {\n  -webkit-box-flex: 0.15 !important;\n      -ms-flex: 0.15 !important;\n          flex: 0.15 !important; }\n:host-context(.nb-theme-default) nb-sidebar.settings-sidebar {\n  -webkit-transition: width 0.3s ease;\n  transition: width 0.3s ease;\n  width: 7.5rem;\n  overflow: hidden; }\n:host-context(.nb-theme-default) nb-sidebar.settings-sidebar.collapsed {\n    width: 0; }\n:host-context(.nb-theme-default) nb-sidebar.settings-sidebar.collapsed /deep/ .main-container {\n      width: 0; }\n:host-context(.nb-theme-default) nb-sidebar.settings-sidebar.collapsed /deep/ .main-container .scrollable {\n        width: 7.5rem;\n        padding: 1.25rem; }\n:host-context(.nb-theme-default) nb-sidebar.settings-sidebar /deep/ .main-container {\n    width: 7.5rem;\n    background: #ffffff;\n    -webkit-transition: width 0.3s ease;\n    transition: width 0.3s ease;\n    overflow: hidden; }\n:host-context(.nb-theme-default) nb-sidebar.settings-sidebar /deep/ .main-container .scrollable {\n      width: 7.5rem; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar {\n  margin-top: 2rem;\n  background: transparent; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar /deep/ .main-container {\n    height: calc(100vh - 4.75rem - 2rem) !important;\n    border-top-right-radius: 0.375rem; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar /deep/ nb-sidebar-header {\n    padding-bottom: 0.5rem;\n    text-align: center; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar .main-btn {\n    padding: 0.75rem 2.5rem;\n    margin-top: -2rem;\n    font-weight: bold;\n    -webkit-transition: padding 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.48);\n    transition: padding 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.48); }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar .main-btn i {\n      font-size: 2rem;\n      text-shadow: 0 1px 1px rgba(0, 0, 0, 0.2); }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar .main-btn span {\n      padding-left: 0.25rem; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar .main-btn i, :host-context(.nb-theme-default) nb-sidebar.menu-sidebar .main-btn span {\n      vertical-align: middle; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar.compacted /deep/ nb-sidebar-header {\n    padding-left: 0;\n    padding-right: 0; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar.compacted .main-btn {\n    width: 46px;\n    height: 44px;\n    padding: 0.375rem;\n    border-radius: 5px;\n    -webkit-transition: none;\n    transition: none; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar.compacted .main-btn span {\n      display: none; }\n@media (max-width: 399px) {\n  :host-context(.nb-theme-default) .main-content {\n    padding: 0.75rem !important; } }\n@media (max-width: 767px) {\n  :host-context(.nb-theme-default) nb-sidebar.menu-sidebar {\n    margin-top: 0; }\n    :host-context(.nb-theme-default) nb-sidebar.menu-sidebar /deep/ .main-container {\n      height: calc(100vh - 4.75rem) !important;\n      border-top-right-radius: 0; }\n      :host-context(.nb-theme-default) nb-sidebar.menu-sidebar /deep/ .main-container .scrollable {\n        padding-top: 0; }\n  :host-context(.nb-theme-default) .main-btn {\n    display: none; } }\n:host-context(.nb-theme-cosmic) nb-layout-column.small {\n  -webkit-box-flex: 0.15 !important;\n      -ms-flex: 0.15 !important;\n          flex: 0.15 !important; }\n:host-context(.nb-theme-cosmic) nb-sidebar.settings-sidebar {\n  -webkit-transition: width 0.3s ease;\n  transition: width 0.3s ease;\n  width: 7.5rem;\n  overflow: hidden; }\n:host-context(.nb-theme-cosmic) nb-sidebar.settings-sidebar.collapsed {\n    width: 0; }\n:host-context(.nb-theme-cosmic) nb-sidebar.settings-sidebar.collapsed /deep/ .main-container {\n      width: 0; }\n:host-context(.nb-theme-cosmic) nb-sidebar.settings-sidebar.collapsed /deep/ .main-container .scrollable {\n        width: 7.5rem;\n        padding: 1.25rem; }\n:host-context(.nb-theme-cosmic) nb-sidebar.settings-sidebar /deep/ .main-container {\n    width: 7.5rem;\n    background: #ffffff;\n    -webkit-transition: width 0.3s ease;\n    transition: width 0.3s ease;\n    overflow: hidden;\n    background: #ebeff5; }\n:host-context(.nb-theme-cosmic) nb-sidebar.settings-sidebar /deep/ .main-container .scrollable {\n      width: 7.5rem; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar {\n  margin-top: 1.5rem;\n  background: transparent; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar /deep/ .main-container {\n    height: calc(100vh - 3.5rem - 1.5rem) !important;\n    border-top-right-radius: 0.375rem; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar /deep/ nb-sidebar-header {\n    padding-bottom: 0.5rem;\n    text-align: center; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar .main-btn {\n    padding: 0.75rem 2.5rem;\n    margin-top: -2rem;\n    font-weight: bold;\n    -webkit-transition: padding 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.48);\n    transition: padding 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.48); }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar .main-btn i {\n      font-size: 2rem;\n      text-shadow: 0 1px 1px rgba(0, 0, 0, 0.2); }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar .main-btn span {\n      padding-left: 0.25rem; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar .main-btn i, :host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar .main-btn span {\n      vertical-align: middle; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar.compacted /deep/ nb-sidebar-header {\n    padding-left: 0;\n    padding-right: 0; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar.compacted .main-btn {\n    width: 46px;\n    height: 44px;\n    padding: 0.375rem;\n    border-radius: 5px;\n    -webkit-transition: none;\n    transition: none; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar.compacted .main-btn span {\n      display: none; }\n@media (max-width: 399px) {\n  :host-context(.nb-theme-cosmic) .main-content {\n    padding: 0.75rem !important; } }\n@media (max-width: 767px) {\n  :host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar {\n    margin-top: 0; }\n    :host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar /deep/ .main-container {\n      height: calc(100vh - 3.5rem) !important;\n      border-top-right-radius: 0; }\n      :host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar /deep/ .main-container .scrollable {\n        padding-top: 0; }\n  :host-context(.nb-theme-cosmic) .main-btn {\n    display: none; } }\n"

/***/ }),

/***/ "./src/app/@theme/layouts/three-columns/three-columns.layout.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ThreeColumnsLayoutComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

// TODO: move layouts into the framework
var ThreeColumnsLayoutComponent = (function () {
    function ThreeColumnsLayoutComponent() {
    }
    ThreeColumnsLayoutComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ngx-three-columns-layout',
            styles: [__webpack_require__("./src/app/@theme/layouts/three-columns/three-columns.layout.scss")],
            template: "\n    <nb-layout>\n      <nb-layout-header>\n        <ngx-header></ngx-header>\n      </nb-layout-header>\n\n      <nb-sidebar class=\"menu-sidebar\" tag=\"menu-sidebar\" responsive >\n        <nb-sidebar-header>\n          <a href=\"#\" class=\"btn btn-hero-success main-btn\">\n            <i class=\"ion ion-social-github\"></i> <span>Support Us</span>\n          </a>\n        </nb-sidebar-header>\n        <ng-content select=\"nb-menu\"></ng-content>\n      </nb-sidebar>\n\n      <nb-layout-column class=\"small\">\n      </nb-layout-column>\n\n      <nb-layout-column right>\n        <ng-content select=\"router-outlet\"></ng-content>\n      </nb-layout-column>\n\n      <nb-layout-column class=\"small\">\n      </nb-layout-column>\n\n      <nb-layout-footer fixed>\n        <ngx-footer></ngx-footer>\n      </nb-layout-footer>\n    </nb-layout>\n  ",
        })
    ], ThreeColumnsLayoutComponent);
    return ThreeColumnsLayoutComponent;
}());



/***/ }),

/***/ "./src/app/@theme/layouts/two-columns/two-columns.layout.scss":
/***/ (function(module, exports) {

module.exports = "/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This is a starting point where we declare the maps of themes and globally available functions/mixins\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n/**\n * This mixin generates keyfames.\n * Because of all keyframes can't be scoped,\n * we need to puts unique name in each btn-pulse call.\n */\nbutton:focus {\n  outline: none; }\n.mat-icon {\n  font-size: 17px; }\ninput[type=date]::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  display: none; }\n.float {\n  position: fixed;\n  width: 60px;\n  height: 60px;\n  bottom: 20px !important;\n  right: 20px !important;\n  background-color: #0C9;\n  color: #FFF;\n  border-radius: 50px;\n  text-align: center;\n  -webkit-box-shadow: 2px 2px 3px #999;\n          box-shadow: 2px 2px 3px #999; }\n.my-float {\n  margin-top: 22px; }\na:hover {\n  cursor: pointer; }\n.mat-checkbox-checked.mat-accent .mat-checkbox-background, .mat-checkbox-indeterminate.mat-accent .mat-checkbox-background {\n  background-color: #1b8ef1 !important; }\n.mat-ripple-element {\n  background: rgba(27, 142, 241, 0.4) !important; }\n.mat-radio-button.mat-accent .mat-radio-inner-circle {\n  background-color: #4286f4; }\n.mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle {\n  border-color: #4286f4; }\n.mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element {\n  background-color: rgba(66, 134, 244, 0.26); }\n@-webkit-keyframes spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n@keyframes spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n#test {\n  margin-top: 25px;\n  font-size: 21px;\n  text-align: center;\n  -webkit-animation: fadein 1s;\n  /* Safari, Chrome and Opera > 12.1 */\n  /* Firefox < 16 */\n  /* Internet Explorer */\n  /* Opera < 12.1 */\n  animation: fadein 1s; }\n@keyframes fadein {\n  from {\n    opacity: 0; }\n  to {\n    opacity: 1; } }\n/* Firefox < 16 */\n/* Safari, Chrome and Opera > 12.1 */\n@-webkit-keyframes fadein {\n  from {\n    opacity: 0; }\n  to {\n    opacity: 1; } }\n/* Internet Explorer */\n/* Opera < 12.1 */\n.mat-table {\n  position: relative;\n  overflow-x: auto;\n  width: 100%;\n  background-color: rgba(255, 255, 255, 0.959); }\n.mat-paginator {\n  background-color: white; }\n.mat-row, .mat-header-row {\n  min-width: 1024px;\n  width: 100%;\n  padding: 0px 0px !important;\n  cursor: pointer; }\n.mat-row:hover {\n  background-color: rgba(211, 211, 211, 0.377) !important; }\n.mat-header-cell, .mat-cell {\n  font-size: 11px !important;\n  padding-top: 2px !important;\n  padding-bottom: 2px !important;\n  text-align: center !important; }\n::ng-deep .mat-sort-header-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  color: black;\n  padding-left: 15px !important; }\n.mat-chip {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px;\n  margin: auto; }\nbutton.mat-icon-button:active,\nbutton.mat-icon-button:focus,\nbutton.mat-icon-button {\n  border: none;\n  outline: none;\n  cursor: pointer; }\n@media only screen and (max-height: 800px) {\n  ::ng-deep .mat-menu-panel {\n    max-height: 300px !important;\n    overflow: auto !important;\n    right: 10px; } }\nbutton.mat-menu-item {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px; }\n::ng-deep .mat-sort-header-arrow.ng-trigger.ng-trigger-arrowPosition {\n  opacity: 0; }\n::ng-deep .mat-sort-header-pointer-left.ng-trigger.ng-trigger-leftPointer {\n  -webkit-transform: rotate(-45deg);\n          transform: rotate(-45deg); }\n::ng-deep .mat-sort-header-pointer-right.ng-trigger.ng-trigger-rightPointer {\n  -webkit-transform: rotate(45deg);\n          transform: rotate(45deg); }\nnb-sidebar,\nnb-sidebar > div.main-container {\n  -webkit-transition: width 0.5s;\n  transition: width 0.5s; }\n::ng-deep .mat-dialog-container {\n  border-radius: 5px !important;\n  display: inline-block !important;\n  position: fixed !important;\n  top: 2.5% !important;\n  bottom: auto !important;\n  left: 0 !important;\n  right: 0 !important;\n  margin: auto !important;\n  height: -webkit-fit-content !important;\n  height: -moz-fit-content !important;\n  height: fit-content !important;\n  width: -webkit-fit-content !important;\n  width: -moz-fit-content !important;\n  width: fit-content !important;\n  max-height: 95% !important;\n  max-width: 85% !important; }\n::ng-deep .mat-tooltip {\n  font-size: 14px; }\n.w-100 {\n  width: 100%; }\n.ptb-10 {\n  padding: 10px 0px 10px 0px; }\n.pt-10 {\n  padding-top: 10px; }\n.pb-10 {\n  padding-bottom: 10px; }\n.bottom-align {\n  bottom: 0px;\n  position: absolute !important; }\n.hide-overflow {\n  overflow: hidden !important; }\n@media only screen and (max-width: 400px) {\n  .bottom-align {\n    position: relative !important; } }\n.mat-datepicker-popup {\n  -webkit-transform: scale(0.85);\n          transform: scale(0.85);\n  -webkit-transform-origin: 0% 0;\n          transform-origin: 0% 0; }\n.invoice-button-container {\n  text-align: center; }\n.confirm-container {\n  text-align: center !important;\n  margin-left: 150px !important;\n  margin-top: 20px !important; }\n.invoice-button {\n  display: inline-block !important;\n  margin: 5px 5px 5px 5px !important; }\n.call-container {\n  text-align: left; }\n.call-div {\n  display: inline-block !important;\n  margin: 10px 10px 10px 10px !important; }\n@media only screen and (max-width: 480px) {\n  .mat-paginator-page-size {\n    margin-right: 0px;\n    -webkit-transform: scale(0.9, 0.9);\n            transform: scale(0.9, 0.9); }\n  .mat-paginator-range-label {\n    margin: 0 10px 0 5px; }\n  .invoice-button-container {\n    text-align: left; }\n  .confirm-container {\n    text-align: center !important;\n    width: 100% !important;\n    margin-left: unset !important;\n    margin-top: 20px !important; }\n  .confirm-question {\n    text-align: center !important; }\n  .mobile-select {\n    width: 45% !important;\n    -webkit-transform: scale(0.85);\n            transform: scale(0.85);\n    -webkit-transform-origin: 0% 0;\n            transform-origin: 0% 0; }\n  .filter-field {\n    width: 60% !important; }\n  .filter-date {\n    width: 45% !important; }\n  nb-card {\n    margin-right: -10px;\n    margin-left: -10px; } }\n.filter-field {\n  width: 30%; }\n.img-icon {\n  height: 17px; }\n@media only screen and (min-width: 490px) {\n  .filter-icon {\n    font-size: 30px !important; }\n  .img-icon {\n    height: 30px; }\n  nb-card {\n    margin-right: -10px; }\n  .graph-height {\n    height: 62vh !important; } }\nnb-card-body {\n  padding-right: 15px !important; }\n.modal-row {\n  margin-right: -2px;\n  margin-left: -15px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap; }\n.mat-snack-bar-container {\n  margin: 10px !important;\n  opacity: 0.9 !important; }\n.mat-simple-snackbar {\n  padding: 5px !important; }\n.mat-chip {\n  -webkit-transform: scale(0.85, 0.85);\n          transform: scale(0.85, 0.85); }\n.mat-list-item {\n  font-size: inherit; }\nnb-layout-header {\n  z-index: 100 !important; }\n.nb-theme-cosmic nb-layout .layout .layout-container nb-sidebar.fixed {\n  z-index: 1000; }\n.mat-ripple-element {\n  display: none !important; }\n.mat-raised-button.mat-primary {\n  background-color: #3fb577 !important; }\n.mat-raised-button[disabled][disabled] {\n  background-color: rgba(0, 0, 0, 0.12) !important; }\ninput.mat-input-element {\n  margin-top: 5px; }\n.nb-theme-cosmic nb-menu {\n  font-size: 14px !important; }\n.nb-theme-cosmic nb-sidebar {\n  line-height: 1.15 !important; }\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n:host-context(.nb-theme-default) nb-layout-column.small {\n  -webkit-box-flex: 0.15 !important;\n      -ms-flex: 0.15 !important;\n          flex: 0.15 !important; }\n:host-context(.nb-theme-default) nb-sidebar.settings-sidebar {\n  -webkit-transition: width 0.3s ease;\n  transition: width 0.3s ease;\n  width: 7.5rem;\n  overflow: hidden; }\n:host-context(.nb-theme-default) nb-sidebar.settings-sidebar.collapsed {\n    width: 0; }\n:host-context(.nb-theme-default) nb-sidebar.settings-sidebar.collapsed /deep/ .main-container {\n      width: 0; }\n:host-context(.nb-theme-default) nb-sidebar.settings-sidebar.collapsed /deep/ .main-container .scrollable {\n        width: 7.5rem;\n        padding: 1.25rem; }\n:host-context(.nb-theme-default) nb-sidebar.settings-sidebar /deep/ .main-container {\n    width: 7.5rem;\n    background: #ffffff;\n    -webkit-transition: width 0.3s ease;\n    transition: width 0.3s ease;\n    overflow: hidden; }\n:host-context(.nb-theme-default) nb-sidebar.settings-sidebar /deep/ .main-container .scrollable {\n      width: 7.5rem; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar {\n  margin-top: 2rem;\n  background: transparent; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar /deep/ .main-container {\n    height: calc(100vh - 4.75rem - 2rem) !important;\n    border-top-right-radius: 0.375rem; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar /deep/ nb-sidebar-header {\n    padding-bottom: 0.5rem;\n    text-align: center; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar .main-btn {\n    padding: 0.75rem 2.5rem;\n    margin-top: -2rem;\n    font-weight: bold;\n    -webkit-transition: padding 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.48);\n    transition: padding 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.48); }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar .main-btn i {\n      font-size: 2rem;\n      text-shadow: 0 1px 1px rgba(0, 0, 0, 0.2); }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar .main-btn span {\n      padding-left: 0.25rem; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar .main-btn i, :host-context(.nb-theme-default) nb-sidebar.menu-sidebar .main-btn span {\n      vertical-align: middle; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar.compacted /deep/ nb-sidebar-header {\n    padding-left: 0;\n    padding-right: 0; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar.compacted .main-btn {\n    width: 46px;\n    height: 44px;\n    padding: 0.375rem;\n    border-radius: 5px;\n    -webkit-transition: none;\n    transition: none; }\n:host-context(.nb-theme-default) nb-sidebar.menu-sidebar.compacted .main-btn span {\n      display: none; }\n@media (max-width: 399px) {\n  :host-context(.nb-theme-default) .main-content {\n    padding: 0.75rem !important; } }\n@media (max-width: 767px) {\n  :host-context(.nb-theme-default) nb-sidebar.menu-sidebar {\n    margin-top: 0; }\n    :host-context(.nb-theme-default) nb-sidebar.menu-sidebar /deep/ .main-container {\n      height: calc(100vh - 4.75rem) !important;\n      border-top-right-radius: 0; }\n      :host-context(.nb-theme-default) nb-sidebar.menu-sidebar /deep/ .main-container .scrollable {\n        padding-top: 0; }\n  :host-context(.nb-theme-default) .main-btn {\n    display: none; } }\n:host-context(.nb-theme-cosmic) nb-layout-column.small {\n  -webkit-box-flex: 0.15 !important;\n      -ms-flex: 0.15 !important;\n          flex: 0.15 !important; }\n:host-context(.nb-theme-cosmic) nb-sidebar.settings-sidebar {\n  -webkit-transition: width 0.3s ease;\n  transition: width 0.3s ease;\n  width: 7.5rem;\n  overflow: hidden; }\n:host-context(.nb-theme-cosmic) nb-sidebar.settings-sidebar.collapsed {\n    width: 0; }\n:host-context(.nb-theme-cosmic) nb-sidebar.settings-sidebar.collapsed /deep/ .main-container {\n      width: 0; }\n:host-context(.nb-theme-cosmic) nb-sidebar.settings-sidebar.collapsed /deep/ .main-container .scrollable {\n        width: 7.5rem;\n        padding: 1.25rem; }\n:host-context(.nb-theme-cosmic) nb-sidebar.settings-sidebar /deep/ .main-container {\n    width: 7.5rem;\n    background: #ffffff;\n    -webkit-transition: width 0.3s ease;\n    transition: width 0.3s ease;\n    overflow: hidden;\n    background: #ebeff5; }\n:host-context(.nb-theme-cosmic) nb-sidebar.settings-sidebar /deep/ .main-container .scrollable {\n      width: 7.5rem; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar {\n  margin-top: 1.5rem;\n  background: transparent; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar /deep/ .main-container {\n    height: calc(100vh - 3.5rem - 1.5rem) !important;\n    border-top-right-radius: 0.375rem; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar /deep/ nb-sidebar-header {\n    padding-bottom: 0.5rem;\n    text-align: center; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar .main-btn {\n    padding: 0.75rem 2.5rem;\n    margin-top: -2rem;\n    font-weight: bold;\n    -webkit-transition: padding 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.48);\n    transition: padding 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.48); }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar .main-btn i {\n      font-size: 2rem;\n      text-shadow: 0 1px 1px rgba(0, 0, 0, 0.2); }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar .main-btn span {\n      padding-left: 0.25rem; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar .main-btn i, :host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar .main-btn span {\n      vertical-align: middle; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar.compacted /deep/ nb-sidebar-header {\n    padding-left: 0;\n    padding-right: 0; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar.compacted .main-btn {\n    width: 46px;\n    height: 44px;\n    padding: 0.375rem;\n    border-radius: 5px;\n    -webkit-transition: none;\n    transition: none; }\n:host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar.compacted .main-btn span {\n      display: none; }\n@media (max-width: 399px) {\n  :host-context(.nb-theme-cosmic) .main-content {\n    padding: 0.75rem !important; } }\n@media (max-width: 767px) {\n  :host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar {\n    margin-top: 0; }\n    :host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar /deep/ .main-container {\n      height: calc(100vh - 3.5rem) !important;\n      border-top-right-radius: 0; }\n      :host-context(.nb-theme-cosmic) nb-sidebar.menu-sidebar /deep/ .main-container .scrollable {\n        padding-top: 0; }\n  :host-context(.nb-theme-cosmic) .main-btn {\n    display: none; } }\n"

/***/ }),

/***/ "./src/app/@theme/layouts/two-columns/two-columns.layout.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TwoColumnsLayoutComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

// TODO: move layouts into the framework
var TwoColumnsLayoutComponent = (function () {
    function TwoColumnsLayoutComponent() {
    }
    TwoColumnsLayoutComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ngx-two-columns-layout',
            styles: [__webpack_require__("./src/app/@theme/layouts/two-columns/two-columns.layout.scss")],
            template: "\n    <nb-layout>\n      <nb-layout-header>\n        <ngx-header></ngx-header>\n      </nb-layout-header>\n\n      <nb-sidebar class=\"menu-sidebar\" tag=\"menu-sidebar\" responsive >\n        <nb-sidebar-header>\n          <a href=\"#\" class=\"btn btn-hero-success main-btn\">\n            <i class=\"ion ion-social-github\"></i> <span>Support Us</span>\n          </a>\n        </nb-sidebar-header>\n        <ng-content select=\"nb-menu\"></ng-content>\n      </nb-sidebar>\n\n      <nb-layout-column class=\"small\">\n      </nb-layout-column>\n\n      <nb-layout-column right>\n        <ng-content select=\"router-outlet\"></ng-content>\n      </nb-layout-column>\n\n      <nb-layout-footer fixed>\n        <ngx-footer></ngx-footer>\n      </nb-layout-footer>\n\n    </nb-layout>\n  ",
        })
    ], TwoColumnsLayoutComponent);
    return TwoColumnsLayoutComponent;
}());



/***/ }),

/***/ "./src/app/@theme/pipes/capitalize.pipe.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CapitalizePipe; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var CapitalizePipe = (function () {
    function CapitalizePipe() {
    }
    CapitalizePipe.prototype.transform = function (input) {
        return input && input.length
            ? (input.charAt(0).toUpperCase() + input.slice(1).toLowerCase())
            : input;
    };
    CapitalizePipe = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Pipe"])({ name: 'ngxCapitalize' })
    ], CapitalizePipe);
    return CapitalizePipe;
}());



/***/ }),

/***/ "./src/app/@theme/pipes/index.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__capitalize_pipe__ = __webpack_require__("./src/app/@theme/pipes/capitalize.pipe.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__capitalize_pipe__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__plural_pipe__ = __webpack_require__("./src/app/@theme/pipes/plural.pipe.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "b", function() { return __WEBPACK_IMPORTED_MODULE_1__plural_pipe__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__round_pipe__ = __webpack_require__("./src/app/@theme/pipes/round.pipe.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "c", function() { return __WEBPACK_IMPORTED_MODULE_2__round_pipe__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__timing_pipe__ = __webpack_require__("./src/app/@theme/pipes/timing.pipe.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "d", function() { return __WEBPACK_IMPORTED_MODULE_3__timing_pipe__["a"]; });






/***/ }),

/***/ "./src/app/@theme/pipes/plural.pipe.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PluralPipe; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var PluralPipe = (function () {
    function PluralPipe() {
    }
    PluralPipe.prototype.transform = function (input, label, pluralLabel) {
        if (pluralLabel === void 0) { pluralLabel = ''; }
        input = input || 0;
        return input === 1
            ? input + " " + label
            : pluralLabel
                ? input + " " + pluralLabel
                : input + " " + label + "s";
    };
    PluralPipe = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Pipe"])({ name: 'ngxPlural' })
    ], PluralPipe);
    return PluralPipe;
}());



/***/ }),

/***/ "./src/app/@theme/pipes/round.pipe.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RoundPipe; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var RoundPipe = (function () {
    function RoundPipe() {
    }
    RoundPipe.prototype.transform = function (input) {
        return Math.round(input);
    };
    RoundPipe = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Pipe"])({ name: 'ngxRound' })
    ], RoundPipe);
    return RoundPipe;
}());



/***/ }),

/***/ "./src/app/@theme/pipes/timing.pipe.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TimingPipe; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var TimingPipe = (function () {
    function TimingPipe() {
    }
    TimingPipe.prototype.transform = function (time) {
        if (time) {
            var minutes = Math.floor(time / 60);
            var seconds = Math.floor(time % 60);
            return "" + this.initZero(minutes) + minutes + ":" + this.initZero(seconds) + seconds;
        }
        return '00:00';
    };
    TimingPipe.prototype.initZero = function (time) {
        return time < 10 ? '0' : '';
    };
    TimingPipe = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Pipe"])({ name: 'timing' })
    ], TimingPipe);
    return TimingPipe;
}());



/***/ }),

/***/ "./src/app/@theme/styles/theme.cosmic.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return COSMIC_THEME; });
var COSMIC_THEME = {
    name: 'cosmic',
    base: 'default',
    variables: {
        temperature: [
            '#2ec7fe',
            '#31ffad',
            '#7bff24',
            '#fff024',
            '#f7bd59',
        ],
        solar: {
            gradientLeft: '#7bff24',
            gradientRight: '#2ec7fe',
            shadowColor: '#19977E',
            radius: ['70%', '90%'],
        },
        traffic: {
            colorBlack: '#000000',
            tooltipBg: 'rgba(0, 255, 170, 0.35)',
            tooltipBorderColor: '#00d977',
            tooltipExtraCss: 'box-shadow: 0px 2px 46px 0 rgba(0, 255, 170, 0.35); border-radius: 10px; padding: 4px 16px;',
            tooltipTextColor: '#ffffff',
            tooltipFontWeight: 'normal',
            lineBg: '#d1d1ff',
            lineShadowBlur: '14',
            itemColor: '#BEBBFF',
            itemBorderColor: '#ffffff',
            itemEmphasisBorderColor: '#ffffff',
            shadowLineDarkBg: '#655ABD',
            shadowLineShadow: 'rgba(33, 7, 77, 0.5)',
            gradFrom: 'rgba(118, 89, 255, 0.4)',
            gradTo: 'rgba(164, 84, 255, 0.5)',
        },
        electricity: {
            tooltipBg: 'rgba(0, 255, 170, 0.35)',
            tooltipLineColor: 'rgba(255, 255, 255, 0.1)',
            tooltipLineWidth: '1',
            tooltipBorderColor: '#00d977',
            tooltipExtraCss: 'box-shadow: 0px 2px 46px 0 rgba(0, 255, 170, 0.35); border-radius: 10px; padding: 8px 24px;',
            tooltipTextColor: '#ffffff',
            tooltipFontWeight: 'normal',
            axisLineColor: 'rgba(161, 161 ,229, 0.3)',
            xAxisTextColor: '#a1a1e5',
            yAxisSplitLine: 'rgba(161, 161 ,229, 0.2)',
            itemBorderColor: '#ffffff',
            lineStyle: 'dotted',
            lineWidth: '6',
            lineGradFrom: '#00ffaa',
            lineGradTo: '#fff835',
            lineShadow: 'rgba(14, 16, 48, 0.4)',
            areaGradFrom: 'rgba(188, 92, 255, 0.5)',
            areaGradTo: 'rgba(188, 92, 255, 0)',
            shadowLineDarkBg: '#a695ff',
        },
        bubbleMap: {
            titleColor: '#ffffff',
            areaColor: '#2c2961',
            areaHoverColor: '#a1a1e5',
            areaBorderColor: '#654ddb',
        },
        echarts: {
            bg: '#3d3780',
            textColor: '#ffffff',
            axisLineColor: '#a1a1e5',
            splitLineColor: '#342e73',
            itemHoverShadowColor: 'rgba(0, 0, 0, 0.5)',
            tooltipBackgroundColor: '#6a7985',
            areaOpacity: '1',
        },
        chartjs: {
            axisLineColor: '#a1a1e5',
            textColor: '#ffffff',
        },
    },
};


/***/ }),

/***/ "./src/app/@theme/styles/theme.default.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DEFAULT_THEME; });
var DEFAULT_THEME = {
    name: 'default',
    base: null,
    variables: {
        // Safari fix
        temperature: [
            '#42db7d',
            '#42db7d',
            '#42db7d',
            '#42db7d',
            '#42db7d',
        ],
        solar: {
            gradientLeft: '#42db7d',
            gradientRight: '#42db7d',
            shadowColor: 'rgba(0, 0, 0, 0)',
            radius: ['80%', '90%'],
        },
        traffic: {
            colorBlack: '#000000',
            tooltipBg: '#ffffff',
            tooltipBorderColor: '#c0c8d1',
            tooltipExtraCss: 'border-radius: 10px; padding: 4px 16px;',
            tooltipTextColor: '#2a2a2a',
            tooltipFontWeight: 'bolder',
            lineBg: '#c0c8d1',
            lineShadowBlur: '1',
            itemColor: '#bcc3cc',
            itemBorderColor: '#bcc3cc',
            itemEmphasisBorderColor: '#42db7d',
            shadowLineDarkBg: 'rgba(0, 0, 0, 0)',
            shadowLineShadow: 'rgba(0, 0, 0, 0)',
            gradFrom: '#ebeef2',
            gradTo: '#ebeef2',
        },
        electricity: {
            tooltipBg: '#ffffff',
            tooltipLineColor: 'rgba(0, 0, 0, 0)',
            tooltipLineWidth: '0',
            tooltipBorderColor: '#ebeef2',
            tooltipExtraCss: 'border-radius: 10px; padding: 8px 24px;',
            tooltipTextColor: '#2a2a2a',
            tooltipFontWeight: 'bolder',
            axisLineColor: 'rgba(0, 0, 0, 0)',
            xAxisTextColor: '#2a2a2a',
            yAxisSplitLine: '#ebeef2',
            itemBorderColor: '#42db7d',
            lineStyle: 'solid',
            lineWidth: '4',
            lineGradFrom: '#42db7d',
            lineGradTo: '#42db7d',
            lineShadow: 'rgba(0, 0, 0, 0)',
            areaGradFrom: 'rgba(235, 238, 242, 0.5)',
            areaGradTo: 'rgba(235, 238, 242, 0.5)',
            shadowLineDarkBg: 'rgba(0, 0, 0, 0)',
        },
        bubbleMap: {
            titleColor: '#484848',
            areaColor: '#dddddd',
            areaHoverColor: '#cccccc',
            areaBorderColor: '#ebeef2',
        },
        echarts: {
            bg: '#ffffff',
            textColor: '#484848',
            axisLineColor: '#bbbbbb',
            splitLineColor: '#ebeef2',
            itemHoverShadowColor: 'rgba(0, 0, 0, 0.5)',
            tooltipBackgroundColor: '#6a7985',
            areaOpacity: '0.7',
        },
        chartjs: {
            axisLineColor: '#cccccc',
            textColor: '#484848',
        },
    },
};


/***/ }),

/***/ "./src/app/@theme/theme.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ThemeModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ng_bootstrap_ng_bootstrap__ = __webpack_require__("./node_modules/@ng-bootstrap/ng-bootstrap/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__nebular_theme__ = __webpack_require__("./node_modules/@nebular/theme/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components__ = __webpack_require__("./src/app/@theme/components/index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__pipes__ = __webpack_require__("./src/app/@theme/pipes/index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__layouts__ = __webpack_require__("./src/app/@theme/layouts/index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__styles_theme_default__ = __webpack_require__("./src/app/@theme/styles/theme.default.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__styles_theme_cosmic__ = __webpack_require__("./src/app/@theme/styles/theme.cosmic.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};











var BASE_MODULES = [__WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */], __WEBPACK_IMPORTED_MODULE_2__angular_forms__["e" /* FormsModule */], __WEBPACK_IMPORTED_MODULE_2__angular_forms__["j" /* ReactiveFormsModule */]];
var NB_MODULES = [
    __WEBPACK_IMPORTED_MODULE_4__nebular_theme__["b" /* NbCardModule */],
    __WEBPACK_IMPORTED_MODULE_4__nebular_theme__["e" /* NbLayoutModule */],
    __WEBPACK_IMPORTED_MODULE_4__nebular_theme__["m" /* NbTabsetModule */],
    __WEBPACK_IMPORTED_MODULE_4__nebular_theme__["i" /* NbRouteTabsetModule */],
    __WEBPACK_IMPORTED_MODULE_4__nebular_theme__["g" /* NbMenuModule */],
    __WEBPACK_IMPORTED_MODULE_4__nebular_theme__["p" /* NbUserModule */],
    __WEBPACK_IMPORTED_MODULE_4__nebular_theme__["a" /* NbActionsModule */],
    __WEBPACK_IMPORTED_MODULE_4__nebular_theme__["j" /* NbSearchModule */],
    __WEBPACK_IMPORTED_MODULE_4__nebular_theme__["k" /* NbSidebarModule */],
    __WEBPACK_IMPORTED_MODULE_4__nebular_theme__["c" /* NbCheckboxModule */],
    __WEBPACK_IMPORTED_MODULE_4__nebular_theme__["d" /* NbContextMenuModule */],
    __WEBPACK_IMPORTED_MODULE_3__ng_bootstrap_ng_bootstrap__["a" /* NgbModule */],
];
var COMPONENTS = [
    __WEBPACK_IMPORTED_MODULE_5__components__["e" /* ThemeSwitcherComponent */],
    __WEBPACK_IMPORTED_MODULE_5__components__["b" /* HeaderComponent */],
    __WEBPACK_IMPORTED_MODULE_5__components__["a" /* FooterComponent */],
    __WEBPACK_IMPORTED_MODULE_5__components__["c" /* SearchInputComponent */],
    __WEBPACK_IMPORTED_MODULE_5__components__["d" /* ThemeSettingsComponent */],
    __WEBPACK_IMPORTED_MODULE_5__components__["f" /* TinyMCEComponent */],
    __WEBPACK_IMPORTED_MODULE_7__layouts__["a" /* OneColumnLayoutComponent */],
    __WEBPACK_IMPORTED_MODULE_7__layouts__["b" /* SampleLayoutComponent */],
    __WEBPACK_IMPORTED_MODULE_7__layouts__["c" /* ThreeColumnsLayoutComponent */],
    __WEBPACK_IMPORTED_MODULE_7__layouts__["d" /* TwoColumnsLayoutComponent */],
];
var PIPES = [
    __WEBPACK_IMPORTED_MODULE_6__pipes__["a" /* CapitalizePipe */],
    __WEBPACK_IMPORTED_MODULE_6__pipes__["b" /* PluralPipe */],
    __WEBPACK_IMPORTED_MODULE_6__pipes__["c" /* RoundPipe */],
    __WEBPACK_IMPORTED_MODULE_6__pipes__["d" /* TimingPipe */],
];
var NB_THEME_PROVIDERS = __WEBPACK_IMPORTED_MODULE_4__nebular_theme__["n" /* NbThemeModule */].forRoot({
    name: 'cosmic',
}, [__WEBPACK_IMPORTED_MODULE_8__styles_theme_default__["a" /* DEFAULT_THEME */], __WEBPACK_IMPORTED_MODULE_9__styles_theme_cosmic__["a" /* COSMIC_THEME */]]).providers.concat(__WEBPACK_IMPORTED_MODULE_4__nebular_theme__["k" /* NbSidebarModule */].forRoot().providers, __WEBPACK_IMPORTED_MODULE_4__nebular_theme__["g" /* NbMenuModule */].forRoot().providers);
var ThemeModule = (function () {
    function ThemeModule() {
    }
    ThemeModule_1 = ThemeModule;
    ThemeModule.forRoot = function () {
        return {
            ngModule: ThemeModule_1,
            providers: NB_THEME_PROVIDERS.slice(),
        };
    };
    ThemeModule = ThemeModule_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            imports: BASE_MODULES.concat(NB_MODULES, [__WEBPACK_IMPORTED_MODULE_10__angular_material__["u" /* MatIconModule */], __WEBPACK_IMPORTED_MODULE_10__angular_material__["x" /* MatMenuModule */], __WEBPACK_IMPORTED_MODULE_10__angular_material__["g" /* MatButtonModule */], __WEBPACK_IMPORTED_MODULE_10__angular_material__["S" /* MatTooltipModule */], __WEBPACK_IMPORTED_MODULE_10__angular_material__["F" /* MatSelectModule */]]),
            exports: BASE_MODULES.concat(NB_MODULES, COMPONENTS, PIPES),
            declarations: COMPONENTS.concat(PIPES),
        })
    ], ThemeModule);
    return ThemeModule;
    var ThemeModule_1;
}());



/***/ }),

/***/ "./src/app/activitylog.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ActivitylogService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ActivitylogService = (function () {
    function ActivitylogService(http) {
        this.http = http;
    }
    ActivitylogService.prototype.addBookingLogs = function (temp) {
        console.log(temp);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/activityLogs/addBookingLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ActivitylogService.prototype.getBookingLogs = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/activityLogs/getBookingLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ActivitylogService.prototype.addFlightLogs = function (temp) {
        console.log(temp);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/activityLogs/addFlightLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ActivitylogService.prototype.getFlightLogs = function (temp) {
        console.log(temp);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/activityLogs/getFlightLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ActivitylogService.prototype.addHotelLogs = function (temp) {
        console.log(temp);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/activityLogs/addHotelLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ActivitylogService.prototype.getHotelLogs = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/activityLogs/getHotelLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ActivitylogService.prototype.addVisaLogs = function (temp) {
        console.log(temp);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/activityLogs/addVisaLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ActivitylogService.prototype.getVisaLogs = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/activityLogs/getVisaLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ActivitylogService.prototype.addCustomerLogs = function (temp) {
        console.log(temp);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/activityLogs/addCustomerLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ActivitylogService.prototype.getCustomerLogs = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/activityLogs/getCustomerLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ActivitylogService.prototype.addEmployeeLogs = function (temp) {
        console.log(temp);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/activityLogs/addEmployeeLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ActivitylogService.prototype.getEmployeeLogs = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/activityLogs/getEmployeeLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ActivitylogService.prototype.addDriverLogs = function (temp) {
        console.log(temp);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/activityLogs/addDriverLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ActivitylogService.prototype.getDriverLogs = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/activityLogs/getDriverLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ActivitylogService.prototype.addSupplierLogs = function (temp) {
        console.log(temp);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/activityLogs/addSupplierLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ActivitylogService.prototype.getSupplierLogs = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/activityLogs/getSupplierLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ActivitylogService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], ActivitylogService);
    return ActivitylogService;
}());



/***/ }),

/***/ "./src/app/app-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppRoutingModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_login_login_component__ = __webpack_require__("./src/app/pages/login/login.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_auth_guard__ = __webpack_require__("./src/app/core/auth.guard.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pages_logout_logout_component__ = __webpack_require__("./src/app/pages/logout/logout.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__pages_usermanagement_usermanagement_component__ = __webpack_require__("./src/app/pages/usermanagement/usermanagement.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__pages_trackyourvehicle_trackyourvehicle_component__ = __webpack_require__("./src/app/pages/trackyourvehicle/trackyourvehicle.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__pages_join_join_component__ = __webpack_require__("./src/app/pages/join/join.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};








var routes = [
    { path: 'pages', loadChildren: 'app/pages/pages.module#PagesModule', canActivate: [__WEBPACK_IMPORTED_MODULE_3__core_auth_guard__["a" /* AuthGuard */]] },
    { path: '', redirectTo: 'pages', pathMatch: 'full' },
    // { path: '**', redirectTo: 'login' },
    {
        path: 'login', component: __WEBPACK_IMPORTED_MODULE_2__pages_login_login_component__["a" /* LoginComponent */]
    },
    {
        path: 'logout', component: __WEBPACK_IMPORTED_MODULE_4__pages_logout_logout_component__["a" /* LogoutComponent */]
    },
    {
        path: 'usermanagement', component: __WEBPACK_IMPORTED_MODULE_5__pages_usermanagement_usermanagement_component__["a" /* UsermanagementComponent */]
    },
    {
        path: 'TrackYourVehicle', component: __WEBPACK_IMPORTED_MODULE_6__pages_trackyourvehicle_trackyourvehicle_component__["a" /* TrackyourvehicleComponent */]
    },
    {
        path: 'join', component: __WEBPACK_IMPORTED_MODULE_7__pages_join_join_component__["a" /* JoinComponent */]
    }
];
var config = {
    useHash: true
};
var AppRoutingModule = (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["NgModule"])({
            imports: [__WEBPACK_IMPORTED_MODULE_0__angular_router__["d" /* RouterModule */].forRoot(routes, config)],
            exports: [__WEBPACK_IMPORTED_MODULE_0__angular_router__["d" /* RouterModule */]],
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__nebular_theme__ = __webpack_require__("./node_modules/@nebular/theme/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * @license
 * Copyright Akveo. All Rights Reserved.
 * Licensed under the MIT License. See License.txt in the project root for license information.
 */




var AppComponent = (function () {
    function AppComponent(auth, router, menuService) {
        this.auth = auth;
        this.router = router;
        this.menuService = menuService;
    }
    AppComponent.prototype.ngOnInit = function () {
        var _this = this;
        if (localStorage.getItem("rtcuieo") && this.auth.isAuthenticated()) {
            this.auth.revalidate();
        }
        this.menuService.onItemClick().subscribe(function (event) {
            _this.onItemSelection(event.item.title);
        });
    };
    AppComponent.prototype.onItemSelection = function (title) {
        if (title === 'Logout') {
            this.auth.signOut();
        }
        if (title === 'Business Settings') {
            this.router.navigate(['/pages/circles/businesssetting']);
        }
        if (title === 'Company Profile') {
            this.router.navigate(['/pages/circles/companyprofile']);
        }
        if (title === 'My Profile') {
            this.router.navigate(['/pages/masters/myprofile']);
        }
    };
    AppComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ngx-app',
            template: '<router-outlet></router-outlet>',
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__nebular_theme__["h" /* NbMenuService */]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser_animations__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/animations.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__core_core_module__ = __webpack_require__("./src/app/@core/core.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__environments_environment__ = __webpack_require__("./src/environments/environment.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__app_component__ = __webpack_require__("./src/app/app.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__app_routing_module__ = __webpack_require__("./src/app/app-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__theme_theme_module__ = __webpack_require__("./src/app/@theme/theme.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__ng_bootstrap_ng_bootstrap__ = __webpack_require__("./node_modules/@ng-bootstrap/ng-bootstrap/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__pages_masters_customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__pages_operations_bookings_service__ = __webpack_require__("./src/app/pages/operations/bookings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__angular_cdk_table__ = __webpack_require__("./node_modules/@angular/cdk/esm5/table.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__pages_masters_dutytype_duty_type_service__ = __webpack_require__("./src/app/pages/masters/dutytype/duty-type.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__pages_masters_new_vehicles_vehicle_service__ = __webpack_require__("./src/app/pages/masters/new-vehicles/vehicle.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__pages_masters_new_employees_employee_service__ = __webpack_require__("./src/app/pages/masters/new-employees/employee.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__pages_masters_addsuppliers_supplier_service__ = __webpack_require__("./src/app/pages/masters/addsuppliers/supplier.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__pages_masters_addreceipts_receipt_service__ = __webpack_require__("./src/app/pages/masters/addreceipts/receipt.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__pages_masters_sub_users_sub_user_service__ = __webpack_require__("./src/app/pages/masters/sub-users/sub-user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__pages_login_login_component__ = __webpack_require__("./src/app/pages/login/login.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__core_auth_guard__ = __webpack_require__("./src/app/core/auth.guard.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__pages_masters_addpurchase_purchase_service__ = __webpack_require__("./src/app/pages/masters/addpurchase/purchase.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__pages_operations_new_billing_billing_service__ = __webpack_require__("./src/app/pages/operations/new-billing/billing.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__pages_duties_duties_service__ = __webpack_require__("./src/app/pages/duties/duties.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__pages_duties_duties_component__ = __webpack_require__("./src/app/pages/duties/duties.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__pages_masters_new_driver_driver_service__ = __webpack_require__("./src/app/pages/masters/new-driver/driver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__pages_masters_vehiclegroups_vehiclegroups_component__ = __webpack_require__("./src/app/pages/masters/vehiclegroups/vehiclegroups.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__pages_masters_newpettycash_newpettycash_component__ = __webpack_require__("./src/app/pages/masters/newpettycash/newpettycash.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__pages_masters_new_employees_new_employees_component__ = __webpack_require__("./src/app/pages/masters/new-employees/new-employees.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__pages_masters_createinvoice_createinvoice_component__ = __webpack_require__("./src/app/pages/masters/createinvoice/createinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__pages_masters_customerselection_customerselection_component__ = __webpack_require__("./src/app/pages/masters/customerselection/customerselection.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__pages_masters_extendbooking_extendbooking_component__ = __webpack_require__("./src/app/pages/masters/extendbooking/extendbooking.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35__pages_masters_taxes_taxes_component__ = __webpack_require__("./src/app/pages/masters/taxes/taxes.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36__pages_masters_createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37__pages_operations_new_bank_account_bank_account_service__ = __webpack_require__("./src/app/pages/operations/new-bank-account/bank-account.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38__pages_masters_customer_customer_component__ = __webpack_require__("./src/app/pages/masters/customer/customer.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_39__node_modules_angular_cdk_overlay__ = __webpack_require__("./node_modules/@angular/cdk/esm5/overlay.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_40__pages_masters_pricing_pricing_service__ = __webpack_require__("./src/app/pages/masters/pricing/pricing.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_41__pages_masters_newcustomergroup_newcustomergroup_component__ = __webpack_require__("./src/app/pages/masters/newcustomergroup/newcustomergroup.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_42__pages_masters_newsuppliergroup_newsuppliergroup_component__ = __webpack_require__("./src/app/pages/masters/newsuppliergroup/newsuppliergroup.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_43__pages_circles_circle_service__ = __webpack_require__("./src/app/pages/circles/circle.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_44__pages_logout_logout_component__ = __webpack_require__("./src/app/pages/logout/logout.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_45__pages_operations_new_branch_new_branch_component__ = __webpack_require__("./src/app/pages/operations/new-branch/new-branch.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_46__pages_circles_companyprofile_companyprofile_service__ = __webpack_require__("./src/app/pages/circles/companyprofile/companyprofile.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_47_angular_font_awesome__ = __webpack_require__("./node_modules/angular-font-awesome/dist/angular-font-awesome.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_48_ngx_color_picker__ = __webpack_require__("./node_modules/ngx-color-picker/dist/ngx-color-picker.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_49__messaging_service__ = __webpack_require__("./src/app/messaging.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_50__angular_fire__ = __webpack_require__("./node_modules/@angular/fire/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_51__angular_fire_auth__ = __webpack_require__("./node_modules/@angular/fire/auth/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_52__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_53__agm_core__ = __webpack_require__("./node_modules/@agm/core/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_54_ngx_quill__ = __webpack_require__("./node_modules/ngx-quill/fesm5/ngx-quill.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_55__pages_circles_businesssetting_businesssetting_service__ = __webpack_require__("./src/app/pages/circles/businesssetting/businesssetting.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_56__pages_masters_notifications_notification_service__ = __webpack_require__("./src/app/pages/masters/notifications/notification.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_57__core_deactivate_guard__ = __webpack_require__("./src/app/core/deactivate.guard.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_58__pages_usermanagement_usermanagement_component__ = __webpack_require__("./src/app/pages/usermanagement/usermanagement.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_59__pages_trackyourvehicle_trackyourvehicle_component__ = __webpack_require__("./src/app/pages/trackyourvehicle/trackyourvehicle.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_60__pages_operations_advancepayment_advancepayment_service__ = __webpack_require__("./src/app/pages/operations/advancepayment/advancepayment.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_61_ngx_lightbox__ = __webpack_require__("./node_modules/ngx-lightbox/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_61_ngx_lightbox___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_61_ngx_lightbox__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_62__pages_duties_call_call_service__ = __webpack_require__("./src/app/pages/duties/call/call.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_63__pages_join_join_component__ = __webpack_require__("./src/app/pages/join/join.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_64__activitylog_service__ = __webpack_require__("./src/app/activitylog.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_65__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_66__angular_material_moment_adapter__ = __webpack_require__("./node_modules/@angular/material-moment-adapter/esm5/material-moment-adapter.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_67__pages_wallet_wallet_service__ = __webpack_require__("./src/app/pages/wallet/wallet.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
/**
 * @license
 * Copyright Akveo. All Rights Reserved.
 * Licensed under the MIT License. See License.txt in the project root for license information.
 */
// import { ServiceWorkerModule } from '@angular/service-worker';





































































var AppModule = (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_4__angular_core__["NgModule"])({
            declarations: [__WEBPACK_IMPORTED_MODULE_8__app_component__["a" /* AppComponent */], __WEBPACK_IMPORTED_MODULE_21__pages_login_login_component__["a" /* LoginComponent */], __WEBPACK_IMPORTED_MODULE_44__pages_logout_logout_component__["a" /* LogoutComponent */], __WEBPACK_IMPORTED_MODULE_58__pages_usermanagement_usermanagement_component__["a" /* UsermanagementComponent */], __WEBPACK_IMPORTED_MODULE_59__pages_trackyourvehicle_trackyourvehicle_component__["a" /* TrackyourvehicleComponent */], __WEBPACK_IMPORTED_MODULE_63__pages_join_join_component__["a" /* JoinComponent */]],
            imports: [
                // ServiceWorkerModule.register('/ngsw-config.js', {enabled:environment.production}),
                __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["BrowserModule"],
                __WEBPACK_IMPORTED_MODULE_14__angular_cdk_table__["m" /* CdkTableModule */],
                __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser_animations__["a" /* BrowserAnimationsModule */],
                __WEBPACK_IMPORTED_MODULE_5__angular_http__["c" /* HttpModule */],
                __WEBPACK_IMPORTED_MODULE_9__app_routing_module__["a" /* AppRoutingModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["L" /* MatSortModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["g" /* MatButtonModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["P" /* MatTableModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["R" /* MatToolbarModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["g" /* MatButtonModule */], __WEBPACK_IMPORTED_MODULE_3__angular_material__["s" /* MatFormFieldModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["v" /* MatInputModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["u" /* MatIconModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["i" /* MatCardModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["o" /* MatDialogModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["s" /* MatFormFieldModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["x" /* MatMenuModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["B" /* MatPaginatorModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["J" /* MatSnackBarModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["B" /* MatPaginatorModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["k" /* MatChipsModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["q" /* MatDividerModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["w" /* MatListModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["h" /* MatButtonToggleModule */],
                __WEBPACK_IMPORTED_MODULE_39__node_modules_angular_cdk_overlay__["e" /* OverlayModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["S" /* MatTooltipModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["M" /* MatStepperModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["h" /* MatButtonToggleModule */],
                __WEBPACK_IMPORTED_MODULE_11__ng_bootstrap_ng_bootstrap__["a" /* NgbModule */].forRoot(),
                __WEBPACK_IMPORTED_MODULE_10__theme_theme_module__["a" /* ThemeModule */].forRoot(),
                __WEBPACK_IMPORTED_MODULE_6__core_core_module__["a" /* CoreModule */].forRoot(),
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["C" /* MatProgressBarModule */],
                __WEBPACK_IMPORTED_MODULE_47_angular_font_awesome__["a" /* AngularFontAwesomeModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["D" /* MatProgressSpinnerModule */],
                __WEBPACK_IMPORTED_MODULE_48_ngx_color_picker__["a" /* ColorPickerModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["Q" /* MatTabsModule */],
                __WEBPACK_IMPORTED_MODULE_50__angular_fire__["a" /* AngularFireModule */].initializeApp(__WEBPACK_IMPORTED_MODULE_7__environments_environment__["a" /* environment */].firebase),
                __WEBPACK_IMPORTED_MODULE_51__angular_fire_auth__["b" /* AngularFireAuthModule */],
                __WEBPACK_IMPORTED_MODULE_53__agm_core__["a" /* AgmCoreModule */].forRoot({
                    apiKey: "AIzaSyDNsoUEif3WORdOBYf80iNwmIaEnZhxm6o",
                    libraries: ["places"]
                }),
                __WEBPACK_IMPORTED_MODULE_54_ngx_quill__["a" /* QuillModule */],
                __WEBPACK_IMPORTED_MODULE_61_ngx_lightbox__["LightboxModule"],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["r" /* MatExpansionModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["z" /* MatOptionModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["f" /* MatAutocompleteModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["F" /* MatSelectModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["m" /* MatDatepickerModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["j" /* MatCheckboxModule */],
                __WEBPACK_IMPORTED_MODULE_65__angular_common_http__["b" /* HttpClientModule */],
            ],
            entryComponents: [],
            exports: [
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["g" /* MatButtonModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_material__["x" /* MatMenuModule */]
            ],
            bootstrap: [__WEBPACK_IMPORTED_MODULE_8__app_component__["a" /* AppComponent */]],
            providers: [
                { provide: __WEBPACK_IMPORTED_MODULE_0__angular_common__["a" /* APP_BASE_HREF */], useValue: '/' }, { provide: __WEBPACK_IMPORTED_MODULE_3__angular_material__["p" /* MatDialogRef */], useValue: {} },
                { provide: __WEBPACK_IMPORTED_MODULE_3__angular_material__["e" /* MAT_DIALOG_DATA */], useValue: {} },
                { provide: __WEBPACK_IMPORTED_MODULE_0__angular_common__["h" /* LocationStrategy */], useClass: __WEBPACK_IMPORTED_MODULE_0__angular_common__["e" /* HashLocationStrategy */] },
                { provide: __WEBPACK_IMPORTED_MODULE_3__angular_material__["a" /* DateAdapter */], useClass: __WEBPACK_IMPORTED_MODULE_66__angular_material_moment_adapter__["a" /* MomentDateAdapter */], deps: [__WEBPACK_IMPORTED_MODULE_3__angular_material__["c" /* MAT_DATE_LOCALE */]] },
                { provide: __WEBPACK_IMPORTED_MODULE_3__angular_material__["b" /* MAT_DATE_FORMATS */], useValue: {
                        parse: {
                            dateInput: 'input',
                        },
                        display: {
                            dateInput: 'DD/MM/YYYY',
                            monthYearLabel: 'MMM YYYY',
                            dateA11yLabel: 'DD/MM/YYYY',
                            monthYearA11yLabel: 'MMMM YYYY',
                        }
                    }
                },
                [
                    __WEBPACK_IMPORTED_MODULE_62__pages_duties_call_call_service__["a" /* CallService */],
                    __WEBPACK_IMPORTED_MODULE_43__pages_circles_circle_service__["a" /* CircleService */],
                    __WEBPACK_IMPORTED_MODULE_12__pages_masters_customer_customer_service__["a" /* CustomerService */],
                    __WEBPACK_IMPORTED_MODULE_36__pages_masters_createinvoice_invoice_service__["a" /* InvoiceService */],
                    __WEBPACK_IMPORTED_MODULE_37__pages_operations_new_bank_account_bank_account_service__["a" /* BankAccountService */],
                    __WEBPACK_IMPORTED_MODULE_28__pages_masters_new_driver_driver_service__["a" /* DriverService */],
                    __WEBPACK_IMPORTED_MODULE_13__pages_operations_bookings_service__["a" /* BookingsService */],
                    __WEBPACK_IMPORTED_MODULE_3__angular_material__["K" /* MatSort */],
                    __WEBPACK_IMPORTED_MODULE_25__pages_operations_new_billing_billing_service__["a" /* BillingService */],
                    __WEBPACK_IMPORTED_MODULE_24__pages_masters_addpurchase_purchase_service__["a" /* PurchaseService */],
                    __WEBPACK_IMPORTED_MODULE_14__angular_cdk_table__["n" /* DataSource */],
                    __WEBPACK_IMPORTED_MODULE_20__pages_masters_sub_users_sub_user_service__["a" /* SubUserService */],
                    __WEBPACK_IMPORTED_MODULE_15__pages_masters_dutytype_duty_type_service__["a" /* DutyTypeService */],
                    __WEBPACK_IMPORTED_MODULE_16__pages_masters_new_vehicles_vehicle_service__["a" /* VehicleService */],
                    __WEBPACK_IMPORTED_MODULE_17__pages_masters_new_employees_employee_service__["a" /* EmployeeService */],
                    __WEBPACK_IMPORTED_MODULE_18__pages_masters_addsuppliers_supplier_service__["a" /* SupplierService */],
                    __WEBPACK_IMPORTED_MODULE_19__pages_masters_addreceipts_receipt_service__["a" /* ReceiptService */],
                    __WEBPACK_IMPORTED_MODULE_29__pages_masters_vehiclegroups_vehiclegroups_component__["a" /* VehicleGroupsComponent */],
                    __WEBPACK_IMPORTED_MODULE_30__pages_masters_newpettycash_newpettycash_component__["a" /* NewPettyCashComponent */],
                    __WEBPACK_IMPORTED_MODULE_31__pages_masters_new_employees_new_employees_component__["a" /* NewEmployeesComponent */],
                    __WEBPACK_IMPORTED_MODULE_32__pages_masters_createinvoice_createinvoice_component__["a" /* CreateinvoiceComponent */],
                    __WEBPACK_IMPORTED_MODULE_33__pages_masters_customerselection_customerselection_component__["a" /* CustomerselectionComponent */],
                    __WEBPACK_IMPORTED_MODULE_34__pages_masters_extendbooking_extendbooking_component__["a" /* ExtendbookingComponent */],
                    __WEBPACK_IMPORTED_MODULE_22__core_auth_service__["a" /* AuthService */],
                    __WEBPACK_IMPORTED_MODULE_23__core_auth_guard__["a" /* AuthGuard */],
                    __WEBPACK_IMPORTED_MODULE_57__core_deactivate_guard__["a" /* DeactivateGuard */],
                    __WEBPACK_IMPORTED_MODULE_26__pages_duties_duties_service__["a" /* DutiesService */],
                    __WEBPACK_IMPORTED_MODULE_35__pages_masters_taxes_taxes_component__["a" /* TaxesComponent */],
                    __WEBPACK_IMPORTED_MODULE_38__pages_masters_customer_customer_component__["a" /* CustomerComponent */],
                    __WEBPACK_IMPORTED_MODULE_27__pages_duties_duties_component__["a" /* DutiesComponent */],
                    __WEBPACK_IMPORTED_MODULE_0__angular_common__["d" /* DatePipe */],
                    __WEBPACK_IMPORTED_MODULE_40__pages_masters_pricing_pricing_service__["a" /* PricingService */],
                    __WEBPACK_IMPORTED_MODULE_41__pages_masters_newcustomergroup_newcustomergroup_component__["a" /* NewcustomergroupComponent */],
                    __WEBPACK_IMPORTED_MODULE_42__pages_masters_newsuppliergroup_newsuppliergroup_component__["a" /* NewsuppliergroupComponent */],
                    __WEBPACK_IMPORTED_MODULE_45__pages_operations_new_branch_new_branch_component__["a" /* NewBranchComponent */],
                    __WEBPACK_IMPORTED_MODULE_46__pages_circles_companyprofile_companyprofile_service__["a" /* CompanyprofileService */],
                    __WEBPACK_IMPORTED_MODULE_49__messaging_service__["a" /* MessagingService */],
                    __WEBPACK_IMPORTED_MODULE_52__fileupload_service__["a" /* FileuploadService */],
                    __WEBPACK_IMPORTED_MODULE_55__pages_circles_businesssetting_businesssetting_service__["a" /* BusinesssettingService */],
                    __WEBPACK_IMPORTED_MODULE_56__pages_masters_notifications_notification_service__["a" /* NotificationService */],
                    __WEBPACK_IMPORTED_MODULE_60__pages_operations_advancepayment_advancepayment_service__["a" /* AdvancepaymentService */],
                    __WEBPACK_IMPORTED_MODULE_64__activitylog_service__["a" /* ActivitylogService */],
                    __WEBPACK_IMPORTED_MODULE_67__pages_wallet_wallet_service__["a" /* WalletService */]
                ],
            ],
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/core/auth.guard.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AuthGuard; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var AuthGuard = (function () {
    function AuthGuard(router, auth) {
        this.router = router;
        this.auth = auth;
    }
    AuthGuard.prototype.canActivate = function (_route, _state) {
        var expectedRole = _route.data.expectedRole;
        if (localStorage.getItem("rtcuieo") && this.auth.isAuthenticated() || this.auth.roleBasedAuth(expectedRole)) {
            return true;
        }
        else {
            this.router.navigate(['login']);
        }
    };
    AuthGuard = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */], __WEBPACK_IMPORTED_MODULE_2__auth_service__["a" /* AuthService */]])
    ], AuthGuard);
    return AuthGuard;
}());



/***/ }),

/***/ "./src/app/core/auth.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AuthService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs__ = __webpack_require__("./node_modules/rxjs/Rx.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_fire_auth__ = __webpack_require__("./node_modules/@angular/fire/auth/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__pages_circles_businesssetting_businesssetting_service__ = __webpack_require__("./src/app/pages/circles/businesssetting/businesssetting.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__pages_masters_sub_users_sub_user_service__ = __webpack_require__("./src/app/pages/masters/sub-users/sub-user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_firebase_app__ = __webpack_require__("./node_modules/firebase/app/dist/index.cjs.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_firebase_app___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_firebase_app__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_firebase_auth__ = __webpack_require__("./node_modules/firebase/auth/dist/index.esm.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};










var AuthService = (function () {
    function AuthService(router, http, snackBar, auth, businessSettingService, permissionService) {
        this.router = router;
        this.http = http;
        this.snackBar = snackBar;
        this.auth = auth;
        this.businessSettingService = businessSettingService;
        this.permissionService = permissionService;
        this.user = new __WEBPACK_IMPORTED_MODULE_3_rxjs__["ReplaySubject"](1);
        this.businessSettings = new __WEBPACK_IMPORTED_MODULE_3_rxjs__["ReplaySubject"](1);
        this.permissions = new __WEBPACK_IMPORTED_MODULE_3_rxjs__["ReplaySubject"](1);
    }
    AuthService.prototype.Login = function (formData) {
        var _this = this;
        return this.auth.auth.signInWithEmailAndPassword(formData.value.email, formData.value.password).then(function (data) {
            var userData = {
                id: data.user.uid
            };
            _this.http.post("/users/authenticate", userData).subscribe(function (res) {
                _this.user.next(res.json().result);
                localStorage.setItem("rtcuieo", res.json().token);
                _this.businessSettingService.getBusinessSettings(res.json().result[0]).subscribe(function (res) {
                    _this.businessSettings.next(res[0]);
                });
                _this.permissionService.getSubUser(res.json().result[0]).subscribe(function (res) {
                    _this.permissions.next(res);
                });
                _this.router.navigate(['/pages']);
            });
            return true;
        }).catch(function () {
            // this.snackBar.open('Login failed: Incorrect username/password','X', {
            //   duration: 5000,
            //   verticalPosition: 'bottom',
            //   panelClass: "success-dialog"
            // })
            return false;
        });
    };
    AuthService.prototype.deactivateUser = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/users/active', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    AuthService.prototype.retrieveOwners = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/users/retrieve', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    AuthService.prototype.registerOwner = function (temp) {
        var _this = this;
        console.log(temp);
        return this.auth.auth.createUserWithEmailAndPassword(temp.value.email, temp.value.password).then(function (data) {
            _this.snackBar.open('User created', '', { duration: 3000 });
            return data;
        }).catch(function (err) {
            _this.snackBar.open('Email ID already exists', '', { duration: 3000 });
        });
    };
    AuthService.prototype.createOwner = function (temp) {
        return this.http.post('/users/registerOwner', temp).map(function (res) { return res.json(); });
    };
    AuthService.prototype.isAuthenticated = function () {
        return this.auth.authState != null;
    };
    AuthService.prototype.registerUsers = function (temp) {
        var _this = this;
        return this.auth.auth.createUserWithEmailAndPassword(temp.email, temp.password).then(function (data) {
            _this.snackBar.open('User created', '', { duration: 3000 });
            return data;
        }).catch(function (err) {
            _this.snackBar.open('Email ID already exists', '', { duration: 3000 });
        });
    };
    AuthService.prototype.changePassword = function (email) {
        return this.auth.auth.sendPasswordResetEmail(email, { url: 'http://www.yourfleetman.com/#/login' });
    };
    AuthService.prototype.changeBusinessSettings = function (temp) {
        console.log(temp);
        this.businessSettings.next(temp);
    };
    AuthService.prototype.revalidate = function () {
        var _this = this;
        var temp = {
            token: localStorage.getItem("rtcuieo")
        };
        this.http.post("/users/validate", temp).toPromise().then(function (res) {
            _this.user.next(res.json().result);
            localStorage.setItem("rtcuieo", res.json().token);
            _this.businessSettingService.getBusinessSettings(res.json().result[0]).subscribe(function (res) {
                _this.businessSettings.next(res[0]);
            });
            _this.permissionService.getSubUser(res.json().result[0]).subscribe(function (res) {
                _this.permissions.next(res);
            });
        }).catch(function () {
            _this.snackBar.open('Session Expired. Please login again', 'X', {
                verticalPosition: 'top',
                panelClass: "success-dialog"
            });
            _this.signOut();
        });
    };
    AuthService.prototype.retrieveUserById = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/users/retrieveUserById', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    AuthService.prototype.verifyPassword = function (password) {
        var credential = __WEBPACK_IMPORTED_MODULE_8_firebase_app__["auth"].EmailAuthProvider.credential(__WEBPACK_IMPORTED_MODULE_8_firebase_app__["auth"]().currentUser.email, password);
        return this.auth.auth.currentUser.reauthenticateAndRetrieveDataWithCredential(credential);
    };
    AuthService.prototype.changePasswordFromApp = function (temp) {
        return this.http.post('/users/changePassword', temp).map(function (res) { return res.json(); });
    };
    AuthService.prototype.getAuth = function () {
        return this.auth.auth;
    };
    AuthService.prototype.myProfile = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/users/myProfile', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    AuthService.prototype.EditMyProfile = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/users/editMyProfile', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    AuthService.prototype.EditMyProfileOwner = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/users/editMyProfileOwner', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    AuthService.prototype.signOut = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.auth.auth.signOut()];
                    case 1:
                        _a.sent();
                        localStorage.removeItem("rtcuieo");
                        this.router.navigate(['login']).then(function () {
                            window.location.reload();
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    AuthService.prototype.roleBasedAuth = function (expectedRole) {
        console.log(expectedRole);
        console.log(this.permissions);
    };
    AuthService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_4__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_5__angular_fire_auth__["a" /* AngularFireAuth */],
            __WEBPACK_IMPORTED_MODULE_6__pages_circles_businesssetting_businesssetting_service__["a" /* BusinesssettingService */],
            __WEBPACK_IMPORTED_MODULE_7__pages_masters_sub_users_sub_user_service__["a" /* SubUserService */]])
    ], AuthService);
    return AuthService;
}());



/***/ }),

/***/ "./src/app/core/deactivate.guard.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DeactivateGuard; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var DeactivateGuard = (function () {
    function DeactivateGuard() {
    }
    DeactivateGuard.prototype.canDeactivate = function () {
        localStorage.removeItem('uclueldata');
        localStorage.removeItem('cabInvoice');
        localStorage.removeItem('hotelInvoice');
        localStorage.removeItem('flightInvoice');
        localStorage.removeItem('visaInvoice');
        localStorage.removeItem('dutyedit');
        localStorage.removeItem('trackVehicle');
        localStorage.removeItem('customer');
        localStorage.removeItem('supplier');
        localStorage.removeItem('purchaseinvoice');
        return true;
        // return confirm('Are you sure you want to leave this page?');
    };
    DeactivateGuard = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], DeactivateGuard);
    return DeactivateGuard;
}());



/***/ }),

/***/ "./src/app/fileupload.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FileuploadService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



// import * as AWS from 'aws-sdk/global';
// import * as S3 from 'aws-sdk/clients/s3';
var FileuploadService = (function () {
    function FileuploadService(http, _http) {
        this.http = http;
        this._http = _http;
    }
    FileuploadService.prototype.uploadfile = function (companyName, folderName, fileName, file) {
        var params = {
            Key: companyName + "/" + folderName + "/" + fileName,
            Body: file,
            tmpName: fileName
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/files/upload', params, { headers: headers }).subscribe();
    };
    FileuploadService.prototype.getFile = function (companyName, folderName, fileName) {
        console.log(companyName, folderName, fileName);
        var params = {
            key: companyName + "/" + folderName + "/" + fileName,
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/files/download', params, { headers: headers }).map(function (res) { return res; });
    };
    FileuploadService.prototype.getSelfDriveVideoFile = function (companyName, dutyId) {
        console.log(companyName, dutyId);
        var params = {
            key: companyName + "/selfDrivePics/Video/" + dutyId + "/"
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/files/getVideoFile', params, { headers: headers }).map(function (res) { return res; });
    };
    FileuploadService.prototype.getSelfDriveImageFiles = function (companyName, dutyId) {
        var params = {
            key: companyName + "/selfDrivePics/Pictures/" + dutyId + "/"
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/files/getImageFiles', params, { headers: headers }).map(function (res) { return res; });
    };
    FileuploadService.prototype.createImageAttachments = function (files, id) {
        var params = {
            Body: files,
            invoiceId: id
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/files/attachmentImages', params, { headers: headers }).subscribe();
    };
    FileuploadService.prototype.generateInvoicePDF = function (temp, name, type, user, companyProfile, bankAccount) {
        console.log(type);
        var data = {
            data: temp,
            tmpName: name,
            type: type,
            user: user,
            companyProfile: companyProfile,
            bankAccount: bankAccount
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/files/generateCabInvoice', data, { headers: headers }).subscribe();
    };
    FileuploadService.prototype.downloadPDF = function (temp, name, type, user, companyProfile, bankAccount) {
        console.log(type);
        var data = {
            data: temp,
            tmpName: name,
            type: type,
            user: user,
            companyProfile: companyProfile,
            bankAccount: bankAccount
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this._http.post('/files/downloadPDF', data, { headers: new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["c" /* HttpHeaders */]({ 'Authorization': localStorage.getItem('rtcuieo') }).append('Content-Type', 'application/json'), responseType: 'blob' });
    };
    FileuploadService.prototype.getPresignedUrl = function (companyName, filename, foldername) {
        console.log(companyName, filename, foldername);
        var params = {
            key: companyName + "/" + foldername + "/" + filename
        };
        return this.http.post('/files/getPresignedUrl', params).map(function (res) { return res; });
    };
    FileuploadService.prototype.getFileS3 = function (companyName, filename, foldername) {
        var params = {
            key: companyName + "/" + foldername + "/" + filename
        };
        return this.http.post('/files/getFileS3', params).map(function (res) { return res; });
    };
    FileuploadService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["a" /* HttpClient */]])
    ], FileuploadService);
    return FileuploadService;
}());



/***/ }),

/***/ "./src/app/messaging.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MessagingService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_firebase_app__ = __webpack_require__("./node_modules/firebase/app/dist/index.cjs.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_firebase_app___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_firebase_app__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_firebase_messaging__ = __webpack_require__("./node_modules/firebase/messaging/dist/index.esm.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_BehaviorSubject__ = __webpack_require__("./node_modules/rxjs/_esm5/BehaviorSubject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






var MessagingService = (function () {
    function MessagingService(auth, http) {
        this.auth = auth;
        this.http = http;
        this.currentMessage = new __WEBPACK_IMPORTED_MODULE_3_rxjs_BehaviorSubject__["a" /* BehaviorSubject */](null);
        this.user = {};
        try {
            this.messaging = Object(__WEBPACK_IMPORTED_MODULE_1_firebase_app__["messaging"])();
        }
        catch (e) {
            console.log('Unable to Instantiate Firebase Messaing', e);
        }
    }
    MessagingService.prototype.updateToken = function (token) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                this.auth.user.subscribe(function (data) {
                    _this.user = data[0];
                    var wToken = {
                        userId: _this.user.id,
                        webToken: token,
                        ownerId: _this.user.ownerId
                    };
                    _this.http.post('/Voip/insertWebToken', wToken).subscribe();
                });
                return [2 /*return*/];
            });
        });
    };
    MessagingService.prototype.getPermission = function () {
        var _this = this;
        try {
            this.messaging.requestPermission()
                .then(function () {
                console.log('Notification permission granted.');
                return _this.messaging.getToken();
            })
                .then(function (token) {
                console.log(token);
                _this.updateToken(token);
            })
                .catch(function (err) {
                console.log('Unable to get permission to notify.', err);
            });
        }
        catch (e) {
            console.log('Unable to Instantiate Firebase Messaing', e);
        }
    };
    MessagingService.prototype.receiveMessage = function () {
        var _this = this;
        try {
            this.messaging.onMessage(function (payload) {
                if (payload != null) {
                    console.log("Message received. ", payload);
                    _this.currentMessage.next(payload);
                }
            });
        }
        catch (e) {
            console.log('Unable to Instantiate Firebase Messaing', e);
        }
    };
    MessagingService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_4__core_auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_5__angular_http__["b" /* Http */]])
    ], MessagingService);
    return MessagingService;
}());



/***/ }),

/***/ "./src/app/pages/circles/businesssetting/businesssetting.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BusinesssettingService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var BusinesssettingService = (function () {
    function BusinesssettingService(http) {
        this.http = http;
    }
    BusinesssettingService.prototype.getBusinessSettings = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/businessSettings/retrieve', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BusinesssettingService.prototype.getDriverAllowances = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/businessSettings/retrieveDriverAllowance', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BusinesssettingService.prototype.getChargedDriverAllowances = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/businessSettings/retrieveChargedDriverAllowance', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BusinesssettingService.prototype.getSMSPhoneNumbers = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/businessSettings/retrieveSMSPhoneNumbers', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BusinesssettingService.prototype.getEmailAddresses = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/businessSettings/retrieveEmailAddresses', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BusinesssettingService.prototype.addBusinessSettings = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/businessSettings/add', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BusinesssettingService.prototype.addDriverAllowances = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/businessSettings/addDriverAllowance', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BusinesssettingService.prototype.addSMSPhoneNumbers = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/businessSettings/addSMSPhoneNumbers', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BusinesssettingService.prototype.addEmailAddresses = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/businessSettings/addEmailAddresses', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BusinesssettingService.prototype.updateBusinessSettings = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/businessSettings/update', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BusinesssettingService.prototype.updateDriverAllowances = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/businessSettings/updateDriverAllowance', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BusinesssettingService.prototype.updateSMSPhoneNumbers = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/businessSettings/updateSMSPhoneNumbers', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BusinesssettingService.prototype.updateEmailAddresses = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/businessSettings/updateEmailAddresses', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BusinesssettingService.prototype.deleteDriverAllowances = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/businessSettings/deleteDriverAllowance', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BusinesssettingService.prototype.deleteSMSPhoneNumbers = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/businessSettings/deleteSMSPhoneNumbers', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BusinesssettingService.prototype.deleteEmailAddresses = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/businessSettings/deleteEmailAddresses', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BusinesssettingService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], BusinesssettingService);
    return BusinesssettingService;
}());



/***/ }),

/***/ "./src/app/pages/circles/circle.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CircleService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var CircleService = (function () {
    function CircleService(http) {
        this.http = http;
    }
    CircleService.prototype.getUsers = function (tempId) {
        var temp = {
            ownerId: tempId
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/circles/retrieve', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CircleService.prototype.getRequests = function (tempId) {
        var temp = {
            ownerId: tempId
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/circles/retrieveRequests', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CircleService.prototype.sendRequest = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/circles/sendRequest', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CircleService.prototype.sendRequestAgain = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/circles/sendRequestAgain', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CircleService.prototype.sendDutyRequest = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/circles/sendDutyRequest', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CircleService.prototype.acceptRequest = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/circles/acceptRequest', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CircleService.prototype.declineRequest = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/circles/declineRequest', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CircleService.prototype.getCircle = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/circles/getCircle', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CircleService.prototype.getClients = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/circles/getClients', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CircleService.prototype.getreceivedDuty = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/circles/retrieveReceivedDuty', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CircleService.prototype.getCompletedReceivedDuty = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/circles/retrieveCompletedReceivedDuty', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CircleService.prototype.getSentDuty = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/circles/retrieveSentDuty', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CircleService.prototype.getPurchaseDuty = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/circles/retrievePurchaseDuty', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CircleService.prototype.getPurchaseDutyTypePrice = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/circles/retrievePurchaseDutyTypePrice', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CircleService.prototype.acceptDuty = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/circles/acceptDuty', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CircleService.prototype.declineDuty = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/circles/declineDuty', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CircleService.prototype.filterByDate = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/circles/retrievePurchaseDutyByDate', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CircleService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], CircleService);
    return CircleService;
}());



/***/ }),

/***/ "./src/app/pages/circles/companyprofile/companyprofile.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CompanyprofileService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var CompanyprofileService = (function () {
    function CompanyprofileService(http) {
        this.http = http;
    }
    CompanyprofileService.prototype.addCompanyProfile = function (temp) {
        console.log(temp);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/companyProfile/add', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CompanyprofileService.prototype.updateCompanyProfile = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/companyProfile/update', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CompanyprofileService.prototype.getCompanyProfile = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/companyProfile/retrieve', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CompanyprofileService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], CompanyprofileService);
    return CompanyprofileService;
}());



/***/ }),

/***/ "./src/app/pages/duties/addremovelabels/addremovelabels.component.html":
/***/ (function(module, exports) {

module.exports = "<form [formGroup]=\"labelForm\">\n  <fieldset>\n    <div class=\"modal-row\" *ngIf=\"existingLabels\">\n      <div class=\"col-lg-12 col-12\">\n        <nb-card style=\"min-width:30vw;\">\n          <nb-card-header>Existing Tags</nb-card-header>\n          <nb-card-body class=\"no-overflow\">\n            <div class=\"modal-row\">\n              <div class=\"col-lg-12 col-12\">\n                  <mat-chip-list style=\"display: inline-block;\">\n                    <mat-chip *ngFor=\"let element of labelArray; let i=index\" style=\"font-size: 16px;padding: 7px 5px;border-radius: 0;\" [ngStyle]=\"{'color': setTextColor(element.color)}\" [style.background-color]=\"element.color\">\n                      {{element.name}}\n                      <button class=\"w-21\" mat-icon-button [ngStyle]=\"{'color': setTextColor(element.color)}\" (click)=\"deleteChip(i, element.labelId, element.dutyId)\">\n                        <mat-icon>clear</mat-icon>\n                      </button>\n                    </mat-chip>\n                  </mat-chip-list>      \n              </div>\n            </div>  \n          </nb-card-body>\n        </nb-card>\n      </div>\n    </div>\n    <div class=\"modal-row\">\n      <div class=\"col-lg-12 col-12\">\n        <nb-card style=\"min-width:30vw;\">\n          <nb-card-header>\n              Add New Tags\n          </nb-card-header>\n          <nb-card-body class=\"no-overflow\">\n            <!-- <mat-form-field>\n              <input matInput   placeholder=\"Filter\"  >\n            </mat-form-field> -->   \n            \n            <div formArrayName=\"labelField\">\n              <div *ngFor=\" let labelField of labelFormControl.controls ; let i=index\" [formGroupName]=\"i\">\n                <div class=\"modal-row\">\n                  <div class=\"col-lg-12 col-12\">\n                    <mat-form-field>\n                      Tag\n                      <mat-select formControlName=\"labelName\">\n                        <mat-option *ngFor=\" let element of labels\" [value]=\"element\">\n                          {{element.name}}\n                        </mat-option>                        \n                      </mat-select>\n                    </mat-form-field>                                    \n                    <button class=\"delete-button\" *ngIf=\"i>0\" (click)=\"deleteRow(i)\" mat-icon-button color=\"primary\">\n                      <mat-icon>clear</mat-icon>\n                    </button>\n                  </div>\n                </div>\n              </div>                \n            </div>\n            <div class=\"modal-row\">\n              <div class=\"col-lg-12 col-12\">\n                <button style=\"width: 40px;height: 40px;\" mat-fab color=\"primary\" (click)=\"addRow()\">\n                  <mat-icon style=\"font-size: inherit;margin-top: -10px;\">add</mat-icon>\n                </button>\n              </div>\n            </div>            \n          </nb-card-body>\n        </nb-card>\n      </div>\n    </div>\n    <div class=\"modal-row\">\n      <div class=\"col-lg-12 col-12\" style=\"text-align:right;\">\n        <button mat-raised-button color=\"primary\" (click)=\"addLabels()\" [disabled]=\"labelForm.invalid\">Add Labels</button>\n        <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n      </div>\n    </div>\n  </fieldset>\n</form>"

/***/ }),

/***/ "./src/app/pages/duties/addremovelabels/addremovelabels.component.scss":
/***/ (function(module, exports) {

module.exports = ".delete-button {\n  bottom: -25px; }\n\n.no-overflow {\n  overflow: hidden;\n  padding: 20px !important; }\n\n.w-21 {\n  width: 21px; }\n"

/***/ }),

/***/ "./src/app/pages/duties/addremovelabels/addremovelabels.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AddremovelabelsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var AddremovelabelsComponent = (function () {
    function AddremovelabelsComponent(http, auth, fb, dialog, snackBar, data) {
        var _this = this;
        this.http = http;
        this.auth = auth;
        this.fb = fb;
        this.dialog = dialog;
        this.snackBar = snackBar;
        this.data = data;
        this.displayedColumns = ['label'];
        this.user = {};
        this.existingLabels = false;
        this.labelData = {
            dutyId: [''],
            labelId: [''],
        };
        if (data.row != null) {
            console.log(data);
            var temp = {
                dutyId: data.row.id
            };
            this.getLabelsInDuties(temp).subscribe(function (data) {
                _this.labelArray = data;
                if (_this.labelArray.length != 0) {
                    _this.existingLabels = true;
                }
                else if (_this.labelArray.length == 0) {
                    _this.existingLabels = false;
                }
                console.log(_this.labelArray);
            });
        }
    }
    AddremovelabelsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
        });
        this.getLabels(this.user).subscribe(function (data) {
            _this.labels = data;
        });
        this.labelForm = this.fb.group({
            labelField: this.fb.array([]),
        });
        this.addRow();
    };
    AddremovelabelsComponent.prototype.deleteChip = function (i, templabel, tempduty) {
        // console.log(i)
        var _this = this;
        this.labelArray.splice(i, 1);
        // console.log(this.labelArray)
        var temp = {
            dutyId: tempduty,
            labelId: templabel,
        };
        // console.log(temp)
        this.deleteLabelsInDuties(temp).subscribe(function (data) { }, function (err) { }, function () {
            _this.snackBar.open("Label Deleted", "X", { duration: 3000 });
        });
    };
    Object.defineProperty(AddremovelabelsComponent.prototype, "labelFormControl", {
        get: function () {
            return this.labelForm.get('labelField');
        },
        enumerable: true,
        configurable: true
    });
    AddremovelabelsComponent.prototype.getLabels = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/label/retrieve', temp, { headers: headers }).map(function (data) { return data.json(); });
    };
    AddremovelabelsComponent.prototype.getLabelsInDuties = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/label/retrieveLabelsInDuties', temp, { headers: headers }).map(function (data) { return data.json(); });
    };
    AddremovelabelsComponent.prototype.addLabelsInDuties = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/label/addLabelsInDuties', temp, { headers: headers }).map(function (data) { return data.json(); });
    };
    AddremovelabelsComponent.prototype.deleteLabelsInDuties = function (temp) {
        console.log(temp);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/label/deleteLabelsInDuties', temp, { headers: headers }).map(function (data) { return data.json(); });
    };
    AddremovelabelsComponent.prototype.addLabels = function () {
        var _this = this;
        this.labelFormControl.value.forEach(function (element) {
            _this.labelData.dutyId = _this.data.row.id;
            _this.labelData.labelId = element.labelName.id;
            _this.labelData.labelName = element.labelName.name;
            _this.addLabelsInDuties(_this.labelData).subscribe(function (data) { }, function (err) { }, function () {
            });
        });
        this.snackBar.open("Label Added", "X", { duration: 3000 });
        this.dialog.closeAll();
    };
    AddremovelabelsComponent.prototype.addRow = function () {
        var labelName = this.fb.group({
            labelName: ['', __WEBPACK_IMPORTED_MODULE_3__angular_forms__["k" /* Validators */].required],
        });
        this.labelFormControl.push(labelName);
    };
    AddremovelabelsComponent.prototype.deleteRow = function (i) {
        this.labelFormControl.removeAt(i);
    };
    AddremovelabelsComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    AddremovelabelsComponent.prototype.setTextColor = function (color) {
        var r, g, b, hsp;
        // Check the format of the color, HEX or RGB?
        if (color.match(/^rgb/)) {
            // If HEX --> store the red, green, blue values in separate variables
            color = color.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/);
            r = color[1];
            g = color[2];
            b = color[3];
        }
        else {
            // If RGB --> Convert it to HEX: http://gist.github.com/983661
            color = +("0x" + color.slice(1).replace(color.length < 5 && /./g, '$&$&'));
            r = color >> 16;
            g = color >> 8 & 255;
            b = color & 255;
        }
        // HSP (Highly Sensitive Poo) equation from http://alienryderflex.com/hsp.html
        hsp = Math.sqrt(0.299 * (r * r) +
            0.587 * (g * g) +
            0.114 * (b * b));
        // Using the HSP value, determine whether the color is light or dark
        if (hsp < 150) {
            return '#ffffff';
        }
        else {
            return '#000000';
        }
    };
    AddremovelabelsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-addremovelabels',
            template: __webpack_require__("./src/app/pages/duties/addremovelabels/addremovelabels.component.html"),
            styles: [__webpack_require__("./src/app/pages/duties/addremovelabels/addremovelabels.component.scss")]
        }),
        __param(5, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_4__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_4__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_4__angular_material__["I" /* MatSnackBar */], Object])
    ], AddremovelabelsComponent);
    return AddremovelabelsComponent;
}());



/***/ }),

/***/ "./src/app/pages/duties/allotsupporters/allotsupporters.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-body>\n        <h2>Allot Supporters</h2>\n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-body>\n        \n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>  "

/***/ }),

/***/ "./src/app/pages/duties/allotsupporters/allotsupporters.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/duties/allotsupporters/allotsupporters.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AllotsupportersComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var AllotsupportersComponent = (function () {
    function AllotsupportersComponent() {
    }
    AllotsupportersComponent.prototype.ngOnInit = function () {
    };
    AllotsupportersComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-allotsupporters',
            template: __webpack_require__("./src/app/pages/duties/allotsupporters/allotsupporters.component.html"),
            styles: [__webpack_require__("./src/app/pages/duties/allotsupporters/allotsupporters.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], AllotsupportersComponent);
    return AllotsupportersComponent;
}());



/***/ }),

/***/ "./src/app/pages/duties/bookingdetails/bookingdetails.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div style=\"margin-bottom:-12px;\" class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        Booking Details\n        <mat-chip-list style=\"float: right\">\n          <mat-chip color=\"primary\" selected=\"true\">{{detailsT.status}}</mat-chip>\n        </mat-chip-list>  \n      </nb-card-header>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-6\">\n    <nb-card>\n      <nb-card-body>\n        <mat-list>\n          <mat-list-item role=\"listitem\" class=\"list-height\"><b>Customer:</b> &nbsp;{{detailsT.cname}}</mat-list-item>\n          <mat-divider></mat-divider>\n          <mat-list-item role=\"listitem\"><b>Booked By:</b> &nbsp;{{detailsT.bookBy}}</mat-list-item>\n          <mat-divider></mat-divider>\n          <mat-list-item role=\"listitem\"><b>Passenger:</b>&nbsp; {{detailsT.passenger}}</mat-list-item>\n          <!-- <mat-divider></mat-divider>\n          <mat-list-item role=\"listitem\"><b>ID: </b> &nbsp;{{detailsT.id}}</mat-list-item>  -->\n        </mat-list>\n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"col-lg-6\">\n    <nb-card>\n      <nb-card-body>\n        <mat-list>\n          <mat-list-item role=\"listitem\"><b>Start from Garage:</b>&nbsp;{{detailsT.startFromGarage}}</mat-list-item>\n          <mat-divider></mat-divider>\n          <mat-list-item role=\"listitem\"><b>Reporting Time:</b>&nbsp;{{detailsT.reportingTime}}</mat-list-item>  \n          <mat-divider></mat-divider>\n          <mat-list-item role=\"listitem\"><b>Start Date:</b>&nbsp;{{detailsT.startDate}}</mat-list-item>  \n        </mat-list>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-6\">\n    <nb-card>\n      <nb-card-body>\n        <mat-list>\n          <mat-list-item role=\"listitem\"><b>From:</b>&nbsp;{{detailsT.fromLoc}}</mat-list-item>\n          <mat-divider></mat-divider>\n          <mat-list-item role=\"listitem\"><b>To:</b>&nbsp;{{detailsT.toLoc}}</mat-list-item>\n          <!-- <mat-divider></mat-divider> -->\n          <!-- <mat-list-item role=\"listitem\"><b>Bill To:</b>&nbsp;{{detailsT.billTo}}</mat-list-item> -->\n        </mat-list>\n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"col-lg-6\">\n    <nb-card>\n      <nb-card-body>\n        <mat-list>\n          <mat-list-item role=\"listitem\"><b>Duty Type:</b>&nbsp;{{detailsT.dutyType}}</mat-list-item>\n          <mat-divider></mat-divider>\n          <mat-list-item role=\"listitem\"><b>Vehicle Group:</b>&nbsp;{{detailsT.vehicleGroup}}</mat-list-item>\n          <!-- <mat-divider></mat-divider> -->\n          <!-- <mat-list-item role=\"listitem\" class=\"list-height\"><b>Customer:</b>&nbsp;{{detailsT.cname}}</mat-list-item> -->\n        </mat-list>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-6\">\n    <nb-card>\n      <nb-card-body>\n        <mat-list>\n          <!-- <mat-list-item role=\"listitem\"><b>Booked By:</b>&nbsp;{{detailsT.bookBy}}</mat-list-item>\n          <mat-divider></mat-divider> -->\n          <mat-list-item role=\"listitem\" class=\"list-height\"><b>Reporting Address:</b>&nbsp;{{detailsT.reportingAddress}}</mat-list-item>\n          <mat-divider></mat-divider>\n          <mat-list-item role=\"listitem\" class=\"list-height\"><b>Drop Address:</b> &nbsp;{{detailsT.dropAddress}}</mat-list-item>\n        </mat-list>\n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"col-lg-6\">\n    <nb-card>\n      <nb-card-body>\n        <mat-list>\n          <mat-list-item role=\"listitem\"><b>Price:</b>&nbsp; {{detailsT.price}}</mat-list-item>\n          <!-- <mat-divider></mat-divider>\n          <mat-list-item role=\"listitem\"><b>Passenger:</b>&nbsp; {{detailsT.passenger}}</mat-list-item> -->\n          <mat-divider></mat-divider>\n          <mat-list-item role=\"listitem\" class=\"list-height\"><b>Remarks:</b>&nbsp; {{detailsT.remarks}}</mat-list-item>\n        </mat-list>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-body>\n        <mat-list>\n          <mat-list-item role=\"listitem\" class=\"list-height\"><b>Operator Notes:</b>&nbsp; {{detailsT.operatorNotes}}</mat-list-item>\n          <!-- <mat-divider></mat-divider>\n          <mat-list-item role=\"listitem\"><b>Driver:</b>&nbsp; {{detailsT.driver}}</mat-list-item>\n          <mat-divider></mat-divider>\n          <mat-list-item role=\"listitem\"><b>Vehicle:</b>&nbsp; {{detailsT.vehicle}}</mat-list-item> -->\n        </mat-list>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <button mat-raised-button color=\"warn\" style=\"float:right;\" (click)=\"closeDialog()\">Close</button>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/pages/duties/bookingdetails/bookingdetails.component.scss":
/***/ (function(module, exports) {

module.exports = ".mat-chip {\n  margin-top: -5px;\n  margin-right: 10px; }\n\n@media only screen and (max-width: 500px) {\n  .list-height {\n    height: auto !important;\n    padding: 5px !important; } }\n"

/***/ }),

/***/ "./src/app/pages/duties/bookingdetails/bookingdetails.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BookingdetailsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__duties_service__ = __webpack_require__("./src/app/pages/duties/duties.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};



var BookingdetailsComponent = (function () {
    function BookingdetailsComponent(dialog, details, data) {
        this.dialog = dialog;
        this.details = details;
        this.data = data;
        this.detailsT = {};
        console.log(data);
        this.detailsT = data.row;
    }
    BookingdetailsComponent.prototype.ngOnInit = function () {
    };
    BookingdetailsComponent.prototype.closeDialog = function () {
        this.dialog.close();
    };
    BookingdetailsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'bookingdetails',
            template: __webpack_require__("./src/app/pages/duties/bookingdetails/bookingdetails.component.html"),
            styles: [__webpack_require__("./src/app/pages/duties/bookingdetails/bookingdetails.component.scss")]
        }),
        __param(2, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_material__["p" /* MatDialogRef */],
            __WEBPACK_IMPORTED_MODULE_2__duties_service__["a" /* DutiesService */], Object])
    ], BookingdetailsComponent);
    return BookingdetailsComponent;
}());



/***/ }),

/***/ "./src/app/pages/duties/call/call.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\" style=\"min-width:60vw;\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>Contact</nb-card-header>\n      <nb-card-body>\n        <div class=\"call-container\">  \n          <mat-tab-group mat-stretch-tabs>\n            <mat-tab label=\"Customer/Booked By/Passenger\" (click)=\"mailSupplier=false;mailPassenger=false\">\n              <mat-accordion *ngIf=\"logDisplay.length>0\">\n                <mat-expansion-panel>\n                    <mat-expansion-panel-header>\n                      <mat-panel-title style=\"justify-content: center;\">\n                        Logs\n                      </mat-panel-title>\n                    <mat-panel-description style=\"justify-content: center;\">\n                      Click here to open logs\n                    </mat-panel-description>\n                    </mat-expansion-panel-header>\n                      <div *ngFor=\"let element of logDisplay\" style=\"text-align: center;color:brown;\">\n                        {{element.log}}\n                      </div>\n                </mat-expansion-panel>\n              </mat-accordion>\n              <div style=\"margin-top:15px;\">\n                <table class=\"callTable\">\n                  <tbody>\n                    <tr>\n                      <td class=\"callCell\">\n                        <b>Customer: </b> {{customer.name}}\n                      </td>\n                      <td class=\"callCell\" rowspan=\"3\" style=\"padding-left: 30px\">\n                        <mat-checkbox (change)=\"sendSMS($event,customer.phone,'Customer',customer.name)\">SMS</mat-checkbox><mat-checkbox (change)=\"sendWhatsApp($event,customer.phone,'Customer',customer.name)\">WhatApp</mat-checkbox><mat-checkbox (change)=\"sendEmail($event,customer.email,'Customer',customer.name)\">E-mail</mat-checkbox><br>\n                        <mat-checkbox *ngIf=\"duty.status=='Dispatched'\" [(ngModel)]=\"addTrackingCustomer\"><b>Send vehicle tracking info </b></mat-checkbox>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td class=\"callCell\">\n                        <b>Number: </b> {{customer.phone}}\n                        <button *ngIf=\"permission.smsEmailCallBookings\" (click)=\"makeAppCall(customer.phone,'Customer',customer.name)\" color=\"primary\" mat-icon-button><mat-icon>local_phone</mat-icon></button><!--<sub *ngIf=\"callNumber==0\">* device is {{deviceStatus}}</sub><sub *ngIf=\"callNumber!=0\">* {{callNumber}} is {{deviceStatus}}</sub>-->\n                      </td>\n                    </tr>\n                    <tr>\n                      <td class=\"callCell\">\n                        <b>Email: </b> {{customer.email}}\n                      </td>\n                    </tr>\n                  </tbody>\n                  <tbody *ngFor=\"let element of allBookedBy;\">\n                    <tr>\n                      <td class=\"callCell\">\n                          <b>Booked By: </b> {{element.bookByName}}\n                      </td>\n                      <td class=\"callCell\" rowspan=\"3\" style=\"padding-left: 30px\">\n                          <mat-checkbox (change)=\"sendSMS($event,element.bookByNo,'Booked By',element.bookByName)\">SMS</mat-checkbox><mat-checkbox (change)=\"sendWhatsApp($event,element.bookByNo,'Booked By',element.bookByName)\">WhatApp</mat-checkbox><mat-checkbox (change)=\"sendEmail($event,element.bookByEmail,'Booked By',element.bookByName)\">E-mail</mat-checkbox><br>\n                          <mat-checkbox *ngIf=\"duty.status=='Dispatched'\" [(ngModel)]=\"addTracking\"><b>Send vehicle tracking info </b></mat-checkbox>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td class=\"callCell\">\n                        <b>Number: </b> {{element.bookByNo}}\n                          <button (click)=\"makeAppCall(element.bookByNo,'Booked By',element.bookByName)\" color=\"primary\" mat-icon-button><mat-icon>local_phone</mat-icon></button><!--<sub *ngIf=\"callNumber==0\">* device is {{deviceStatus}}</sub><sub *ngIf=\"callNumber!=0\">* {{callNumber}} is {{deviceStatus}}</sub>-->\n                      </td>\n                    </tr>\n                    <tr>\n                      <td class=\"callCell\">\n                        <b>Email: </b> {{element.bookByEmail}}\n                      </td>\n                    </tr>\n                  </tbody>\n                  <tbody *ngFor=\"let temp of allPassengers\">\n                  <tr>\n                    <td class=\"callCell\">\n                      <b>Passenger: </b> {{temp.passenger}}\n                    </td>\n                    <td class=\"callCell\" rowspan=\"3\" style=\"padding-left: 30px\">\n                        <mat-checkbox (change)=\"sendSMS($event,temp.passengerNo,'Passenger',temp.passenger)\">SMS</mat-checkbox><mat-checkbox (change)=\"sendWhatsApp($event,temp.passengerNo,'Passenger',temp.passenger)\">WhatApp</mat-checkbox><mat-checkbox (change)=\"sendEmail($event,temp.passengerEmail,'Passenger',temp.passenger)\">E-mail</mat-checkbox><br>\n                        <mat-checkbox *ngIf=\"duty.status=='Dispatched'\" [(ngModel)]=\"addTrackingPassenger\"><b>Send vehicle tracking info </b></mat-checkbox>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td class=\"callCell\">\n                      <b>Number: </b> {{temp.passengerNo}} \n                      <button (click)=\"makeAppCall(temp.passengerNo,'Passenger',temp.passenger)\" color=\"primary\" mat-icon-button><mat-icon>local_phone</mat-icon></button><!--<sub *ngIf=\"callNumber==0\">* device is {{deviceStatus}}</sub><sub *ngIf=\"callNumber!=0\">* {{callNumber}} is {{deviceStatus}}</sub>-->\n                    </td>\n                  </tr>\n                  <tr>\n                    <td class=\"callCell\">\n                      <b>Email: </b> {{temp.passengerEmail}}\n                    </td>\n                  </tr>\n                </tbody>\n                <tbody>\n                  <tr>\n                    <td class=\"callCell\">\n                      <mat-form-field>\n                        <b>Custom Phone: </b>\n                        <input matInput [(ngModel)]=\"customNumber\">\n                      </mat-form-field>\n                      <br>\n                      <mat-checkbox (change)=\"sendSMS($event,customNumber,'custom')\">SMS</mat-checkbox><mat-checkbox (change)=\"sendWhatsApp($event,customNumber,'custom')\">WhatApp</mat-checkbox>\n                    </td>\n                    <td class=\"callCell\" style=\"padding-left: 30px\">\n                      <mat-form-field>\n                        <b>Custom Email: </b>\n                        <input matInput [(ngModel)]=\"customEmail\">\n                      </mat-form-field>        \n                    </td>\n                  </tr>                  \n                </tbody>\n                </table> \n              </div>\n              <div class=\"invoice-button-container\" style=\"margin-top: 10px;\">\n                  <div style=\"width: 60%;margin:auto;\">\n                      <label style=\"text-align: left;font-size:14px;\">\n                          <p>For: {{duty.passenger}} ({{duty.passengerNo}})</p>\n                          <p>Driver: {{duty.driver}} ({{driver.mobileNumber}})</p>\n                          <p>Type: {{duty.dutyType}}</p>\n                          <p>Vehicle: {{duty.vehicle}}</p>\n                          <p>Vehicle Group: {{duty.vehicleGroup}}</p>\n                          <p>Reporting: {{duty.reportingAddress}}</p>\n                      </label>\n                      <hr style=\"border-top:1px solid black\">\n                    </div>\n                  <button class=\"invoice-button\" color=\"primary\" mat-raised-button (click)=\"send()\">Send</button>\n                  <button *ngIf=\"!mailSupplier && !mailPassenger\" class=\"invoice-button\" mat-raised-button color=\"primary\" [matMenuTriggerFor]=\"menu\">Preview E-mail</button>\n                  <mat-menu #menu=\"matMenu\" yPosition=\"below\" overlapTrigger=\"false\">\n                      <button (click)=\"mailSupplier=true\" mat-menu-item>Preview Supplier E-mail</button>\n                      <button (click)=\"mailPassenger=true\" mat-menu-item>Preview Passenger E-mail</button>\n                  </mat-menu>\n                  <button *ngIf=\"mailSupplier || mailPassenger\" class=\"invoice-button\" mat-raised-button color=\"primary\" (click)=\"mailPassenger=false; mailSupplier=false\">Close Preview</button>\n              </div>\n            </mat-tab>\n            <mat-tab label=\"Driver\" *ngIf=\"isDriver\">\n                <mat-accordion *ngIf=\"driverLogsDisplay.length>0\">\n                    <mat-expansion-panel>\n                        <mat-expansion-panel-header>\n                          <mat-panel-title style=\"justify-content: center;\">\n                            Logs\n                          </mat-panel-title>\n                          <mat-panel-description style=\"justify-content: center;\">\n                            Click here to open logs\n                         </mat-panel-description>\n                        </mat-expansion-panel-header>\n                        <div *ngFor=\"let element of driverLogsDisplay\" style=\"text-align: center;color:brown;\">\n                          {{element.log}}\n                        </div>\n                    </mat-expansion-panel>\n                  </mat-accordion>\n                <div style=\"margin-top:15px;\">\n                  <table class=\"callTable\">\n                    <tr>\n                      <td class=\"callCell\">\n                        <b>Name: </b>{{driver.name}} \n                      </td>\n                      <td class=\"callCell\" rowspan=\"2\" style=\"text-align:center;\">\n                              <mat-checkbox class=\"invoice-button\" (change)=\"sendDriverSMS($event,driver.mobileNumber,driver.name)\">Message</mat-checkbox>\n                              <mat-checkbox class=\"invoice-button\" (change)=\"sendDriverWhatsApp($event,driver.mobileNumber,driver.name)\">WhatApp</mat-checkbox>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td class=\"callCell\">\n                        <b>Number: </b>  {{driver.mobileNumber}} <button (click)=\"makeAppCall(driver.mobileNumber,driver.name)\" color=\"primary\" mat-icon-button><mat-icon>local_phone</mat-icon></button><!--<sub *ngIf=\"callNumber==0\">* device is {{deviceStatus}}</sub><sub *ngIf=\"callNumber!=0\">* {{callNumber}} is {{deviceStatus}}</sub>-->\n                      </td>\n                    </tr>\n                  </table>\n                </div>  \n                <div class=\"invoice-button-container\" style=\"margin-top: 10px;\">\n                    <div style=\"width: 60%;margin:auto;\">\n                      <label style=\"text-align: left;font-size: 14px;\">\n                          <p>{{duty.cname}}</p>\n                          <p>For: {{duty.passenger}} ({{duty.passengerNo}})</p>\n                          <p>Type: {{duty.dutyType}}</p>\n                          <p>Vehicle: {{duty.vehicle}}</p>\n                          <p>Vehicle Group: {{duty.vehicleGroup}}</p>\n                          <p>Reporting: {{duty.reportingAddress}}</p>\n                      </label>\n                      <hr style=\"border-top:1px solid black\">\n                    </div>\n                   <button class=\"invoice-button\" color=\"primary\" mat-raised-button (click)=\"sendDriver()\">Send</button>\n                </div>\n            </mat-tab>\n            </mat-tab-group>            \n        </div>  \n        \n        <mat-divider></mat-divider>\n        <div [hidden]=\"!mailSupplier\">\n          <div class=\"row ptb-10\">\n            <div class=\"col-lg-12\">\n              <!-- <b>To:</b> {{duty.passengerEmail}} <br><br>\n              <mat-form-field>\n              <b>Subject:</b>        \n              <input matInput [(ngModel)]=\"mailSubject\"> <br>\n              </mat-form-field> -->\n              <div #dutySupplierTemplate id=\"dutySupplierTemplate\">\n                <head>\n                  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n                  <meta name=\"viewport\" content=\"width=device-width; initial-scale=1.0; maximum-scale=1.0;\">\n                  <meta property=\"og:title\" content=\"Saucey\">\n                  <link href=\"http://fonts.googleapis.com/css?family=Lato:300,400,600,300italic\" rel=\"stylesheet\" type=\"text/css\">\n                  <link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.7.2/css/all.css\" integrity=\"sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr\" crossorigin=\"anonymous\">\n                  <title></title>\n                </head>\n                <body style=\"width: 100%;background-color: #ffffff;margin: 0;padding: 0;-webkit-font-smoothing: antialiased;text-align: center;\">\n                  <table width=\"100%\" height=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"10\">\n                    <tbody>\n                      <tr>\n                        <td>                      \n                          <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                            <tr>\n                              <td bgcolor=\"#00C186\" style=\"background-color: #00C186;\">\n                                <div align=\"center\" style=\"padding: 0px 20px 0px 20px;\">\n                                  <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"wrapper\" align=\"center\">\n                                    <tr align=\"center\">\n                                      <td style=\"padding: 10px 0px 10px 0px; text-align: center; width: 400px;\" class=\"logo\" align=\"center\">\n                                        <a>\n                                          <!-- <img alt=\"header\" src=\"http://media.firebox.com/i/nl/fb_light.png\" width=\"130\" border=\"0\"> -->\n                                          <img alt=\"header\" [src]=\"companyLogo\" width=\"70\" border=\"0\">\n                                        </a>\n                                      </td>\n                                    </tr>\n                                    <!-- <tr align=\"center\">\n                                      <td style=\"padding: 0px 0px 15px 0px; text-align: center; width: 400px;\" class=\"logo\" align=\"center\"> -->\n                                        <!-- <img src=\"https://media.firebox.com/i/transactional/header-dispatch.png\" width=\"100%\" class=\"img-max\"> -->\n                                      <!-- </td>\n                                    </tr> -->\n                                  </table>\n                                </div>\n                              </td>\n                            </tr>\n                          </table>                    \n                        </td>\n                      </tr>\n                      <tr *ngIf=\"businessSettings.dutyAllotmentToSupplierHeader != ''\">\n                        <td>                      \n                          <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                            <tr>\n                              <td bgcolor=\"#00C186\" style=\"background-color: #00C186;\">\n                                <div align=\"center\" style=\"padding: 0px 20px 0px 20px;\">\n                                  <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"wrapper\" align=\"center\">\n                                    <tr align=\"center\">\n                                      <td style=\"padding: 15px 0px 10px 0px; text-align: center; width: 400px;\" class=\"logo\" align=\"center\">\n                                        <p [innerHTML]=\"businessSettings.dutyAllotmentToSupplierHeader\"></p>\n                                      </td>\n                                    </tr>                                    \n                                  </table>\n                                </div>\n                              </td>\n                            </tr>\n                          </table>                    \n                        </td>\n                      </tr>\n                      <tr>\n                        <td align=\"center\"><table width=\"100%\" border=\"0\" cellspacing=\"5\" cellpadding=\"5\" align=\"center\" style=\"max-width:600px;\">\n                          <tbody>          \n                            <tr>\n                              <td align=\"center\">\n                                <div align=\"center\">\n                                  <img alt=\"\" src=\"https://image.freepik.com/free-vector/hands-holding-document-pencil_1325-132.jpg\" width=\"75\" style=\"border-radius: 100%; margin:10px; border: 4px solid #FFF;-webkit-box-shadow: 0 0 15px 0px rgba(0,0,0,0.1); -moz-box-shadow: 0 0 5px 0px rgba(0,0,0,0.1); box-shadow: 0 0 15px 0px rgba(0,0,0,0.1);\">\n                                </div>\n                                <div align=\"center\" style=\"word-break:break-word;border-collapse:collapse!important;vertical-align:top;text-align:center;display:block;font-family: 'Lato', sans-serif;font-size:14px; color: #555; font-weight:300; font-style:italic\">\n                                  Please find the duty details below\n                                </div> \n                              </td>\n                            </tr>                      \n                            <tr>\n                              <td align=\"center\" valign=\"top\">\n                                <table width=\"100%\" border=\"0\" cellspacing=\"5\" cellpadding=\"10\" align=\"center\">\n                                  <tbody>\n                                    <tr style=\"vertical-align:top;text-align:left;width:100%;padding:0\" align=\"left\">\n                                      <td style=\"border-collapse:collapse!important;vertical-align:middle;display:table-cell;width:auto!important;padding:12px 0 5px\" align=\"center\" valign=\"middle\">\n                                        <p style=\"color:#222222;text-align:center;line-height:0;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:#d9d9d9;display:block;margin:0;padding:0\" align=\"left\"></p>\n                                      </td>\n                                      <td style=\"word-break:break-word;border-collapse:collapse!important;vertical-align:middle;text-align:center;display:table-cell;width:120px!important;font-family: 'Lato', sans-serif;font-size:12px;font-weight:normal; text-transform:uppercase;white-space:pre-wrap;padding:0px 10px 5px\" align=\"center\" valign=\"middle\">\n                                        Duty Summary\n                                      </td>\n                                      <td style=\"border-collapse:collapse!important;vertical-align:middle;display:table-cell;width:auto!important;padding:12px 0 5px\" align=\"center\" valign=\"middle\">\n                                        <p style=\"color:#222222;text-align:center;line-height:0;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:#d9d9d9;display:block;margin:0;padding:0\" align=\"left\"></p>\n                                      </td>\n                                    </tr>\n                                  </tbody>\n                                </table>\n                                <br>\n                                <table width=\"100%\" border=\"0\" cellspacing=\"5\" cellpadding=\"0\" align=\"center\">\n                                  <tbody>\n                                    <!-- Repeat Per Product -->\n                                    <tr style=\"vertical-align:top;text-align:left;width:100%;padding:0;\" align=\"left\">\n                                      <td style=\"word-break:break-word;border-collapse:collapse!important;vertical-align:top;text-align:left;display:table-cell;width:50px!important;font-family: 'Lato', sans-serif;font-size:14px;\" align=\"left\" valign=\"top\">\n                                        1\n                                      </td>\n                                      <td style=\"word-break:break-word;border-collapse:collapse!important;vertical-align:top;text-align:left;display:table-cell;font-family: 'Lato', sans-serif;font-size:14px;\" align=\"right\" valign=\"top\">                                    \n                                        Booking ID: <span style=\"font-weight:300;\">{{duty.id}}&nbsp;</span> <br>\n                                        Date: <span style=\"font-weight:300;\"> {{duty.startDate}}&nbsp;</span> <br>\n                                        From: <span style=\"font-weight:300;\">{{duty.fromLoc}}&nbsp;</span> <br>                                    \n                                        Passenger Name: <span style=\"font-weight:300;\">{{duty.passenger}}&nbsp;</span> <br>                                    \n                                        \n                                      </td>                                     \t\n                                      <td style=\"word-break:break-word;border-collapse:collapse!important;vertical-align:top;text-align:left;display:table-cell;font-family: 'Lato', sans-serif;font-size:14px;\" align=\"right\" valign=\"top\">\n                                        Vehicle Group: <span style=\"font-weight:300;\">{{duty.vehicleGroup}}&nbsp;</span><br>\n                                        Reporting Time: <span style=\"font-weight:300;\">{{duty.reportingTime}}&nbsp;</span><br>\n                                        To: <span style=\"font-weight:300;\">{{duty.toLoc}}&nbsp;</span> <br>\n                                        Mobile No.: <span style=\"font-weight:300;\">{{duty.passengerNo}}&nbsp;</span> <br>\n                                        \n                                      </td>\n                                    </tr>\n                                    <tr style=\"vertical-align:top;text-align:left;width:100%;padding:0;\" align=\"left\">\n                                      <td></td>\n                                      <td style=\"word-break:break-word;border-collapse:collapse!important;vertical-align:top;text-align:left;display:table-cell;font-family: 'Lato', sans-serif;font-size:14px;\" align=\"right\" valign=\"top\" colspan=\"2\">\n                                        Reporting Address: <br><span style=\"font-weight:300;\">{{duty.reportingAddress}}&nbsp;</span><br>\n                                      </td>                                      \n                                    </tr>\n                                    <tr style=\"vertical-align:top;text-align:left;width:100%;padding:0;\" align=\"left\">\n                                      <td></td>\n                                      <td style=\"word-break:break-word;border-collapse:collapse!important;vertical-align:top;text-align:left;display:table-cell;font-family: 'Lato', sans-serif;font-size:14px;\" align=\"right\" valign=\"top\" colspan=\"2\">\n                                        Drop Address: <br><span style=\"font-weight:300;\">{{duty.dropAddress}}&nbsp;</span> <br>\n                                      </td>\n                                    </tr>\n                                    <tr *ngIf=\"duty.operatorNotes!=''\">\n                                      <td colspan=\"3\" style=\"word-break:break-word;border-collapse:collapse!important;vertical-align:top;text-align:center;display:table-cell;font-family: 'Lato', sans-serif;font-size:14px;\" align=\"right\" valign=\"top\">\n                                        <br>\n                                        Operator Notes: <span style=\"font-weight:300;\">{{duty.operatorNotes}}&nbsp;</span>    \n                                      </td>\n                                    </tr>\n                                    <tr *ngIf=\"addTracking==true || addTrackingCustomer==true\">\n                                      <td colspan=\"3\" style=\"word-break:break-word;border-collapse:collapse!important;vertical-align:top;text-align:center;display:table-cell;font-family: 'Lato', sans-serif;font-size:14px;\" align=\"right\" valign=\"top\">\n                                        <br>\n                                        <a [href]=\"trackingInfo\" style=\"font-weight:300;\" target=\"_blank\">Track your vehicle</a>\n                                      </td>\n                                    </tr>\n                                    <tr style=\"vertical-align:top;text-align:left;width:100%;padding:0;\" align=\"left\">\n                                      <td>&nbsp;</td>\n                                      <td colspan=\"2\" style=\"border-collapse:collapse!important;vertical-align:middle;display:table-cell;width:auto!important;padding:12px 0 5px\" align=\"center\" valign=\"middle\">\n                                        <p style=\"color:#222222;text-align:center;line-height:0;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:#d9d9d9;display:block;margin:0;padding:0\" align=\"left\"></p>\n                                      </td>\n                                    </tr>\n                                    <tr style=\"vertical-align:top;text-align:left;width:100%;padding:0;\" align=\"left\">\n                                      <td style=\"word-break:break-word;border-collapse:collapse!important;vertical-align:top;text-align:left;display:table-cell;width:20px!important;font-family: 'Lato', sans-serif;font-size:14px;\" align=\"left\" valign=\"top\">\n                                        &nbsp;\n                                      </td>\n                                    </tr>                                    \n                                    <!-- End Repeat Per Product -->                     \n                                  </tbody>\n                                </table>              \n                              <!-- Price Breakdown -->                                            \n                              </td>\n                            </tr>\n                          </tbody>\n                        </table>\n                      </td>\n                    </tr>    \n                    <tr>\n                      <td>\n                        <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                          <tr>\n                            <td bgcolor=\"#ffffff\" align=\"center\" style=\"padding: 20px 0px;\">\n                              <!-- UNSUBSCRIBE COPY -->\n                              <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                                  <tr>\n                                    <td bgcolor=\"#ffffff\" align=\"center\" style=\"padding: 20px 0px;\">\n                                      <!-- UNSUBSCRIBE COPY -->\n                                      <table width=\"600\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\" class=\"responsive-table\">\n                                        <tr>\n                                          <td width=\"100%\" align=\"center\" style=\"padding: 0 0 20px 0; font-size: 14px; line-height: 18px; font-family: Helvetica, Arial, sans-serif; color:#888888;\">\n                                            Until next time, <strong>Techsimians Team</strong>\n                                          </td>\n                                        </tr>\n                                        <!-- <tr>\n                                          <td>\n                                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" align=\"center\">\n                                              <tr width=\"183\">\n                                                <td>\n                                                  <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" align=\"center\">\n                                                    <tr width=\"157\">\n                                                      <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                                        <a href=\"https://www.facebook.com/Firebox\" target=\"blank\">\n                                                          <img src=\"http://media.firebox.com/i/nl/facebook_icon.png\" width=\"16\" height=\"16\">\n                                                        </a>\n                                                      </td>\n                                                      <td width=\"19\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                                        <a href=\"https://twitter.com/Firebox\" target=\"blank\">\n                                                          <img src=\"http://media.firebox.com/i/nl/twitter_icon.png\" width=\"19\" height=\"16\">\n                                                        </a>\n                                                      </td>\n                                                      <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                                        <a href=\"https://www.instagram.com/Firebox/\" target=\"blank\">\n                                                          <img src=\"http://media.firebox.com/i/nl/instagram_icon.png\" width=\"16\" height=\"16\">\n                                                        </a>\n                                                      </td>\n                                                      <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                                        <a href=\"https://www.pinterest.com/firebox/\" target=\"blank\">\n                                                          <img src=\"http://media.firebox.com/i/nl/pinterest_icon.png\" width=\"16\" height=\"16\">\n                                                        </a>\n                                                      </td>\n                                                    </tr>\n                                                  </table>\n                                                </td>\n                                              </tr>\n                                            </table>\n                                          </td>\n                                        </tr> -->\n                                        <tr>\n                                          <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 0 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                            <span class=\"appleBody\">\n                                              <strong>Techsimians</strong><br /> Mumbai, Maharashtra, India.\n                                            </span>\n                                          </td>\n                                        </tr>\n                                        <!-- <tr>\n                                          <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 20px 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                            <span class=\"appleBody\">\n                                              VAT Reg. No.: 798 6593 41 Registered in England & Wales, No. 3874477\n                                            </span>\n                                          </td>\n                                        </tr> -->\n                                        <tr>\n                                          <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 20px 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                            <span class=\"appleBody\" style=\"color:#888888;\">\n                                              <a href=\"mailto:info@firebox.com\" style=\"color:#888888 !important;\">info@yourfleetman.com</a>\n                                            </span>\n                                            <span class=\"hide-mobile\">&nbsp; | &nbsp;</span>\n                                            <span class=\"appleBody break\" style=\"color:#888888;\">\n                                              <a href=\"http://www.firebox.com?itc=915&utm_source=email&utm_medium=transactional&utm_campaign=order_dispatch\"\n                                                style=\"color: #888888 !important;\">www.techsimians.com</a>\n                                            </span>\n                                            <span class=\"hide-mobile\">&nbsp; | &nbsp;</span>\n                                            <span class=\"appleBody break\" style=\"color:#888888;\">\n                                              8080 425 120\n                                            </span>\n                                          </td>\n                                        </tr>\n                                      </table>\n                                    </td>\n                                  </tr>\n                                </table>\n                            </td>\n                          </tr>\n                        </table>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>                      \n                        <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" *ngIf=\"businessSettings.dutyAllotmentToSupplierFooter != ''\">\n                          <tr>\n                            <td bgcolor=\"#00C186\" style=\"background-color: #00C186;\">\n                              <div align=\"center\" style=\"padding: 0px 20px 0px 20px;\">\n                                <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"wrapper\" align=\"center\">\n                                  <tr align=\"center\">\n                                    <td style=\"padding: 15px 0px 10px 0px; text-align: center; width: 400px;\" class=\"logo\" align=\"center\">\n                                      <p [innerHTML]=\"businessSettings.dutyAllotmentToSupplierFooter\"></p>\n                                    </td>\n                                  </tr>                                    \n                                </table>\n                              </div>\n                            </td>\n                          </tr>\n                        </table>                    \n                      </td>\n                    </tr>\n                  </tbody>\n                </table>                        \n                </body>              \n              </div>\n            </div>\n          </div>\n        </div>\n        <div [hidden]=\"!mailPassenger\">\n          <div class=\"row ptb-10\">\n            <div class=\"col-lg-12\">        \n              <!-- <div>\n                <b>To:</b>{{duty.passengerEmail}}\n                </div>\n                <div>\n                  <b>Subject:</b>\n                </div>\n                <div>\n                  <mat-form-field>\n                    <input matInput [(ngModel)]=\"mailSubject\">\n                  </mat-form-field>\n              </div> -->\n              <div #dutyPassengerTemplate id=\"dutyPassengerTemplate\">\n                <!DOCTYPE html>\n                <html lang=\"en\">\n                  <head>\n                    <title></title>\n                    <meta charset=\"utf-8\">\n                    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n                    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n                    <style type=\"text/css\">\n                      @font-face {font-family: 'sofia';  src: url('http://media.firebox.com/fonts/sofiapro_regular_macroman/SofiaProRegular-webfont.woff') format('woff');  mso-font-alt: 'Arial';  font-weight: normal !important;  font-style: normal !important;}\n                      body,table,td,a{\n                        -webkit-text-size-adjust:100%;\n                        -ms-text-size-adjust:100%;\n                        -webkit-font-smoothing: antialiased;\n                      }\n                      table,td{\n                        mso-table-lspace:0pt;\n                        mso-table-rspace:0pt;\n                      }\n                      img{\n                        -ms-interpolation-mode:bicubic;\n                      }\n                      body{\n                        margin:0;\n                        padding:0;\n                      }\n                      img{\n                        border:0;\n                        height:auto;\n                        line-height:100%;\n                        outline:none;\n                        text-decoration:none;\n                      }\n                      table{\n                        border-collapse:collapse !important;\n                      }\n                      body{\n                        height:100% !important;\n                        margin:0;\n                        padding:0;\n                        width:100% !important;\n                      }\n                    \n                      .appleBody a{\n                        color: #0087DB !important;\n                        text-decoration: underline !important;;\n                      }\n                    \n                      .appleFooter a{\n                        color: #343434 !important;\n                        text-decoration: none;\n                      }\n                      td[class=btn]{\n                        width:50% !important;\n                      }\n                    \n                      span.preheader { display: none !important; }\n                      @media screen and (max-width: 525px){\n                        table[class=wrapper]{\n                          width:100% !important;\n                        }\n                      \n                      }\t/*@media screen and (max-width: 525px){\n                        td[class=wrapper]{\n                          width:100% !important;\n                        }*/\n                      \n                        @media screen and (max-width: 525px){\n                        td[class=mobile-hide]{\n                          display:none;\n                        }\n                      \n                      }\t@media screen and (max-width: 525px){\n                        img[class=mobile-show]{\n                          display:block !important;\n                          height:60px !important;\n                          width:60px !important;\n                          overflow:auto !important;\n                        }\n                      \n                      }\t@media screen and (max-width: 525px){\n                        img[class=mobile-hide]{\n                          display:none !important;\n                        }\n                      \n                      }\t@media screen and (max-width: 525px){\n                        img[class=img-max]{\n                          max-width:100% !important;\n                          width:100% !important;\n                          height:auto !important;\n                        }\n                      \n                      }\t@media screen and (max-width: 525px){\n                        img[class=img-picture]{\n                          max-width:60% !important;\n                          width:60% !important;\n                          height:auto !important;\n                          float:right !important;\n                        }\n                      \n                      }\t@media screen and (max-width: 525px){\n                        table[class=responsive-table]{\n                          width:100%!important;\n                        }\n                      \n                      }\t@media screen and (max-width: 525px){\n                        table[class=responsive-column]{\n                          width:100%!important;\n                          padding:0px 0px 15px 0px !important;\n                          display:block !important;\n                        }\n                      }\t@media screen and (max-width: 525px){\n                        td[class=top-padding]{\n                          padding: 0px 0px 10px 0px !important;\n                        }\n                      \n                      } @media screen and (max-width: 525px){\n                        td[class=slice-padding]{\n                          padding:0px 15px 0px 15px !important;\n                        }\n                      \n                      }\t@media screen and (max-width: 525px){\n                        td[class=smaller-padding]{\n                          padding:15px 0px 15px 0px !important;\n                        }\n                      \n                      }\n                      @media screen and (max-width: 525px){\n                        td[class=section-padding]{\n                          padding: 0px 10px 20px 10px !important;\n                        }\n                      }\n                      @media screen and (max-width: 525px){\n                        .height {\n                          height: 100% !important;\n                        }        \n                      }\n                      @media screen and (max-width: 525px){\n                        td[class=mobile-wrapper]{\n                          padding:0 !important;\n                        }\n                      \n                      }\t@media screen and (max-width: 525px){\n                        td[class=title]{\n                          font-size: 16px !important;\n                        }\n                      \n                      }\t@media screen and (max-width: 525px){\n                        td[class=btn]{\n                          width:80% !important;\n                        }\n                      \n                      }\n                    </style>\n                    <!--[if gte mso 9]>\n                        <style type=\"text/css\">\n                          .img-max {\n                              width: 246px !important;\n                          }\n                        </style>\n                      <![endif]-->\n                  </head>\n                  <body style=\"margin: 0; padding: 0;\">\n                    <div style=\"display:none !important; font-size:1px; color:#FFFFFF;\">\n                      <!-- It&#039;s on the way to XXXXX, Really Good Emails -->\n                    </div>\n                    <!-- HEADER LOGO -->\n                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                      <tr>\n                        <td bgcolor=\"#00C186\" style=\"background-color: #00C186;\">\n                          <div align=\"center\" style=\"padding: 0px 20px 0px 20px;\">\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                              <tr>\n                                <td bgcolor=\"#00C186\" style=\"background-color: #00C186;\">\n                                  <div align=\"center\" style=\"padding: 0px 20px 0px 20px;\">\n                                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"wrapper\" align=\"center\">\n                                      <tr align=\"center\">\n                                        <td style=\"padding: 10px 0px 10px 0px; text-align: center; width: 400px;\" class=\"logo\" align=\"center\">\n                                          <a>\n                                            <!-- <img alt=\"header\" src=\"http://media.firebox.com/i/nl/fb_light.png\" width=\"130\" border=\"0\"> -->\n                                            <img alt=\"header\" [src]=\"companyLogo\" width=\"70\" border=\"0\">\n                                          </a>\n                                        </td>\n                                      </tr>\n                                      <!-- <tr align=\"center\">\n                                        <td style=\"padding: 0px 0px 15px 0px; text-align: center; width: 400px;\" class=\"logo\" align=\"center\"> -->\n                                          <!-- <img src=\"https://media.firebox.com/i/transactional/header-dispatch.png\" width=\"100%\" class=\"img-max\"> -->\n                                        <!-- </td>\n                                      </tr> -->\n                                    </table>\n                                  </div>\n                                </td>\n                              </tr>\n                            </table>   \n                          </div>\n                        </td>\n                      </tr>\n                    </table>\n                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" *ngIf=\"businessSettings.dutyAllotmentToCustomerHeader != ''\">\n                      <tr>\n                        <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 5px 15px 5px 15px;\" class=\"top-padding\">\n                          <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                            <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                            <tr>\n                              <td>\n                                <!-- TWO COLUMNS -->\n                                <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                  <tr>\n                                    <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                      <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"600\" align=\"left\" class=\"responsive-table\">\n                                        <tr>\n                                          <td valign=\"top\" align=\"left\">\n                                            <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" class=\"responsive-table\">\n                                              <tr>\n                                                <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 20px; border: 1px solid #EFEFEF;\">\n                                                  <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"300\" valign=\"top\">\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" width=\"33%\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888 !important; font-size: 16px; line-height: 20px; font-weight: normal;\">\n                                                        <p [innerHTML]=\"businessSettings.dutyAllotmentToCustomerHeader\"></p>\n                                                      </td>                                                        \n                                                    </tr>\n                                                  </table>\n                                                </td>\n                                              </tr>\n                                            </table>\n                                          </td>\n                                        </tr>\n                                      </table>\n                                    </td>\n                                  </tr>\n                                </table>\n                              </td>\n                            </tr>\n                          </table>\n                        </td>\n                      </tr>\n                    </table>\n                    <!-- ORDER CONFIRMATION -->\n                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                      <tr>\n                        <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 5px 15px 5px 15px;\" class=\"top-padding\">\n                          <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                            <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                            <tr>\n                              <td>\n                                <!-- TWO COLUMNS -->\n                                <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                  <tr>\n                                    <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                      <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"600\" align=\"left\" class=\"responsive-table\">\n                                        <tr>\n                                          <td valign=\"top\" align=\"left\">\n                                            <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" class=\"responsive-table\">\n                                              <tr>\n                                                <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 15px; border: 1px solid #EFEFEF;\">\n                                                  <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"300\" valign=\"top\">\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" width=\"33%\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888 !important; font-size: 16px; line-height: 20px; font-weight: normal;\">\n                                                        <span style=\"color: #343434; text-transform: uppercase; font-size: 14px; -webkit-font-smoothing: auto; font-weight: bold;\" class=\"appleBody\">\n                                                          Booking date\n                                                        </span>\n                                                        <br />\n                                                        <span class=\"appleBody\">\n                                                          {{duty.startDate}}\n                                                        </span>\n                                                      </td>\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" width=\"33%\" style=\"text-align: right; font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888 !important; font-size: 16px; line-height: 20px; font-weight: normal;\">\n                                                        <span style=\"color: #343434; text-transform: uppercase; font-size: 14px; -webkit-font-smoothing: auto; font-weight: bold;\" class=\"appleBody\">\n                                                          Booking no.\n                                                        </span>\n                                                        <br />\n                                                        <a href=\"#\" style=\"color: #0087DB !important;\">\n                                                          {{duty.bid}}\n                                                        </a>\n                                                      </td>\n                                                    </tr>\n                                                  </table>\n                                                </td>\n                                              </tr>\n                                            </table>\n                                          </td>\n                                        </tr>\n                                      </table>\n                                    </td>\n                                  </tr>\n                                </table>\n                              </td>\n                            </tr>\n                          </table>\n                        </td>\n                      </tr>\n                    </table>\n                    <!-- END ORDER CONFIRMATION -->\n                    <!-- COPY SIMPLE SECTION-->\n                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                      <tr>\n                        <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 0px 15px 2px 15px;\" class=\"section-padding\">\n                          <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                            <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                            <tr>\n                              <td>\n                                <!-- TWO COLUMNS -->\n                                <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                  <tr>\n                                    <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                      <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"600\" align=\"left\" class=\"responsive-table\">\n                                        <tr>\n                                          <td valign=\"top\" align=\"left\">\n                                            <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                              <tr>\n                                                <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 10px; border: 1px solid #EFEFEF;\">\n                                                  <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"500\">\n                                                    <!-- STYLE WIDTH FOR CHROME BROWSER -->\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" class=\"title\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #343434; font-size: 16px; font-weight: normal; text-align: left; line-height: 1; padding: 0px 0px 20px 0px; text-transform: uppercase; -webkit-font-smoothing: auto; font-weight: bold;\">\n                                                        Passenger Details\n                                                      </td>                                    \n                                                    </tr>                                                                    \n                                                    <!-- <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #343434 !important; font-size: 14px; line-height: 20px; font-weight: normal; padding: 0px 0px 0px 0px;\">\n                                                        Sent using Airmail\n                                                      </td>\n                                                    </tr> -->                                  \n                                                    <!--<tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888 !important; font-size: 14px; line-height: 20px; font-weight: normal; padding: 0px 0px 0px 0px;\">\n                                                        <span class=\"appleBody\">\n                                                          <a href=\"#\">\n                                                            More info\n                                                          </a>\n                                                        </span>\n                                                      </td>\n                                                    </tr> \n                                                    <tr border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n                                                      <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 20px 20px 10px 0px; width: 400px;\">\n                                                        <a href=\"#\" target=\"_blank\" style=\"font-size: 16px; font-family:'sofia', Helvetica, Arial, sans-serif; text-decoration: none; border-radius: 3px; -webkit-border-radius: 3px; -moz-border-radius: 3px; font-weight: bold; text-transform: uppercase; background-color: #0087DB; border-top: 12px solid #0087DB; border-bottom: 12px solid #0087DB; border-right: 18px solid #0087DB; border-left: 18px solid #0087DB; display: inline-block; color: #ffffff;\">\n                                                          Track my order\n                                                        </a>\n                                                      </td>\n                                                    </tr> -->\n                                                  </table>\n                                                  <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%; border: 1px solid lightgrey !important;\" class=\"responsive-table\" width=\"500\">\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" class=\"title\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #262626; font-size: 16px; font-weight: normal; text-align: left; line-height: 1; padding: 0px 10px 10px 10px; -webkit-font-smoothing: antialiased; border: 1px solid;\">\n                                                        Sr.\n                                                      </td>\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" class=\"title\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #262626; font-size: 16px; font-weight: normal; text-align: left; line-height: 1; padding: 0px 10px 10px 10px; -webkit-font-smoothing: antialiased; border: 1px solid;\">\n                                                        Guest Name\n                                                      </td>\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" class=\"title\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #262626; font-size: 16px; font-weight: normal; text-align: left; line-height: 1; padding: 0px 10px 10px 10px; -webkit-font-smoothing: antialiased; border: 1px solid;\">\n                                                        Phone No.\n                                                      </td>\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" class=\"title\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #262626; font-size: 16px; font-weight: normal; text-align: left; line-height: 1; padding: 0px 10px 10px 10px; -webkit-font-smoothing: antialiased; border: 1px solid;\">\n                                                        Email\n                                                      </td>\n                                                    </tr>\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #323232 !important; font-size: 15px; line-height: 20px; font-weight: normal; padding: 0px 10px 10px 10px; border: 1px solid;\">\n                                                        1\n                                                      </td>\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #323232 !important; font-size: 15px; line-height: 20px; font-weight: normal; padding: 0px 10px 10px 10px; border: 1px solid;\">\n                                                        {{duty.passenger}}\n                                                      </td>\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #323232 !important; font-size: 15px; line-height: 20px; font-weight: normal; padding: 0px 10px 10px 10px; border: 1px solid;\">\n                                                        {{duty.passengerNo}}\n                                                      </td>\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #323232 !important; font-size: 15px; line-height: 20px; font-weight: normal; padding: 0px 10px 10px 10px; border: 1px solid;\">\n                                                        {{duty.passengerEmail}}\n                                                      </td>\n                                                    </tr>\n                                                  </table>                                \n                                                  <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"500\">\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"5\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #323232 !important; font-size: 15px; line-height: 20px; font-weight: normal; padding: 0px 0px 0px 0px;\">\n                                                        Reporting Time: {{duty.reportingTime}}\n                                                      </td>\n                                                    </tr>\n                                                  </table>\n                                                </td>\n                                              </tr>\n                                            </table>\n                                          </td>\n                                        </tr>\n                                      </table>\n                                    </td>\n                                  </tr>\n                                </table>\n                              </td>\n                            </tr>\n                          </table>\n                        </td>\n                      </tr>\n                    </table>\n                    <!-- END COPY SIMPLE SECTION-->\n                    <!-- DELIVERY SECTION-->\n                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                      <tr>\n                        <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 0px 15px 5px 15px;\" class=\"section-padding\">\n                          <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                            <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                            <tr>\n                              <td>\n                                <!-- TWO COLUMNS -->\n                                <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                  <tr>\n                                    <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                      <!-- LEFT COLUMN -->\n                                      <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"290\" align=\"left\" class=\"responsive-table\">\n                                        <tr>\n                                          <td valign=\"top\" align=\"left\">\n                                            <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                              <tr>\n                                                <td align=\"center\" bgcolor=\"#FFFFFF\" width=\"290\" height=\"150\" class=\"wrapper height\" valign=\"top\" style=\"padding: 10px 0; border: 1px solid #EFEFEF; width: 400px;\">\n                                                  <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"100%\">\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td class=\"title\" cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; font-size: 16px; font-weight: bold; padding: 0px 20px 10px 20px; text-transform: uppercase;\">\n                                                        Reporting Address\n                                                      </td>\n                                                    </tr>\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888; font-size: 15px; line-height: 1.44; font-weight: normal; text-align: left; padding: 0px 20px 10px 20px;\">\n                                                        <!-- Dosti Acres, Antop Hill, Mumbai, Maharashtra 400037 -->\n                                                        {{duty.reportingAddress}}\n                                                      </td>\n                                                    </tr>                                  \n                                                  </table>\n                                                </td>\n                                              </tr>\n                                            </table>\n                                          </td>\n                                        </tr>\n                                      </table>\n                                      <!-- RIGHT COLUMN -->\n                                      <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"290\" align=\"right\" class=\"responsive-table\">\n                                        <tr>\n                                          <td valign=\"top\" align=\"left\">\n                                            <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                              <tr>\n                                                <td align=\"center\" bgcolor=\"#FFFFFF\" width=\"290\" height=\"150\" class=\"wrapper height\" valign=\"top\" style=\"padding: 10px 0; border: 1px solid #EFEFEF; width: 400px;\">\n                                                  <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"100%\">\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td class=\"title\" cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; font-size: 16px; font-weight: bold; padding: 0px 20px 10px 20px; text-transform: uppercase;\">\n                                                        Drop Address\n                                                      </td>\n                                                    </tr>\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888; font-size: 15px; line-height: 1.44; font-weight: normal; text-align: left; padding: 0px 20px 10px 20px;\">\n                                                        {{duty.dropAddress}}\n                                                      </td>\n                                                    </tr>                                  \n                                                  </table>\n                                                </td>\n                                              </tr>\n                                            </table>\n                                          </td>\n                                        </tr>\n                                      </table>\n                                    </td>\n                                  </tr>\n                                </table>\n                              </td>\n                            </tr>\n                          </table>\n                        </td>\n                      </tr>\n                    </table>\n                    <!-- END DELIVERY SECTION-->\n                    <!-- DELIVERY SECTION-->\n                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" *ngIf=\"duty.status != 'Booked'\">\n                        <tr>\n                          <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 0px 15px 5px 15px;\" class=\"section-padding\">\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                              <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                              <tr>\n                                <td>\n                                  <!-- TWO COLUMNS -->\n                                  <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                    <tr>\n                                      <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                        <!-- LEFT COLUMN -->\n                                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"290\" align=\"left\" class=\"responsive-table\">\n                                          <tr>\n                                            <td valign=\"top\" align=\"left\">\n                                              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                                <tr>\n                                                  <td align=\"center\" bgcolor=\"#FFFFFF\" width=\"290\" height=\"200\" class=\"wrapper height\" valign=\"top\" style=\"padding: 10px 0; border: 1px solid #EFEFEF; width: 400px;\">\n                                                    <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"100%\">\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td class=\"title\" cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; font-size: 16px; font-weight: bold; padding: 0px 20px 10px 20px; text-transform: uppercase;\">\n                                                          <!-- <img src=\"https://www.thegremlin.co.za/wp-content/uploads/2015/08/340357-290x290.jpg\" width=\"250\" height=\"250\">   -->\n                                                          <img [src]=\"vehicleImg\" width=\"250\" height=\"250\" alt=\"Vehicle\" />\n                                                        </td>\n                                                      </tr>                                  \n                                                    </table>\n                                                  </td>\n                                                </tr>\n                                              </table>\n                                            </td>\n                                          </tr>\n                                        </table>\n                                        <!-- RIGHT COLUMN -->\n                                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"290\" align=\"right\" class=\"responsive-table\">\n                                          <tr>\n                                            <td valign=\"top\" align=\"left\">\n                                              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                                <tr>\n                                                  <td align=\"center\" bgcolor=\"#FFFFFF\" width=\"290\" height=\"200\" class=\"wrapper height\" valign=\"top\" style=\"padding: 10px 0; border: 1px solid #EFEFEF; width: 400px;\">\n                                                    <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"100%\">\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td class=\"title\" cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; font-size: 16px; font-weight: bold; padding: 0px 20px 5px 20px; text-transform: uppercase;\">\n                                                          Car Details\n                                                        </td>\n                                                      </tr>\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #262626; font-size: 15px; line-height: 1.44; font-weight: normal; text-align: left; padding: 0px 20px 10px 20px;\">\n                                                          Model Name:\n                                                        </td>\n                                                      </tr>\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888; font-size: 15px; line-height: 1.44; font-weight: normal; text-align: left; padding: 0px 20px 10px 20px;\">\n                                                          {{vehicle.modelName}}\n                                                        </td>\n                                                      </tr>\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #262626; font-size: 15px; line-height: 1.44; font-weight: normal; text-align: left; padding: 0px 20px 10px 20px;\">\n                                                          Registration Number\n                                                        </td>\n                                                      </tr>\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888; font-size: 15px; line-height: 1.44; font-weight: normal; text-align: left; padding: 0px 20px 10px 20px;\">\n                                                          {{vehicleNumber}}\n                                                        </td>\n                                                      </tr>\n                                                    </table>\n                                                  </td>\n                                                </tr>\n                                              </table>\n                                            </td>\n                                          </tr>\n                                        </table>\n                                      </td>\n                                    </tr>\n                                  </table>\n                                </td>\n                              </tr>\n                            </table>\n                          </td>\n                        </tr>\n                      </table>\n                      <!-- END DELIVERY SECTION-->\n                    \n                      <!-- DELIVERY SECTION-->\n                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" *ngIf=\"duty.status != 'Booked'\">\n                        <tr>\n                          <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 0px 15px 5px 15px;\" class=\"section-padding\">\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                              <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                              <tr>\n                                <td>\n                                  <!-- TWO COLUMNS -->\n                                  <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                    <tr>\n                                      <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                        <!-- LEFT COLUMN -->\n                                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"290\" align=\"left\" class=\"responsive-table\">\n                                          <tr>\n                                            <td valign=\"top\" align=\"left\">\n                                              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                                <tr>\n                                                  <td align=\"center\" bgcolor=\"#FFFFFF\" width=\"290\" height=\"200\" class=\"wrapper height\" valign=\"top\" style=\"padding: 10px 0; border: 1px solid #EFEFEF; width: 400px;\">\n                                                    <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"100%\">\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td class=\"title\" cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; font-size: 16px; font-weight: bold; padding: 0px 20px 10px 20px; text-transform: uppercase;\">\n                                                          <img [src]=\"driverImg\" width=\"250\" height=\"250\" alt=\"Driver\">\n                                                      </tr>                                  \n                                                    </table>\n                                                  </td>\n                                                </tr>\n                                              </table>\n                                            </td>\n                                          </tr>\n                                        </table>\n                                        <!-- RIGHT COLUMN -->\n                                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"290\" align=\"right\" class=\"responsive-table\">\n                                          <tr>\n                                            <td valign=\"top\" align=\"left\">\n                                              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                                <tr>\n                                                  <td align=\"center\" bgcolor=\"#FFFFFF\" width=\"290\" height=\"200\" class=\"wrapper height\" valign=\"top\" style=\"padding: 10px 0; border: 1px solid #EFEFEF; width: 400px;\">\n                                                    <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"100%\">\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td class=\"title\" cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; font-size: 16px; font-weight: bold; padding: 0px 20px 5px 20px; text-transform: uppercase;\">\n                                                          Driver Details\n                                                        </td>\n                                                      </tr>\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #262626; font-size: 15px; line-height: 1.44; font-weight: normal; text-align: left; padding: 0px 20px 10px 20px;\">\n                                                          Driver Name\n                                                        </td>\n                                                      </tr>\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888; font-size: 15px; line-height: 1.44; font-weight: normal; text-align: left; padding: 0px 20px 10px 20px;\">\n                                                          {{driver.name}}\n                                                        </td>\n                                                      </tr>\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #262626; font-size: 15px; line-height: 1.44; font-weight: normal; text-align: left; padding: 0px 20px 10px 20px;\">\n                                                          Driver Mobile\n                                                        </td>\n                                                      </tr>\n                                                      <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                        <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888; font-size: 15px; line-height: 1.44; font-weight: normal; text-align: left; padding: 0px 20px 10px 20px;\">\n                                                          {{driver.mobileNumber}}\n                                                        </td>\n                                                      </tr>\n                                                    </table>\n                                                  </td>\n                                                </tr>\n                                              </table>\n                                            </td>\n                                          </tr>\n                                        </table>\n                                        <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" *ngIf=\"businessSettings.dutyAllotmentToCustomerFooter != ''\">\n                                          <tr>\n                                            <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 5px 15px 5px 15px;\" class=\"top-padding\">\n                                              <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                                                <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                                                <tr>\n                                                  <td>\n                                                    <!-- TWO COLUMNS -->\n                                                    <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                                      <tr>\n                                                        <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                                          <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"600\" align=\"left\" class=\"responsive-table\">\n                                                            <tr>\n                                                              <td valign=\"top\" align=\"left\">\n                                                                <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" class=\"responsive-table\">\n                                                                  <tr>\n                                                                    <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 20px; border: 1px solid #EFEFEF;\">\n                                                                      <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"300\" valign=\"top\">\n                                                                        <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                                          <td cellspacing=\"0\" cellpadding=\"0\" width=\"33%\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #888888 !important; font-size: 16px; line-height: 20px; font-weight: normal;\">\n                                                                            <p [innerHTML]=\"businessSettings.dutyAllotmentToCustomerFooter\"></p>\n                                                                          </td>                                                        \n                                                                        </tr>\n                                                                      </table>\n                                                                    </td>\n                                                                  </tr>\n                                                                </table>\n                                                              </td>\n                                                            </tr>\n                                                          </table>\n                                                        </td>\n                                                      </tr>\n                                                    </table>\n                                                  </td>\n                                                </tr>\n                                              </table>\n                                            </td>\n                                          </tr>\n                                        </table>\n                                      </td>\n                                    </tr>\n                                  </table>\n                                </td>\n                              </tr>\n                            </table>\n                          </td>\n                        </tr>\n                      </table>\n                      <!-- END DELIVERY SECTION-->\n                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                      <tr>\n                        <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 0px 15px 5px 15px;\" class=\"section-padding\">\n                          <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                            <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                            <tr>\n                              <td>\n                                <!-- TWO COLUMNS -->\n                                <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                  <tr>\n                                    <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                      <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"600\" align=\"left\" class=\"responsive-table\">\n                                        <tr>\n                                          <td valign=\"top\" align=\"left\">\n                                            <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                              <tr>\n                                                <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 10px; border: 1px solid #EFEFEF;\">\n                                                  <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"500\">\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" class=\"title\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #343434; font-size: 18px; font-weight: normal; text-align: left; line-height: 1; padding: 0px 0px 15px 0px; text-transform: uppercase; -webkit-font-smoothing: auto; font-weight: bold;\">\n                                                        Booked By\n                                                      </td>                                    \n                                                    </tr>                    \n                                                  </table>\n                                                  <table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\" class=\"responsive-table\" width=\"500\">                                  \n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">                                    \n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #323232 !important; font-size: 16px; line-height: 20px; font-weight: normal; padding: 0px 10px 10px 0px;\">\n                                                        {{duty.bookBy}}\n                                                      </td>\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #323232 !important; font-size: 16px; line-height: 20px; font-weight: normal; padding: 0px 10px 10px 0px;\">\n                                                        {{duty.bookByNo}}\n                                                      </td>\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: left; font-family:'sofia', Helvetica, Arial, sans-serif; color: #323232 !important; font-size: 16px; line-height: 20px; font-weight: normal; padding: 0px 10px 10px 0px;\">\n                                                        {{duty.bookByEmail}}\n                                                      </td>\n                                                    </tr>\n                                                  </table>\n                                                </td>\n                                              </tr>\n                                            </table>\n                                          </td>\n                                        </tr>\n                                      </table>\n                                    </td>\n                                  </tr>\n                                </table>\n                              </td>\n                            </tr>\n                          </table>\n                        </td>\n                      </tr>\n                    </table>\n\n                    <!-- ROW CS CONTACT SECTION-->\n                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                      <tr>\n                        <td bgcolor=\"#F6F6F6\" align=\"center\" style=\"padding: 0px 15px 5px 15px;\" class=\"section-padding\">\n                          <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"responsive-table\">\n                            <!-- LONGER WIDTH THAN 600 FOR OUTLOOK 07,10,11 -->\n                            <tr>\n                              <td>\n                                <!-- TWO COLUMNS -->\n                                <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                  <tr>\n                                    <td valign=\"top\" style=\"padding: 0;\" class=\"mobile-wrapper\">\n                                      <!-- LEFT COLUMN -->\n                                      <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"290\" align=\"left\" class=\"responsive-table\">\n                                        <tr>\n                                          <td valign=\"top\" align=\"left\">\n                                            <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                              <tr>\n                                                <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" height=\"250\" width=\"290\" class=\"wrapper\" style=\"border: 1px solid #EFEFEF; width: 400px;\">\n                                                  <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\" style=\"width: 100%;\" class=\"responsive-table\">\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #333333; font-size: 18px; font-weight: bold; text-align: center; padding: 15px 20px 10px 20px; width: 400px;\">\n                                                        <img alt=\"\" src=\"https://media.firebox.com/i/transactional/icon-customer-service.png\" width=\"100\">\n                                                      </td>\n                                                    </tr>\n                                                    <tr *ngIf=\"addTrackingPassenger==true\" cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #333333; font-size: 16px; font-weight: bold; text-align: center; padding: 0px 20px 10px 20px; width: 400px; text-transform: uppercase;\">\n                                                        <a [href]=\"trackingInfo\" style=\"font-weight:300;\" target=\"_blank\">Track your vehicle here</a>\n                                                      </td>\n                                                    </tr>\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #333333; font-size: 16px; font-weight: bold; text-align: center; padding: 0px 20px 10px 20px; width: 400px; text-transform: uppercase;\">\n                                                        Got a query?\n                                                        <br />\n                                                        Get in touch\n                                                      </td>\n                                                    </tr>\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: center; font-family:'sofia', Helvetica, Arial, sans-serif; padding: 0px 20px 20px 20px; color: #888888 !important; line-height: 1.44; font-size: 14px;\">\n                                                        Hit us up on the numbers featured\n                                                      </td>\n                                                    </tr>\n                                                    <!-- <tr border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n                                                      <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" width=\"600\" class=\"wrapper\" style=\"padding: 0px 20px 20px 20px; width: 400px;\">\n                                                        <a href=\"https://www.firebox.com/admin/faqs?itc=915&utm_source=email&utm_medium=transactional&utm_campaign=order_dispatch\" target=\"_blank\" style=\"font-size: 16px; font-family:'sofia', Helvetica, Arial, sans-serif; text-decoration: none; border-radius: 3px; -webkit-border-radius: 3px; -moz-border-radius: 3px; font-weight: bold; text-transform: uppercase; background-color: #0099E0; border-top: 12px solid #0099E0; border-bottom: 12px solid #0099E0; border-right: 18px solid #0099E0; border-left: 18px solid #0099E0; display: inline-block; color: #ffffff;\">\n                                                          FAQ ME\n                                                        </a>\n                                                      </td>\n                                                    </tr> -->\n                                                  </table>\n                                                </td>\n                                              </tr>\n                                            </table>\n                                          </td>\n                                        </tr>\n                                      </table>\n                                      <!-- RIGHT COLUMN -->\n                                      <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"290\" align=\"right\" class=\"responsive-table\">\n                                        <tr>\n                                          <td valign=\"top\" align=\"left\">\n                                            <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                                              <tr>\n                                                <td align=\"center\" bgcolor=\"#FFFFFF\" valign=\"middle\" height=\"250\" width=\"290\" class=\"wrapper\" style=\"border: 1px solid #EFEFEF; width: 400px;\">\n                                                  <table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\" style=\"width: 100%;\" class=\"responsive-table\">\n                                                    <!-- STYLE WIDTH FOR CHROME BROWSER -->\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: center; font-family:'sofia', Helvetica, Arial, sans-serif; padding: 10px 20px 10px 20px; color: #343434; text-transform: uppercase; width: 400px;\">\n                                                        Phone\n                                                      </td>\n                                                    </tr>\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"font-family:'sofia', Helvetica, Arial, sans-serif; color: #0087DB; font-size: 16px; font-weight: bold; text-align: center; padding: 0px 20px 10px 20px;\">\n                                                        <span class=\"appleBody\">{{companyProfile.phone}}</span>                                                                                                                \n                                                      </td>\n                                                    </tr>\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: center; font-family:'sofia', Helvetica, Arial, sans-serif; padding: 10px 20px 10px 20px; color: #343434; text-transform: uppercase;\">\n                                                        Email\n                                                      </td>\n                                                    </tr>\n                                                    <tr cellspacing=\"0\" cellpadding=\"0\">\n                                                      <td cellspacing=\"0\" cellpadding=\"0\" colspan=\"4\" style=\"text-align: center; font-family:'sofia', Helvetica, Arial, sans-serif; color: #0087DB; padding: 0px 20px 20px 20px; font-weight: bold; font-size: 16px;\">\n                                                        <span class=\"appleBody\">\n                                                          <a style=\"color: #0087DB; text-decoration: none !important;\">\n                                                            {{companyProfile.email}}\n                                                          </a>\n                                                        </span>\n                                                      </td>\n                                                    </tr>\n                                                  </table>\n                                                </td>\n                                              </tr>\n                                            </table>\n                                          </td>\n                                        </tr>\n                                      </table>\n                                    </td>\n                                  </tr>\n                                </table>\n                              </td>\n                            </tr>\n                          </table>\n                        </td>\n                      </tr>\n                    </table>\n                    <!-- END CS CONTACT ROW SECTION-->\n                    \n                    <!-- FOOTER -->\n                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                      <tr>\n                        <td bgcolor=\"#ffffff\" align=\"center\" style=\"padding: 20px 0px;\">\n                          <!-- UNSUBSCRIBE COPY -->\n                          <table width=\"600\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\" class=\"responsive-table\">\n                            <tr>\n                              <td width=\"100%\" align=\"center\" style=\"padding: 0 0 20px 0; font-size: 14px; line-height: 18px; font-family: Helvetica, Arial, sans-serif; color:#888888;\">\n                                Until next time, <strong>Techsimians Team</strong>\n                              </td>\n                            </tr>\n                            <!-- <tr>\n                              <td>\n                                <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" align=\"center\">\n                                  <tr width=\"183\">\n                                    <td>\n                                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" align=\"center\">\n                                        <tr width=\"157\">\n                                          <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                            <a href=\"https://www.facebook.com/Firebox\" target=\"blank\">\n                                              <img src=\"http://media.firebox.com/i/nl/facebook_icon.png\" width=\"16\" height=\"16\">\n                                            </a>\n                                          </td>\n                                          <td width=\"19\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                            <a href=\"https://twitter.com/Firebox\" target=\"blank\">\n                                              <img src=\"http://media.firebox.com/i/nl/twitter_icon.png\" width=\"19\" height=\"16\">\n                                            </a>\n                                          </td>\n                                          <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                            <a href=\"https://www.instagram.com/Firebox/\" target=\"blank\">\n                                              <img src=\"http://media.firebox.com/i/nl/instagram_icon.png\" width=\"16\" height=\"16\">\n                                            </a>\n                                          </td>\n                                          <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                            <a href=\"https://www.pinterest.com/firebox/\" target=\"blank\">\n                                              <img src=\"http://media.firebox.com/i/nl/pinterest_icon.png\" width=\"16\" height=\"16\">\n                                            </a>\n                                          </td>\n                                        </tr>\n                                      </table>\n                                    </td>\n                                  </tr>\n                                </table>\n                              </td>\n                            </tr> -->\n                            <tr>\n                              <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 0 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                <span class=\"appleBody\">\n                                  <strong>Techsimians</strong><br /> Mumbai, Maharashtra, India.\n                                </span>\n                              </td>\n                            </tr>\n                            <!-- <tr>\n                              <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 20px 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                <span class=\"appleBody\">\n                                  VAT Reg. No.: 798 6593 41 Registered in England & Wales, No. 3874477\n                                </span>\n                              </td>\n                            </tr> -->\n                            <tr>\n                              <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 20px 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                <span class=\"appleBody\" style=\"color:#888888;\">\n                                  <a style=\"color:#888888 !important;\">info@yourfleetman.com</a>\n                                </span>\n                                <span class=\"hide-mobile\">&nbsp; | &nbsp;</span>\n                                <span class=\"appleBody break\" style=\"color:#888888;\">\n                                  <a href=\"http://www.techsimians.com\"\n                                    style=\"color: #888888 !important;\">www.techsimians.com</a>\n                                </span>\n                                <span class=\"hide-mobile\">&nbsp; | &nbsp;</span>\n                                <span class=\"appleBody break\" style=\"color:#888888;\">\n                                  8080 425 120\n                                </span>\n                              </td>\n                            </tr>\n                          </table>\n                        </td>\n                      </tr>\n                    </table>\n                  </body>\n                </html>        \n              </div>\n            </div>\n          </div>\n        </div>\n      </nb-card-body>\n    </nb-card>  \n  </div>\n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12 col-12\" style=\"text-align:right;\">\n    <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/duties/call/call.component.scss":
/***/ (function(module, exports) {

module.exports = "@import url(https://fonts.googleapis.com/css?family=Share+Tech+Mono);\nb {\n  display: inline-block; }\nbody,\np {\n  padding: 0;\n  margin: 0; }\n.blockDiv {\n  margin: 0px 20px 0px 20px; }\nbody {\n  background: #272726; }\nlabel {\n  text-align: center;\n  font-family: Helvetica, sans-serif;\n  font-size: 1.25em;\n  color: #000000;\n  display: block; }\ndiv#controls {\n  padding: 3em;\n  max-width: 1200px;\n  margin: 0 auto; }\ndiv#controls div {\n  float: left; }\ndiv#controls div#call-controls,\ndiv#controls div#info {\n  width: 16em;\n  margin: 0 11.5em;\n  text-align: center; }\ndiv#controls div#info div#output-selection {\n  display: none; }\ndiv#controls div#info a {\n  font-size: 1.1em;\n  color: black;\n  text-decoration: underline;\n  cursor: pointer; }\ndiv#controls div#info select {\n  width: 300px;\n  height: 60px;\n  margin-bottom: 2em; }\ndiv#controls div#info label {\n  width: 300px; }\ndiv#controls div#call-controls div#volume-indicators {\n  display: none;\n  padding: 10px;\n  margin-top: 20px;\n  width: 500px;\n  text-align: center; }\ndiv#controls div#call-controls div#volume-indicators > div {\n  display: block;\n  height: 20px;\n  width: 0; }\ndiv#controls p.instructions {\n  text-align: center;\n  margin-bottom: 1em;\n  font-family: Helvetica-LightOblique, Helvetica, sans-serif;\n  font-style: oblique;\n  font-size: 1.25em;\n  color: #000000; }\ndiv#controls div#info #client-name {\n  text-align: center;\n  margin-bottom: 1em;\n  font-family: \"Helvetica Light\", Helvetica, sans-serif;\n  font-size: 1.25em;\n  color: #000000; }\ndiv#controls button {\n  width: 15em;\n  height: 2.5em;\n  margin-top: 1.75em;\n  border-radius: 1em;\n  font-family: \"Helvetica Light\", Helvetica, sans-serif;\n  font-size: .8em;\n  font-weight: lighter;\n  outline: 0; }\ndiv#controls button:active {\n  position: relative;\n  top: 1px; }\ndiv#controls div#call-controls {\n  display: none; }\ndiv#controls div#call-controls input {\n  font-family: Helvetica-LightOblique, Helvetica, sans-serif;\n  font-style: oblique;\n  font-size: 1em;\n  width: 100%;\n  height: 2.5em;\n  padding: .5em;\n  display: block; }\ndiv#controls div#call-controls button {\n  color: black;\n  background: 0 0;\n  border: 1px solid #000000; }\ndiv#controls div#call-controls button#button-hangup {\n  display: none; }\ndiv#controls div#log {\n  border: 1px solid #000000;\n  width: 35%;\n  height: 9.5em;\n  margin-top: 2.75em;\n  text-align: center;\n  padding: 1.5em;\n  float: right;\n  overflow-y: scroll; }\ndiv#controls div#log p {\n  color: #686865;\n  font-family: 'Share Tech Mono', 'Courier New', Courier, fixed-width;\n  font-size: 1.25em;\n  line-height: 1.25em;\n  margin-left: 1em;\n  text-indent: -1.25em;\n  width: 90%; }\n.whatsappBlock {\n  text-align: center; }\n.whatsappTo {\n  margin-left: -188px; }\n.whatsappTextArea {\n  width: 300px;\n  height: 200px; }\n.checkbox {\n  margin-left: 30px; }\n.driver {\n  margin-top: 5px; }\n.driverName {\n  margin: 10px 90px 5px 0px; }\n.driverNumber {\n  margin: 10px 87px 5px 0px; }\n.callTable {\n  border-collapse: collapse;\n  width: 100%; }\n.callCell {\n  padding: 5px;\n  border: 1px solid lightgrey;\n  line-height: 40px; }\n.mat-checkbox-inner-container {\n  margin-right: 3px !important; }\n.mat-checkbox {\n  margin-right: 15px !important; }\n"

/***/ }),

/***/ "./src/app/pages/duties/call/call.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CallComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__masters_new_driver_driver_service__ = __webpack_require__("./src/app/pages/masters/new-driver/driver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__masters_new_vehicles_vehicle_service__ = __webpack_require__("./src/app/pages/masters/new-vehicles/vehicle.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__circles_companyprofile_companyprofile_service__ = __webpack_require__("./src/app/pages/circles/companyprofile/companyprofile.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__duties_service__ = __webpack_require__("./src/app/pages/duties/duties.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__call_service__ = __webpack_require__("./src/app/pages/duties/call/call.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__messaging_service__ = __webpack_require__("./src/app/messaging.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__masters_customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};














var CallComponent = (function () {
    function CallComponent(data, http, auth, driverService, dialog, snackBar, vehicleService, uploadService, _sanitizer, companyProfileService, dutyService, callService, msgService, customerService) {
        this.data = data;
        this.http = http;
        this.auth = auth;
        this.driverService = driverService;
        this.dialog = dialog;
        this.snackBar = snackBar;
        this.vehicleService = vehicleService;
        this.uploadService = uploadService;
        this._sanitizer = _sanitizer;
        this.companyProfileService = companyProfileService;
        this.dutyService = dutyService;
        this.callService = callService;
        this.msgService = msgService;
        this.customerService = customerService;
        this.callNumber = 0;
        this.deviceStatus = 'Offline';
        this.addTrackingCustomer = false;
        this.addTrackingPassenger = false;
        this.addTracking = false;
        this.trackingInfo = '';
        this.duty = {};
        this.isDriver = false;
        this.mailPassenger = false;
        this.mailSupplier = false;
        this.user = {};
        this.vehicle = {};
        this.driver = {};
        this.vehicleName = '';
        this.companyProfile = {};
        this.allPassengers = [];
        this.allBookedBy = [];
        this.smsArray = [];
        this.whatsAppArray = [];
        this.bookedByArray = [];
        this.passengerArray = [];
        this.customerArray = [];
        this.logDisplay = [];
        this.logs = [];
        this.driverLogs = [];
        this.driverLogsDisplay = [];
        this.bookByLogCount = 0;
        this.passengerLogCount = 0;
        this.driverLogCount = 0;
        this.customerLogCount = 0;
        this.customLogCount = 0;
        this.message = '';
        this.whatsappMessage = '';
        this.driverMessage = '';
        this.driverMessageTemplate = '';
        this.driverSMSArray = [];
        this.driverWhatsAppArray = [];
        this.customer = {};
        this.customNumber = '';
        this.customEmail = '';
        this.companyLogo = '';
        this.permission = {};
    }
    CallComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        this.msgService.receiveMessage();
        this.callStatus = this.msgService.currentMessage;
        this.callStatus.subscribe(function (payload) {
            if (payload) {
                _this.callNumber = _this.checkNumber(payload);
                if (_this.callNumber != 0) {
                    _this.deviceStatus = 'Online';
                }
            }
        });
    };
    CallComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.screenWidth = window.innerWidth;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.auth.permissions.subscribe(function (data) {
                _this.permission = data[0];
            });
            if (data) {
                _this.callService.checkDevice(_this.user).subscribe();
                _this.driverMessage = _this.duty.cname + ". For: " + _this.duty.passenger + " (" + _this.duty.passengerNo + "). Type: " + _this.duty.dutyType + ". Vehicle: " + _this.duty.vehicle + ". Vehicle Group: " + _this.duty.vehicleGroup + ". Reporting: " + _this.duty.reportingAddress;
                _this.duty = _this.data;
                _this.customerService.getSingleCustomer({ customerId: _this.duty.customerId }).subscribe(function (data) {
                    _this.customer = data[0];
                });
                _this.callService.getAllPassengers({ bookingId: _this.data.bid }).subscribe(function (data) {
                    _this.allPassengers = data;
                });
                _this.callService.getAllBookedBy({ bookingId: _this.data.bid }).subscribe(function (data) {
                    _this.allBookedBy = data;
                });
                _this.callService.getLogs({ dutyId: _this.duty.id, type: 'passenger', ownerId: _this.user.ownerId }).subscribe(function (data) {
                    _this.logDisplay = data;
                });
                _this.callService.getLogs({ dutyId: _this.duty.id, type: 'driver' }).subscribe(function (data) {
                    _this.driverLogsDisplay = data;
                });
                if (_this.duty) {
                    var temp = {
                        ownerId: _this.duty.ownerId,
                        driverId: _this.duty.driverId
                    };
                    if (_this.duty.status == 'Dispatched') {
                        var trackTemp = {
                            dutyId: _this.duty.id,
                            vehicleId: _this.duty.vehicleId,
                            driverId: _this.duty.driverId
                        };
                        _this.dutyService.addTracking(trackTemp).subscribe(function (data) {
                            _this.trackingInfo = 'http://www.yourfleetman.com/#/TrackYourVehicle?vtc=' + data;
                        });
                    }
                    _this.companyProfileService.getCompanyProfile(_this.user).subscribe(function (data) {
                        _this.companyProfile = data[0];
                        console.log(_this.companyProfile.phone);
                        _this.uploadService.getFile(_this.user.companyName, 'profileImages', _this.companyProfile.companyLogo).subscribe(function (data) {
                            _this.companyLogo = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                                + data.text());
                        });
                        var str = "--%0aFrom: " + _this.user.companyName + ".%0aThis is a system generated message. Please do not respond. For any queries contact " + _this.companyProfile.phone;
                        if (_this.businessSettings.UseBookingsIDInSMS == true) {
                            _this.message = "For: " + _this.duty.passenger.replace('+', '%2B') + " (" + _this.duty.passengerNo + ").%0aDriver: " + _this.duty.driver + " (" + _this.driver.mobileNumber + ").%0aType: " + _this.duty.dutyType.replace('&', 'and') + ".%0aVehicle: " + _this.duty.vehicle + ".%0aVehicle Group: " + _this.duty.vehicleGroup + ".%0aReporting: " + _this.duty.reportingAddress + ".%0aYour Booking ID is " + _this.duty.bid;
                            _this.message = _this.message.trim();
                            _this.whatsappMessage = "For: " + _this.duty.passenger.replace('+', '%2B') + " (" + _this.duty.passengerNo + ").%0aDriver: " + _this.duty.driver + " (" + _this.driver.mobileNumber + ").%0aType: " + _this.duty.dutyType.replace('&', 'and') + ".%0aVehicle: " + _this.duty.vehicle + ".%0aVehicle Group: " + _this.duty.vehicleGroup + ".%0aReporting: " + _this.duty.reportingAddress + ".%0aYour Booking ID is " + _this.duty.bid + ".%0a%0a" + str;
                            _this.whatsappMessage = _this.whatsappMessage.trim();
                        }
                        else {
                            _this.message = "For: " + _this.duty.passenger.replace('+', '%2B') + " (" + _this.duty.passengerNo + ").%0aDriver: " + _this.duty.driver + " (" + _this.driver.mobileNumber + ").%0aType: " + _this.duty.dutyType.replace('&', 'and') + ".%0aVehicle: " + _this.duty.vehicle + ".%0aVehicle Group: " + _this.duty.vehicleGroup + ".%0aReporting: " + _this.duty.reportingAddress;
                            _this.message = _this.message.trim();
                            _this.whatsappMessage = "For: " + _this.duty.passenger.replace('+', '%2B') + " (" + _this.duty.passengerNo + ").%0aDriver: " + _this.duty.driver + " (" + _this.driver.mobileNumber + ").%0aType: " + _this.duty.dutyType.replace('&', 'and') + ".%0aVehicle: " + _this.duty.vehicle + ".%0aVehicle Group: " + _this.duty.vehicleGroup + ".%0aReporting: " + _this.duty.reportingAddress + ".%0a%0a" + str;
                            _this.whatsappMessage = _this.whatsappMessage.trim();
                        }
                    });
                    _this.vehicleService.getVehicleNumber(_this.user.ownerId, _this.duty.vehicleId).subscribe(function (data) {
                        console.log(data);
                        if (data.length > 0) {
                            _this.vehicle = data[0];
                            _this.vehicleNumber = data[0].number;
                            _this.uploadService.getFile(_this.user.companyName, 'vehicleList', _this.vehicle.fileName).subscribe(function (data) {
                                if (data)
                                    _this.vehicleImg = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                                        + data.text());
                            });
                        }
                    });
                    _this.driverService.findDriver(temp).subscribe(function (data) {
                        if (data.length > 0) {
                            _this.driver = data[0];
                            _this.isDriver = true;
                            _this.uploadService.getFile(_this.user.companyName, 'driverList', _this.driver.fileName).subscribe(function (data) {
                                if (data)
                                    _this.driverImg = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                                        + data.text());
                            });
                        }
                    });
                }
            }
        });
        this.auth.businessSettings.subscribe(function (data) {
            _this.businessSettings = data;
        });
    };
    CallComponent.prototype.makeAppCall = function (number, type, name) {
        var _this = this;
        var temp = {
            userId: this.user.id,
            number: number,
            ownerId: this.user.ownerId,
            date: __WEBPACK_IMPORTED_MODULE_11_moment__().format("YYYY-MM-DD")
        };
        this.callService.makeCall(temp).subscribe(function (data) {
            console.log(data);
            _this.snackBar.open("Calling " + number + ". Check device", "X", { duration: 5000 });
        });
        this.logs.push({ dutyId: this.duty.id, log: "Call was made to " + name + " (" + type + ") on " + __WEBPACK_IMPORTED_MODULE_11_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + this.user.name, type: 'passenger', ownerId: this.user.ownerId });
    };
    CallComponent.prototype.messageSize = function () {
        this.messageLength = Math.ceil(this.message.length / 160);
        return this.messageLength;
    };
    CallComponent.prototype.drimessageSize = function () {
        this.driverMessageLength = Math.ceil(this.message.length / 160);
        return this.driverMessageLength;
    };
    CallComponent.prototype.closeDialog = function () {
        this.callService.unsubscribe(this.user).subscribe();
        this.dialog.closeAll();
    };
    CallComponent.prototype.sendSMS = function (event, number, type, name) {
        if (event.checked) {
            if (type == 'Booked By') {
                this.logs.push({ dutyId: this.duty.id, log: "SMS was sent to " + name + " (" + type + ") on " + __WEBPACK_IMPORTED_MODULE_11_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + this.user.name, type: 'passenger', ownerId: this.user.ownerId });
                this.bookByLogCount = this.bookByLogCount + 1;
            }
            if (type == 'Passenger') {
                this.logs.push({ dutyId: this.duty.id, log: "SMS was sent to " + name + " (" + type + ") on " + __WEBPACK_IMPORTED_MODULE_11_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + this.user.name, type: 'passenger', ownerId: this.user.ownerId });
                this.passengerLogCount = this.passengerLogCount + 1;
            }
            if (type == 'Customer') {
                this.logs.push({ dutyId: this.duty.id, log: "SMS was sent to " + name + " (" + type + ") on " + __WEBPACK_IMPORTED_MODULE_11_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + this.user.name, type: 'passenger', ownerId: this.user.ownerId });
                this.customerLogCount = this.customerLogCount + 1;
            }
            if (type == 'custom') {
                this.logs.push({ dutyId: this.duty.id, log: "SMS was sent to " + number + " on " + __WEBPACK_IMPORTED_MODULE_11_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + this.user.name, type: 'passenger', ownerId: this.user.ownerId });
                this.customLogCount = this.customLogCount + 1;
            }
            this.smsArray.push(number);
            console.log(this.smsArray);
            console.log(this.logs);
        }
        else {
            if (type != 'custom') {
                for (var i = 0; i < this.logs.length; i++) {
                    if (this.logs[i].log.indexOf("SMS was sent to " + name + " (" + type + ")") != -1) {
                        this.logs.splice(i, 1);
                    }
                }
                this.bookByLogCount = this.bookByLogCount - 1;
            }
            else if (type == 'custom') {
                for (var i = 0; i < this.logs.length; i++) {
                    if (this.logs[i].log.indexOf("SMS was sent to " + number) != -1) {
                        this.logs.splice(i, 1);
                    }
                }
                this.customLogCount = this.customLogCount - 1;
            }
            var i = this.smsArray.findIndex(function (x) { return x === number; });
            this.smsArray.splice(i, 1);
            console.log(this.logs);
        }
    };
    CallComponent.prototype.sendWhatsApp = function (event, number, type, name) {
        if (event.checked) {
            if (type == 'Booked By') {
                this.logs.push({ dutyId: this.duty.id, log: "WhatsApp was sent to " + name + " (" + type + ") on " + __WEBPACK_IMPORTED_MODULE_11_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + this.user.name, type: 'passenger', ownerId: this.user.ownerId });
                this.bookByLogCount = this.bookByLogCount + 1;
            }
            if (type == 'Passenger') {
                this.logs.push({ dutyId: this.duty.id, log: "WhatsApp was sent to " + name + " (" + type + ") on " + __WEBPACK_IMPORTED_MODULE_11_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + this.user.name, type: 'passenger', ownerId: this.user.ownerId });
                this.passengerLogCount = this.passengerLogCount + 1;
            }
            if (type == 'Customer') {
                this.logs.push({ dutyId: this.duty.id, log: "WhatsApp was sent to " + name + " (" + type + ") on " + __WEBPACK_IMPORTED_MODULE_11_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + this.user.name, type: 'passenger', ownerId: this.user.ownerId });
                this.customerLogCount = this.customerLogCount + 1;
            }
            if (type == 'custom') {
                this.logs.push({ dutyId: this.duty.id, log: "WhatsApp was sent to " + number + " on " + __WEBPACK_IMPORTED_MODULE_11_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + this.user.name, type: 'passenger', ownerId: this.user.ownerId });
                this.customLogCount = this.customLogCount + 1;
            }
            this.whatsAppArray.push(number);
            console.log(this.whatsAppArray);
        }
        else {
            if (type != 'custom') {
                for (var i = 0; i < this.logs.length; i++) {
                    if (this.logs[i].log.indexOf("WhatsApp was sent to " + name + " (" + type + ")") != -1) {
                        this.logs.splice(i, 1);
                    }
                }
                this.bookByLogCount = this.bookByLogCount - 1;
            }
            else if (type == 'custom') {
                for (var i = 0; i < this.logs.length; i++) {
                    if (this.logs[i].log.indexOf("WhatsApp was sent to " + number) != -1) {
                        this.logs.splice(i, 1);
                    }
                }
                this.customLogCount = this.customLogCount - 1;
            }
            var i = this.whatsAppArray.findIndex(function (x) { return x === number; });
            this.whatsAppArray.splice(i, 1);
        }
    };
    CallComponent.prototype.sendEmail = function (event, email, type, name) {
        if (event.checked) {
            if (type == 'Booked By') {
                this.logs.push({ dutyId: this.duty.id, log: "Email was sent to " + name + " (" + type + ") on " + __WEBPACK_IMPORTED_MODULE_11_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + this.user.name, type: 'passenger', ownerId: this.user.ownerId });
                this.bookedByArray.push(email);
                this.bookByLogCount = this.bookByLogCount + 1;
            }
            if (type == 'Passenger') {
                this.logs.push({ dutyId: this.duty.id, log: "Email was sent to " + name + " (" + type + ") on " + __WEBPACK_IMPORTED_MODULE_11_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + this.user.name, type: 'passenger', ownerId: this.user.ownerId });
                this.passengerArray.push(email);
                this.passengerLogCount = this.passengerLogCount + 1;
            }
            if (type == 'Customer') {
                this.logs.push({ dutyId: this.duty.id, log: "Email was sent to " + name + " (" + type + ") on " + __WEBPACK_IMPORTED_MODULE_11_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + this.user.name, type: 'passenger', ownerId: this.user.ownerId });
                this.customerArray.push(email);
                this.customerLogCount = this.customerLogCount + 1;
            }
        }
        else {
            if (type == 'Booked By') {
                var i = this.bookedByArray.findIndex(function (x) { return x === email; });
                this.bookedByArray.splice(i, 1);
                this.bookByLogCount = this.bookByLogCount - 1;
            }
            if (type == 'Passenger') {
                var i = this.passengerArray.findIndex(function (x) { return x === email; });
                this.passengerArray.splice(i, 1);
                this.passengerLogCount = this.passengerLogCount - 1;
            }
            if (type == 'Customer') {
                this.customerArray.pop();
                this.customerLogCount = this.customerLogCount + 1;
            }
            for (var i = 0; i < this.logs.length; i++) {
                if (this.logs[i].log.indexOf("Email was sent to " + name + " (" + type + ")") != -1) {
                    this.logs.splice(i, 1);
                }
            }
        }
    };
    CallComponent.prototype.send = function () {
        var _this = this;
        if (this.customEmail != '') {
            if (this.customEmail.match(/\b([a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+\.[a-zA-Z]{2,}$)\b/)) {
                var i = this.passengerArray.findIndex(function (x) { return x === _this.customEmail; });
                this.passengerArray.push(this.customEmail);
                this.logs.push({ dutyId: this.duty.id, log: "Email was sent to " + this.customEmail + " on " + __WEBPACK_IMPORTED_MODULE_11_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + this.user.name, type: 'passenger', ownerId: this.user.ownerId });
            }
            else {
                this.snackBar.open("Please Enter a valid email address", "X", { duration: 3000 });
            }
        }
        if (this.customNumber != '') {
            if (this.customNumber.match(/\b([789]\d{9}$)\b/)) {
                var j = this.whatsAppArray.findIndex(function (x) { return x === _this.customNumber; });
                // this.smsArray.splice(i,1);
                // this.whatsAppArray.splice(j,1);
            }
            else {
                this.snackBar.open("Please Enter a valid phone number", "X", { duration: 3000 });
            }
        }
        if (this.smsArray.length > 0) {
            console.log(this.smsArray);
            this.callService.sendSMS({ number: this.smsArray, message: this.message }).subscribe(function (data) {
                console.log(data);
            }, function (err) { }, function () {
                var i = _this.smsArray.findIndex(function (x) { return x === _this.customNumber; });
                _this.smsArray.splice(i, 1);
                _this.customNumber = '';
                _this.snackBar.open("SMS Sent", "X", { duration: 3000 });
            });
        }
        if (this.whatsAppArray.length > 0) {
            this.callService.sendWhatsApp({ number: this.whatsAppArray, message: this.whatsappMessage }).subscribe(function (data) { }, function (err) { }, function () {
                var i = _this.whatsAppArray.findIndex(function (x) { return x === _this.customNumber; });
                _this.whatsAppArray.splice(i, 1);
                _this.customNumber = '';
                _this.snackBar.open("Whatsapp Sent", "X", { duration: 3000 });
            });
        }
        if (this.bookedByArray.length > 0) {
            if (this.businessSettings.CCAllAllotmentEmails) {
                var temp = {
                    companyEmail: this.companyProfile.email,
                    name: this.companyProfile.name,
                    email: this.bookedByArray,
                    cc: this.businessSettings.AutoCCEmail,
                    date: this.duty.startDate,
                    subject: 'Duty details for ' + this.allPassengers[0].passenger + ' on ' + __WEBPACK_IMPORTED_MODULE_11_moment__(this.duty.startDate).format("DD-MM-YYYY"),
                    mailBody: this.dutySupplieremplate.nativeElement.innerHTML,
                    vehicle: this.duty.vehicle,
                };
            }
            else {
                var temp = {
                    companyEmail: this.companyProfile.email,
                    name: this.companyProfile.name,
                    email: this.bookedByArray,
                    cc: '',
                    date: this.duty.startDate,
                    subject: 'Duty details for ' + this.allPassengers[0].passenger + ' on ' + __WEBPACK_IMPORTED_MODULE_11_moment__(this.duty.startDate).format("DD-MM-YYYY"),
                    mailBody: this.dutySupplieremplate.nativeElement.innerHTML,
                    vehicle: this.duty.vehicle,
                };
            }
            this.http.post('/Voip/sendMail', temp).map(function (res) { return res.json(); }).subscribe(function (data) {
                console.log(data);
            }, function (err) { }, function () {
                _this.snackBar.open("Email Sent", "X", { duration: 3000 });
            });
        }
        if (this.passengerArray.length > 0) {
            if (this.businessSettings.CCAllAllotmentEmails) {
                var temp = {
                    companyEmail: this.companyProfile.email,
                    name: this.companyProfile.name,
                    email: this.passengerArray,
                    cc: this.businessSettings.AutoCCEmail,
                    date: this.duty.startDate,
                    subject: 'Duty details for ' + __WEBPACK_IMPORTED_MODULE_11_moment__(this.duty.startDate).format("DD-MM-YYYY"),
                    mailBody: this.dutyPassengerTemplate.nativeElement.innerHTML,
                    vehicle: this.duty.vehicle,
                };
            }
            else {
                var temp = {
                    companyEmail: this.companyProfile.email,
                    name: this.companyProfile.name,
                    email: this.passengerArray,
                    cc: '',
                    date: this.duty.startDate,
                    subject: 'Duty details for ' + __WEBPACK_IMPORTED_MODULE_11_moment__(this.duty.startDate).format("DD-MM-YYYY"),
                    mailBody: this.dutyPassengerTemplate.nativeElement.innerHTML,
                    vehicle: this.duty.vehicle,
                };
            }
            this.http.post('/Voip/sendMail', temp).map(function (res) { return res.json(); }).subscribe(function (data) {
                console.log(data);
            }, function (err) { }, function () {
                _this.snackBar.open("Email Sent", "X", { duration: 3000 });
            });
        }
        if (this.customerArray.length > 0) {
            if (this.businessSettings.CCAllAllotmentEmails) {
                var temp = {
                    companyEmail: this.companyProfile.email,
                    name: this.companyProfile.name,
                    email: this.customerArray,
                    cc: this.businessSettings.AutoCCEmail,
                    date: this.duty.startDate,
                    subject: 'Duty details for ' + this.allPassengers[0].passenger + ' on ' + __WEBPACK_IMPORTED_MODULE_11_moment__(this.duty.startDate).format("DD-MM-YYYY"),
                    mailBody: this.dutySupplieremplate.nativeElement.innerHTML,
                    vehicle: this.duty.vehicle,
                };
            }
            else {
                var temp = {
                    companyEmail: this.companyProfile.email,
                    name: this.companyProfile.name,
                    email: this.customerArray,
                    cc: '',
                    date: this.duty.startDate,
                    subject: 'Duty details for ' + this.allPassengers[0].passenger + ' on ' + __WEBPACK_IMPORTED_MODULE_11_moment__(this.duty.startDate).format("DD-MM-YYYY"),
                    mailBody: this.dutySupplieremplate.nativeElement.innerHTML,
                    vehicle: this.duty.vehicle,
                };
            }
            this.http.post('/Voip/sendMail', temp).map(function (res) { return res.json(); }).subscribe(function (data) {
                console.log(data);
            }, function (err) { }, function () {
                _this.snackBar.open("Email Sent", "X", { duration: 3000 });
            });
        }
        var count = {
            sms: this.smsArray.length,
            whatsApp: this.whatsAppArray.length,
            email: this.bookedByArray.length + this.passengerArray.length + this.customerArray.length,
            date: __WEBPACK_IMPORTED_MODULE_11_moment__().format("YYYY-MM-DD"),
            ownerId: this.user.ownerId
        };
        this.callService.insertCount(count).subscribe(function (data) {
            console.log(data);
        });
        this.insertLog();
    };
    CallComponent.prototype.sendDriverSMS = function (event, number, name) {
        if (event.checked) {
            this.logs.push({ dutyId: this.duty.id, log: "SMS was sent to " + name + " (Driver) on " + __WEBPACK_IMPORTED_MODULE_11_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + this.user.name, type: 'passenger', ownerId: this.user.ownerId });
            this.driverSMSArray.push(number);
            this.driverLogCount = this.driverLogCount + 1;
        }
        else {
            for (var i = 0; i < this.logs.length; i++) {
                if (this.logs[i].log.indexOf("SMS was sent to " + name + " (Driver)") != -1) {
                    this.logs.splice(i, 1);
                }
            }
            this.driverSMSArray.pop();
            this.driverLogCount = this.driverLogCount - 1;
        }
    };
    CallComponent.prototype.sendDriverWhatsApp = function (event, number, name) {
        if (event.checked) {
            this.logs.push({ dutyId: this.duty.id, log: "WhatsApp was sent to " + name + " (Driver) on " + __WEBPACK_IMPORTED_MODULE_11_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + this.user.name, type: 'passenger', ownerId: this.user.ownerId });
            this.driverWhatsAppArray.push(number);
            this.driverLogCount = this.driverLogCount + 1;
        }
        else {
            for (var i = 0; i < this.logs.length; i++) {
                if (this.logs[i].log.indexOf("WhatsApp was sent to " + name + " (Driver)") != -1) {
                    this.logs.splice(i, 1);
                }
            }
            this.driverWhatsAppArray.pop();
            this.driverLogCount = this.driverLogCount - 1;
        }
    };
    CallComponent.prototype.sendDriver = function () {
        if (this.driverSMSArray.length > 0) {
            this.callService.sendSMS({ number: this.driverSMSArray, message: this.message }).subscribe();
        }
        if (this.driverWhatsAppArray.length > 0) {
            this.callService.sendWhatsApp({ number: this.driverWhatsAppArray, message: this.whatsappMessage }).subscribe();
        }
        var count = {
            sms: this.driverSMSArray.length,
            whatsApp: this.driverWhatsAppArray.length,
            email: 0,
            date: __WEBPACK_IMPORTED_MODULE_11_moment__().format("YYYY-MM-DD"),
            ownerId: this.user.ownerId
        };
        this.callService.insertCount(count).subscribe(function (data) {
            console.log(data);
        });
        this.insertLog();
    };
    CallComponent.prototype.insertLog = function () {
        var _this = this;
        this.logs.forEach(function (element) {
            _this.callService.insertLogs(element).subscribe(function (data) {
                console.log(data);
            });
        });
    };
    CallComponent.prototype.checkNumber = function (data) {
        try {
            var notify = JSON.parse(data.notification.body);
            return notify.number;
        }
        catch (e) {
            return 0;
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('dutyPassengerTemplate'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], CallComponent.prototype, "dutyPassengerTemplate", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('dutySupplierTemplate'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], CallComponent.prototype, "dutySupplieremplate", void 0);
    CallComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'call',
            template: __webpack_require__("./src/app/pages/duties/call/call.component.html"),
            styles: [__webpack_require__("./src/app/pages/duties/call/call.component.scss")]
        }),
        __param(0, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [Object, __WEBPACK_IMPORTED_MODULE_2__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_4__masters_new_driver_driver_service__["a" /* DriverService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_5__masters_new_vehicles_vehicle_service__["a" /* VehicleService */],
            __WEBPACK_IMPORTED_MODULE_6__fileupload_service__["a" /* FileuploadService */],
            __WEBPACK_IMPORTED_MODULE_7__angular_platform_browser__["DomSanitizer"],
            __WEBPACK_IMPORTED_MODULE_8__circles_companyprofile_companyprofile_service__["a" /* CompanyprofileService */],
            __WEBPACK_IMPORTED_MODULE_9__duties_service__["a" /* DutiesService */],
            __WEBPACK_IMPORTED_MODULE_10__call_service__["a" /* CallService */],
            __WEBPACK_IMPORTED_MODULE_12__messaging_service__["a" /* MessagingService */],
            __WEBPACK_IMPORTED_MODULE_13__masters_customer_customer_service__["a" /* CustomerService */]])
    ], CallComponent);
    return CallComponent;
}());

/* Booking SMS

  Booking confirmation for {{booking.passenger}} ({{booking.passengerNo}})
  Type: {{booking.dutyType}}
  Vehicle Group: {{booking.vehicleGroup}}
  From: {{booking.startDate}} To: {{booking.endDate}}
  Time: {{duty.reportingTime}}
  Reporting Address: {{duty.reportingAddress}}

*/
/* Driver SMS

  {{duty.cname}}
  For: {{duty.passenger}} ({{duty.passengerNo}})
  Type: {{duty.dutyType}}
  Vehicle: {{duty.vehicle}}
  Vehicle Group: {{duty.vehicleGroup}}
  Reporting: {{duty.reportingAddress}}

*/
/* Others SMS

  For: {{duty.passenger}} ({{duty.passengerNo}})
  Driver: {{duty.driver}} ({{driver.mobileNumber}})
  Type: {{duty.dutyType}}
  Vehicle: {{duty.vehicle}}
  Vehicle Group: {{duty.vehicleGroup}}
  Reporting: {{duty.reportingAddress}}

*/ 


/***/ }),

/***/ "./src/app/pages/duties/call/call.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CallService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var CallService = (function () {
    function CallService(http) {
        this.http = http;
    }
    CallService.prototype.sendSMS = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/Voip/sendSMS', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CallService.prototype.sendWhatsApp = function (temp) {
        console.log(temp);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/Voip/sendWhatsApp', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CallService.prototype.getAllPassengers = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/Voip/getAllPassengers', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CallService.prototype.getAllBookedBy = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/Voip/getAllBookedBy', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CallService.prototype.insertLogs = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/Voip/insertContactLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CallService.prototype.insertBookingCount = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/Voip/insertBookingCount', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CallService.prototype.insertHotelBookingLogs = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/Voip/insertHotelBookingContactLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CallService.prototype.insertBookingLogs = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/Voip/insertBookingContactLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CallService.prototype.insertFlightBookingLogs = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/Voip/insertFlightBookingContactLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CallService.prototype.insertVisaLogs = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/Voip/insertVisaContactLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CallService.prototype.getLogs = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/Voip/getContactLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CallService.prototype.getHotelBookingLogs = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/Voip/getHotelBookingContactLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CallService.prototype.getBookingLogs = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/Voip/getBookingContactLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CallService.prototype.getFlightBookingLogs = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/Voip/getFlightBookingContactLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CallService.prototype.getVisaLogs = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/Voip/getVisaContactLogs', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CallService.prototype.insertCount = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/Voip/insertContactCount', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CallService.prototype.getSMSCount = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/Voip/getSMSCount', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CallService.prototype.getWhatsAppCount = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/Voip/getWhatsAppCount', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CallService.prototype.getCallCount = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/Voip/getCallCount', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CallService.prototype.getBookingCount = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/Voip/getBookingCount', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CallService.prototype.checkDevice = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/Voip/checkDevice', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CallService.prototype.makeCall = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/Voip/makeAppCall', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CallService.prototype.unsubscribe = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/Voip/unsubscribeTopic', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CallService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], CallService);
    return CallService;
}());



/***/ }),

/***/ "./src/app/pages/duties/close-supplier-duty/close-supplier-duty.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        Close Duty\n      </nb-card-header>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-6\">\n    <nb-card>\n      <nb-card-body>\n        <table cellpadding=\"4\">\n          <tr>\n            <td>\n              <b>Customer Name:</b>\n            </td>\n            <td>{{details.cname}}</td>\n            <td>\n              <b>Passenger:</b>\n            </td>\n            <td>{{details.passenger}}</td>\n          </tr>\n          <tr>\n            <td>\n              <b>Vehicle:</b>\n            </td>\n            <td>{{details.vehicle}}</td>\n            <td>\n              <b>Price:</b>\n            </td>\n            <td>{{details.price}}</td>\n          </tr>\n          <tr>\n            <td>\n              <b>Driver:</b>\n            </td>\n            <td>{{details.driver}}</td>\n          </tr>\n          <br>\n        </table>\n        <mat-divider></mat-divider>\n        <table>\n          <tr>\n            <td>\n              <b>Duty Type:</b>\n            </td>\n            <td>\n              <mat-form-field>\n                <input type=\"text\" placeholder=\"Pick one\" matInput [ngModel]=\"details.dutyType\" [matAutocomplete]=\"auto\">\n                <mat-autocomplete #auto=\"matAutocomplete\">\n                  <mat-option *ngFor=\"let items of dutyType\" [value]=\"items.name\">\n                    {{items.name}}\n                  </mat-option>\n                </mat-autocomplete>\n              </mat-form-field>\n            </td>  \n          </tr>\n          <tr>\n            <td>\n             <b>Per Extra KM Rate:</b>\n            </td>\n            <td>\n              <b>Extra HR Rate:</b>\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <mat-form-field>\n                <input matInput [(ngModel)]=\"closeDuty.extraHrRate\">\n              </mat-form-field>\n            </td>\n            <td>\n              <mat-form-field>\n                <input matInput [(ngModel)]=\"closeDuty.extraKmRate\">\n              </mat-form-field>\n            </td>\n          </tr>\n          <tr>\n            <td><b>Price:</b></td>\n          </tr>\n          <tr>\n            <td>\n              <mat-form-field>\n                <input matInput [(ngModel)]=\"closeDuty.finalPrice\">\n              </mat-form-field>\n            </td>\n            <td>\n              <button mat-raised-button color=\"primary\" (click)=\"calculatePrice()\">\n                Get Price\n              </button>\n            </td>\n          </tr>\n        </table>\n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"col-lg-6\">\n    <nb-card>\n      <nb-card-body>\n        <table>\n          <tr>\n            <td><b>Duty Start Date:</b></td>\n            <td><b>Duty Start Time:</b></td>\n          </tr>\n          <tr>\n            <td>\n              <mat-form-field>\n                <input name=\"startDate\" [(ngModel)]=\"details.startDate\" matInput [matDatepicker]=\"startDate\" [disabled]>\n                <mat-datepicker-toggle matSuffix [for]=\"startDate\"></mat-datepicker-toggle>\n                <mat-datepicker #startDate></mat-datepicker>\n              </mat-form-field>\n            </td>\n            <td>\n              <mat-form-field>\n                <input type=\"time\" [(ngModel)]=\"closeDuty.startTime\" matInput>\n              </mat-form-field>\n            </td>\n          </tr>\n          <tr>\n            <td><b>Duty End Date:</b></td>\n            <td><b>Duty End Time:</b></td>\n          </tr> \n          <tr>\n            <td>\n              <mat-form-field>\n                <input name=\"endDate\" [(ngModel)]=\"closeDuty.endDate\" matInput [matDatepicker]=\"endDate\" (click)=\"endDate.open()\" readonly>\n                <mat-datepicker-toggle matSuffix [for]=\"endDate\"></mat-datepicker-toggle>\n                <mat-datepicker #endDate></mat-datepicker>\n              </mat-form-field>\n            </td>\n            <td>\n              <mat-form-field>\n                <input matInput type=\"time\" [(ngModel)]=\"closeDuty.endTime\">\n              </mat-form-field>\n            </td>\n          </tr>\n          <tr>\n            <td><b>Start KM:</b></td>\n            <td><b>End KM:</b></td>\n          </tr>\n          <tr>\n            <td>\n              <mat-form-field>\n                <input matInput [(ngModel)]=\"closeDuty.startKm\">\n              </mat-form-field>\n            </td>\n            <td>\n              <mat-form-field>\n                <input matInput [(ngModel)]=\"closeDuty.endKm\">\n              </mat-form-field>\n            </td>\n          </tr>\n          <tr>\n            <td colspan=\"2\">\n              <b>Driver Allowance:</b>\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <mat-form-field>\n                <input matInput [(ngModel)]=\"driverAllowanceAmount\" readonly>\n              </mat-form-field>              \n            </td>\n          </tr>\n        </table>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-body>\n        <form [formGroup]=\"myForm\">\n          <div formArrayName=\"rows\">\n            <table style=\"width:100%\">\n              <tr>\n                <th align=\"center\">Sr. </th>\n                <th align=\"center\">Items</th>\n                <th align=\"center\">Amount</th>\n                <th align=\"center\">Image</th>\n                <th>X</th>\n              </tr>\n              <tr *ngFor=\"let aRow of invoiceForms.controls; let i=index\" [formGroupName]=\"i\">                    \n                <td>{{i+1}}</td>\n                <td>\n                  <mat-form-field>\n                    <input matInput formControlName=\"name\">\n                  </mat-form-field>\n                </td>\n                <td>\n                  <mat-form-field>\n                    <input matInput formControlName=\"charges\">\n                  </mat-form-field>\n                </td>\n                <td>\n                  <button (click)=\"closeDutyImages.click()\" mat-icon-button color=\"primary\" matTooltip=\"Upload\"><mat-icon>cloud_upload</mat-icon></button>\n                  <input hidden type=\"file\" accept=\"images/*\" formControlName=\"fileName\" #closeDutyImages (change)=\"imageSelect($event,aRow,i)\">\n                  <img alt=\"\" *ngIf=\"imgUrl[i]!=null\" style=\"padding-left:10px;\" [src]=\"imgUrl[i]\" height=\"100px\" width=\"100px\" />\n                </td>\n                <td>\n                  <button mat-icon-button color=\"primary\" (click)=\"deleteRow(i)\"><mat-icon>clear</mat-icon></button>\n                </td>\n              </tr>\n            </table>  \n            <button mat-raised-button color=\"primary\" style=\"margin-top:15px;\" (click)=\"addRow()\">Add Row</button>\n          </div>\n        </form>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-body>\n        <tr><b>Remarks:</b></tr>\n        <td>\n          <mat-form-field>\n            <input matInput>\n          </mat-form-field>\n        </td>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12 col-12\">\n    <button mat-raised-button color=\"primary\" (click)=\"close()\">Close Duty</button>\n    <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/duties/close-supplier-duty/close-supplier-duty.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/duties/close-supplier-duty/close-supplier-duty.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CloseSupplierDutyComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__masters_dutytype_duty_type_service__ = __webpack_require__("./src/app/pages/masters/dutytype/duty-type.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__duties_service__ = __webpack_require__("./src/app/pages/duties/duties.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__masters_pricing_pricing_service__ = __webpack_require__("./src/app/pages/masters/pricing/pricing.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__circles_businesssetting_businesssetting_service__ = __webpack_require__("./src/app/pages/circles/businesssetting/businesssetting.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__masters_new_driver_driver_service__ = __webpack_require__("./src/app/pages/masters/new-driver/driver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};











var CloseSupplierDutyComponent = (function () {
    function CloseSupplierDutyComponent(dialog, fb, data, dutyTypeService, dutiesService, pricingService, snackbar, auth, businessSettingService, driverService, uploadService) {
        this.dialog = dialog;
        this.fb = fb;
        this.data = data;
        this.dutyTypeService = dutyTypeService;
        this.dutiesService = dutiesService;
        this.pricingService = pricingService;
        this.snackbar = snackbar;
        this.auth = auth;
        this.businessSettingService = businessSettingService;
        this.driverService = driverService;
        this.uploadService = uploadService;
        this.user = {};
        this.closeDuty = {
            startDate: '',
            endDate: '',
            startTime: '',
            endTime: '',
            startKm: '',
            endKm: '',
            extraHrRate: '',
            extraKmRate: '',
            finalPrice: '',
            ownerId: '',
            dutyId: ''
        };
        this.dutyId = {
            id: null
        };
        this.businessSettings = {};
        this.driverAllowanceAmount = 0;
        this.temp = {
            city: '',
            vehicleGroupId: '',
            customerId: '',
            dutyTypeId: ''
        };
        this.price = {
            baseRate: 0,
            extraKm: 0,
            extraHrs: 0,
        };
        this.imgUrl = [];
        this.details = data.row;
        this.startDate = __WEBPACK_IMPORTED_MODULE_7_moment__(this.details.startDate).day();
        console.log(this.details);
        this.closeDuty.startTime = __WEBPACK_IMPORTED_MODULE_7_moment__(this.details.reportingTime, "HH:mm a").format("HH:mm");
        this.closeDuty.startDate = this.details.startDate;
    }
    CloseSupplierDutyComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.dutyTypeService.getDutyType(_this.user).subscribe(function (data) {
                _this.dutyType = data;
            });
            _this.auth.businessSettings.subscribe(function (data) {
                _this.businessSettings = data;
                var temp = {
                    ownerId: _this.user.ownerId,
                    businessSettingsId: _this.businessSettings.id
                };
                _this.businessSettingService.getChargedDriverAllowances(temp).subscribe(function (data) {
                    _this.driverAllowanceType = data;
                });
            });
        });
        this.driverService.findDriver(this.details).subscribe(function (data) {
            console.log(data);
            _this.drivers = data[0];
        });
        this.myForm = this.fb.group({
            rows: this.fb.array([])
        });
        this.getCustomerId().subscribe(function (data) {
            _this.temp.customerId = data[0].id;
            _this.temp.city = _this.details.fromLoc;
            _this.temp.dutyTypeId = _this.details.dutyTypeId;
            _this.temp.vehicleGroupId = _this.details.vehicleGroupId;
            _this.getPrice();
        });
    };
    CloseSupplierDutyComponent.prototype.getCustomerId = function () {
        var customer = {
            name: this.details.cname
        };
        return this.dutiesService.getCustomer(customer);
    };
    CloseSupplierDutyComponent.prototype.getDetails = function () {
        var sDate = this.closeDuty.startDate;
        var eDate = this.closeDuty.endDate;
        var stime = "T" + this.closeDuty.startTime + ":00Z";
        var etime = "T" + this.closeDuty.endTime + ":00Z";
        var startDate = new Date(sDate + stime);
        var endDate = new Date(eDate + etime);
        this.totalHours = (__WEBPACK_IMPORTED_MODULE_7_moment__(endDate).diff(startDate, 'hours'));
        this.totalDays = (__WEBPACK_IMPORTED_MODULE_7_moment__(endDate).diff(startDate, 'days'));
    };
    CloseSupplierDutyComponent.prototype.calculatePrice = function () {
        var _this = this;
        console.log(this.closeDuty.startKm);
        if (this.closeDuty.endDate == '' || this.closeDuty.startTime == '' || this.closeDuty.endTime == '' || this.closeDuty.startKm == '' || this.closeDuty.endKm == '') {
            this.snackbar.open("Required fields are empty", "", { duration: 2000 });
        }
        else {
            this.getDetails();
            var DutyType;
            this.getDutyType().subscribe(function (data) {
                console.log(data);
                DutyType = data;
                _this.fillPrices(DutyType[0]);
            });
            this.getPrice();
            this.addExtraCharges();
        }
    };
    CloseSupplierDutyComponent.prototype.addExtraCharges = function () {
        this.myForm.value.forEach(function (element) {
            console.log(element);
        });
    };
    CloseSupplierDutyComponent.prototype.fillPrices = function (temp) {
        if (temp.dType === "Flat Rate") {
            this.closeDuty.finalPrice = this.price.baseRate;
        }
        else if (temp.dType === "HR-KM(Local)") {
            var maxKm = temp.maxKms;
            var endKm = this.closeDuty.endKm - this.closeDuty.startKm;
            var maxHrs = temp.maxHrs;
            this.closeDuty.finalPrice = this.price.baseRate;
            if (endKm > maxKm) {
                this.closeDuty.finalPrice += ((endKm - maxKm) * this.price.extraKm);
            }
            if (this.totalHours > maxHrs) {
                this.closeDuty.finalPrice += ((this.totalHours - maxHrs) * this.price.extraHrs);
            }
        }
        else if (temp.dType === "Day-KM(Outstation)") {
            var maxKm = temp.maxKms;
            var endKm = this.closeDuty.endKm - this.closeDuty.startKm;
            if (endKm > maxKm) {
                this.closeDuty.finalPrice = this.price.baseRate + ((endKm - maxKm) * this.price.extraKm);
            }
            else {
                this.closeDuty.finalPrice = this.price.baseRate;
            }
            console.log(this.closeDuty.finalPrice);
        }
        else if (temp.dType === "Long Duration - Total Km & HR (Monthly Bookings)") {
            var maxDays = temp.maxDays;
            var maxHrs = temp.maxHrs;
            var maxKm = temp.maxKms;
            var endKm = this.closeDuty.endKm - this.closeDuty.startKm;
            if (endKm > maxKm || this.totalDays > maxDays || this.totalHours > maxHrs) {
                this.closeDuty.finalPrice = this.price.baseRate + ((endKm - maxKm) * this.price.extraKm) + ((this.totalHours - maxHrs) * this.price.extraHrs) + ((this.totalDays - maxDays) * 24 * this.price.extraHrs);
            }
            else {
                this.closeDuty.finalPrice = this.price.baseRate;
            }
        }
        else if (temp.dType === " Long Duration-Total KM Daily HR(Monthly Bookings) ") {
        }
    };
    CloseSupplierDutyComponent.prototype.close = function () {
        var _this = this;
        if (this.closeDuty.finalPrice === '') {
            this.snackbar.open("Please enter price", "X", { duration: 4000 });
        }
        else if (this.closeDuty.endDate === '') {
            this.snackbar.open("Please enter end date", "X", { duration: 4000 });
        }
        else if (this.closeDuty.startTime === '') {
            this.snackbar.open("Please enter start time", "X", { duration: 4000 });
        }
        else if (this.closeDuty.endTime === '') {
            this.snackbar.open("Please enter end time", "X", { duration: 4000 });
        }
        else if (this.closeDuty.startKm === '') {
            this.snackbar.open("Please enter start KM", "X", { duration: 4000 });
        }
        else if (this.closeDuty.endKm === '') {
            this.snackbar.open("Please enter end KM", "X", { duration: 4000 });
        }
        else {
            var i = 0;
            this.closeDuty.endDate = __WEBPACK_IMPORTED_MODULE_7_moment__(this.closeDuty.endDate).format("YYYY-MM-DD");
            this.details.endDate = __WEBPACK_IMPORTED_MODULE_7_moment__(this.closeDuty.endDate).format("YYYY-MM-DD");
            this.details.status = "Completed";
            this.details.price = this.closeDuty.finalPrice;
            this.dutiesService.updateDutiesClose(this.details);
            this.closeDuty.dutyId = this.details.id;
            this.closeDuty.ownerId = this.user.ownerId;
            this.closeDuty.bookyId = this.details.bid;
            this.dutiesService.closeduties(this.closeDuty).subscribe(function (data) {
                if (_this.details.ownerDId != null) {
                    _this.closeDuty.dutyId = _this.details.ownerDId;
                    _this.closeDuty.ownerId = _this.user.ownerId;
                    _this.dutiesService.closeduties(_this.closeDuty).subscribe(function () {
                    });
                }
                _this.invoiceForms.value.forEach(function (element) {
                    element.ownerId = _this.user.ownerId;
                    element.dutyId = _this.details.id;
                    var imageName = element.imageName + element.name + ".jpg";
                    // console.log(this.user.ownerId)
                    var tempArr = {
                        ownerId: _this.user.ownerId,
                        dutyId: _this.details.id,
                        name: element.name,
                        charges: element.charges,
                        fileName: element.imageName + element.name + ".jpg"
                    };
                    _this.dutiesService.closedutiesExtras(tempArr).subscribe(function (data) { });
                    if (_this.imgUrl[i] != null)
                        _this.upload(imageName, _this.imgUrl[i]);
                    i = i + 1;
                });
                _this.closeBooking();
            });
            this.dialog.close("yes");
        }
    };
    CloseSupplierDutyComponent.prototype.closeBooking = function () {
        var _this = this;
        this.dutiesService.checkIfBookingComplete('bid', this.details.bid).subscribe(function (data) {
            var temp = true;
            data.forEach(function (element) {
                if (element.cnt > 0) {
                    console.log("inside");
                    temp = false;
                }
            });
            if (temp == true) {
                console.log("outside");
                _this.dutiesService.completeBooking(_this.details.bid).subscribe(function () {
                    _this.dutiesService.updateTotalPrice(_this.details.bid);
                });
                ;
            }
        });
        if (this.details.supplierBId != null) {
            this.dutiesService.completeBooking(this.details.supplierBId).subscribe(function () {
            });
        }
    };
    CloseSupplierDutyComponent.prototype.getPrice = function () {
        var _this = this;
        console.log(this.temp);
        this.pricingService.getCustomerPrice(this.temp).subscribe(function (data) {
            if (data[0]) {
                console.log(data[0]);
                _this.price.baseRate = data[0].baseRate;
                _this.price.extraHrs = data[0].extraHrs;
                _this.price.extraKm = data[0].extraKm;
                _this.closeDuty.extraHrRate = data[0].extraHrs;
                _this.closeDuty.extraKmRate = data[0].extraKm;
            }
            else {
                _this.snackbar.open("Prices not entered", "", { duration: 2000 });
            }
        });
    };
    Object.defineProperty(CloseSupplierDutyComponent.prototype, "invoiceForms", {
        get: function () {
            return this.myForm.get('rows');
        },
        enumerable: true,
        configurable: true
    });
    CloseSupplierDutyComponent.prototype.getDutyType = function () {
        var temp = {
            id: this.details.dutyTypeId
        };
        return this.dutiesService.getDutyType(temp);
    };
    /////////////////////Extras/////////////////////////////////
    CloseSupplierDutyComponent.prototype.addRow = function () {
        var row = this.fb.group({
            name: '',
            charges: '',
            fileName: '',
            imageName: ''
        });
        this.invoiceForms.push(row);
        this.invoiceForms.controls.forEach(function (element) {
            console.log(element);
        });
    };
    CloseSupplierDutyComponent.prototype.deleteRow = function (i) {
        this.invoiceForms.removeAt(i);
        this.imgUrl.splice(i, 1);
    };
    CloseSupplierDutyComponent.prototype.imageSelect = function (event, row, i) {
        var _this = this;
        console.log("hi");
        this.selectedFiles = event.target.files;
        var file = event.target.files[0];
        var reader = new FileReader();
        reader.onload = function (e) { return _this.imgUrl[i] = reader.result; };
        row.get('imageName').setValue(this.details.id + '_' + i + '_');
        reader.readAsDataURL(file);
    };
    CloseSupplierDutyComponent.prototype.upload = function (filename, imgUrl) {
        this.uploadService.uploadfile(this.user.companyName, 'closeDutyExtras', filename, imgUrl);
    };
    CloseSupplierDutyComponent.prototype.closeDialog = function () {
        this.dialog.close("no");
    };
    CloseSupplierDutyComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'close-supplier-duty',
            template: __webpack_require__("./src/app/pages/duties/close-supplier-duty/close-supplier-duty.component.html"),
            styles: [__webpack_require__("./src/app/pages/duties/close-supplier-duty/close-supplier-duty.component.scss")]
        }),
        __param(2, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_2__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_material__["p" /* MatDialogRef */],
            __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */], Object, __WEBPACK_IMPORTED_MODULE_3__masters_dutytype_duty_type_service__["a" /* DutyTypeService */],
            __WEBPACK_IMPORTED_MODULE_4__duties_service__["a" /* DutiesService */],
            __WEBPACK_IMPORTED_MODULE_5__masters_pricing_pricing_service__["a" /* PricingService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_6__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_8__circles_businesssetting_businesssetting_service__["a" /* BusinesssettingService */],
            __WEBPACK_IMPORTED_MODULE_9__masters_new_driver_driver_service__["a" /* DriverService */],
            __WEBPACK_IMPORTED_MODULE_10__fileupload_service__["a" /* FileuploadService */]])
    ], CloseSupplierDutyComponent);
    return CloseSupplierDutyComponent;
}());



/***/ }),

/***/ "./src/app/pages/duties/closeduty/closeduty.component.html":
/***/ (function(module, exports) {

module.exports = "<mat-tab-group mat-stretch-tabs class=\"example-stretched-tabs mat-elevation-z4\">\n  <mat-tab label=\"Close Duty\">\n    <div class=\"row\">\n      <div class=\"col-lg-12\">\n        <nb-card>\n          <nb-card-body>\n            <div class=\"row\">\n              <div class=\"col-lg-6\">\n                <table cellpadding=\"4\">\n                  <tr>\n                    <td>\n                      <b>Customer Name:</b>\n                    </td>\n                    <td>\n                      {{details.cname}}\n                    </td>\n                    <td>\n                      <b>Passenger:</b>\n                    </td>\n                    <td>\n                      {{details.passenger}}\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <b>Vehicle:</b>\n                    </td>\n                    <td>\n                      {{details.vehicle}}\n                    </td>\n                    <td>\n                      <b>Price:</b>\n                    </td>\n                    <td>\n                      {{details.price}}\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <b>Driver:</b>\n                    </td>\n                    <td>\n                      {{details.driver}}\n                    </td>\n                  </tr>\n                  <br>\n                </table>\n                <mat-divider></mat-divider>\n                <table>\n                  <tr>\n                    <td>\n                      <b>Duty Type:</b>\n                    </td>\n                    <td>\n                      <mat-form-field>\n                        <input type=\"text\" placeholder=\"Pick one\" matInput [ngModel]=\"details.dutyType\" [matAutocomplete]=\"auto\">\n                          <mat-autocomplete #auto=\"matAutocomplete\">\n                            <mat-option *ngFor=\"let items of dutyType\" [value]=\"items.name\">\n                              {{items.name}}\n                            </mat-option>\n                        </mat-autocomplete>\n                      </mat-form-field>\n                    </td>  \n                  </tr>\n                  <tr>\n                    <td>\n                      <b>Per Extra KM Rate:</b>\n                    </td>\n                    <td>\n                      <b>Extra HR Rate:</b>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <mat-form-field>\n                        <input matInput [(ngModel)]=\"closeDuty.extraKmRate\">\n                      </mat-form-field>\n                    </td>\n                    <td>\n                      <mat-form-field>\n                        <input matInput [(ngModel)]=\"closeDuty.extraHrRate\">                \n                      </mat-form-field>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td><b>Price:</b></td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <mat-form-field>\n                        <input matInput [(ngModel)]=\"closeDuty.finalPrice\">\n                      </mat-form-field>\n                    </td>\n                    <td>\n                      <button mat-raised-button color=\"primary\" (click)=\"calculatePrice()\">\n                        Get Price\n                      </button>\n                    </td>\n                  </tr>\n                </table>    \n              </div>\n              <div class=\"col-lg-6\">\n                <table>\n                  <tr>\n                    <td><b>Duty Start Date:</b></td>\n                    <td><b>Duty Start Time:</b></td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <mat-form-field>\n                        <input name=\"startDate\" [(ngModel)]=\"closeDuty.startDate\" matInput [matDatepicker]=\"startDate\" [disabled]>\n                        <mat-datepicker-toggle matSuffix [for]=\"startDate\"></mat-datepicker-toggle>\n                        <mat-datepicker #startDate></mat-datepicker>\n                      </mat-form-field>\n                    </td>\n                    <td>\n                      <mat-form-field>\n                        <input type=\"time\" [(ngModel)]=\"closeDuty.startTime\" matInput>\n                      </mat-form-field>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td><b>Duty End Date:</b></td>\n                    <td><b>Duty End Time:</b></td>\n                  </tr> \n                  <tr>\n                    <td>\n                      <mat-form-field>\n                        <input name=\"endDate\" [(ngModel)]=\"closeDuty.endDate\" matInput [matDatepicker]=\"endDate\" (click)=\"endDate.open()\" readonly>\n                        <mat-datepicker-toggle matSuffix [for]=\"endDate\"></mat-datepicker-toggle>\n                        <mat-datepicker #endDate></mat-datepicker>\n                      </mat-form-field>\n                    </td>\n                    <td>\n                      <mat-form-field>\n                        <input matInput type=\"time\" [(ngModel)]=\"closeDuty.endTime\">\n                      </mat-form-field>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td><b>Start KM:</b></td>\n                    <td><b>End KM:</b></td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <mat-form-field>\n                        <input matInput [(ngModel)]=\"closeDuty.startKm\">\n                      </mat-form-field>\n                    </td>\n                    <td>\n                      <mat-form-field>\n                        <input matInput [(ngModel)]=\"closeDuty.endKm\">\n                      </mat-form-field>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <b>Total KMS</b>\n                    </td>\n                    <td>\n                      <b>Driver Allowance:</b>\n                    </td>            \n                  </tr>\n                  <tr>\n                    <td>\n                      {{totalKMS}}\n                    </td>\n                    <td>\n                      <mat-form-field>\n                        <input matInput [(ngModel)]=\"driverAllowanceAmount\" readonly>\n                      </mat-form-field>              \n                    </td>\n                  </tr>\n                </table>\n              </div>\n            </div>\n            <mat-divider></mat-divider>\n            <div class=\"row ptb\">\n              <div class=\"col-lg-2 col-4\">\n                <p><b>Total KM</b></p>\n                <p style=\"margin-left: 1rem\">{{totalKM}}</p>\n              </div>\n              <div class=\"col-lg-2 col-4\">\n                <p><b>Extra KM</b></p>\n                <p style=\"margin-left: 1rem\">{{extraKM}}</p>\n              </div>\n              <div class=\"col-lg-2 col-4\">\n                <p><b>Extra KM Cost</b></p>\n                <p style=\"margin-left: 1rem\">{{extraKMCost}}</p>\n              </div>\n              <div class=\"col-lg-2 col-4\">\n                <p><b>Total Time</b></p>\n                <p style=\"margin-left: 1rem\">{{totalTime}}</p>\n              </div>\n              <div class=\"col-lg-2 col-4\">\n                <p><b>Extra time</b></p>\n                <p style=\"margin-left: 1rem\">{{extraTime}}</p>\n              </div>\n              <div class=\"col-lg-2 col-4\">\n                <p><b>Extra Time Cost</b></p>\n                <p style=\"margin-left: 1rem\">{{extraTimeCost}}</p>\n              </div>\n            </div>\n            <mat-divider></mat-divider>\n            <div class=\"row ptb-10\">\n              <div class=\"col-lg-12\">\n                <form [formGroup]=\"myForm\">\n                  <div formArrayName=\"rows\">\n                    <table style=\"width:100%\">\n                      <tr>\n                        <th align=\"center\">Sr. </th>\n                        <th align=\"center\">Items</th>\n                        <th align=\"center\">Amount</th>\n                        <th align=\"center\">Image</th>\n                        <th>X</th>\n                      </tr>\n                      <tr *ngFor=\"let aRow of invoiceForms.controls; let i=index\" [formGroupName]=\"i\">                    \n                        <td>{{i+1}}</td>\n                        <td>\n                          <mat-form-field class=\"w-100\">\n                            <input aria-placeholder=\"Pick one\"  name=\"cname\" (keypress)=\"filterBillingItem(i)\" formControlName=\"name\" matInput [matAutocomplete]=\"custauto\" >\n                            <mat-autocomplete #custauto=\"matAutocomplete\">\n                              <mat-option *ngFor=\"let option of billingItems | async\" [value]=\"option.name\">\n                                {{ option.name }}\n                              </mat-option>\n                            </mat-autocomplete>\n                          </mat-form-field>\n                        </td>\n                        <td>\n                          <mat-form-field>\n                            <input matInput formControlName=\"charges\">\n                          </mat-form-field>\n                        </td>\n                        <td>\n                          <button (click)=\"closeDutyImages.click()\" mat-icon-button color=\"primary\" matTooltip=\"Upload\"><mat-icon>cloud_upload</mat-icon></button>\n                          <input hidden type=\"file\" accept=\"images/*\" formControlName=\"fileName\" #closeDutyImages (change)=\"imageSelect($event,aRow,i)\">\n                          <img alt=\"\" *ngIf=\"imgUrl[i]!=null\" style=\"padding-left:10px;\" [src]=\"imgUrl[i]\" height=\"100px\" width=\"100px\" />\n                        </td>\n                        <td>\n                          <button mat-icon-button color=\"primary\" (click)=\"deleteRow(i)\"><mat-icon>clear</mat-icon></button>\n                        </td>\n                      </tr>\n                    </table>  \n                    <button mat-raised-button color=\"primary\" style=\"margin-top:15px;\" (click)=\"addRow()\">Add Row</button>\n                  </div>\n                </form>\n              </div>\n            </div>\n            <mat-divider></mat-divider>\n            <div class=\"row ptb-10\">\n              <div class=\"col-lg-12\">\n                <table>\n                  <tr>\n                    <td>\n                      <button *ngIf=\"imgDutySlipUrl==''\" (click)=\"dutySlipPhoto.click()\" mat-button>Upload Scanned Duty Slip</button>\n                      <button *ngIf=\"imgDutySlipUrl!=''\" (click)=\"removeDutySlipPhoto()\" mat-button>Remove</button>\n                      <input type=\"file\" #dutySlipPhoto name=\"dutySlipPhoto\" hidden (change)=\"selectDutySlipFile($event)\">\n                    </td>\n                    <td>\n                      <img alt=\"\" *ngIf=\"imgDutySlipUrl!='' && imgDutySlipUrl.includes('data:image')\" [src]=\"imgDutySlipUrl\" width=\"auto\" height=\"150px\"/>\n                      <p style=\"margin: 2rem;\" *ngIf=\"!imgDutySlipUrl.includes('data:image')\">{{imgDutySlipName}}</p>\n                    </td>\n                  </tr>\n                </table>\n              </div>\n            </div>\n            <div class=\"row ptb-10\">\n              <div class=\"col-lg-12\">\n                <table>\n                  <tr>\n                    <td>\n                      <b>Remarks:</b>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <mat-form-field class=\"w-100\">\n                        <textarea rows=\"3\" matInput [(ngModel)]=\"closeDuty.remarks\"></textarea>\n                      </mat-form-field>\n                    </td>\n                  </tr>\n                </table>\n              </div>\n            </div>\n          </nb-card-body>\n        </nb-card>\n      </div>\n    </div>\n    <div class=\"row ptb-10\">\n      <div class=\"col-lg-12 col-12\">\n        <button mat-raised-button color=\"primary\" (click)=\"close()\" *ngIf=\"!editDutySlip\">Close Duty</button>\n        <button mat-raised-button color=\"primary\" (click)=\"editDS()\" *ngIf=\"editDutySlip\">Update</button>\n        <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n      </div>\n    </div>\n  </mat-tab>\n  <mat-tab label=\"Supplier Close Duty\" *ngIf=\"data.row.supplierDId != null\">\n    <div class=\"row\">\n      <div class=\"col-lg-12\">\n        <nb-card>\n          <nb-card-body>\n            <div class=\"row\">\n              <div class=\"col-lg-6\">\n                <table cellpadding=\"4\">\n                  <tr>\n                    <td>\n                      <b>Customer Name:</b>\n                    </td>\n                    <td>\n                      {{supplierDetails.cname}}\n                    </td>\n                    <td>\n                      <b>Passenger:</b>\n                    </td>\n                    <td>\n                      {{supplierDetails.passenger}}\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <b>Vehicle:</b>\n                    </td>\n                    <td>\n                      {{supplierDetails.vehicle}}\n                    </td>\n                    <td>\n                      <b>Price:</b>\n                    </td>\n                    <td>\n                      {{supplierDetails.price}}\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <b>Driver:</b>\n                    </td>\n                    <td>\n                      {{supplierDetails.driver}}\n                    </td>\n                  </tr>\n                  <br>\n                </table>\n                <mat-divider></mat-divider>\n                <table>\n                  <tr>\n                    <td>\n                      <b>Duty Type:</b>\n                    </td>\n                    <td>\n                      <mat-form-field>\n                        <input type=\"text\" placeholder=\"Pick one\" matInput [ngModel]=\"supplierDetails.dutyType\" [matAutocomplete]=\"autoSupplier\">\n                          <mat-autocomplete #autoSupplier=\"matAutocomplete\">\n                            <mat-option *ngFor=\"let items of dutyType\" [value]=\"items.name\">\n                              {{items.name}}\n                            </mat-option>\n                        </mat-autocomplete>\n                      </mat-form-field>\n                    </td>  \n                  </tr>\n                  <tr>\n                    <td>\n                      <b>Per Extra KM Rate:</b>\n                    </td>\n                    <td>\n                      <b>Extra HR Rate:</b>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <mat-form-field>\n                        <input matInput [(ngModel)]=\"supplierCloseDuty.extraKmRate\">\n                      </mat-form-field>\n                    </td>\n                    <td>\n                      <mat-form-field>\n                        <input matInput [(ngModel)]=\"supplierCloseDuty.extraHrRate\">                \n                      </mat-form-field>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td><b>Price:</b></td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <mat-form-field>\n                        <input matInput [(ngModel)]=\"supplierCloseDuty.finalPrice\">\n                      </mat-form-field>\n                    </td>\n                    <td>\n                      <button mat-raised-button color=\"primary\" (click)=\"calculatePrice()\">\n                        Get Price\n                      </button>\n                    </td>\n                  </tr>\n                </table>    \n              </div>\n              <div class=\"col-lg-6\">\n                <table>\n                  <tr>\n                    <td><b>Duty Start Date:</b></td>\n                    <td><b>Duty Start Time:</b></td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <mat-form-field>\n                        <input name=\"supplierStartDate\" [(ngModel)]=\"supplierCloseDuty.startDate\" matInput [matDatepicker]=\"supplierStartDate\" [disabled]>\n                        <mat-datepicker-toggle matSuffix [for]=\"supplierStartDate\"></mat-datepicker-toggle>\n                        <mat-datepicker #supplierStartDate></mat-datepicker>\n                      </mat-form-field>\n                    </td>\n                    <td>\n                      <mat-form-field>\n                        <input type=\"time\" [(ngModel)]=\"supplierCloseDuty.startTime\" matInput>\n                      </mat-form-field>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td><b>Duty End Date:</b></td>\n                    <td><b>Duty End Time:</b></td>\n                  </tr> \n                  <tr>\n                    <td>\n                      <mat-form-field>\n                        <input name=\"supplierEndDate\" [(ngModel)]=\"supplierCloseDuty.endDate\" matInput [matDatepicker]=\"supplierEndDate\" (click)=\"supplierEndDate.open()\" readonly>\n                        <mat-datepicker-toggle matSuffix [for]=\"supplierEndDate\"></mat-datepicker-toggle>\n                        <mat-datepicker #supplierEndDate></mat-datepicker>\n                      </mat-form-field>\n                    </td>\n                    <td>\n                      <mat-form-field>\n                        <input matInput type=\"time\" [(ngModel)]=\"supplierCloseDuty.endTime\">\n                      </mat-form-field>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td><b>Start KM:</b></td>\n                    <td><b>End KM:</b></td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <mat-form-field>\n                        <input matInput [(ngModel)]=\"supplierCloseDuty.startKm\">\n                      </mat-form-field>\n                    </td>\n                    <td>\n                      <mat-form-field>\n                        <input matInput [(ngModel)]=\"supplierCloseDuty.endKm\">\n                      </mat-form-field>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <b>Total KMS</b>\n                    </td>\n                    <td>\n                      <!-- <b>Driver Allowance:</b> -->\n                    </td>            \n                  </tr>\n                  <tr>\n                    <td>\n                      {{supplierTotalKMS}}\n                    </td>\n                    <td>\n                      <!-- <mat-form-field>\n                        <input matInput [(ngModel)]=\"driverAllowanceAmount\" readonly>\n                      </mat-form-field>               -->\n                    </td>\n                  </tr>\n                </table>\n              </div>\n            </div>\n            <mat-divider></mat-divider>\n            <div class=\"row ptb\">\n              <div class=\"col-lg-2 col-4\">\n                <p><b>Total KM</b></p>\n                <p style=\"margin-left: 1rem\">{{supplierTotalKM}}</p>\n              </div>\n              <div class=\"col-lg-2 col-4\">\n                <p><b>Extra KM</b></p>\n                <p style=\"margin-left: 1rem\">{{supplierExtraKM}}</p>\n              </div>\n              <div class=\"col-lg-2 col-4\">\n                <p><b>Extra KM Cost</b></p>\n                <p style=\"margin-left: 1rem\">{{supplierExtraKMCost}}</p>\n              </div>\n              <div class=\"col-lg-2 col-4\">\n                <p><b>Total Time</b></p>\n                <p style=\"margin-left: 1rem\">{{supplierTotalTime}}</p>\n              </div>\n              <div class=\"col-lg-2 col-4\">\n                <p><b>Extra time</b></p>\n                <p style=\"margin-left: 1rem\">{{supplierExtraTime}}</p>\n              </div>\n              <div class=\"col-lg-2 col-4\">\n                <p><b>Extra Time Cost</b></p>\n                <p style=\"margin-left: 1rem\">{{supplierExtraTimeCost}}</p>\n              </div>\n            </div>\n            <mat-divider></mat-divider>\n            <div class=\"row ptb-10\">\n              <div class=\"col-lg-12\">\n                <form [formGroup]=\"supplierForm\">\n                  <div formArrayName=\"rows\">\n                    <table style=\"width:100%\">\n                      <tr>\n                        <th align=\"center\">Sr. </th>\n                        <th align=\"center\">Items</th>\n                        <th align=\"center\">Amount</th>\n                        <th align=\"center\">Image</th>\n                        <th>X</th>\n                      </tr>\n                      <tr *ngFor=\"let aRow of supplierInvoiceForms.controls; let i=index\" [formGroupName]=\"i\">                    \n                        <td>{{i+1}}</td>\n                        <td>\n                          <mat-form-field class=\"w-100\">\n                            <input aria-placeholder=\"Pick one\"  name=\"cname\" (keypress)=\"filterBillingItem(i)\" formControlName=\"name\" matInput [matAutocomplete]=\"custauto\" >\n                            <mat-autocomplete #custauto=\"matAutocomplete\">\n                              <mat-option *ngFor=\"let option of billingItems | async\" [value]=\"option.name\">\n                                {{ option.name }}\n                              </mat-option>\n                            </mat-autocomplete>\n                          </mat-form-field>\n                        </td>\n                        <td>\n                          <mat-form-field>\n                            <input matInput formControlName=\"charges\">\n                          </mat-form-field>\n                        </td>\n                        <td>\n                          <button (click)=\"supplierCloseDutyImages.click()\" mat-icon-button color=\"primary\" matTooltip=\"Upload\"><mat-icon>cloud_upload</mat-icon></button>\n                          <input hidden type=\"file\" accept=\"images/*\" formControlName=\"fileName\" #supplierCloseDutyImages (change)=\"supplierImageSelect($event,aRow,i)\">\n                          <img alt=\"\" *ngIf=\"supplierImgUrl[i]!=null\" style=\"padding-left:10px;\" [src]=\"supplierImgUrl[i]\" height=\"100px\" width=\"100px\" />\n                        </td>\n                        <td>\n                          <button mat-icon-button color=\"primary\" (click)=\"deleteSupplierRow(i)\"><mat-icon>clear</mat-icon></button>\n                        </td>\n                      </tr>\n                    </table>  \n                    <button mat-raised-button color=\"primary\" style=\"margin-top:15px;\" (click)=\"addSupplierRow()\">Add Row</button>\n                  </div>\n                </form>\n              </div>\n            </div>\n            <mat-divider></mat-divider>\n            <div class=\"row ptb-10\">\n              <div class=\"col-lg-12\">\n                <table>\n                  <tr>\n                    <td>\n                      <button *ngIf=\"supplierImgDutySlipUrl==''\" (click)=\"supplierDutySlipPhoto.click()\" mat-button>Upload Scanned Duty Slip</button>\n                      <button *ngIf=\"supplierImgDutySlipUrl!=''\" (click)=\"removeSupplierDutySlipPhoto()\" mat-button>Remove</button>\n                      <input type=\"file\" #supplierDutySlipPhoto name=\"supplierDutySlipPhoto\" hidden (change)=\"selectSupplierDutySlipFile($event)\">\n                    </td>\n                    <td>\n                      <img alt=\"\" *ngIf=\"supplierImgDutySlipUrl!='' && supplierImgDutySlipUrl.includes('data:image')\" [src]=\"supplierImgDutySlipUrl\" width=\"auto\" height=\"150px\"/>\n                      <p style=\"margin: 2rem;\" *ngIf=\"!supplierImgDutySlipUrl.includes('data:image')\">{{supplierImgDutySlipName}}</p>\n                    </td>\n                  </tr>\n                </table>\n              </div>\n            </div>\n            <div class=\"row ptb-10\">\n              <div class=\"col-lg-12\">\n                <table>\n                  <tr>\n                    <td>\n                      <b>Remarks:</b>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <mat-form-field class=\"w-100\">\n                        <textarea rows=\"3\" matInput [(ngModel)]=\"supplierCloseDuty.remarks\"></textarea>\n                      </mat-form-field>\n                    </td>\n                  </tr>\n                </table>\n              </div>\n            </div>\n          </nb-card-body>\n        </nb-card>\n      </div>\n    </div>\n    <div class=\"row ptb-10\">\n      <div class=\"col-lg-12 col-12\">\n        <button mat-raised-button color=\"primary\" (click)=\"close()\" *ngIf=\"!supplierEditDutySlip\">Close Duty</button>\n        <button mat-raised-button color=\"primary\" (click)=\"editDS()\" *ngIf=\"supplierEditDutySlip\">Update</button>\n        <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n      </div>\n    </div>\n  </mat-tab>\n</mat-tab-group>"

/***/ }),

/***/ "./src/app/pages/duties/closeduty/closeduty.component.scss":
/***/ (function(module, exports) {

module.exports = "mat-divider {\n  padding: 5px 5px; }\n\ntable1 > td {\n  padding: 0px 0px 10px 0px !important; }\n\ntable {\n  width: 100%; }\n\nnb-card {\n  margin-bottom: 5px !important; }\n\n.mat-button {\n  color: #29b476; }\n"

/***/ }),

/***/ "./src/app/pages/duties/closeduty/closeduty.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ClosedutyComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__duties_service__ = __webpack_require__("./src/app/pages/duties/duties.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__masters_dutytype_duty_type_service__ = __webpack_require__("./src/app/pages/masters/dutytype/duty-type.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__masters_pricing_pricing_service__ = __webpack_require__("./src/app/pages/masters/pricing/pricing.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__circles_businesssetting_businesssetting_service__ = __webpack_require__("./src/app/pages/circles/businesssetting/businesssetting.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__masters_new_driver_driver_service__ = __webpack_require__("./src/app/pages/masters/new-driver/driver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__operations_new_billing_billing_service__ = __webpack_require__("./src/app/pages/operations/new-billing/billing.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_rxjs_operators_startWith__ = __webpack_require__("./node_modules/rxjs/_esm5/operators/startWith.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_rxjs_operators_map__ = __webpack_require__("./node_modules/rxjs/_esm5/operators/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__circles_companyprofile_companyprofile_service__ = __webpack_require__("./src/app/pages/circles/companyprofile/companyprofile.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};

















var ClosedutyComponent = (function () {
    function ClosedutyComponent(dialog, fb, data, dutyTypeService, dutiesService, pricingService, snackbar, auth, businessSettingService, driverService, uploadService, billingService, http, companyprofileService) {
        var _this = this;
        this.dialog = dialog;
        this.fb = fb;
        this.data = data;
        this.dutyTypeService = dutyTypeService;
        this.dutiesService = dutiesService;
        this.pricingService = pricingService;
        this.snackbar = snackbar;
        this.auth = auth;
        this.businessSettingService = businessSettingService;
        this.driverService = driverService;
        this.uploadService = uploadService;
        this.billingService = billingService;
        this.http = http;
        this.companyprofileService = companyprofileService;
        this.user = {};
        this.closeDuty = {
            startDate: '',
            endDate: '',
            startTime: '',
            endTime: '',
            startKm: 0,
            endKm: 0,
            extraHrRate: 0,
            extraKmRate: 0,
            finalPrice: 0,
            ownerId: '',
            dutyId: '',
            remarks: '',
            dutySlipFileName: ''
        };
        this.supplierCloseDuty = {
            startDate: '',
            endDate: '',
            startTime: '',
            endTime: '',
            startKm: 0,
            endKm: 0,
            extraHrRate: 0,
            extraKmRate: 0,
            finalPrice: 0,
            ownerId: '',
            dutyId: '',
            remarks: '',
            dutySlipFileName: ''
        };
        this.dutyId = {
            id: null
        };
        this.businessSettings = {};
        this.driverAllowanceAmount = 0;
        this.billingItem = [];
        this.totalKMS = 0;
        this.supplierTotalKMS = 0;
        this.allowances = [];
        this.supplierAllowances = [];
        this.editDutySlip = false;
        this.supplierEditDutySlip = false;
        this.imgDutySlipUrl = '';
        this.previousImgDutySlipUrl = '';
        this.supplierImgDutySlipUrl = '';
        this.supplierPreviousImgDutySlipUrl = '';
        this.totalKM = 0;
        this.totalTime = '';
        this.extraKM = 0;
        this.extraTime = '';
        this.extraKMCost = 0;
        this.extraTimeCost = 0;
        this.supplierTotalKM = 0;
        this.supplierTotalTime = '';
        this.supplierExtraKM = 0;
        this.supplierExtraTime = '';
        this.supplierExtraKMCost = 0;
        this.supplierExtraTimeCost = 0;
        this.temp = {
            city: '',
            vehicleGroupId: '',
            customerId: '',
            dutyTypeId: ''
        };
        this.price = {
            baseRate: 0,
            extraKm: 0,
            extraHrs: 0,
        };
        this.imgUrl = [];
        this.supplierImgUrl = [];
        this.details = data.row;
        this.dutiesService.getDutyById({ id: this.details.supplierDId }).subscribe(function (data) {
            console.log(data);
            _this.companyprofileService.getCompanyProfile({ ownerId: data[0].ownerId }).subscribe(function (data) {
                _this.companyName = data[0].name;
            });
            if (data != undefined) {
                _this.supplierDetails = data[0];
                _this.supplierCloseDuty.extraHrRate = _this.supplierDetails.extraHours;
                _this.supplierCloseDuty.extraKmRate = _this.supplierDetails.extraKms;
                _this.dutiesService.getCloseDutyDetails(_this.supplierDetails).subscribe(function (data) {
                    console.log(data);
                    _this.supplierCloseDuty.startDate = __WEBPACK_IMPORTED_MODULE_5_moment__(data[0].startDate).format("YYYY-MM-DD");
                    _this.supplierCloseDuty.endDate = __WEBPACK_IMPORTED_MODULE_5_moment__(data[0].endDate).format("YYYY-MM-DD");
                    _this.supplierCloseDuty.startTime = __WEBPACK_IMPORTED_MODULE_5_moment__(data[0].startTime, "HH:mm a").format("HH:mm");
                    _this.supplierCloseDuty.endTime = __WEBPACK_IMPORTED_MODULE_5_moment__(data[0].endTime, "HH:mm a").format("HH:mm");
                    _this.supplierCloseDuty.startKm = data[0].startKm;
                    _this.supplierCloseDuty.endKm = data[0].endKm;
                    _this.supplierCloseDuty.extraHrRate = data[0].extraHrRate;
                    _this.supplierCloseDuty.extraKmRate = data[0].extraKmRate;
                    _this.supplierCloseDuty.finalPrice = data[0].finalPrice;
                    _this.supplierStartDate = __WEBPACK_IMPORTED_MODULE_5_moment__(data[0].startDate).day();
                    _this.supplierTotalKMS = Number(_this.supplierCloseDuty.endKm) - Number(_this.supplierCloseDuty.startKm);
                    _this.supplierEditDutySlip = true;
                    _this.supplierCloseDuty.id = data[0].id;
                    _this.supplierCloseDuty.dutyId = _this.details.id;
                    _this.supplierCloseDuty.ownerId = _this.details.ownerId;
                });
                _this.dutiesService.getEndedCloseDutyAdditionalCharges(_this.supplierDetails).subscribe(function (data) {
                    _this.supplierExtraCharges = data;
                    _this.supplierExtraCharges.forEach(function (element) {
                        if (element.fileName != 'undefined' && element.fileName != null) {
                            _this.uploadService.getPresignedUrl(_this.user.companyName, element.fileName, 'closeDutyPics/Pictures/' + _this.data.id).subscribe(function (data) {
                                element.url = data._body;
                            });
                        }
                    });
                });
            }
        });
        console.log(this.details);
        this.closeDuty.extraHrRate = this.details.extraHours;
        this.closeDuty.extraKmRate = this.details.extraKms;
        // this.closeDuty.startTime=moment(this.details.reportingTime, "HH:mm a").format("HH:mm");
        // this.closeDuty.startDate=this.details.startDate;
        // this.dutiesService.getEndedCloseDutyDetails(this.details).subscribe(data=>{
        //   console.log(data);
        //   this.closeDuty.startDate=data[0].startDate;
        //   this.closeDuty.endDate=data[0].endDate;
        //   this.closeDuty.startTime=moment(data[0].startTime, "HH:mm a").format("HH:mm");
        //   this.closeDuty.endTime=moment(data[0].endTime, "HH:mm a").format("HH:mm");
        //   this.closeDuty.startKm = (Number(data[0].startKm)-toInteger(data[0].garageToReporting/1000));
        //   this.closeDuty.endKm = (Number(data[0].endKm)+toInteger(data[0].dropToGarage/1000));
        //   this.startDate=moment(data[0].startDate).day();
        //   this.totalKMS = Number(this.closeDuty.endKm)-Number(this.closeDuty.startKm);
        // })
        this.dutiesService.getCloseDutyDetails(this.details).subscribe(function (data) {
            console.log(data);
            _this.closeDuty.startDate = __WEBPACK_IMPORTED_MODULE_5_moment__(data[0].startDate).format("YYYY-MM-DD");
            _this.closeDuty.endDate = __WEBPACK_IMPORTED_MODULE_5_moment__(data[0].endDate).format("YYYY-MM-DD");
            _this.closeDuty.startTime = __WEBPACK_IMPORTED_MODULE_5_moment__(data[0].startTime, "HH:mm a").format("HH:mm");
            _this.closeDuty.endTime = __WEBPACK_IMPORTED_MODULE_5_moment__(data[0].endTime, "HH:mm a").format("HH:mm");
            _this.closeDuty.startKm = data[0].startKm;
            _this.closeDuty.endKm = data[0].endKm;
            _this.closeDuty.extraHrRate = data[0].extraHrRate;
            _this.closeDuty.extraKmRate = data[0].extraKmRate;
            _this.closeDuty.finalPrice = data[0].finalPrice;
            _this.startDate = __WEBPACK_IMPORTED_MODULE_5_moment__(data[0].startDate).day();
            _this.totalKMS = Number(_this.closeDuty.endKm) - Number(_this.closeDuty.startKm);
            _this.editDutySlip = true;
            _this.closeDuty.id = data[0].id;
            _this.closeDuty.dutyId = _this.details.id;
            _this.closeDuty.ownerId = _this.details.ownerId;
        });
        this.dutiesService.getEndedCloseDutyAdditionalCharges(this.details).subscribe(function (data) {
            _this.extraCharges = data;
            _this.extraCharges.forEach(function (element) {
                if (element.fileName != 'undefined' && element.fileName != null) {
                    _this.uploadService.getPresignedUrl(_this.user.companyName, element.fileName, 'closeDutyPics/Pictures/' + _this.data.id).subscribe(function (data) {
                        element.url = data._body;
                    });
                }
            });
        });
    }
    ClosedutyComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.dutyTypeService.getDutyType(_this.user).subscribe(function (data) {
                _this.dutyType = data;
            });
            _this.auth.businessSettings.subscribe(function (data) {
                _this.businessSettings = data;
                var temp = {
                    ownerId: _this.user.ownerId,
                    businessSettingsId: _this.businessSettings.id
                };
                _this.businessSettingService.getChargedDriverAllowances(temp).subscribe(function (data) {
                    _this.driverAllowanceType = data;
                });
                _this.billingService.getBilling(_this.user).subscribe(function (data) {
                    _this.billingItem = data;
                    _this.billingItems = __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__["a" /* Observable */].of(_this.billingItem);
                    console.log(_this.billingItem);
                });
            });
        });
        this.driverService.findDriver(this.details).subscribe(function (data) {
            console.log(data);
            _this.drivers = data[0];
        });
        this.myForm = this.fb.group({
            rows: this.fb.array([])
        });
        this.supplierForm = this.fb.group({
            rows: this.fb.array([])
        });
        this.getCustomerId().subscribe(function (data) {
            _this.temp.customerId = data[0].id;
            _this.temp.city = _this.details.fromLoc;
            _this.temp.dutyTypeId = _this.details.dutyTypeId;
            _this.temp.vehicleGroupId = _this.details.vehicleGroupId;
            _this.getPrice();
        });
    };
    ClosedutyComponent.prototype.filterBillingItem = function (i) {
        var _this = this;
        if (this.billingItem.length > 0) {
            this.billingItems = this.invoiceForms.at(i).get('name').valueChanges
                .pipe(Object(__WEBPACK_IMPORTED_MODULE_13_rxjs_operators_startWith__["a" /* startWith */])(''), Object(__WEBPACK_IMPORTED_MODULE_14_rxjs_operators_map__["a" /* map */])(function (val) { return _this.filterBillingItems(val); }));
        }
    };
    ClosedutyComponent.prototype.filterBillingItems = function (val) {
        return this.billingItem.filter(function (option) {
            return option.name.toLowerCase().includes(val.toLowerCase());
        });
    };
    ClosedutyComponent.prototype.getCustomerId = function () {
        var customer = {
            name: this.details.cname
        };
        return this.dutiesService.getCustomer(customer);
    };
    ClosedutyComponent.prototype.getDetails = function () {
        var sDate = this.closeDuty.startDate;
        var eDate = this.closeDuty.endDate;
        var stime = "T" + this.closeDuty.startTime + ":00Z";
        var etime = "T" + this.closeDuty.endTime + ":00Z";
        var startDate = new Date(sDate + stime);
        var endDate = new Date(eDate + etime);
        this.totalHours = (__WEBPACK_IMPORTED_MODULE_5_moment__(endDate).diff(startDate, 'hours'));
        this.totalDays = (__WEBPACK_IMPORTED_MODULE_5_moment__(endDate).diff(startDate, 'days'));
    };
    ClosedutyComponent.prototype.calculatePrice = function () {
        var _this = this;
        console.log(this.closeDuty.extraHrRate, this.closeDuty.extraKmRate);
        if (this.closeDuty.endDate == '' || this.closeDuty.startTime == '' || this.closeDuty.endTime == '' || this.closeDuty.startKm == '' || this.closeDuty.endKm == '') {
            this.snackbar.open("Required fields are empty", "", { duration: 2000 });
        }
        else {
            this.getDetails();
            var DutyType;
            this.getDutyType().subscribe(function (data) {
                console.log(data);
                DutyType = data;
                _this.fillPrices(DutyType[0]);
                _this.addDriverAllowance(DutyType[0]);
            });
            this.getPrice();
            this.addExtraCharges();
        }
    };
    ClosedutyComponent.prototype.addExtraCharges = function () {
        this.myForm.value.forEach(function (element) {
            console.log(element);
        });
    };
    ClosedutyComponent.prototype.fillPrices = function (temp) {
        var _this = this;
        var startTime = __WEBPACK_IMPORTED_MODULE_5_moment__(__WEBPACK_IMPORTED_MODULE_5_moment__(this.closeDuty.startDate).format("YYYY-MM-DD") + " " + this.closeDuty.startTime, "YYYY-MM-DD HH:mm a");
        var endTime = __WEBPACK_IMPORTED_MODULE_5_moment__(__WEBPACK_IMPORTED_MODULE_5_moment__(this.closeDuty.endDate).format("YYYY-MM-DD") + " " + this.closeDuty.endTime, "YYYY-MM-DD HH:mm a");
        // this.closeDuty.endTime= moment(this.closeDuty.endTime, "HH:mm a");
        // this.closeDuty.startTime=moment(this.closeDuty.startTime, "HH:mm a");
        var totalHrs = endTime.diff(startTime, 'hours');
        var totalMins = endTime.diff(startTime, 'minutes');
        var clearMins = totalMins % 60;
        this.totalTime = totalHrs + "hrs " + clearMins + "mins";
        this.totalKM = this.closeDuty.endKm - this.closeDuty.startKm;
        if (temp.maxHrs == '' || totalHrs < temp.maxHrs) {
            this.extraTime = 0;
        }
        else {
            this.extraTime = (totalHrs - temp.maxHrs) + "hrs " + clearMins + "mins";
        }
        if (temp.maxKms == '') {
            this.extraKM = 0;
        }
        else if (temp.maxKms < this.totalKM) {
            this.extraKM = Number(this.totalKM) - Number(temp.maxKms);
        }
        if (this.closeDuty.extraKmRate != 0 || this.closeDuty.extraHrRate != 0) {
            if (temp.dType === "Flat Rate") {
                this.closeDuty.finalPrice = this.details.price;
            }
            else if (temp.dType === "HR-KM(Local)") {
                var maxKm = temp.maxKms;
                var endKm = this.closeDuty.endKm - this.closeDuty.startKm;
                var maxHrs = temp.maxHrs;
                this.closeDuty.finalPrice = this.details.price;
                if (endKm > maxKm) {
                    this.extraKMCost = ((endKm - maxKm) * this.closeDuty.extraKmRate);
                    this.allowances.push({
                        ownerId: this.user.id,
                        dutyId: this.details.id,
                        name: 'Extra Km',
                        charges: ((endKm - maxKm) * this.closeDuty.extraKmRate),
                        fileName: '',
                    });
                }
                if (this.totalHours > maxHrs) {
                    this.extraTimeCost = ((this.totalHours - maxHrs) * this.closeDuty.extraHrRate);
                    this.allowances.push({
                        ownerId: this.user.id,
                        dutyId: this.details.id,
                        name: 'Extra Hrs',
                        charges: ((this.totalHours - maxHrs) * this.closeDuty.extraHrRate),
                        fileName: '',
                    });
                }
            }
            else if (temp.dType === "Day-KM(Outstation)") {
                var maxKm = temp.maxKms;
                var endKm = this.closeDuty.endKm - this.closeDuty.startKm;
                if (endKm > maxKm) {
                    this.extraKMCost = ((endKm - maxKm) * this.closeDuty.extraKmRate);
                    this.allowances.push({
                        ownerId: this.user.id,
                        dutyId: this.details.id,
                        name: 'Extra Km',
                        charges: ((endKm - maxKm) * this.closeDuty.extraKmRate),
                        fileName: '',
                    });
                }
                this.closeDuty.finalPrice = this.details.price;
                console.log(this.closeDuty.finalPrice);
            }
            else if (temp.dType === "Long Duration - Total Km & HR (Monthly Bookings)") {
                var maxDays = temp.maxDays;
                var maxHrs = temp.maxHrs;
                var maxKm = temp.totalKms;
                var endKm_1 = 0;
                var totalTime_1 = 0;
                this.dutiesService.countIncompleteDuties(this.details).subscribe(function (data) {
                    if (data[0].cnt == 1) {
                        _this.dutiesService.getTotalKms(_this.details).subscribe(function (data) {
                            endKm_1 = data[0].diff;
                        });
                        _this.dutiesService.getTotalSeconds(_this.details).subscribe(function (data) {
                            totalTime_1 = (data[0].seconds / 3600);
                        });
                    }
                });
                if (endKm_1 > maxKm) {
                    this.extraKMCost = ((endKm_1 - maxKm) * this.closeDuty.extraKmRate);
                    this.allowances.push({
                        ownerId: this.user.id,
                        dutyId: this.details.id,
                        name: 'Extra Km',
                        charges: ((endKm_1 - maxKm) * this.closeDuty.extraKmRate),
                        fileName: '',
                    });
                }
                // if(this.totalDays>maxDays || this.totalHours>maxHrs)
                if (totalTime_1 > maxHrs) {
                    this.extraTimeCost = ((totalTime_1 - maxHrs) * this.closeDuty.extraHrRate);
                    this.allowances.push({
                        ownerId: this.user.id,
                        dutyId: this.details.id,
                        name: 'Extra Hrs',
                        charges: ((totalTime_1 - maxHrs) * this.closeDuty.extraHrRate),
                        fileName: '',
                    });
                }
                this.closeDuty.finalPrice = this.details.price;
            }
            else if (temp.dType === " Long Duration-Total KM Daily HR(Monthly Bookings) ") {
                var maxDays = temp.maxDays;
                var maxHrs = temp.maxHrs;
                var maxKm = temp.totalKms;
                var endKm_2 = 0;
                this.dutiesService.countIncompleteDuties(this.details).subscribe(function (data) {
                    if (data[0].cnt == 1) {
                        _this.dutiesService.getTotalKms(_this.details).subscribe(function (data) {
                            endKm_2 = data[0].diff;
                        });
                    }
                });
                if (endKm_2 > maxKm) {
                    this.extraKMCost = ((endKm_2 - maxKm) * this.closeDuty.extraKmRate);
                    this.allowances.push({
                        ownerId: this.user.id,
                        dutyId: this.details.id,
                        name: 'Extra Km',
                        charges: ((endKm_2 - maxKm) * this.closeDuty.extraKmRate),
                        fileName: '',
                    });
                }
                if (this.totalDays > maxDays || this.totalHours > maxHrs) 
                // if(totalTime>maxHrs)
                {
                    this.extraTimeCost = ((this.totalHours - maxHrs) * this.closeDuty.extraHrRate) + ((this.totalDays - maxDays) * 24 * this.closeDuty.extraHrRate);
                    this.allowances.push({
                        ownerId: this.user.id,
                        dutyId: this.details.id,
                        name: 'Extra Hrs',
                        charges: ((this.totalHours - maxHrs) * this.closeDuty.extraHrRate) + ((this.totalDays - maxDays) * 24 * this.closeDuty.extraHrRate),
                        fileName: '',
                    });
                }
                this.closeDuty.finalPrice = this.details.price;
            }
        }
        else {
            if (temp.dType === "Flat Rate") {
                this.closeDuty.finalPrice = this.price.baseRate;
            }
            else if (temp.dType === "HR-KM(Local)") {
                var maxKm = temp.maxKms;
                var endKm = this.closeDuty.endKm - this.closeDuty.startKm;
                var maxHrs = temp.maxHrs;
                this.closeDuty.finalPrice = this.price.baseRate;
                if (endKm > maxKm) {
                    this.extraKMCost = ((endKm - maxKm) * this.price.extraKm);
                    this.allowances.push({
                        ownerId: this.user.id,
                        dutyId: this.details.id,
                        name: 'Extra Km',
                        charges: ((endKm - maxKm) * this.price.extraKm),
                        fileName: '',
                    });
                }
                if (this.totalHours > maxHrs) {
                    this.extraTimeCost = ((this.totalHours - maxHrs) * this.price.extraHrs);
                    this.allowances.push({
                        ownerId: this.user.id,
                        dutyId: this.details.id,
                        name: 'Extra Hrs',
                        charges: ((this.totalHours - maxHrs) * this.price.extraHrs),
                        fileName: '',
                    });
                }
            }
            else if (temp.dType === "Day-KM(Outstation)") {
                var maxKm = temp.maxKms;
                var endKm = this.closeDuty.endKm - this.closeDuty.startKm;
                if (endKm > maxKm) {
                    this.extraKMCost = ((endKm - maxKm) * this.price.extraKm);
                    this.allowances.push({
                        ownerId: this.user.id,
                        dutyId: this.details.id,
                        name: 'Extra Km',
                        charges: ((endKm - maxKm) * this.price.extraKm),
                        fileName: '',
                    });
                }
                this.closeDuty.finalPrice = this.price.baseRate;
                console.log(this.closeDuty.finalPrice);
            }
            else if (temp.dType === "Long Duration - Total Km and HR (Monthly Bookings)") {
                var maxDays = temp.maxDays;
                var maxHrs = temp.maxHrs;
                var maxKm = temp.totalKms;
                var endKm_3 = 0;
                var totalTime_2 = 0;
                this.dutiesService.countIncompleteDuties(this.details).subscribe(function (data) {
                    if (data[0].cnt == 1) {
                        _this.dutiesService.getTotalKms(_this.details).subscribe(function (data) {
                            endKm_3 = data[0].diff;
                        });
                        _this.dutiesService.getTotalSeconds(_this.details).subscribe(function (data) {
                            totalTime_2 = (data[0].seconds / 3600);
                        });
                    }
                });
                if (endKm_3 > maxKm) {
                    this.extraKMCost = ((endKm_3 - maxKm) * this.price.extraKm);
                    this.allowances.push({
                        ownerId: this.user.id,
                        dutyId: this.details.id,
                        name: 'Extra Km',
                        charges: ((endKm_3 - maxKm) * this.price.extraKm),
                        fileName: '',
                    });
                }
                // if(this.totalDays>maxDays || this.totalHours>maxHrs)
                if (totalTime_2 > maxHrs) {
                    this.extraTimeCost = ((totalTime_2 - maxHrs) * this.price.extraHrs);
                    this.allowances.push({
                        ownerId: this.user.id,
                        dutyId: this.details.id,
                        name: 'Extra Hrs',
                        charges: ((totalTime_2 - maxHrs) * this.price.extraHrs),
                        fileName: '',
                    });
                }
                this.closeDuty.finalPrice = this.price.baseRate;
            }
            else if (temp.dType === " Long Duration-Total KM Daily HR(Monthly Bookings) ") {
                var maxDays = temp.maxDays;
                var maxHrs = temp.maxHrs;
                var maxKm = temp.totalKms;
                var endKm_4 = 0;
                this.dutiesService.countIncompleteDuties(this.details).subscribe(function (data) {
                    if (data[0].cnt == 1) {
                        _this.dutiesService.getTotalKms(_this.details).subscribe(function (data) {
                            endKm_4 = data[0].diff;
                        });
                    }
                });
                if (endKm_4 > maxKm) {
                    this.extraKMCost = ((endKm_4 - maxKm) * this.closeDuty.extraKmRate);
                    this.allowances.push({
                        ownerId: this.user.id,
                        dutyId: this.details.id,
                        name: 'Extra Km',
                        charges: ((endKm_4 - maxKm) * this.price.extraKm),
                        fileName: '',
                    });
                }
                if (this.totalDays > maxDays || this.totalHours > maxHrs) 
                // if(totalTime>maxHrs)
                {
                    this.extraTimeCost = ((this.totalHours - maxHrs) * this.closeDuty.extraHrRate);
                    this.allowances.push({
                        ownerId: this.user.id,
                        dutyId: this.details.id,
                        name: 'Extra Hrs',
                        charges: ((this.totalHours - maxHrs) * this.price.extraHrs) + ((this.totalDays - maxDays) * 24 * this.price.extraHrs),
                        fileName: '',
                    });
                }
                this.closeDuty.finalPrice = this.price.baseRate;
            }
        }
    };
    ClosedutyComponent.prototype.addDriverAllowance = function (temp) {
        var _this = this;
        this.days = (__WEBPACK_IMPORTED_MODULE_5_moment__(this.closeDuty.endDate, "YYYY-MM-DD").diff(__WEBPACK_IMPORTED_MODULE_5_moment__(this.closeDuty.startDate, "YYYY-MM-DD"), "days")) + 1;
        console.log(this.days);
        if (temp.dType === "Flat Rate") {
            if (this.driverAllowanceType) {
                this.driverAllowanceType.forEach(function (element) {
                    if (element.allowanceType == 'Over time per hour') {
                        var maxHrs = temp.maxHrs;
                        console.log(_this.closeDuty.endTime);
                        console.log(_this.drivers.workingHoursEnd);
                        if (__WEBPACK_IMPORTED_MODULE_5_moment__(_this.closeDuty.endTime, 'HH:mm').diff(__WEBPACK_IMPORTED_MODULE_5_moment__(_this.drivers.workingHoursEnd, 'HH:mm'), "hours") >= 1) {
                            _this.driverAllowanceAmount = (__WEBPACK_IMPORTED_MODULE_5_moment__(_this.closeDuty.endTime, 'HH:mm').diff(__WEBPACK_IMPORTED_MODULE_5_moment__(_this.drivers.workingHoursEnd, 'HH:mm'), "hours") * Number(element.amount));
                            _this.allowances.push({
                                ownerId: _this.user.id,
                                dutyId: _this.details.id,
                                name: 'Driver Allowance',
                                charges: _this.driverAllowanceAmount,
                                fileName: '',
                            });
                            // this.invoiceForms.push(row);
                        }
                    }
                    if (element.allowanceType == 'Early Start Allowance') {
                        var earlyStart = _this.drivers.workingHoursStart;
                        if (_this.details.startTime < earlyStart) {
                            _this.driverAllowanceAmount = element.amount;
                            _this.allowances.push({
                                ownerId: _this.user.id,
                                dutyId: _this.details.id,
                                name: 'Driver Allowance',
                                charges: _this.driverAllowanceAmount,
                                fileName: '',
                            });
                            // this.dutiesService.closedutiesExtras(row).subscribe(data=>{})
                            // this.invoiceForms.push(row);
                        }
                    }
                });
            }
        }
        if (temp.dType === "HR-KM(Local)") {
            if (this.driverAllowanceType) {
                this.driverAllowanceType.forEach(function (element) {
                    if (element.allowanceType == 'Over time per hour') {
                        var maxHrs = temp.maxHrs;
                        console.log(_this.closeDuty.endTime);
                        console.log(_this.drivers.workingHoursEnd);
                        if (__WEBPACK_IMPORTED_MODULE_5_moment__(_this.closeDuty.endTime, 'HH:mm').diff(__WEBPACK_IMPORTED_MODULE_5_moment__(_this.drivers.workingHoursEnd, 'HH:mm'), "hours") >= 1) {
                            _this.driverAllowanceAmount = (__WEBPACK_IMPORTED_MODULE_5_moment__(_this.closeDuty.endTime, 'HH:mm').diff(__WEBPACK_IMPORTED_MODULE_5_moment__(_this.drivers.workingHoursEnd, 'HH:mm'), "hours") * Number(element.amount));
                            _this.allowances.push({
                                ownerId: _this.user.id,
                                dutyId: _this.details.id,
                                name: 'Driver Allowance',
                                charges: _this.driverAllowanceAmount,
                                fileName: '',
                            });
                            // this.dutiesService.closedutiesExtras(row).subscribe(data=>{})
                            // this.invoiceForms.push(row);
                        }
                    }
                    if (element.allowanceType == 'Early Start Allowance') {
                        var earlyStart = _this.drivers.workingHoursStart;
                        if (_this.details.startTime < earlyStart) {
                            _this.driverAllowanceAmount = element.amount;
                            _this.allowances.push({
                                ownerId: _this.user.id,
                                dutyId: _this.details.id,
                                name: 'Driver Allowance',
                                charges: _this.driverAllowanceAmount,
                                fileName: '',
                            });
                            // this.dutiesService.closedutiesExtras(row).subscribe(data=>{})
                            // this.invoiceForms.push(row);
                        }
                    }
                    if (element.allowanceType == 'Sunday Allowance') {
                        if (_this.startDate == 1) {
                            _this.driverAllowanceAmount = element.amount;
                            _this.allowances.push({
                                ownerId: _this.user.id,
                                dutyId: _this.details.id,
                                name: 'Driver Allowance',
                                charges: _this.driverAllowanceAmount,
                                fileName: '',
                            });
                            // this.dutiesService.closedutiesExtras(row).subscribe(data=>{})             
                            // this.invoiceForms.push(row);
                        }
                    }
                });
            }
        }
        else if (temp.dType === "Day-KM(Outstation)") {
            if (this.driverAllowanceType) {
                this.driverAllowanceType.forEach(function (element) {
                    if (element.allowanceType == 'Outstation Allowance') {
                        _this.driverAllowanceAmount = element.amount * _this.days;
                        _this.allowances.push({
                            ownerId: _this.user.id,
                            dutyId: _this.details.id,
                            name: 'Driver Allowance',
                            charges: _this.driverAllowanceAmount,
                            fileName: '',
                        });
                        // this.dutiesService.closedutiesExtras(row).subscribe(data=>{})
                        // this.invoiceForms.push(row);
                    }
                    if (element.allowanceType == 'Over time per hour') {
                        var maxHrs = temp.maxHrs;
                        console.log(_this.closeDuty.endTime);
                        console.log(_this.drivers.workingHoursEnd);
                        if (__WEBPACK_IMPORTED_MODULE_5_moment__(_this.closeDuty.endTime, 'HH:mm').diff(__WEBPACK_IMPORTED_MODULE_5_moment__(_this.drivers.workingHoursEnd, 'HH:mm'), "hours") >= 1) {
                            _this.driverAllowanceAmount = (__WEBPACK_IMPORTED_MODULE_5_moment__(_this.closeDuty.endTime, 'HH:mm').diff(__WEBPACK_IMPORTED_MODULE_5_moment__(_this.drivers.workingHoursEnd, 'HH:mm'), "hours") * Number(element.amount));
                            _this.allowances.push({
                                ownerId: _this.user.id,
                                dutyId: _this.details.id,
                                name: 'Driver Allowance',
                                charges: _this.driverAllowanceAmount,
                                fileName: '',
                            });
                            // this.dutiesService.closedutiesExtras(row).subscribe(data=>{})
                            // this.invoiceForms.push(row);
                        }
                    }
                    if (element.allowanceType == 'Outstation Overnight Allowance') {
                        var maxDays = temp.maxDays;
                        if (maxDays > 1) {
                            _this.driverAllowanceAmount = element.amount * _this.days;
                            _this.allowances.push({
                                ownerId: _this.user.id,
                                dutyId: _this.details.id,
                                name: 'Driver Allowance',
                                charges: _this.driverAllowanceAmount,
                                fileName: '',
                            });
                            // this.dutiesService.closedutiesExtras(row).subscribe(data=>{})
                            // this.invoiceForms.push(row);
                        }
                    }
                });
            }
        }
        else if (temp.dType === "Long Duration - Total Km & HR (Monthly Bookings)") {
            if (this.driverAllowanceType) {
                this.driverAllowanceType.forEach(function (element) {
                    if (element.allowanceType == 'Over time per hour') {
                        var maxHrs = temp.maxHrs;
                        console.log(_this.closeDuty.endTime);
                        console.log(_this.drivers.workingHoursEnd);
                        if (__WEBPACK_IMPORTED_MODULE_5_moment__(_this.closeDuty.endTime, 'HH:mm').diff(__WEBPACK_IMPORTED_MODULE_5_moment__(_this.drivers.workingHoursEnd, 'HH:mm'), "hours") >= 1) {
                            _this.driverAllowanceAmount = (__WEBPACK_IMPORTED_MODULE_5_moment__(_this.closeDuty.endTime, 'HH:mm').diff(__WEBPACK_IMPORTED_MODULE_5_moment__(_this.drivers.workingHoursEnd, 'HH:mm'), "hours") * Number(element.amount));
                            _this.allowances.push({
                                ownerId: _this.user.id,
                                dutyId: _this.details.id,
                                name: 'Driver Allowance',
                                charges: _this.driverAllowanceAmount,
                                fileName: '',
                            });
                            // this.dutiesService.closedutiesExtras(row).subscribe(data=>{})
                            // this.invoiceForms.push(row);
                        }
                    }
                    if (element.allowanceType == 'Sunday Allowance') {
                        if (_this.startDate == 1) {
                            _this.driverAllowanceAmount = element.amount;
                            _this.allowances.push({
                                ownerId: _this.user.id,
                                dutyId: _this.details.id,
                                name: 'Driver Allowance',
                                charges: _this.driverAllowanceAmount,
                                fileName: '',
                            });
                            // this.dutiesService.closedutiesExtras(row).subscribe(data=>{})
                            // this.invoiceForms.push(row);
                        }
                    }
                    if (element.allowanceType == 'Night Allowance') {
                        if (_this.details.endTime > '20:00') {
                            _this.driverAllowanceAmount = element.amount;
                            _this.allowances.push({
                                ownerId: _this.user.id,
                                dutyId: _this.details.id,
                                name: 'Driver Allowance',
                                charges: _this.driverAllowanceAmount,
                                fileName: '',
                            });
                            // this.dutiesService.closedutiesExtras(row).subscribe(data=>{})
                            // this.invoiceForms.push(row);
                        }
                    }
                });
            }
        }
        else if (temp.dType === " Long Duration-Total KM Daily HR(Monthly Bookings) ") {
            if (this.driverAllowanceType) {
                this.driverAllowanceType.forEach(function (element) {
                    if (element.allowanceType == 'Over time per hour') {
                        var maxHrs = temp.maxHrs;
                        console.log(_this.closeDuty.endTime);
                        console.log(_this.drivers.workingHoursEnd);
                        if (__WEBPACK_IMPORTED_MODULE_5_moment__(_this.closeDuty.endTime, 'HH:mm').diff(__WEBPACK_IMPORTED_MODULE_5_moment__(_this.drivers.workingHoursEnd, 'HH:mm'), "hours") >= 1) {
                            _this.driverAllowanceAmount = (__WEBPACK_IMPORTED_MODULE_5_moment__(_this.closeDuty.endTime, 'HH:mm').diff(__WEBPACK_IMPORTED_MODULE_5_moment__(_this.drivers.workingHoursEnd, 'HH:mm'), "hours") * Number(element.amount));
                            _this.allowances.push({
                                ownerId: _this.user.id,
                                dutyId: _this.details.id,
                                name: 'Driver Allowance',
                                charges: _this.driverAllowanceAmount,
                                fileName: '',
                            });
                            // this.dutiesService.closedutiesExtras(row).subscribe(data=>{})
                            // this.invoiceForms.push(row);
                        }
                    }
                    if (element.allowanceType == 'Early Start Allowance') {
                        var earlyStart = _this.drivers.workingHoursStart;
                        if (_this.details.startTime < earlyStart) {
                            _this.driverAllowanceAmount = element.amount;
                            _this.allowances.push({
                                ownerId: _this.user.id,
                                dutyId: _this.details.id,
                                name: 'Driver Allowance',
                                charges: _this.driverAllowanceAmount,
                                fileName: '',
                            });
                            // this.dutiesService.closedutiesExtras(row).subscribe(data=>{})
                            // this.invoiceForms.push(row);
                        }
                    }
                    if (element.allowanceType == 'Night Allowance') {
                        if (_this.details.endTime > '20:00') {
                            _this.driverAllowanceAmount = element.amount;
                            _this.allowances.push({
                                ownerId: _this.user.id,
                                dutyId: _this.details.id,
                                name: 'Driver Allowance',
                                charges: _this.driverAllowanceAmount,
                                fileName: '',
                            });
                            // this.dutiesService.closedutiesExtras(row).subscribe(data=>{})
                            // this.invoiceForms.push(row);
                        }
                    }
                });
            }
        }
    };
    ClosedutyComponent.prototype.close = function () {
        var _this = this;
        var i = 0;
        this.closeDuty.endDate = __WEBPACK_IMPORTED_MODULE_5_moment__(this.closeDuty.endDate).format("YYYY-MM-DD");
        this.closeDuty.startDate = __WEBPACK_IMPORTED_MODULE_5_moment__(this.closeDuty.startDate).format("YYYY-MM-DD");
        this.details.status = "Completed";
        this.details.price = this.closeDuty.finalPrice;
        this.dutiesService.updateDutiesClose(this.details);
        this.closeDuty.dutyId = this.details.id;
        this.closeDuty.ownerId = this.user.ownerId;
        this.closeDuty.bookyId = this.details.bid;
        if (this.imgDutySlip != undefined) {
            var type = this.imgDutySlip.type.split("/");
            this.closeDuty.dutySlipFileName = this.details.id + "_dutySlip." + type[1];
        }
        this.dutiesService.closeduties(this.closeDuty).subscribe(function (data) {
            if (_this.imgDutySlipUrl != '') {
                _this.uploadDutySlip();
            }
            if (_this.details.ownerDId != null) {
                _this.closeDuty.dutyId = _this.details.ownerDId;
                _this.closeDuty.ownerId = _this.user.ownerId;
                _this.dutiesService.closeduties(_this.closeDuty).subscribe(function () {
                });
            }
            _this.invoiceForms.value.forEach(function (element) {
                element.ownerId = _this.user.ownerId;
                element.dutyId = _this.details.id;
                var imageName = element.imageName + element.name + ".jpg";
                var tempArr = {
                    ownerId: _this.user.ownerId,
                    dutyId: _this.details.id,
                    name: element.name,
                    charges: element.charges,
                    fileName: element.imageName + element.name + ".jpg"
                };
                _this.dutiesService.closedutiesExtras(tempArr).subscribe(function (data) { });
                if (_this.imgUrl[i] != null)
                    _this.upload(imageName, _this.imgUrl[i]);
                i = i + 1;
            });
            if (_this.allowances.length > 0) {
                _this.allowances.forEach(function (element) {
                    _this.dutiesService.closedutiesExtras(element).subscribe(function (data) { });
                });
            }
            _this.closeBooking();
        });
        this.dialog.close("yes");
    };
    ClosedutyComponent.prototype.closeBooking = function () {
        var _this = this;
        this.dutiesService.checkIfBookingComplete('bid', this.details.bid).subscribe(function (data) {
            var temp = true;
            data.forEach(function (element) {
                if (element.cnt > 0) {
                    console.log("inside");
                    temp = false;
                }
            });
            if (temp == true) {
                console.log("outside");
                _this.dutiesService.completeBooking(_this.details.bid).subscribe(function () {
                    _this.dutiesService.updateTotalPrice(_this.details.bid);
                });
                ;
            }
        });
        if (this.details.supplierBId != null) {
            this.dutiesService.completeBooking(this.details.supplierBId).subscribe(function () {
            });
        }
    };
    ClosedutyComponent.prototype.getPrice = function () {
        var _this = this;
        console.log(this.temp);
        this.pricingService.getCustomerPrice(this.temp).subscribe(function (data) {
            if (data[0]) {
                console.log(data[0]);
                _this.price.baseRate = data[0].baseRate;
                _this.price.extraHrs = data[0].extraHrs;
                _this.price.extraKm = data[0].extraKm;
                _this.closeDuty.extraHrRate = data[0].extraHrs;
                _this.closeDuty.extraKmRate = data[0].extraKm;
            }
            else {
                _this.snackbar.open("Prices not entered", "", { duration: 2000 });
            }
        });
    };
    Object.defineProperty(ClosedutyComponent.prototype, "invoiceForms", {
        get: function () {
            return this.myForm.get('rows');
        },
        enumerable: true,
        configurable: true
    });
    ClosedutyComponent.prototype.getDutyType = function () {
        var temp = {
            id: this.details.dutyTypeId
        };
        return this.dutiesService.getDutyType(temp);
    };
    ClosedutyComponent.prototype.editDS = function () {
        var _this = this;
        this.dutiesService.updateCloseDutyDetails(this.closeDuty).subscribe(function (data) { }, function (err) { }, function () {
            _this.snackbar.open("Details Updated", "X", { duration: 3000 });
            _this.dialog.close();
        });
    };
    /////////////////////Extras/////////////////////////////////
    ClosedutyComponent.prototype.addRow = function () {
        var row = this.fb.group({
            name: '',
            charges: '',
            fileName: '',
            imageName: ''
        });
        this.invoiceForms.push(row);
        this.invoiceForms.controls.forEach(function (element) {
            console.log(element);
        });
    };
    ClosedutyComponent.prototype.deleteRow = function (i) {
        this.invoiceForms.removeAt(i);
        this.imgUrl.splice(i, 1);
    };
    ClosedutyComponent.prototype.imageSelect = function (event, row, i) {
        var _this = this;
        console.log("hi");
        this.selectedFiles = event.target.files;
        var file = event.target.files[0];
        var reader = new FileReader();
        reader.onload = function (e) { return _this.imgUrl[i] = reader.result; };
        row.get('imageName').setValue(this.details.id + '_' + i + '_');
        reader.readAsDataURL(file);
    };
    ClosedutyComponent.prototype.supplierImageSelect = function (event, row, i) {
        var _this = this;
        this.selectedFiles = event.target.files;
        var file = event.target.files[0];
        var reader = new FileReader();
        reader.onload = function (e) { return _this.supplierImgUrl[i] = reader.result; };
        row.get('imageName').setValue(this.supplierDetails.id + '_' + i + '_');
        reader.readAsDataURL(file);
    };
    ClosedutyComponent.prototype.upload = function (filename, imgUrl) {
        this.uploadService.uploadfile(this.user.companyName, 'closeDutyPics/Pictures/' + this.details.id, filename, imgUrl);
    };
    ClosedutyComponent.prototype.supplierUpload = function (filename, imgUrl) {
        this.uploadService.uploadfile(this.companyName, 'closeDutyPics/Pictures/' + this.supplierDetails.id, filename, imgUrl);
    };
    ClosedutyComponent.prototype.uploadDutySlip = function () {
        return __awaiter(this, void 0, void 0, function () {
            var uploadData, headers, body;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(this.imgDutySlipUrl != '')) return [3 /*break*/, 2];
                        uploadData = new FormData();
                        uploadData.append(this.user.companyName + "/" + "dutySlip/" + this.closeDuty.dutySlipFileName, this.imgDutySlip, 'dutySlipImage');
                        headers = new Headers();
                        headers.append('Content-Type', 'multipart/form-data');
                        headers.append('Accept', 'application/json');
                        body = JSON.stringify({ headers: headers });
                        return [4 /*yield*/, this.http.post("/files/uploadS3", uploadData, body).map(function (res) { return res.json(); }).subscribe(function (data) {
                                if (data.success) {
                                    // this.snackBar.open("Flight Details Updated","X",{duration: 3000});
                                }
                            })];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    ClosedutyComponent.prototype.uploadSupplierDutySlip = function () {
        return __awaiter(this, void 0, void 0, function () {
            var uploadData, headers, body;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(this.supplierImgDutySlipUrl != '')) return [3 /*break*/, 2];
                        uploadData = new FormData();
                        uploadData.append(this.companyName + "/" + "dutySlip/" + this.supplierCloseDuty.dutySlipFileName, this.supplierImgDutySlip, 'dutySlipImage');
                        headers = new Headers();
                        headers.append('Content-Type', 'multipart/form-data');
                        headers.append('Accept', 'application/json');
                        body = JSON.stringify({ headers: headers });
                        return [4 /*yield*/, this.http.post("/files/uploadS3", uploadData, body).map(function (res) { return res.json(); }).subscribe(function (data) {
                                if (data.success) {
                                    // this.snackBar.open("Flight Details Updated","X",{duration: 3000});
                                }
                            })];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    ClosedutyComponent.prototype.closeDialog = function () {
        this.dialog.close("no");
    };
    ClosedutyComponent.prototype.selectDutySlipFile = function (event) {
        var _this = this;
        this.selectedFiles = event.target.files;
        this.imgDutySlip = event.target.files[0];
        var file = event.target.files[0];
        var reader = new FileReader();
        reader.onload = function (e) { return _this.imgDutySlipUrl = reader.result; };
        this.imgDutySlipName = this.imgDutySlip.name;
        reader.readAsDataURL(file);
    };
    ClosedutyComponent.prototype.selectSupplierDutySlipFile = function (event) {
        var _this = this;
        this.selectedFiles = event.target.files;
        this.supplierImgDutySlip = event.target.files[0];
        var file = event.target.files[0];
        var reader = new FileReader();
        reader.onload = function (e) { return _this.supplierImgDutySlipUrl = reader.result; };
        this.supplierImgDutySlipName = this.supplierImgDutySlip.name;
        reader.readAsDataURL(file);
    };
    ClosedutyComponent.prototype.removeDutySlipPhoto = function () {
        this.imgDutySlipUrl = '';
        this.previousImgDutySlipUrl = '';
        this.closeDuty.licenseFileName = '';
        this.imgDutySlipName = '';
    };
    ClosedutyComponent.prototype.removeSupplierDutySlipPhoto = function () {
        this.supplierImgDutySlipUrl = '';
        this.supplierPreviousImgDutySlipUrl = '';
        this.supplierCloseDuty.licenseFileName = '';
        this.supplierImgDutySlipName = '';
    };
    ClosedutyComponent.prototype.calculateSupplierPrice = function () {
        var _this = this;
        if (this.supplierCloseDuty.endDate == '' || this.supplierCloseDuty.startTime == '' || this.supplierCloseDuty.endTime == '' || this.supplierCloseDuty.startKm == '' || this.supplierCloseDuty.endKm == '') {
            this.snackbar.open("Required fields are empty", "", { duration: 2000 });
        }
        else {
            this.getSupplierDetails();
            var DutyType;
            this.getSupplierDutyType().subscribe(function (data) {
                console.log(data);
                DutyType = data;
                _this.fillPrices(DutyType[0]);
                _this.addDriverAllowance(DutyType[0]);
            });
            this.addSupplierExtraCharges();
        }
    };
    ClosedutyComponent.prototype.getSupplierDetails = function () {
        var sDate = this.supplierDetails.startDate;
        var eDate = this.supplierDetails.endDate;
        var stime = "T" + this.supplierDetails.startTime + ":00Z";
        var etime = "T" + this.supplierDetails.endTime + ":00Z";
        var startDate = new Date(sDate + stime);
        var endDate = new Date(eDate + etime);
        this.supplierTotalHours = (__WEBPACK_IMPORTED_MODULE_5_moment__(endDate).diff(startDate, 'hours'));
        this.supplierTotalDays = (__WEBPACK_IMPORTED_MODULE_5_moment__(endDate).diff(startDate, 'days'));
    };
    ClosedutyComponent.prototype.getSupplierDutyType = function () {
        var temp = {
            id: this.supplierDetails.dutyTypeId
        };
        return this.dutiesService.getDutyType(temp);
    };
    ClosedutyComponent.prototype.fillSupplierPrices = function (temp) {
        var _this = this;
        var startTime = __WEBPACK_IMPORTED_MODULE_5_moment__(__WEBPACK_IMPORTED_MODULE_5_moment__(this.supplierCloseDuty.startDate).format("YYYY-MM-DD") + " " + this.supplierCloseDuty.startTime, "YYYY-MM-DD HH:mm a");
        var endTime = __WEBPACK_IMPORTED_MODULE_5_moment__(__WEBPACK_IMPORTED_MODULE_5_moment__(this.supplierCloseDuty.endDate).format("YYYY-MM-DD") + " " + this.supplierCloseDuty.endTime, "YYYY-MM-DD HH:mm a");
        // this.closeDuty.endTime= moment(this.closeDuty.endTime, "HH:mm a");
        // this.closeDuty.startTime=moment(this.closeDuty.startTime, "HH:mm a");
        var totalHrs = endTime.diff(startTime, 'hours');
        var totalMins = endTime.diff(startTime, 'minutes');
        var clearMins = totalMins % 60;
        this.supplierTotalTime = totalHrs + "hrs " + clearMins + "mins";
        this.supplierTotalKM = this.supplierCloseDuty.endKm - this.supplierCloseDuty.startKm;
        if (temp.maxHrs == '' || totalHrs < temp.maxHrs) {
            this.supplierExtraTime = 0;
        }
        else {
            this.supplierExtraTime = (totalHrs - temp.maxHrs) + "hrs " + clearMins + "mins";
        }
        if (temp.maxKms == '') {
            this.supplierExtraKM = 0;
        }
        else if (temp.maxKms < this.totalKM) {
            this.supplierExtraKM = Number(this.supplierTotalKM) - Number(temp.maxKms);
        }
        if (this.supplierCloseDuty.extraKmRate != 0 || this.supplierCloseDuty.extraHrRate != 0) {
            if (temp.dType === "Flat Rate") {
                this.supplierCloseDuty.finalPrice = this.supplierDetails.price;
            }
            else if (temp.dType === "HR-KM(Local)") {
                var maxKm = temp.maxKms;
                var endKm = this.supplierCloseDuty.endKm - this.supplierCloseDuty.startKm;
                var maxHrs = temp.maxHrs;
                this.supplierCloseDuty.finalPrice = this.supplierDetails.price;
                if (endKm > maxKm) {
                    this.supplierExtraKMCost = ((endKm - maxKm) * this.supplierCloseDuty.extraKmRate);
                    this.supplierAllowances.push({
                        ownerId: this.supplierDetails.ownerId,
                        dutyId: this.supplierDetails.id,
                        name: 'Extra Km',
                        charges: ((endKm - maxKm) * this.supplierCloseDuty.extraKmRate),
                        fileName: '',
                    });
                }
                if (this.supplierTotalHours > maxHrs) {
                    this.supplierExtraTimeCost = ((this.supplierTotalHours - maxHrs) * this.supplierCloseDuty.extraHrRate);
                    this.supplierAllowances.push({
                        ownerId: this.supplierDetails.ownerId,
                        dutyId: this.supplierDetails.id,
                        name: 'Extra Hrs',
                        charges: ((this.supplierTotalHours - maxHrs) * this.supplierCloseDuty.extraHrRate),
                        fileName: '',
                    });
                }
            }
            else if (temp.dType === "Day-KM(Outstation)") {
                var maxKm = temp.maxKms;
                var endKm = this.supplierCloseDuty.endKm - this.supplierCloseDuty.startKm;
                if (endKm > maxKm) {
                    this.supplierExtraKMCost = ((endKm - maxKm) * this.supplierCloseDuty.extraKmRate);
                    this.supplierAllowances.push({
                        ownerId: this.supplierDetails.ownerId,
                        dutyId: this.supplierDetails.id,
                        name: 'Extra Km',
                        charges: ((endKm - maxKm) * this.supplierCloseDuty.extraKmRate),
                        fileName: '',
                    });
                }
                this.supplierCloseDuty.finalPrice = this.supplierDetails.price;
                console.log(this.closeDuty.finalPrice);
            }
            else if (temp.dType === "Long Duration - Total Km & HR (Monthly Bookings)") {
                var maxDays = temp.maxDays;
                var maxHrs = temp.maxHrs;
                var maxKm = temp.totalKms;
                var endKm_5 = 0;
                var totalTime_3 = 0;
                this.dutiesService.countIncompleteDuties(this.supplierDetails).subscribe(function (data) {
                    if (data[0].cnt == 1) {
                        _this.dutiesService.getTotalKms(_this.supplierDetails).subscribe(function (data) {
                            endKm_5 = data[0].diff;
                        });
                        _this.dutiesService.getTotalSeconds(_this.supplierDetails).subscribe(function (data) {
                            totalTime_3 = (data[0].seconds / 3600);
                        });
                    }
                });
                if (endKm_5 > maxKm) {
                    this.supplierExtraKMCost = ((endKm_5 - maxKm) * this.supplierCloseDuty.extraKmRate);
                    this.supplierAllowances.push({
                        ownerId: this.supplierDetails.ownerId,
                        dutyId: this.supplierDetails.id,
                        name: 'Extra Km',
                        charges: ((endKm_5 - maxKm) * this.supplierCloseDuty.extraKmRate),
                        fileName: '',
                    });
                }
                if (totalTime_3 > maxHrs) {
                    this.supplierExtraTimeCost = ((totalTime_3 - maxHrs) * this.supplierCloseDuty.extraHrRate);
                    this.supplierAllowances.push({
                        ownerId: this.supplierDetails.ownerId,
                        dutyId: this.supplierDetails.id,
                        name: 'Extra Hrs',
                        charges: ((totalTime_3 - maxHrs) * this.supplierCloseDuty.extraHrRate),
                        fileName: '',
                    });
                }
                this.supplierCloseDuty.finalPrice = this.supplierDetails.price;
            }
            else if (temp.dType === " Long Duration-Total KM Daily HR(Monthly Bookings) ") {
                var maxDays = temp.maxDays;
                var maxHrs = temp.maxHrs;
                var maxKm = temp.totalKms;
                var endKm_6 = 0;
                this.dutiesService.countIncompleteDuties(this.supplierDetails).subscribe(function (data) {
                    if (data[0].cnt == 1) {
                        _this.dutiesService.getTotalKms(_this.supplierDetails).subscribe(function (data) {
                            endKm_6 = data[0].diff;
                        });
                    }
                });
                if (endKm_6 > maxKm) {
                    this.supplierExtraKMCost = ((endKm_6 - maxKm) * this.supplierCloseDuty.extraKmRate);
                    this.supplierAllowances.push({
                        ownerId: this.supplierDetails.ownerId,
                        dutyId: this.supplierDetails.id,
                        name: 'Extra Km',
                        charges: ((endKm_6 - maxKm) * this.supplierCloseDuty.extraKmRate),
                        fileName: '',
                    });
                }
                if (this.supplierTotalDays > maxDays || this.supplierTotalHours > maxHrs) {
                    this.supplierExtraTimeCost = ((this.supplierTotalHours - maxHrs) * this.supplierCloseDuty.extraHrRate) + ((this.supplierTotalDays - maxDays) * 24 * this.supplierCloseDuty.extraHrRate);
                    this.supplierAllowances.push({
                        ownerId: this.supplierDetails.ownerId,
                        dutyId: this.supplierDetails.id,
                        name: 'Extra Hrs',
                        charges: ((this.supplierTotalHours - maxHrs) * this.supplierCloseDuty.extraHrRate) + ((this.supplierTotalDays - maxDays) * 24 * this.supplierCloseDuty.extraHrRate),
                        fileName: '',
                    });
                }
                this.supplierCloseDuty.finalPrice = this.supplierDetails.price;
            }
        }
        // else {
        //   if(temp.dType==="Flat Rate") {
        //     this.supplierCloseDuty.finalPrice=this.price.baseRate
        //   }
        //   else if(temp.dType==="HR-KM(Local)") {
        //     let maxKm:number=temp.maxKms;
        //     let endKm:number=this.closeDuty.endKm-this.closeDuty.startKm;
        //     let maxHrs:number=temp.maxHrs;
        //     this.closeDuty.finalPrice=this.price.baseRate;
        //     if(endKm>maxKm)
        //     {
        //       this.extraKMCost = ((endKm-maxKm)*this.price.extraKm);
        //       this.allowances.push({
        //         ownerId: this.user.id,
        //         dutyId: this.details.id,
        //         name: 'Extra Km',
        //         charges: ((endKm-maxKm)*this.price.extraKm),
        //         fileName: '',                
        //       })          
        //     }
        //     if(this.totalHours>maxHrs)
        //     {
        //       this.extraTimeCost = ((this.totalHours-maxHrs)*this.price.extraHrs);
        //       this.allowances.push({
        //         ownerId: this.user.id,
        //         dutyId: this.details.id,
        //         name: 'Extra Hrs',
        //         charges: ((this.totalHours-maxHrs)*this.price.extraHrs),
        //         fileName: '',
        //       })          
        //     }
        //   }
        //   else if(temp.dType==="Day-KM(Outstation)")
        //   {
        //     let maxKm:number=temp.maxKms;
        //     let endKm:number=this.closeDuty.endKm-this.closeDuty.startKm;
        //     if(endKm>maxKm)
        //     {
        //       this.extraKMCost = ((endKm-maxKm)*this.price.extraKm);
        //       this.allowances.push({
        //         ownerId: this.user.id,
        //         dutyId: this.details.id,
        //         name: 'Extra Km',
        //         charges: ((endKm-maxKm)*this.price.extraKm),
        //         fileName: '',
        //       })          
        //     }
        //       this.closeDuty.finalPrice=this.price.baseRate
        //     console.log(this.closeDuty.finalPrice)
        //   }
        //   else if(temp.dType==="Long Duration - Total Km and HR (Monthly Bookings)")
        //   {
        //       let maxDays=temp.maxDays
        //       let maxHrs=temp.maxHrs
        //       let maxKm=temp.totalKms
        //       let endKm:number = 0
        //       let totalTime:number = 0
        //       this.dutiesService.countIncompleteDuties(this.details).subscribe(data => {
        //         if(data[0].cnt == 1) {
        //           this.dutiesService.getTotalKms(this.details).subscribe(data => {
        //             endKm = data[0].diff;
        //           })
        //           this.dutiesService.getTotalSeconds(this.details).subscribe(data => {
        //             totalTime = (data[0].seconds/3600)
        //           })
        //         }
        //       })
        //       if(endKm>maxKm)
        //       {
        //         this.extraKMCost = ((endKm-maxKm)*this.price.extraKm);
        //         this.allowances.push({
        //           ownerId: this.user.id,
        //           dutyId: this.details.id,
        //           name: 'Extra Km',
        //           charges: ((endKm-maxKm)*this.price.extraKm),
        //           fileName: '',                
        //         })            
        //       }
        //       // if(this.totalDays>maxDays || this.totalHours>maxHrs)
        //       if(totalTime>maxHrs)
        //       {
        //         this.extraTimeCost = ((totalTime-maxHrs)*this.price.extraHrs);
        //         this.allowances.push({
        //           ownerId: this.user.id,
        //           dutyId: this.details.id,
        //           name: 'Extra Hrs',
        //           charges: ((totalTime-maxHrs)*this.price.extraHrs),
        //           fileName: '',                
        //         })
        //       }
        //          this.closeDuty.finalPrice=this.price.baseRate
        //   }
        //   else if(temp.dType===" Long Duration-Total KM Daily HR(Monthly Bookings) ")
        //   {
        //     let maxDays=temp.maxDays
        //     let maxHrs=temp.maxHrs
        //     let maxKm=temp.totalKms
        //     let endKm:number = 0
        //     this.dutiesService.countIncompleteDuties(this.details).subscribe(data => {
        //       if(data[0].cnt == 1) {
        //         this.dutiesService.getTotalKms(this.details).subscribe(data => {
        //           endKm = data[0].diff;
        //         })
        //       }
        //     })
        //     if(endKm>maxKm)
        //     {
        //       this.extraKMCost = ((endKm-maxKm)*this.closeDuty.extraKmRate);
        //       this.allowances.push({
        //         ownerId: this.user.id,
        //         dutyId: this.details.id,
        //         name: 'Extra Km',
        //         charges: ((endKm-maxKm)*this.price.extraKm),
        //         fileName: '',                
        //       })            
        //     }
        //     if(this.totalDays>maxDays || this.totalHours>maxHrs)
        //     // if(totalTime>maxHrs)
        //     {
        //       this.extraTimeCost = ((this.totalHours-maxHrs)*this.closeDuty.extraHrRate);
        //       this.allowances.push({
        //         ownerId: this.user.id,
        //         dutyId: this.details.id,
        //         name: 'Extra Hrs',
        //         charges: ((this.totalHours-maxHrs)*this.price.extraHrs)+((this.totalDays-maxDays)*24*this.price.extraHrs),
        //         fileName: '',                
        //       })
        //     }
        //     this.closeDuty.finalPrice=this.price.baseRate
        //   }
        // }
    };
    ClosedutyComponent.prototype.addSupplierExtraCharges = function () {
        this.supplierForm.value.forEach(function (element) {
            console.log(element);
        });
    };
    ClosedutyComponent.prototype.closeSupplier = function () {
        var _this = this;
        var i = 0;
        this.supplierCloseDuty.endDate = __WEBPACK_IMPORTED_MODULE_5_moment__(this.supplierCloseDuty.endDate).format("YYYY-MM-DD");
        this.supplierCloseDuty.startDate = __WEBPACK_IMPORTED_MODULE_5_moment__(this.supplierCloseDuty.startDate).format("YYYY-MM-DD");
        this.supplierDetails.status = "Completed";
        this.supplierDetails.price = this.supplierCloseDuty.finalPrice;
        this.dutiesService.updateDutiesClose(this.supplierDetails);
        this.supplierDetails.dutyId = this.supplierDetails.id;
        this.supplierCloseDuty.bookyId = this.supplierDetails.bid;
        if (this.supplierImgDutySlip != undefined) {
            var type = this.supplierImgDutySlip.type.split("/");
            this.supplierCloseDuty.dutySlipFileName = this.supplierDetails.id + "_dutySlip." + type[1];
        }
        this.dutiesService.closeduties(this.supplierCloseDuty).subscribe(function (data) {
            if (_this.supplierImgDutySlipUrl != '') {
                _this.uploadSupplierDutySlip();
            }
            if (_this.supplierDetails.ownerDId != null) {
                _this.supplierCloseDuty.dutyId = _this.supplierDetails.ownerDId;
                _this.dutiesService.closeduties(_this.supplierCloseDuty).subscribe(function () {
                });
            }
            _this.supplierInvoiceForms.value.forEach(function (element) {
                element.ownerId = _this.user.ownerId;
                element.dutyId = _this.details.id;
                var imageName = element.imageName + element.name + ".jpg";
                var tempArr = {
                    ownerId: _this.supplierDetails.ownerId,
                    dutyId: _this.supplierDetails.id,
                    name: element.name,
                    charges: element.charges,
                    fileName: element.imageName + element.name + ".jpg"
                };
                _this.dutiesService.closedutiesExtras(tempArr).subscribe(function (data) { });
                if (_this.supplierImgUrl[i] != null)
                    _this.upload(imageName, _this.supplierImgUrl[i]);
                i = i + 1;
            });
            if (_this.supplierAllowances.length > 0) {
                _this.supplierAllowances.forEach(function (element) {
                    _this.dutiesService.closedutiesExtras(element).subscribe(function (data) { });
                });
            }
            _this.closeSupplierBooking();
        });
        this.dialog.close("yes");
    };
    ClosedutyComponent.prototype.closeSupplierBooking = function () {
        var _this = this;
        this.dutiesService.checkIfBookingComplete('bid', this.supplierDetails.bid).subscribe(function (data) {
            var temp = true;
            data.forEach(function (element) {
                if (element.cnt > 0) {
                    console.log("inside");
                    temp = false;
                }
            });
            if (temp == true) {
                console.log("outside");
                _this.dutiesService.completeBooking(_this.supplierDetails.bid).subscribe(function () {
                    _this.dutiesService.updateTotalPrice(_this.supplierDetails.bid);
                });
                ;
            }
        });
        if (this.supplierDetails.supplierBId != null) {
            this.dutiesService.completeBooking(this.supplierDetails.supplierBId).subscribe(function () { });
        }
    };
    ClosedutyComponent.prototype.addSupplierRow = function () {
        var row = this.fb.group({
            name: '',
            charges: '',
            fileName: '',
            imageName: ''
        });
        this.supplierInvoiceForms.push(row);
        this.supplierInvoiceForms.controls.forEach(function (element) {
            console.log(element);
        });
    };
    ClosedutyComponent.prototype.deleteSupplierRow = function (i) {
        this.supplierInvoiceForms.removeAt(i);
        this.supplierImgUrl.splice(i, 1);
    };
    Object.defineProperty(ClosedutyComponent.prototype, "supplierInvoiceForms", {
        get: function () {
            return this.supplierForm.get('rows');
        },
        enumerable: true,
        configurable: true
    });
    ClosedutyComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-closeduty',
            template: __webpack_require__("./src/app/pages/duties/closeduty/closeduty.component.html"),
            styles: [__webpack_require__("./src/app/pages/duties/closeduty/closeduty.component.scss")]
        }),
        __param(2, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_2__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_material__["p" /* MatDialogRef */],
            __WEBPACK_IMPORTED_MODULE_4__angular_forms__["b" /* FormBuilder */], Object, __WEBPACK_IMPORTED_MODULE_6__masters_dutytype_duty_type_service__["a" /* DutyTypeService */],
            __WEBPACK_IMPORTED_MODULE_3__duties_service__["a" /* DutiesService */],
            __WEBPACK_IMPORTED_MODULE_7__masters_pricing_pricing_service__["a" /* PricingService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_8__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_9__circles_businesssetting_businesssetting_service__["a" /* BusinesssettingService */],
            __WEBPACK_IMPORTED_MODULE_10__masters_new_driver_driver_service__["a" /* DriverService */],
            __WEBPACK_IMPORTED_MODULE_11__fileupload_service__["a" /* FileuploadService */],
            __WEBPACK_IMPORTED_MODULE_12__operations_new_billing_billing_service__["a" /* BillingService */],
            __WEBPACK_IMPORTED_MODULE_15__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_16__circles_companyprofile_companyprofile_service__["a" /* CompanyprofileService */]])
    ], ClosedutyComponent);
    return ClosedutyComponent;
}());



/***/ }),

/***/ "./src/app/pages/duties/createplacard/createplacard.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-body>\n        <h2>Create Placard</h2>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-body>\n        <table>\n          <tr>\n            <td>Title</td>\n          </tr>\n          <tr>\n            <td>\n              <mat-form-field>\n                <input matInput [(ngModel)]=\"duty.title1\">\n              </mat-form-field>\n            </td>\n          </tr>\n          <tr>\n            <td>Title 2</td>\n          </tr>\n          <tr>\n            <td>\n              <mat-form-field>\n                <input matInput [(ngModel)]=\"duty.title2\">\n              </mat-form-field>\n            </td>\n          </tr>\n          <tr>\n            <td>Subtitle</td>\n          </tr>\n          <tr>\n            <td>\n              <mat-form-field>\n                <input matInput [(ngModel)]=\"duty.subTitle\">\n              </mat-form-field>\n            </td>\n          </tr>\n        </table>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12 col-12\">\n    <button mat-raised-button color=\"primary\" (click)=\"createPlacard()\">Create Placard</button>\n    <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n  </div>\n</div>  "

/***/ }),

/***/ "./src/app/pages/duties/createplacard/createplacard.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/duties/createplacard/createplacard.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateplacardComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};


var CreateplacardComponent = (function () {
    function CreateplacardComponent(matDialogRef, data, dialog) {
        this.matDialogRef = matDialogRef;
        this.data = data;
        this.dialog = dialog;
        this.duty = {};
        if (data != null)
            this.duty = data;
    }
    CreateplacardComponent.prototype.ngOnInit = function () {
    };
    CreateplacardComponent.prototype.createPlacard = function () {
        this.matDialogRef.close(this.duty);
    };
    CreateplacardComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    CreateplacardComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-createplacard',
            template: __webpack_require__("./src/app/pages/duties/createplacard/createplacard.component.html"),
            styles: [__webpack_require__("./src/app/pages/duties/createplacard/createplacard.component.scss")]
        }),
        __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_material__["p" /* MatDialogRef */], Object, __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */]])
    ], CreateplacardComponent);
    return CreateplacardComponent;
}());



/***/ }),

/***/ "./src/app/pages/duties/details/details.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div style=\"margin-bottom:-12px;\" class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        Duty Details\n        <mat-chip-list style=\"float: right\">\n          <mat-chip color=\"primary\" selected=\"true\">{{detailsT.status}}</mat-chip>\n        </mat-chip-list>  \n      </nb-card-header>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-6\">\n    <nb-card>\n      <nb-card-body>\n        <mat-list>\n          <mat-list-item role=\"listitem\" class=\"list-height\"><b>Customer:</b> &nbsp;{{detailsT.cname}}</mat-list-item>\n          <mat-divider></mat-divider>\n          <mat-list-item role=\"listitem\"><b>Booked By:</b> &nbsp;{{detailsT.bookBy}}</mat-list-item>\n          <mat-divider></mat-divider>\n          <mat-list-item role=\"listitem\"><b>Passenger:</b>&nbsp; {{detailsT.passenger}}</mat-list-item>\n          <!-- <mat-divider></mat-divider>\n          <mat-list-item role=\"listitem\"><b>ID: </b> &nbsp;{{detailsT.id}}</mat-list-item>  -->\n        </mat-list>\n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"col-lg-6\">\n    <nb-card>\n      <nb-card-body>\n        <mat-list>\n          <mat-list-item role=\"listitem\"><b>Start from Garage:</b>&nbsp;{{detailsT.startFromGarage}}</mat-list-item>\n          <mat-divider></mat-divider>\n          <mat-list-item role=\"listitem\"><b>Reporting Time:</b>&nbsp;{{detailsT.reportingTime}}</mat-list-item>  \n          <mat-divider></mat-divider>\n          <mat-list-item role=\"listitem\"><b>Start Date:</b>&nbsp;{{detailsT.startDate}}</mat-list-item>  \n        </mat-list>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-6\">\n    <nb-card>\n      <nb-card-body>\n        <mat-list>\n          <mat-list-item role=\"listitem\"><b>From:</b>&nbsp;{{detailsT.fromLoc}}</mat-list-item>\n          <mat-divider></mat-divider>\n          <mat-list-item role=\"listitem\"><b>To:</b>&nbsp;{{detailsT.toLoc}}</mat-list-item>\n          <!-- <mat-divider></mat-divider> -->\n          <!-- <mat-list-item role=\"listitem\"><b>Bill To:</b>&nbsp;{{detailsT.billTo}}</mat-list-item> -->\n        </mat-list>\n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"col-lg-6\">\n    <nb-card>\n      <nb-card-body>\n        <mat-list>\n          <mat-list-item role=\"listitem\"><b>Duty Type:</b>&nbsp;{{detailsT.dutyType}}</mat-list-item>\n          <mat-divider></mat-divider>\n          <mat-list-item role=\"listitem\"><b>Vehicle Group:</b>&nbsp;{{detailsT.vehicleGroup}}</mat-list-item>\n          <!-- <mat-divider></mat-divider> -->\n          <!-- <mat-list-item role=\"listitem\" class=\"list-height\"><b>Customer:</b>&nbsp;{{detailsT.cname}}</mat-list-item> -->\n        </mat-list>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-6\">\n    <nb-card>\n      <nb-card-body>\n        <mat-list>\n          <!-- <mat-list-item role=\"listitem\"><b>Booked By:</b>&nbsp;{{detailsT.bookBy}}</mat-list-item>\n          <mat-divider></mat-divider> -->\n          <mat-list-item role=\"listitem\" class=\"list-height\"><b>Reporting Address:</b>&nbsp;{{detailsT.reportingAddress}}</mat-list-item>\n          <mat-divider></mat-divider>\n          <mat-list-item role=\"listitem\" class=\"list-height\"><b>Drop Address:</b> &nbsp;{{detailsT.dropAddress}}</mat-list-item>\n        </mat-list>\n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"col-lg-6\">\n    <nb-card>\n      <nb-card-body>\n        <mat-list>\n          <mat-list-item role=\"listitem\"><b>Price:</b>&nbsp; {{detailsT.price}}</mat-list-item>\n          <!-- <mat-divider></mat-divider>\n          <mat-list-item role=\"listitem\"><b>Passenger:</b>&nbsp; {{detailsT.passenger}}</mat-list-item> -->\n          <mat-divider></mat-divider>\n          <mat-list-item role=\"listitem\" class=\"list-height\"><b>Remarks:</b>&nbsp; {{detailsT.remarks}}</mat-list-item>\n        </mat-list>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-body>\n        <mat-list>\n          <mat-list-item role=\"listitem\" class=\"list-height\"><b>Operator Notes:</b>&nbsp; {{detailsT.operatorNotes}}</mat-list-item>\n          <mat-divider></mat-divider>\n          <mat-list-item role=\"listitem\"><b>Driver:</b>&nbsp; {{detailsT.driver}}</mat-list-item>\n          <mat-divider></mat-divider>\n          <mat-list-item role=\"listitem\"><b>Vehicle:</b>&nbsp; {{detailsT.vehicle}}</mat-list-item>\n          <mat-divider></mat-divider>\n          <mat-list-item role=\"listitem\"><b>Dispatch Center:</b>&nbsp; {{detailsT.dispatchCenter}}</mat-list-item>\n        </mat-list>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-12\">\n      <button mat-raised-button color=\"warn\" style=\"float:right;\" (click)=\"closeDialog()\">Close</button>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/pages/duties/details/details.component.scss":
/***/ (function(module, exports) {

module.exports = ".mat-chip {\n  margin-top: -5px;\n  margin-right: 10px; }\n\n@media only screen and (max-width: 500px) {\n  .list-height {\n    height: auto !important;\n    padding: 5px !important; } }\n"

/***/ }),

/***/ "./src/app/pages/duties/details/details.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DetailsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__duties_service__ = __webpack_require__("./src/app/pages/duties/duties.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};



var DetailsComponent = (function () {
    function DetailsComponent(dialog, details, data, dutiesService) {
        this.dialog = dialog;
        this.details = details;
        this.data = data;
        this.dutiesService = dutiesService;
        this.detailsT = {};
        console.log(data);
        this.detailsT = data.row;
    }
    DetailsComponent.prototype.ngOnInit = function () {
    };
    DetailsComponent.prototype.save = function () {
        // this.dutiesService.updateduties()
    };
    DetailsComponent.prototype.closeDialog = function () {
        this.dialog.close();
    };
    DetailsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-details',
            template: __webpack_require__("./src/app/pages/duties/details/details.component.html"),
            styles: [__webpack_require__("./src/app/pages/duties/details/details.component.scss")]
        }),
        __param(2, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_2__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_material__["p" /* MatDialogRef */],
            __WEBPACK_IMPORTED_MODULE_1__duties_service__["a" /* DutiesService */], Object, __WEBPACK_IMPORTED_MODULE_1__duties_service__["a" /* DutiesService */]])
    ], DetailsComponent);
    return DetailsComponent;
}());



/***/ }),

/***/ "./src/app/pages/duties/driverallotment/driverallotment.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n  <nb-card>\n    <nb-card-header>\n      Duty Allotment\n    </nb-card-header>\n    <nb-card-body>\n      <div class=\"modal-row\">\n        <div style=\"margin-left:20px;\" class=\"col-lg-6\">\n          <div style=\"padding:5px;\">\n            Customer Name: <b>{{duty.cname}}</b>\n          </div>\n          <div style=\"padding:5px;\">\n            Date:<b>{{duty.startDate}}</b>\n          </div>\n          <div style=\"padding:5px;\">\n            Vehicle Group: <b>{{duty.vehicleGroup}}</b>\n          </div>\n        </div>\n        <mat-divider [vertical]=\"true\"></mat-divider>\n        <div style=\"margin-left:20px;\" class=\"col-lg-5\">\n          <div style=\"padding:5px;\">\n            Passenger Name: <b>{{duty.passenger}}</b>\n          </div>\n          <div style=\"padding:5px;\">\n            Short Reporting Address: <b>{{duty.shortReportingAddress}}</b>\n          </div>\n          <div style=\"padding:5px;\">\n            Duty Type: <b>{{duty.dutyType}}</b>\n          </div>\n        </div>\n        <div class=\"col-lg-12\">\n          <div align=\"center\" style=\"padding:5px;\">\n            <mat-form-field>\n              <mat-select placeholder=\"Allot\" [(ngModel)]=\"dropDown\">\n                <mat-option value=\"driver\">\n                  Driver/Vehicle\n                </mat-option>\n                <mat-option value=\"supplier\" *ngIf=\"duty.ownerDId == null\">\n                  Supplier\n                </mat-option>\n              </mat-select>\n            </mat-form-field>\n          </div>\n          <div>\n            <div align=\"center\" *ngIf=\"dropDown==='driver'\"><h5>Allot Vehicle & Driver</h5></div>\n            <div align=\"center\"  *ngIf=\"dropDown==='supplier'\"><h5>Allot to Supplier</h5></div>\n            <div *ngIf=\"dropDown==='driver'\" >\n              <table align=\"center\" style=\"width:90%\">\n                <tr>\n                  <th>\n                    Model Name\n                  </th>\n                  <th>\n                    Number\n                  </th>\n                  <th>\n                    Driver\n                  </th>\n                  <th>\n                    Status\n                  </th>\n                  <th></th>\n                </tr>\n                <tr *ngFor=\"let temp of dataSource1; let i=index\">\n                  <td class=\"driver-td\">\n                    {{temp.modelname}}\n                  </td>\n                  <td class=\"driver-td\">\n                    {{temp.number}}\n                  </td>\n                  <td class=\"driver-td\" [formGroup]=\"allotForm\">\n                    <mat-form-field *ngIf=\"duty.dutyType!='Self Drive'\" style=\"padding-left:10px\">\n                      <mat-select placeholder=\"Choose Driver\" formControlName=\"driver\">\n                        <mat-select-trigger>\n                          {{this.allotForm.get('driver').value}} <mat-icon *ngIf=\"mobileIcon\">phone_iphone</mat-icon>\n                        </mat-select-trigger>\n                        <mat-option *ngFor=\"let temp of DriverObs\" [value]=\"temp.name\" (click)=\"allotDriver(temp)\">\n                          {{temp.name}} <mat-icon *ngIf=\"temp.userId != null\">phone_iphone</mat-icon>\n                        </mat-option>\n                      </mat-select>\n                    </mat-form-field>\n                    <div *ngIf=\"duty.dutyType=='Self Drive'\">\n                      <b>Self Drive</b>\n                    </div>\n                  </td>\n                  <td class=\"driver-td\">\n                    <mat-chip-list>\n                      <mat-chip color=\"primary\" selected *ngIf=\"test1[i]\">Available</mat-chip>                                                                     \n                      <mat-chip color=\"warn\" selected matTooltip=\"Available after -\" *ngIf=\"!test1[i]\">Unavailable</mat-chip>\n                    </mat-chip-list>\n                  </td>\n                  <td class=\"driver-td\">\n                    <button mat-raised-button color=\"primary\"(click)=\"updateAllot(temp)\" *ngIf=\"test1[i]\">Allot</button>\n                  </td>\n                </tr>\n              </table>\n            </div>\n            <div *ngIf=\"dropDown==='supplier'\">\n                <table align=\"center\" style=\"width:90%\">\n                  <thead>\n                    <th>Supplier Name</th>\n                    <th>Phone Number</th>\n                    <th>Email</th>\n                    <th>City</th>\n                    <th>&#10004;</th>\n                  </thead>\n                  <tr *ngFor=\"let temp of supplierObs\" >\n                    <td class=\"supplier-td\">\n                        <b><mat-icon matTooltip=\"From Circles\" *ngIf=\"temp.supplierOwnerId\">cloud</mat-icon>\n                          <mat-icon matTooltip=\"Supplier-cum-Driver\" *ngIf=\"temp.type=='Owner-cum-Driver'\">transfer_within_a_station</mat-icon>\n                        </b>\n                        {{temp.name}}\n                    </td>\n                    <td class=\"supplier-td\">\n                        {{temp.phone}}\n                    </td>\n                    <td class=\"supplier-td\">\n                        {{temp.email}}\n                    </td>\n                    <td class=\"supplier-td\">\n                        {{temp.headOfficeCity}}\n                    </td>\n                    <td class=\"supplier-td\">\n                        <mat-radio-group [(ngModel)]=\"test\">\n                            <mat-radio-button class=\"supplier-radio\" [value]=\"temp\"></mat-radio-button>\n                        </mat-radio-group>\n                    </td>\n                  </tr>\n                </table>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <button style=\"margin:5px; float:right;\" mat-raised-button color=\"primary\" *ngIf=\"dropDown==='supplier'\" (click)=\"sendRequest()\">Send Request</button>\n    </nb-card-body>\n  </nb-card>\n  <div class=\"col-lg-12 col-12\" style=\"text-align:right;\">\n      <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n  </div>\n</div>\n</div>"

/***/ }),

/***/ "./src/app/pages/duties/driverallotment/driverallotment.component.scss":
/***/ (function(module, exports) {

module.exports = ".example-form {\n  min-width: 150px;\n  max-width: 500px;\n  width: 100%; }\n\n.example-full-width {\n  width: 100%; }\n\nth {\n  text-align: center;\n  padding: 10px; }\n\n.driver-td {\n  text-align: center;\n  padding: 2px; }\n\n.supplier-td {\n  text-align: center;\n  padding: 10px; }\n\n.supplier-radio {\n  margin-top: 5px; }\n\ntd {\n  border-top: 1px solid black; }\n"

/***/ }),

/***/ "./src/app/pages/duties/driverallotment/driverallotment.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DriverallotmentComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__masters_new_vehicles_vehicle_service__ = __webpack_require__("./src/app/pages/masters/new-vehicles/vehicle.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__masters_new_driver_driver_service__ = __webpack_require__("./src/app/pages/masters/new-driver/driver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__duties_service__ = __webpack_require__("./src/app/pages/duties/duties.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__masters_addsuppliers_supplier_service__ = __webpack_require__("./src/app/pages/masters/addsuppliers/supplier.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__circles_circle_service__ = __webpack_require__("./src/app/pages/circles/circle.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__senddutytosuppliers_senddutytosuppliers_component__ = __webpack_require__("./src/app/pages/duties/senddutytosuppliers/senddutytosuppliers.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};










var DriverallotmentComponent = (function () {
    function DriverallotmentComponent(matDialogRef, data, vehicleService, driverService, dutiesService, circleService, supplierService, snackBar, auth, fb, dialog) {
        this.matDialogRef = matDialogRef;
        this.data = data;
        this.vehicleService = vehicleService;
        this.driverService = driverService;
        this.dutiesService = dutiesService;
        this.circleService = circleService;
        this.supplierService = supplierService;
        this.snackBar = snackBar;
        this.auth = auth;
        this.fb = fb;
        this.dialog = dialog;
        this.displayedColumns = ['modelname', 'number', 'seating', 'companyName', 'assignedDriver', 'vcolor'];
        this.vehicleId = [];
        this.selectedDriver = {};
        this.selectedVehicle = {};
        this.selectedDuties = [];
        this.selectedSupplier = [];
        this.noVehicles = true;
        this.user = {};
        this.test1 = [];
        this.myControl = new __WEBPACK_IMPORTED_MODULE_3__angular_forms__["c" /* FormControl */]();
        this.selectedDriver.name = '';
        this.selectedVehicle.modelname = '';
        this.duty = data.row;
        console.log(this.duty);
    }
    DriverallotmentComponent.prototype.allotDriver = function (temp) {
        console.log(temp);
        this.selectedDriver = temp;
        if (temp.userId != null) {
            this.mobileIcon = true;
        }
        else {
            this.mobileIcon = false;
        }
    };
    DriverallotmentComponent.prototype.allotVehicle = function (temp) {
        this.selectedVehicle = temp;
    };
    DriverallotmentComponent.prototype.updateAllot = function (temp) {
        console.log(temp);
        this.selectedVehicle.modelname = temp.modelname;
        this.selectedVehicle.id = temp.id;
        this.duty.vehicle = '' + temp.modelname + ' (' + temp.number + ')';
        this.duty.vehicleId = this.selectedVehicle.id;
        this.duty.driverId = this.selectedDriver.id;
        // this.duty.driverNumber=this.selectedDriver.mobileNumber;
        this.duty.driver = this.selectedDriver.name;
        if (this.duty.driver.trim() == "") {
            console.log("driver null");
            this.duty.driver = '';
            this.duty.driverId = null;
        }
        if (this.duty.vehicle.trim() == "") {
            console.log("driver null");
            this.duty.vehicle = '';
            this.duty.vehicleId = null;
        }
        if (this.duty.driverId == null && this.duty.vehicleId == null) {
            this.duty.status = "Booked";
        }
        else if (this.duty.dutyType == 'Self Drive') {
            if (this.selectedDriver.userId != null) {
                this.duty.status = "Allotted";
                this.duty.subStatus = "Not Accepted";
            }
            else {
                this.duty.status = "Allotted";
                this.duty.subStatus = "Allotted";
            }
        }
        else {
            if (this.duty.driverId == null) {
                this.duty.status = "Driver Pending";
            }
            else if (this.duty.vehicleId == null) {
                this.duty.status = "Vehicle Pending";
            }
            else {
                if (this.selectedDriver.userId != null) {
                    this.duty.status = "Allotted";
                    this.duty.subStatus = "Not Accepted";
                }
                else {
                    this.duty.status = "Allotted";
                    this.duty.subStatus = "Allotted";
                }
            }
        }
        console.log(this.duty);
        // delete this.duty.ownerDId
        this.dutiesService.updateDriverAllot(this.duty);
        console.log("ASD");
        this.matDialogRef.close("yes");
    };
    DriverallotmentComponent.prototype.getvehicleStatus = function (temp) {
        var _this = this;
        console.log(temp);
        this.dutiesService.vehicleStatus(temp).subscribe(function (data) {
            _this.vehicleStatus = data;
            console.log(data);
            console.log(_this.vehicleStatus);
            var i = 0;
            // this.dataSource1.forEach(element => {        
            //   this.vehicleStatus.forEach(element2 => {
            //     console.log(this.dataSource1[i].id)
            //     console.log(element2.id)
            //     console.log(this.dataSource1[i].id == element2.id);          
            //     if((this.dataSource1[i].id != element2.id ) || (this.dataSource1[i].id != element2.id && this.test1[i] != true)) {
            //       this.test1[i] = false;
            //     }
            //     else if(this.dataSource1[i].id == element2.id) {       
            //       this.test1[i] = true;            
            //     }
            //     else {
            //     }
            //   })        
            //   i++;                      
            //   console.log(this.test1)
            // })
            for (var e in _this.dataSource1) {
                for (var v in _this.vehicleStatus) {
                    console.log(_this.dataSource1[e].id);
                    console.log(_this.vehicleStatus[v].id);
                    console.log(_this.dataSource1[e].id == _this.vehicleStatus[v].id);
                    if (_this.dataSource1[e].id == _this.vehicleStatus[v].id) {
                        _this.test1[e] = true;
                        break;
                    }
                    else if (_this.dataSource1[e].id != _this.vehicleStatus[v].id) {
                        _this.test1[e] = false;
                    }
                }
                console.log(_this.test1);
            }
        });
    };
    DriverallotmentComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            var temp = {
                ownerId: _this.user.ownerId,
                vehicleGroupId: _this.duty.vehicleGroupId
            };
            console.log(temp);
            _this.vehicleService.filterVehicleFromVehicleGroups(temp).subscribe(function (res) {
                _this.dataSource1 = res;
                console.log(_this.dataSource1);
                var temp2 = {
                    ownerId: _this.user.ownerId,
                    startDate: _this.duty.startDate,
                    vehicleGroupId: _this.duty.vehicleGroupId
                };
                console.log(temp2);
                _this.getvehicleStatus(temp2);
            });
            _this.driverService.getDriver(_this.user).subscribe(function (res) {
                _this.DriverObs = res;
            });
            var temp3 = {
                ownerId: _this.user.ownerId,
                fromLoc: _this.duty.fromLoc,
                vehicleGroupId: _this.duty.vehicleGroupId
            };
            _this.supplierService.getDistinctSuppliers(temp3).subscribe(function (data) {
                console.log(data);
                _this.supplierObs = data;
            });
        });
        // this.auth.user.subscribe(data=>
        //   {
        //     this.user=data[0]
        //   var temp={
        //     ownerId:this.user.ownerId
        //   }
        //   this.circleService.getCircle(temp).subscribe(res=>{
        //     this.supplierObs=res;
        //   })
        // }
        //)
        this.allotForm = this.fb.group({
            driver: []
        });
    };
    DriverallotmentComponent.prototype.sendRequest = function () {
        var _this = this;
        console.log(this.test);
        var requestData = {
            supplierName: this.test.name,
            dutyId: this.duty.id,
            supplierId: this.test.supplierOwnerId,
            ownerName: this.user.companyName,
            ownerId: this.user.ownerId,
        };
        if (this.test.supplierOwnerId) {
            this.circleService.sendDutyRequest(requestData).subscribe(function (data) {
                _this.snackBar.open('Request Sent', 'X', { duration: 3000 });
                _this.matDialogRef.close("yes");
            });
        }
        else {
            this.selectedSupplier.push(this.test);
            this.selectedDuties.push(this.duty);
            this.dialog.closeAll();
            this.dialog.open(__WEBPACK_IMPORTED_MODULE_9__senddutytosuppliers_senddutytosuppliers_component__["a" /* SenddutytosuppliersComponent */], { data: [this.selectedDuties, this.selectedSupplier], autoFocus: false, disableClose: true });
        }
    };
    DriverallotmentComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    DriverallotmentComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-driverallotment',
            template: __webpack_require__("./src/app/pages/duties/driverallotment/driverallotment.component.html"),
            styles: [__webpack_require__("./src/app/pages/duties/driverallotment/driverallotment.component.scss")]
        }),
        __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_4__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_4__angular_material__["p" /* MatDialogRef */], Object, __WEBPACK_IMPORTED_MODULE_1__masters_new_vehicles_vehicle_service__["a" /* VehicleService */],
            __WEBPACK_IMPORTED_MODULE_2__masters_new_driver_driver_service__["a" /* DriverService */],
            __WEBPACK_IMPORTED_MODULE_5__duties_service__["a" /* DutiesService */],
            __WEBPACK_IMPORTED_MODULE_7__circles_circle_service__["a" /* CircleService */],
            __WEBPACK_IMPORTED_MODULE_6__masters_addsuppliers_supplier_service__["a" /* SupplierService */],
            __WEBPACK_IMPORTED_MODULE_4__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_8__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_4__angular_material__["n" /* MatDialog */]])
    ], DriverallotmentComponent);
    return DriverallotmentComponent;
}());



/***/ }),

/***/ "./src/app/pages/duties/duties.component.html":
/***/ (function(module, exports) {

module.exports = "<div  class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>Duties\n        <div style=\"display:inline; padding-left: 5%;\" *ngIf=\"screenWidth>=560\">\n          <button class=\"unconfirmed\" [disabled]=\"filterClicked=='Unconfirmed'\" mat-button (click)=\"filter('Unconfirmed')\">Unconfirmed</button>\n          <button class=\"booked\" [disabled]=\"filterClicked=='Booked'\" mat-button (click)=\"filter('Booked');\">Booked</button>\n          <button class=\"billed\" [disabled]=\"filterClicked=='Pending'\" mat-button (click)=\"filter('Pending')\">Pending</button>\n          <button class=\"allotted\" [disabled]=\"filterClicked=='Allotted'\" mat-button (click)=\"filter('Allotted')\">Allotted</button>\n          <button class=\"upcoming\" [disabled]=\"filterClicked=='Upcoming'\" mat-button (click)=\"filter('Upcoming')\">Upcoming</button>\n          <button class=\"dispatched\" [disabled]=\"filterClicked=='Dispatched'\" mat-button (click)=\"filter('Dispatched')\">Dispatched</button>\n          <!-- <button class=\"billed\" [disabled]=\"filterClicked=='Billed'\" mat-button (click)=\"filter('Billed')\">Billed</button> -->\n          <button class=\"cancelled\" [disabled]=\"filterClicked=='Cancelled'\" mat-button color=\"warn\" (click)=\"filter('Cancelled')\">Cancelled</button>\n          <button class=\"completed\" [disabled]=\"filterClicked=='Completed'\" mat-button (click)=\"filter('Completed')\">Completed</button>\n          <button class=\"all\" [disabled]=\"filterClicked=='All'\" mat-button (click)=\"filter('All')\">All</button>\n        </div>\n        <div style=\"display:inline; padding-left: 5%;\" *ngIf=\"screenWidth<=560\">\n          <mat-form-field class=\"mobile-select\">\n              <mat-select [value]=\"status\" (selectionChange)=\"filter($event.value)\">\n                <mat-option value=\"Booked\">Booked</mat-option>\n                <mat-option value=\"Allotted\">Allotted</mat-option>\n                <mat-option value=\"Upcoming\">Upcoming</mat-option>\n                <mat-option value=\"Dispatched\">Dispatched</mat-option>\n                <mat-option value=\"Billed\">Billed</mat-option>\n                <mat-option value=\"Cancelled\">Cancelled</mat-option>\n                <mat-option value=\"Completed\">Completed</mat-option>\n                <mat-option value='All'>All</mat-option>\n              </mat-select>\n          </mat-form-field>\n        </div>\n          \n        <button style=\"float: right;margin-top: -10px;\" mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>settings</mat-icon></button>\n        <mat-menu #menu=\"matMenu\" class=\"mat-menu-panel\">\n            <!-- <button mat-menu-item (click)=\"openImport()\">Import</button> -->\n          <button mat-menu-item *ngIf=\"permission.exportDuty\" (click)=\"openExport()\">Export</button>\n        </mat-menu>\n      </nb-card-header>\n      <nb-card-body>\n        <div align=\"center\">\n        \n          <mat-form-field class=\"filter-field\">\n            <input matInput  placeholder=\"Filter\"  #input>\n          </mat-form-field> \n        \n          <mat-form-field class=\"filter-date\">\n            <input matInput [(ngModel)]=\"filterStart\" [matDatepicker]=\"pickerStart\" (click)=\"pickerStart.open()\" placeholder=\"From\" readonly>\n            <mat-datepicker-toggle matSuffix [for]=\"pickerStart\"></mat-datepicker-toggle>\n            <mat-datepicker #pickerStart></mat-datepicker>\n          </mat-form-field>            \n            \n          <mat-form-field class=\"filter-date\">\n            <input matInput [(ngModel)]=\"filterEnd\" [matDatepicker]=\"pickerEnd\" (click)=\"pickerEnd.open()\" placeholder=\"To\" readonly>\n            <mat-datepicker-toggle matSuffix [for]=\"pickerEnd\"></mat-datepicker-toggle>\n            <mat-datepicker #pickerEnd></mat-datepicker>\n          </mat-form-field>\n\n          <!-- <mat-form-field>\n            <input type=\"time\" [(ngModel)]=\"from\" matInput placeholder=\"from\">\n          </mat-form-field>\n\n          <mat-form-field>\n            <input type=\"time\" [(ngModel)]=\"to\" matInput placeholder=\"to\">\n          </mat-form-field> -->\n\n        <button matTooltip=\"Search\" mat-icon-button (click)=\"filterByDate()\"><mat-icon class=\"filter-icon\">search</mat-icon></button>\n        <button matTooltip=\"Clear All\" mat-icon-button (click)=\"clear()\"><mat-icon class=\"filter-icon\">highlight_off</mat-icon></button>\n        <button matTooltip=\"Multiple Selections\" *ngIf=\"selectorEnabled==false\" mat-icon-button (click)=\"addColumn()\"><img alt=\"\" src=\"../../../assets/icons/Select.png\" class=\"img-icon\"/></button>\n        <button matTooltip=\"Clear Selector\"  *ngIf=\"selectorEnabled==true\" mat-icon-button (click)=\"removeColumn()\"><mat-icon class=\"filter-icon\">youtube_searched_for</mat-icon></button>\n      </div>\n      <div *ngIf=\"selectorEnabled==true\" class=\"invoice-button-container\">\n        <button [disabled]=\"!multipleSelected\" class=\"invoice-button\" mat-raised-button color=\"primary\" *ngIf=\"onlySendInfo==false\" (click)=\"selectMultipleAllotments()\">Allot Duty to Supplier</button>\n        <button [disabled]=\"!multipleSelected\" *ngIf=\"permission.sendInfoDuty\" class=\"invoice-button\" mat-raised-button color=\"primary\" (click)=\"sendInfo(row)\">Send Info</button>\n      </div>\n\n        <mat-table [hidden]=\"isLoading\" #table [dataSource]=\"dataSource\" matSort matSortActive=\"startDate\" matSortDirection=\"asc\" matSortDisableClear >\n\n          <ng-container matColumnDef=\"selector\">\n            <mat-header-cell *matHeaderCellDef>\n              <!-- <mat-checkbox (change)=\"isAllSelected(element,$event)\"></mat-checkbox> -->\n            </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\">\n              <mat-checkbox (click)=\"$event.stopPropagation()\" (change)=\"chooseDuties(element,$event)\"></mat-checkbox>\n            </mat-cell>   \n          </ng-container>\n\n          <!-- Date Column -->\n          <ng-container matColumnDef=\"startDate\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Date </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.startDate | date: 'dd-MM-yyyy'}} </mat-cell>\n          </ng-container>\n        \n          <!-- Name Column -->\n          <ng-container matColumnDef=\"cname\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Customer </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\" [matTooltip]=\"'Booked By: '+element.bookBy+' Phone: '+element.bookByNo\"> {{element.cname}} </mat-cell>\n          </ng-container>\n\n          <!-- Booked By Column -->\n          <!-- <ng-container matColumnDef=\"bookBy\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Booked by </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"  [matTooltip]=\"element.bookByNo\"> {{element.bookBy}} </mat-cell>\n          </ng-container> -->\n\n          <!-- Symbol Column -->\n          <ng-container matColumnDef=\"passenger\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Passenger </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\" [matTooltip]=\"element.passengerNo\"> {{element.passenger}} </mat-cell>            \n          </ng-container>\n\n          <!-- Symbol Column -->\n          <ng-container matColumnDef=\"driver\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Driver/Supplier  </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\" >\n              <span *ngIf=\"element.supplierId==null\" [matTooltip]=\"element.phoneNumber\"><mat-icon *ngIf=\"element.driverUserId != null\">phone_iphone</mat-icon> {{element.driver}} </span>\n              <span *ngIf=\"element.supplierId!=null\"> {{element.supplierName}} </span>\n            </mat-cell>           \n          </ng-container>\n\n          <!-- Symbol Column -->\n          <ng-container matColumnDef=\"vehicleGroup\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Vehicle Group </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.vehicleGroup}} </mat-cell>            \n          </ng-container>\n\n          <!-- Symbol Column -->\n          <ng-container matColumnDef=\"dutyType\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Duty Type </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.dutyType}} </mat-cell>              \n          </ng-container>\n\n          <!-- Symbol Column -->\n          <ng-container matColumnDef=\"fromLoc\">            \n            <mat-header-cell *matHeaderCellDef mat-sort-header> From City </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.fromLoc}} </mat-cell>              \n          </ng-container>\n\n          <!-- Symbol Column -->\n          <ng-container matColumnDef=\"reportingAddress\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>Short Reporting Address </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\" [matTooltip]=\"element.reportingAddress\"> {{element.shortReportingAddress}} </mat-cell>              \n          </ng-container>  \n\n          <!-- Symbol Column -->\n          <ng-container matColumnDef=\"vehicle\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header>Vehicle </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.vehicle}} </mat-cell>              \n          </ng-container>  \n\n            <!-- Symbol Column -->\n          <ng-container matColumnDef=\"dropAddress\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Drop Address </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\" [matTooltip]=\"element.dropAddress\"> {{element.dropAddress}} </mat-cell>              \n          </ng-container>\n\n          <!-- Symbol Column -->\n          <ng-container matColumnDef=\"startFromGarage\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Start Time From Garage </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.startFromGarage}} </mat-cell>              \n          </ng-container>\n          \n            <!-- Symbol Column -->\n          <ng-container matColumnDef=\"reportingTime\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Reporting Time </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.reportingTime}} </mat-cell>              \n          </ng-container>\n          \n            <!-- Symbol Column -->\n          <ng-container matColumnDef=\"remarks\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Remarks </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.remarks}} </mat-cell>\n          </ng-container>\n\n           <!-- <ng-container matColumnDef=\"remarks\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Labels </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.remarks}} </mat-cell>\n         </ng-container> -->\n\n         <ng-container matColumnDef=\"labelArray\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Tags </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\">\n              <mat-chip-list *ngFor=\"let skelement of element.labelArray\">\n                <mat-chip [style.background-color]=\"skelement.color\" [ngStyle]=\"{'color': setTextColor(skelement.color)}\" style=\"transform: scale(0.80,0.80);border-radius: 0;margin-bottom: -3px;animation: blink 1s linear infinite;font-size: 15px;padding: 7px 5px;\" selected=\"true\">{{skelement.labelName}}</mat-chip>\n              </mat-chip-list> \n            </mat-cell>  \n          </ng-container>\n\n          \n            <!-- Symbol Column -->\n          <ng-container matColumnDef=\"status\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header style=\"width: 100px !important\"> Status </mat-header-cell>\n              <mat-cell *matCellDef=\"let element\" style=\"width: 100px !important\">\n                <mat-chip-list *ngIf=\"element.status != 'Dispatched' && element.status != 'Allotted' && element.subStatus != 'Needs Approval'\">\n                  <mat-chip color=\"primary\" selected=\"true\">{{element.status}}</mat-chip>\n                </mat-chip-list> \n                <mat-chip-list *ngIf=\"element.status == 'Allotted' && element.subStatus != null\">\n                  <mat-chip [style.background-color]=\"allottedColor\" selected=\"true\">{{element.subStatus}}</mat-chip>\n                </mat-chip-list> \n                <mat-chip-list *ngIf=\"element.status=='Dispatched' && element.subStatus != null\">\n                  <mat-chip [style.background-color]=\"dispatchedColor\" selected=\"true\">{{element.subStatus}}</mat-chip>\n                </mat-chip-list>\n                <mat-chip-list *ngIf=\"element.status=='Completed' && element.subStatus == 'Needs Approval'\">\n                  <mat-chip [style.background-color]=\"completedColor\" selected=\"true\">{{element.subStatus}}</mat-chip>\n                </mat-chip-list>\n              </mat-cell>  \n          </ng-container>\n\n          <ng-container matColumnDef=\"Options\">\n            <mat-header-cell *matHeaderCellDef> Options </mat-header-cell>\n            <mat-cell style=\"vertical-align: middle\" *matCellDef=\"let element ;let row\" (click)=\"$event.stopPropagation()\">\n              <button mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>\n              \n              <mat-menu #menu=\"matMenu\">\n                \n              <!-- <button  mat-menu-item >Details</button> -->\n              <!-- <button  *ngIf=\"row.status=='Completed'\" mat-menu-item (click)=\"createInvoice(row)\">Create Invoice</button> -->\n              <button *ngIf=\"row.status=='Booked' || row.status=='Allotted' || permission.manageLabels==1\" mat-menu-item (click)=\"addRemoveLabels(row)\">Add/Remove Tags</button>\n              <button *ngIf=\"permission.smsEmailCallDuties || row.status!='Unconfirmed'\" mat-menu-item (click)=\"call(row)\">Contact</button>\n              <!-- <button *ngIf=\"row.status=='Booked' || row.status=='Allotted'\" mat-menu-item (click)=\"allotSupporters(row)\">Allot Supporters</button> -->\n              <button *ngIf=\"row.status=='Allotted' && row.supplierBId==null\" mat-menu-item (click)=\"selectAllotments(row)\">Re-Allot on Duty</button>\n              <button *ngIf=\"row.status=='Allotted' && row.supplierBId==null\" mat-menu-item (click)=\"clearAllotment(row)\">Clear Allotment</button>\n              <button *ngIf=\"(row.status=='Booked' || row.status=='Allotted') && permission.editDuties && row.ownerDId==null\" mat-menu-item (click)=\"selectRow(row)\">Edit</button>\n              <button *ngIf=\"row.status=='Booked' && row.supplierDId==null && permission.allotVehiclesDriver\" mat-menu-item (click)=\"selectAllotments(row)\">Allot Driver & Vehicle</button>\n              <button *ngIf=\"row.status=='Vehicle Pending' ||row.status=='Driver Pending'\" mat-menu-item (click)=\"setOfflineAllotment(row)\">Set Driver/Vehicle Details</button>\n              <button *ngIf=\"row.ownerDId!=null && permission.sendInfoDuty\" mat-menu-item (click)=\"sendInfo2(row)\">Send Info</button>\n              <button *ngIf=\"row.status=='Allotted' && row.supplierDId==null && permission.viewDutySlip\" mat-menu-item (click)=\"printDutySlip(row)\">Print Duty Slip</button>\n              <button *ngIf=\"(row.status=='Completed') && permission.viewDutySlip\" mat-menu-item (click)=\"viewDutySlip(row)\">View Duty Slip</button>\n              <button *ngIf=\"row.status=='Completed' && permission.closeDuty\" mat-menu-item (click)=\"openCloseDuty(row)\">Edit Duty Slip</button>\n              <button *ngIf=\"row.status=='Allotted'\" mat-menu-item (click)=\"createPlacard(row)\">Create Placard</button>\n              <button *ngIf=\"row.status=='Allotted' && (row.subStatus=='Accepted' || row.subStatus=='Allotted') && row.supplierDId==null && permission.dispatchDuty\" mat-menu-item (click)=\"dispatched(row)\">Mark as Dispatched</button>\n              <button *ngIf=\"row.status=='Dispatched' && row.supplierDId==null && permission.dispatchDuty\" mat-menu-item (click)=\"dispatched(row)\">Revert Dispatch</button>\n              <button *ngIf=\"row.status=='Dispatched' && row.supplierDId==null && permission.viewTracking\" mat-menu-item (click)=\"trackVehicle(row)\">Track Vehicle</button>\n              <button *ngIf=\"row.status=='Dispatched' && row.supplierDId==null && row.driverUserId==null && row.ownerDId==null && permission.closeDuty\" mat-menu-item (click)=\"openCloseDuty(row)\">Close Duty</button>\n              <button *ngIf=\"row.status=='Dispatched' && row.ownerDId!=null\" mat-menu-item (click)=\"openCloseSupplierDuty(row)\">Close Supplier Duty</button>\n              <button *ngIf=\"row.status!='Cancelled' && permission.addPettyCash\" mat-menu-item (click)=\"addPettyCash(row)\">Add Petty Cash</button>\n              <button *ngIf=\"permission.viewBookings\" mat-menu-item (click)=\"viewBookings(row)\">View Booking</button>\n              <button *ngIf=\"(row.status=='Booked' || row.status=='Allotted') && permission.cancelDuty\" mat-menu-item (click)=\"cancelDuty(row)\">Cancel Duty</button>\n              <button *ngIf=\"row.status=='Unconfirmed'\" mat-menu-item (click)=\"confirmDuty(row)\">Confirm Duty</button>\n              </mat-menu>\n              <mat-icon style=\"display:table;margin:auto;font-size: 13px;height: unset;\" *ngIf=\"row.ownerDId\" matTooltip=\"Duty From Circles\" matTooltipClass=\"example-tooltip-green\">redo</mat-icon>\n              <mat-icon style=\"display:table;margin:auto;font-size: 13px;height: unset;\" *ngIf=\"row.supplierDId\" matTooltip=\"Allotted To Circle\" matTooltipClass=\"example-tooltip-green\">how_to_reg</mat-icon>\n              <mat-icon style=\"display:table;margin:auto;font-size: 13px;height: unset;\" *ngIf=\"row.supplierId!=null && row.supplierId!='' && row.supplierType!='Owner-cum-Driver'\" matTooltip=\"Allotted To Supplier\" matTooltipClass=\"example-tooltip-green\">group</mat-icon>\n              <mat-icon style=\"display:table;margin:auto;font-size: 13px;height: unset;\" *ngIf=\"row.supplierType=='Owner-cum-Driver'\" matTooltip=\"Allotted To Supplier-cum-Driver\" matTooltipClass=\"example-tooltip-green\">transfer_within_a_station</mat-icon>\n            </mat-cell>\n           \n          </ng-container>\n\n          <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n          <mat-row [ngStyle]=\"{'background-color':rowColors(row.startDate,row.status)}\" *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"details(row)\"></mat-row>\n        </mat-table>\n        <div *ngIf=\"isLoading\" \n        style=\"display: flex; justify-content: center; align-items: center\">\n       <mat-progress-spinner \n         color=\"warn\" \n         mode=\"indeterminate\">\n       </mat-progress-spinner>\n       </div>\n        <mat-paginator [length]=\"length\"\n        [pageSize]=\"pageSize\"\n        [pageSizeOptions]=\"pageSizeOptions\"></mat-paginator>\n        \n      </nb-card-body>\n    </nb-card>\n</div>\n<div class=\"col-lg-12\" align=\"right\">\n  <a *ngIf=\"permission.addBookings\" matTooltip=\"Add Booking\" (click)=\"addBooking()\" class=\"float\">\n    <i style=\"color: ghostwhite\" class=\"fa fa-plus my-float\"></i>\n  </a>\n</div>\n\n</div>"

/***/ }),

/***/ "./src/app/pages/duties/duties.component.scss":
/***/ (function(module, exports) {

module.exports = ".mat-column-dropAddress {\n  max-width: 100px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap; }\n\n.mat-column-startDate {\n  white-space: nowrap; }\n\nbutton.mat-menu-item {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px; }\n\n.mat-chip {\n  font-size: 13px;\n  height: auto;\n  line-height: 12px; }\n\n.mat-icon {\n  font-size: 17px; }\n\nbutton.mat-icon-button:active,\nbutton.mat-icon-button:focus,\nbutton.mat-icon-button {\n  border: none;\n  outline: none;\n  cursor: pointer; }\n\n.float {\n  position: fixed;\n  width: 60px;\n  height: 60px;\n  bottom: 40px;\n  right: 40px;\n  background-color: #0C9;\n  color: #FFF;\n  border-radius: 50px;\n  text-align: center;\n  -webkit-box-shadow: 2px 2px 3px #999;\n          box-shadow: 2px 2px 3px #999; }\n\n.my-float {\n  margin-top: 22px; }\n\na:hover {\n  cursor: pointer; }\n\n@media only screen and (max-height: 800px) {\n  ::ng-deep .mat-menu-panel {\n    max-height: 300px !important;\n    overflow: auto !important;\n    right: 10px; } }\n\n.displayGrid {\n  display: -ms-grid !important;\n  display: grid !important; }\n\n.mat-header-cell input {\n  width: -webkit-min-content;\n  width: -moz-min-content;\n  width: min-content; }\n\n.example-tooltip-green {\n  background: #358325; }\n\nnb-card-body {\n  padding: 10px 5px 5px 5px !important; }\n\n.mat-chip {\n  -webkit-transform: scale(0.85, 0.85);\n          transform: scale(0.85, 0.85); }\n\n.booked.mat-button[disabled] {\n  color: white !important;\n  background-color: #3f51b5 !important; }\n\n.booked.mat-button {\n  color: #3f51b5 !important; }\n\n.completed.mat-button[disabled] {\n  color: white !important;\n  background-color: #02b975 !important; }\n\n.completed.mat-button {\n  color: #02b975 !important; }\n\n.upcoming.mat-button[disabled] {\n  color: black !important;\n  background-color: #ff7d00 !important; }\n\n.upcoming.mat-button {\n  color: #ff7d00 !important; }\n\n.unconfirmed.mat-button[disabled] {\n  color: white !important;\n  background-color: #606060 !important; }\n\n.unconfirmed.mat-button {\n  color: #606060 !important; }\n\n.allotted.mat-button[disabled] {\n  color: white !important;\n  background-color: #0091ff !important; }\n\n.allotted.mat-button {\n  color: #0091ff !important; }\n\n.cancelled.mat-button[disabled] {\n  color: white !important;\n  background-color: #f44436 !important; }\n\n.dispatched.mat-button[disabled] {\n  color: white !important;\n  background-color: #7500dacc !important; }\n\n.dispatched.mat-button {\n  color: #7500dacc !important; }\n\n.billed.mat-button[disabled] {\n  color: white !important;\n  background-color: #b90064c4 !important; }\n\n.billed.mat-button {\n  color: #b90064c4 !important; }\n\n.all.mat-button[disabled] {\n  color: black !important;\n  background-color: darkgrey !important; }\n\n.all.mat-button {\n  color: darkgrey !important; }\n\n@-webkit-keyframes blink {\n  0% {\n    opacity: 1; }\n  50% {\n    opacity: .6; }\n  100% {\n    opacity: 1; } }\n\n@keyframes blink {\n  0% {\n    opacity: 1; }\n  50% {\n    opacity: .6; }\n  100% {\n    opacity: 1; } }\n\n.mat-column-status {\n  min-width: 100px !important; }\n"

/***/ }),

/***/ "./src/app/pages/duties/duties.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DutiesComponent; });
/* unused harmony export DutyDataSource */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__duties_service__ = __webpack_require__("./src/app/pages/duties/duties.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_BehaviorSubject__ = __webpack_require__("./node_modules/rxjs/_esm5/BehaviorSubject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_cdk_collections__ = __webpack_require__("./node_modules/@angular/cdk/esm5/collections.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_merge__ = __webpack_require__("./node_modules/rxjs/_esm5/add/observable/merge.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__driverallotment_driverallotment_component__ = __webpack_require__("./src/app/pages/duties/driverallotment/driverallotment.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__newpettycash_newpettycash_component__ = __webpack_require__("./src/app/pages/duties/newpettycash/newpettycash.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__createplacard_createplacard_component__ = __webpack_require__("./src/app/pages/duties/createplacard/createplacard.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__addremovelabels_addremovelabels_component__ = __webpack_require__("./src/app/pages/duties/addremovelabels/addremovelabels.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__allotsupporters_allotsupporters_component__ = __webpack_require__("./src/app/pages/duties/allotsupporters/allotsupporters.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__details_details_component__ = __webpack_require__("./src/app/pages/duties/details/details.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__node_modules_angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__closeduty_closeduty_component__ = __webpack_require__("./src/app/pages/duties/closeduty/closeduty.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_rxjs_operators__ = __webpack_require__("./node_modules/rxjs/_esm5/operators.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_rxjs_observable_of__ = __webpack_require__("./node_modules/rxjs/_esm5/observable/of.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16_rxjs_observable_fromEvent__ = __webpack_require__("./node_modules/rxjs/_esm5/observable/fromEvent.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__duty_slip_duty_slip_component__ = __webpack_require__("./src/app/pages/duties/duty-slip/duty-slip.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__modals_confirm_confirm_component__ = __webpack_require__("./src/app/pages/modals/confirm/confirm.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__masters_sub_users_sub_user_service__ = __webpack_require__("./src/app/pages/masters/sub-users/sub-user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__close_supplier_duty_close_supplier_duty_component__ = __webpack_require__("./src/app/pages/duties/close-supplier-duty/close-supplier-duty.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_22_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__bookingdetails_bookingdetails_component__ = __webpack_require__("./src/app/pages/duties/bookingdetails/bookingdetails.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__call_call_component__ = __webpack_require__("./src/app/pages/duties/call/call.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__multiplesupplierallotment_multiplesupplierallotment_component__ = __webpack_require__("./src/app/pages/duties/multiplesupplierallotment/multiplesupplierallotment.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__sendinfo_sendinfo_component__ = __webpack_require__("./src/app/pages/duties/sendinfo/sendinfo.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__offlineallottment_offlineallottment_component__ = __webpack_require__("./src/app/pages/duties/offlineallottment/offlineallottment.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__selfdrive_selfdrive_component__ = __webpack_require__("./src/app/pages/duties/selfdrive/selfdrive.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__exportduties_exportduties_component__ = __webpack_require__("./src/app/pages/duties/exportduties/exportduties.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__masters_addsuppliers_supplier_service__ = __webpack_require__("./src/app/pages/masters/addsuppliers/supplier.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__viewdutyslip_viewdutyslip_component__ = __webpack_require__("./src/app/pages/duties/viewdutyslip/viewdutyslip.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

































var DutiesComponent = (function () {
    function DutiesComponent(detail, DutiesService, dialog, datePipe, authService, permissionService, router, snackBar, supplierService) {
        this.detail = detail;
        this.DutiesService = DutiesService;
        this.dialog = dialog;
        this.datePipe = datePipe;
        this.authService = authService;
        this.permissionService = permissionService;
        this.router = router;
        this.snackBar = snackBar;
        this.supplierService = supplierService;
        this.filterClicked = "Booked";
        this.businessSettings = {};
        this.isLoading = true;
        this.filterStart = '';
        this.filterEnd = '';
        this.status = 'Booked';
        this.pageSize = 10;
        this.pageSizeOptions = [10, 15, 25, 40];
        this.selection = new __WEBPACK_IMPORTED_MODULE_4__angular_cdk_collections__["b" /* SelectionModel */](true, []);
        this.permission = {};
        this.displayedColumns = ['startDate', 'cname', 'passenger', 'driver', 'dutyType',
            'reportingAddress', 'vehicle'];
        this.selector = 'selector';
        this.selectorEnabled = false;
        this.multipleSelected = false;
        this.onlySendInfo = false;
        this.selectedDuties = [];
        this.user = {};
        this.allottedColor = '#0091ff';
        this.dispatchedColor = '#7500da';
        this.completedColor = '#02b975';
        this.bookings = {
            status: '',
            cname: '',
            date: '',
            passenger: '',
            vehicleGroup: '',
            dutyType: '',
            bookBy: '',
            bookByNo: '',
            bookByEmail: '',
            passengerNo: '',
            passengerEmail: '',
            fromLoc: '',
            toLoc: '',
            startDate: null,
            endDate: null,
            reportingTime: '',
            startFromGarage: '',
            reportingAddress: '',
            dropAddress: '',
            shortReportingAddress: '',
            flightTrainNo: '',
            dispatchCenter: '',
            billTo: '',
            price: '',
            remarks: '',
            operatorNotes: '',
            label: '',
            vehicleGroupId: '',
            dutyTypeId: '',
            customerId: '',
            ccId: '',
            poNumber: '',
            extraHours: '',
            extraKms: ''
        };
        this.duty = {
            status: '',
            cname: '',
            startDate: null,
            passenger: '',
            vehicleGroup: '',
            dutyType: '',
            bookBy: '',
            bookByNo: '',
            bookByEmail: '',
            passengerNo: '',
            passengerEmail: '',
            fromLoc: '',
            toLoc: '',
            reportingTime: '',
            startFromGarage: '',
            reportingAddress: '',
            dropAddress: '',
            shortReportingAddress: '',
            flightTrainNo: '',
            dispatchCenter: '',
            billTo: '',
            price: '',
            remarks: '',
            operatorNotes: '',
            label: '',
            driverId: null,
            vehicleId: null,
            ownerId: '',
            dutyTypeId: null,
            vehicleGroupId: null,
            customerId: null,
            supplierId: null,
            supplierName: '',
            extraHours: '',
            extraKms: ''
        };
    }
    DutiesComponent.prototype.isAllSelected = function () {
        var numSelected = this.selection.selected.length;
        // const numRows = this.dataSource.data.length;
        // return numSelected === numRows;
    };
    DutiesComponent.prototype.addColumn = function () {
        if (this.selectorEnabled == false) {
            this.selectorEnabled = true;
            this.displayedColumns.unshift(this.selector);
            this.displayedColumns.pop();
            console.log(this.displayedColumns);
        }
    };
    DutiesComponent.prototype.sendInfo = function () {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_27__sendinfo_sendinfo_component__["a" /* SendinfoComponent */], { data: this.selectedDuties, autoFocus: false, disableClose: true }).afterClosed().subscribe(function (data) {
            console.log(data);
            _this.selectedDuties = [];
            _this.removeColumn();
        });
        console.log(this.selectedDuties);
    };
    DutiesComponent.prototype.sendInfo2 = function (row) {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_27__sendinfo_sendinfo_component__["a" /* SendinfoComponent */], { data: row, autoFocus: false, disableClose: true }).afterClosed().subscribe();
    };
    DutiesComponent.prototype.removeColumn = function () {
        this.displayedColumns.shift();
        this.displayedColumns.push('Options');
        this.selectorEnabled = false;
        this.multipleSelected = false;
        this.selectedDuties = [];
    };
    DutiesComponent.prototype.printDutySlip = function (row) {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_18__duty_slip_duty_slip_component__["a" /* DutySlipComponent */], { data: row, autoFocus: false, disableClose: true });
    };
    DutiesComponent.prototype.viewDutySlip = function (row) {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_32__viewdutyslip_viewdutyslip_component__["a" /* ViewdutyslipComponent */], { data: row, autoFocus: false, disableClose: true });
    };
    DutiesComponent.prototype.chooseDuties = function (booking, event) {
        var _this = this;
        var index = this.selectedDuties.indexOf(booking);
        console.log(index);
        if (event.checked) {
            this.multipleSelected = true;
            this.selectedDuties.push(booking);
            this.selectedDuties.forEach(function (element) {
                console.log(element);
                if (element.status == 'Completed') {
                    _this.onlySendInfo = true;
                    _this.snackBar.open("Completed Duty Selected", "X");
                }
            });
            console.log(this.selectedDuties, event);
        }
        else if (event.checked == false) {
            this.selectedDuties.splice(index, 1);
            this.selectedDuties.forEach(function (element) {
                if (element.status == 'Completed') {
                }
                else {
                    _this.onlySendInfo = false;
                }
            });
            if (this.selectedDuties.length <= 0) {
                this.multipleSelected = false;
            }
        }
    };
    DutiesComponent.prototype.openImport = function () {
        //  this.dialog.open(ImportexcelComponent,{autoFocus:false,disableClose:true})
    };
    DutiesComponent.prototype.details = function (row) {
        //  this.detail.getDuties(this.user).subscribe(data=>{
        //   this.tempdetails=data
        //  });
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_11__details_details_component__["a" /* DetailsComponent */], {
            autoFocus: false, disableClose: true,
            data: {
                row: row,
                details: 'true'
            }
        });
    };
    DutiesComponent.prototype.selectMultipleAllotments = function () {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_26__multiplesupplierallotment_multiplesupplierallotment_component__["a" /* MultiplesupplierallotmentComponent */], { data: this.selectedDuties, autoFocus: false, disableClose: true });
    };
    DutiesComponent.prototype.selectAllotments = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_6__driverallotment_driverallotment_component__["a" /* DriverallotmentComponent */], { autoFocus: false, disableClose: true, data: { row: row } }).afterClosed().subscribe(function (data) {
            if (data == 'yes') {
                _this.ws.send(_this.user.ownerId + "duty");
            }
        });
    };
    DutiesComponent.prototype.addRemoveLabels = function (row) {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_9__addremovelabels_addremovelabels_component__["a" /* AddremovelabelsComponent */], { autoFocus: false, disableClose: true, data: { row: row } });
    };
    DutiesComponent.prototype.allotSupporters = function (row) {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_10__allotsupporters_allotsupporters_component__["a" /* AllotsupportersComponent */], { autoFocus: false, disableClose: true, data: { row: row } });
    };
    DutiesComponent.prototype.selectRow = function (row) {
        delete row.labelArray;
        localStorage.setItem('dutyedit', JSON.stringify(row));
        this.router.navigate(['/pages/editduties']);
        // this.dialog.open(DutieseditComponent,{autoFocus:false,disableClose:true,data:{row}});
    };
    DutiesComponent.prototype.addBooking = function () {
        this.router.navigate(['/pages/operations/addbooking']);
    };
    DutiesComponent.prototype.addPettyCash = function (row) {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_7__newpettycash_newpettycash_component__["a" /* NewpettycashComponent */], { autoFocus: false, disableClose: true, data: { row: row } });
    };
    DutiesComponent.prototype.viewBookings = function (row) {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_24__bookingdetails_bookingdetails_component__["a" /* BookingdetailsComponent */], { autoFocus: false, disableClose: true,
            data: {
                row: row,
                details: 'true'
            }
        });
    };
    DutiesComponent.prototype.createPlacard = function (row) {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_8__createplacard_createplacard_component__["a" /* CreateplacardComponent */], { autoFocus: false, disableClose: true, data: { row: row } });
    };
    DutiesComponent.prototype.dispatched = function (row) {
        var _this = this;
        console.log(row);
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_19__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                if (row.status == "Allotted") {
                    if (row.dutyType == 'Self Drive') {
                        alert("To dispatch this duty use the mobile application and upload vehicle videos/images");
                    }
                    else {
                        if (row.dispatchCenterId == null) {
                            _this.snackBar.open("Enter Dispatch Center", "X", { duration: 3000 });
                        }
                        else {
                            row.status = "Dispatched";
                            row.subStatus = "Dispatched";
                            _this.DutiesService.updateDutiesDispatched(row);
                            _this.ws.send(_this.user.ownerId + "duty");
                        }
                    }
                }
                else if (row.status == 'Dispatched') {
                    row.status = "Allotted";
                    if (row.driverUserId != null) {
                        row.subStatus = "Accepted";
                    }
                    else {
                        row.subStatus = "Allotted";
                    }
                    _this.DutiesService.updateDutiesDispatched(row);
                    _this.ws.send(_this.user.ownerId + "duty");
                }
                else {
                    window.alert("Please Allot Driver and Vehicle Before Dispatching");
                }
            }
        });
    };
    DutiesComponent.prototype.trackVehicle = function (row) {
        localStorage.setItem('trackVehicle', JSON.stringify(row));
        this.router.navigate(['/pages/tracking/trackVehicle']);
    };
    DutiesComponent.prototype.call = function (row) {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_25__call_call_component__["a" /* CallComponent */], { autoFocus: false, disableClose: true, data: row });
    };
    DutiesComponent.prototype.openExport = function () {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_30__exportduties_exportduties_component__["a" /* ExportdutiesComponent */], { autoFocus: false, disableClose: true });
    };
    DutiesComponent.prototype.openCloseDuty = function (row) {
        var _this = this;
        // if(row.subStatus != 'Ended') {
        //   this.snackBar.open("The Current duty is ongoing", "X", {duration: 3000});
        // }
        // else {
        this.DutiesService.checkSelfDrive(row).subscribe(function (data) {
            if (data[0].dType == "Self Drive") {
                _this.dialog.open(__WEBPACK_IMPORTED_MODULE_29__selfdrive_selfdrive_component__["a" /* SelfdriveComponent */], { autoFocus: false, disableClose: true, data: { row: row } }).afterClosed().subscribe(function (data) {
                    if (data == 'yes') {
                        _this.dialog.open(__WEBPACK_IMPORTED_MODULE_13__closeduty_closeduty_component__["a" /* ClosedutyComponent */], { autoFocus: false, disableClose: true, data: { row: row } }).afterClosed().subscribe(function (data) {
                            if (data == 'yes') {
                                _this.ws.send(_this.user.ownerId + "duty");
                                _this.ws.send(row.id + "closeTracker");
                            }
                        });
                    }
                });
            }
            else {
                _this.dialog.open(__WEBPACK_IMPORTED_MODULE_13__closeduty_closeduty_component__["a" /* ClosedutyComponent */], { autoFocus: false, disableClose: true, data: { row: row } }).afterClosed().subscribe(function (data) {
                    if (data == 'yes') {
                        _this.ws.send(_this.user.ownerId + "duty");
                        _this.ws.send(row.id + "closeTracker");
                    }
                });
            }
        });
        // }    
    };
    DutiesComponent.prototype.openCloseSupplierDuty = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_21__close_supplier_duty_close_supplier_duty_component__["a" /* CloseSupplierDutyComponent */], { autoFocus: false, disableClose: true, data: { row: row } }).afterClosed().subscribe(function (data) {
            if (data == 'yes') {
                _this.ws.send(_this.user.ownerId + "duty");
            }
        });
    };
    DutiesComponent.prototype.cancelDuty = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_19__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                row.driverId = null;
                row.vehicleId = null;
                row.status = "Cancelled";
                row.driver = null;
                row.vehicle = null;
                _this.DutiesService.updateduties(row);
                _this.DutiesService.countIncompleteDuties(row).subscribe(function (data) {
                    if (data[0].cnt == 1) {
                        var temp = {
                            id: row.bid,
                            status: "Completed",
                            ownerId: row.ownerID
                        };
                        var userName = {
                            userName: _this.user.name,
                        };
                        var completeBooking = true;
                        _this.DutiesService.updateBooking(temp, userName, completeBooking);
                    }
                }, function (err) { return ({}); }, function () {
                    _this.ws.send(_this.user.ownerId + "duty");
                });
            }
        });
    };
    DutiesComponent.prototype.confirmDuty = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_19__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                row.status = "Booked";
                _this.DutiesService.updateduties(row);
                var temp = {
                    id: row.bid,
                    status: "Booked",
                    ownerId: row.ownerID
                };
                var userName = {
                    userName: _this.user.name,
                };
                var completeBooking = false;
                _this.DutiesService.updateBooking(temp, userName, completeBooking);
                _this.ws.send(_this.user.ownerId + "duty");
            }
        });
    };
    DutiesComponent.prototype.clearAllotment = function (row) {
        row.driverId = null;
        row.vehicleId = null;
        row.status = "Booked";
        row.driver = null;
        row.vehicle = null;
        row.supplierId = null;
        row.supplier = null;
        this.DutiesService.updateduties(row);
        this.ws.send(this.user.ownerId + "duty");
    };
    DutiesComponent.prototype.setOfflineAllotment = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_28__offlineallottment_offlineallottment_component__["a" /* OfflineallottmentComponent */], { autoFocus: false, disableClose: true, data: { row: row } }).afterClosed().subscribe(function (data) {
            if (data == 'yes') {
                _this.ws.send(_this.user.ownerId + "duty");
            }
        });
    };
    DutiesComponent.prototype.rowColors = function (currDate, status) {
        if (currDate === this.today && (status === 'Booked' || status === 'Allotted' || status === 'Dispatched')) {
            return '#FFE5CC';
        }
        else if (currDate <= this.today && status === 'Completed') {
            return '#CCFFE5';
        }
        else if (status === 'Cancelled') {
            return 'lightcoral';
        }
        else {
            return 'white';
        }
    };
    DutiesComponent.prototype.setTextColor = function (color) {
        var r, g, b, hsp;
        // Check the format of the color, HEX or RGB?
        if (color.match(/^rgb/)) {
            // If HEX --> store the red, green, blue values in separate variables
            color = color.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/);
            r = color[1];
            g = color[2];
            b = color[3];
        }
        else {
            // If RGB --> Convert it to HEX: http://gist.github.com/983661
            color = +("0x" + color.slice(1).replace(color.length < 5 && /./g, '$&$&'));
            r = color >> 16;
            g = color >> 8 & 255;
            b = color & 255;
        }
        // HSP (Highly Sensitive Poo) equation from http://alienryderflex.com/hsp.html
        hsp = Math.sqrt(0.299 * (r * r) +
            0.587 * (g * g) +
            0.114 * (b * b));
        // Using the HSP value, determine whether the color is light or dark
        if (hsp < 150) {
            return '#ffffff';
        }
        else {
            return '#000000';
        }
    };
    DutiesComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.screenWidth = window.innerWidth;
        var HOST = location.origin.replace(/^http/, 'ws');
        this.ws = new WebSocket(HOST);
        this.ws.onmessage = function (event) {
            var _this = this;
            if (event.data == this.user.ownerId + 'duty') {
                this.loadDutiesPage();
                if (this.filterStart == '' && this.filterEnd == '') {
                    this.DutiesService.getCount(this.duty.id, this.input.nativeElement.value, this.sort.active, this.sort.direction, this.paginator.pageIndex, this.paginator.pageSize, this.status, '1970-01-01', '2050-12-31', this.user.ownerId).subscribe(function (data) { return data.map(function (res) {
                        _this.length = res.count;
                    }); });
                }
                else if (this.filterStart == '') {
                    this.DutiesService.getCount(this.duty.id, this.input.nativeElement.value, this.sort.active, this.sort.direction, this.paginator.pageIndex, this.paginator.pageSize, this.status, '1970-01-01', this.filterEnd, this.user.ownerId).subscribe(function (data) { return data.map(function (res) {
                        _this.length = res.count;
                    }); });
                }
                else if (this.filterEnd == '') {
                    this.DutiesService.getCount(this.duty.id, this.input.nativeElement.value, this.sort.active, this.sort.direction, this.paginator.pageIndex, this.paginator.pageSize, this.status, this.filterStart, '2050-12-31', this.user.ownerId).subscribe(function (data) { return data.map(function (res) {
                        _this.length = res.count;
                    }); });
                }
                else {
                    this.DutiesService.getCount(this.duty.id, this.input.nativeElement.value, this.sort.active, this.sort.direction, this.paginator.pageIndex, this.paginator.pageSize, this.status, this.filterStart, this.filterEnd, this.user.ownerId).subscribe(function (data) { return data.map(function (res) {
                        _this.length = res.count;
                    }); });
                }
            }
        }.bind(this);
        this.authService.user.subscribe(function (data) {
            _this.user = data[0];
            _this.authService.permissions.subscribe(function (data) {
                _this.permission = data[0];
            });
            _this.authService.businessSettings.subscribe(function (data) {
                console.log(data);
                _this.businessSettings = data;
                if (_this.businessSettings.ShowVehicleGroup) {
                    _this.displayedColumns.push('vehicleGroup');
                }
                if (_this.businessSettings.ShowFromCity) {
                    _this.displayedColumns.push('fromLoc');
                }
                if (_this.businessSettings.ShowDropAddress) {
                    _this.displayedColumns.push('dropAddress');
                }
                if (_this.businessSettings.ShowGarageStartTimeInsteadOfReportingTime) {
                    _this.displayedColumns.push('startFromGarage');
                }
                if (!_this.businessSettings.ShowGarageStartTimeInsteadOfReportingTime) {
                    _this.displayedColumns.push('reportingTime');
                }
                if (_this.businessSettings.ShowRemarks) {
                    _this.displayedColumns.push('remarks');
                }
                _this.displayedColumns.push('labelArray', 'status', 'Options');
                console.log(_this.displayedColumns);
            });
            _this.today = __WEBPACK_IMPORTED_MODULE_22_moment__().format('YYYY-MM-DD');
            _this.dataSource = new DutyDataSource(_this.DutiesService);
            _this.dataSource.loadDuties('bookBy', '', 'startDate', 'asc', 0, 10, 'Booked', '1970-01-01', '2050-12-31', _this.from, _this.to, _this.user.ownerId);
            _this.dataSource.loading$.subscribe(function (data) {
                if (data === true)
                    _this.isLoading = true;
                else
                    _this.isLoading = false;
            });
            _this.input.nativeElement.value = '';
            if (_this.filterStart == '' && _this.filterEnd == '') {
                _this.DutiesService.getCount(_this.duty.id, _this.input.nativeElement.value, _this.sort.active, _this.sort.direction, _this.paginator.pageIndex, _this.paginator.pageSize, _this.status, '1970-01-01', '2050-12-31', _this.user.ownerId).subscribe(function (data) { return data.map(function (res) {
                    _this.length = res.count;
                }); });
            }
            else if (_this.filterStart == '') {
                _this.DutiesService.getCount(_this.duty.id, _this.input.nativeElement.value, _this.sort.active, _this.sort.direction, _this.paginator.pageIndex, _this.paginator.pageSize, _this.status, '1970-01-01', _this.filterEnd, _this.user.ownerId).subscribe(function (data) { return data.map(function (res) {
                    _this.length = res.count;
                }); });
            }
            else if (_this.filterEnd == '') {
                _this.DutiesService.getCount(_this.duty.id, _this.input.nativeElement.value, _this.sort.active, _this.sort.direction, _this.paginator.pageIndex, _this.paginator.pageSize, _this.status, _this.filterStart, '2050-12-31', _this.user.ownerId).subscribe(function (data) { return data.map(function (res) {
                    _this.length = res.count;
                }); });
            }
            else {
                _this.DutiesService.getCount(_this.duty.id, _this.input.nativeElement.value, _this.sort.active, _this.sort.direction, _this.paginator.pageIndex, _this.paginator.pageSize, _this.status, _this.filterStart, _this.filterEnd, _this.user.ownerId).subscribe(function (data) { return data.map(function (res) {
                    _this.length = res.count;
                }); });
            }
        });
        // this.socket.on('Duties Updated',()=>{
        //   this.loadDutiesPage();
        // })
    };
    DutiesComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        Object(__WEBPACK_IMPORTED_MODULE_16_rxjs_observable_fromEvent__["a" /* fromEvent */])(this.input.nativeElement, 'keyup')
            .pipe(Object(__WEBPACK_IMPORTED_MODULE_14_rxjs_operators__["debounceTime"])(600), Object(__WEBPACK_IMPORTED_MODULE_14_rxjs_operators__["distinctUntilChanged"])(), Object(__WEBPACK_IMPORTED_MODULE_14_rxjs_operators__["tap"])(function () {
            _this.paginator.pageIndex = 0;
            _this.loadDutiesPage();
            if (_this.filterStart == '' && _this.filterEnd == '') {
                _this.DutiesService.getCount(_this.duty.id, _this.input.nativeElement.value, _this.sort.active, _this.sort.direction, _this.paginator.pageIndex, _this.paginator.pageSize, _this.status, '1970-01-01', '2050-12-31', _this.user.ownerId).subscribe(function (data) { return data.map(function (res) {
                    _this.length = res.count;
                }); });
            }
            else if (_this.filterStart == '') {
                _this.DutiesService.getCount(_this.duty.id, _this.input.nativeElement.value, _this.sort.active, _this.sort.direction, _this.paginator.pageIndex, _this.paginator.pageSize, _this.status, '1970-01-01', _this.filterEnd, _this.user.ownerId).subscribe(function (data) { return data.map(function (res) {
                    _this.length = res.count;
                }); });
            }
            else if (_this.filterEnd == '') {
                _this.DutiesService.getCount(_this.duty.id, _this.input.nativeElement.value, _this.sort.active, _this.sort.direction, _this.paginator.pageIndex, _this.paginator.pageSize, _this.status, _this.filterStart, '2050-12-31', _this.user.ownerId).subscribe(function (data) { return data.map(function (res) {
                    _this.length = res.count;
                }); });
            }
            else {
                _this.DutiesService.getCount(_this.duty.id, _this.input.nativeElement.value, _this.sort.active, _this.sort.direction, _this.paginator.pageIndex, _this.paginator.pageSize, _this.status, _this.filterStart, _this.filterEnd, _this.user.ownerId).subscribe(function (data) { return data.map(function (res) {
                    _this.length = res.count;
                }); });
            }
        }))
            .subscribe();
        // reset the paginator after sorting
        this.sort.sortChange.subscribe(function () { return _this.paginator.pageIndex = 0; });
        // on sort or paginate events, load a new page
        Object.assign(this.sort.sortChange, this.paginator.page)
            .pipe(Object(__WEBPACK_IMPORTED_MODULE_14_rxjs_operators__["tap"])(function () { return _this.loadDutiesPage(); }))
            .subscribe();
        console.log(this.dataSource);
    };
    DutiesComponent.prototype.filter = function (temp) {
        var _this = this;
        this.filterClicked = temp;
        console.log(temp);
        if (this.selectorEnabled == true) {
            this.displayedColumns.splice(0, 1);
            this.displayedColumns.push('Options');
            this.selectorEnabled = false;
            this.multipleSelected = false;
            this.onlySendInfo = false;
        }
        if (temp == 'All') {
            this.filterStart = '';
            this.filterEnd = '';
            this.status = '';
        }
        else if (temp == 'Upcoming') {
            this.status = '';
            this.filterStart = this.today;
            this.filterEnd = __WEBPACK_IMPORTED_MODULE_22_moment__().add(3, 'days').format("YYYY-MM-DD");
        }
        else if (temp == 'Pending') {
            this.filterStart = '';
            this.filterEnd = '';
            this.status = 'pending';
        }
        else {
            this.filterStart = '';
            this.filterEnd = '';
            this.status = temp;
        }
        if (this.filterStart == '' && this.filterEnd == '') {
            console.log(this.filterStart);
            this.DutiesService.getCount(this.duty.id, this.input.nativeElement.value, this.sort.active, this.sort.direction, this.paginator.pageIndex, this.paginator.pageSize, this.status, '1970-01-01', '2050-12-31', this.user.ownerId).subscribe(function (data) { return data.map(function (res) {
                _this.length = res.count;
            }); });
        }
        else if (this.filterStart == '') {
            this.DutiesService.getCount(this.duty.id, this.input.nativeElement.value, this.sort.active, this.sort.direction, this.paginator.pageIndex, this.paginator.pageSize, this.status, '1970-01-01', this.filterEnd, this.user.ownerId).subscribe(function (data) { return data.map(function (res) {
                _this.length = res.count;
            }); });
        }
        else if (this.filterEnd == '') {
            this.DutiesService.getCount(this.duty.id, this.input.nativeElement.value, this.sort.active, this.sort.direction, this.paginator.pageIndex, this.paginator.pageSize, this.status, this.filterStart, '2050-12-31', this.user.ownerId).subscribe(function (data) { return data.map(function (res) {
                _this.length = res.count;
            }); });
        }
        else {
            this.DutiesService.getCount(this.duty.id, this.input.nativeElement.value, this.sort.active, this.sort.direction, this.paginator.pageIndex, this.paginator.pageSize, this.status, this.filterStart, this.filterEnd, this.user.ownerId).subscribe(function (data) { return data.map(function (res) {
                _this.length = res.count;
            }); });
        }
        this.paginator._pageIndex = 0;
        this.loadDutiesPage();
    };
    DutiesComponent.prototype.filterByDate = function () {
        var _this = this;
        var sDate = __WEBPACK_IMPORTED_MODULE_22_moment__(this.filterStart).format('YYYY-MM-DD');
        var eDate = __WEBPACK_IMPORTED_MODULE_22_moment__(this.filterEnd).format('YYYY-MM-DD');
        if (this.filterStart == '' && this.filterEnd == '') {
            this.DutiesService.getCount(this.duty.id, this.input.nativeElement.value, this.sort.active, this.sort.direction, this.paginator.pageIndex, this.paginator.pageSize, this.status, '1970-01-01', '2050-12-31', this.user.ownerId).subscribe(function (data) { return data.map(function (res) {
                _this.length = res.count;
            }); });
        }
        else if (this.filterStart == '') {
            this.DutiesService.getCount(this.duty.id, this.input.nativeElement.value, this.sort.active, this.sort.direction, this.paginator.pageIndex, this.paginator.pageSize, this.status, '1970-01-01', this.filterEnd, this.user.ownerId).subscribe(function (data) { return data.map(function (res) {
                _this.length = res.count;
            }); });
        }
        else if (this.filterEnd == '') {
            this.DutiesService.getCount(this.duty.id, this.input.nativeElement.value, this.sort.active, this.sort.direction, this.paginator.pageIndex, this.paginator.pageSize, this.status, this.filterStart, '2050-12-31', this.user.ownerId).subscribe(function (data) { return data.map(function (res) {
                _this.length = res.count;
            }); });
        }
        else {
            this.DutiesService.getCount(this.duty.id, this.input.nativeElement.value, this.sort.active, this.sort.direction, this.paginator.pageIndex, this.paginator.pageSize, this.status, sDate, eDate, this.user.ownerId).subscribe(function (data) { return data.map(function (res) {
                _this.length = res.count;
            }); });
        }
        this.loadDutiesPage();
    };
    DutiesComponent.prototype.search = function () {
        // this.dataSource.filter=filterValue.trim().toLowerCase();
    };
    DutiesComponent.prototype.clear = function () {
        var _this = this;
        this.input.nativeElement.value = '';
        this.filterStart = '';
        this.filterEnd = '';
        if (this.filterStart == '' && this.filterEnd == '') {
            this.DutiesService.getCount(this.duty.id, '', this.sort.active, this.sort.direction, this.paginator.pageIndex, this.paginator.pageSize, this.status, '1970-01-01', '2050-12-31', this.user.ownerId).subscribe(function (data) { return data.map(function (res) {
                _this.length = res.count;
            }); });
        }
        else if (this.filterStart == '') {
            this.DutiesService.getCount(this.duty.id, '', this.sort.active, this.sort.direction, this.paginator.pageIndex, this.paginator.pageSize, this.status, '1970-01-01', this.filterEnd, this.user.ownerId).subscribe(function (data) { return data.map(function (res) {
                _this.length = res.count;
            }); });
        }
        else if (this.filterEnd == '') {
            this.DutiesService.getCount(this.duty.id, '', this.sort.active, this.sort.direction, this.paginator.pageIndex, this.paginator.pageSize, this.status, this.filterStart, '2050-12-31', this.user.ownerId).subscribe(function (data) { return data.map(function (res) {
                _this.length = res.count;
            }); });
        }
        else {
            this.DutiesService.getCount(this.duty.id, '', this.sort.active, this.sort.direction, this.paginator.pageIndex, this.paginator.pageSize, this.status, this.filterStart, this.filterEnd, this.user.ownerId).subscribe(function (data) { return data.map(function (res) {
                _this.length = res.count;
            }); });
        }
        this.loadDutiesPage();
    };
    DutiesComponent.prototype.addDuties = function (tempid, bookings) {
        this.bookings = bookings;
        this.loadDutyVal();
        if (this.bookings.startDate != this.bookings.endDate) {
            var sDate = new Date(this.bookings.startDate);
            var eDate = new Date(this.bookings.endDate);
            this.duty.bid = tempid;
            //sDate.setDate(sDate.getDate() + 1);
            //eDate.setDate(eDate.getDate() +1);
            while (sDate <= eDate) {
                this.duty.startDate = this.datePipe.transform(sDate, 'yyyy-MM-dd');
                sDate.setDate(sDate.getDate() + 1);
                this.DutiesService.addduties(this.duty).subscribe(function (res) { return res; });
            }
        }
        else {
            var sDate = new Date(this.bookings.startDate);
            this.duty.bid = tempid;
            this.duty.startDate = this.datePipe.transform(sDate, 'yyyy-MM-dd');
            return this.DutiesService.addduties(this.duty).subscribe(function (res) { return res; });
        }
    };
    DutiesComponent.prototype.addMonthlyDuties = function (tempid, bookings, startDate, dutyType, dutyTypeId, vehicleGroup, vehicleGroupId) {
        this.bookings = bookings;
        this.loadDutyVal();
        this.duty.startDate = startDate;
        this.duty.dutyType = dutyType;
        this.duty.dutyTypeId = dutyTypeId;
        this.duty.vehicleGroup = vehicleGroup;
        this.duty.vehicleGroupId = vehicleGroupId;
        this.duty.bid = tempid;
        return this.DutiesService.addduties(this.duty).subscribe(function (res) { return res; });
    };
    DutiesComponent.prototype.updateDuties = function () {
    };
    DutiesComponent.prototype.loadDutyVal = function () {
        this.duty.bookBy = this.bookings.bookBy;
        //this.duty.date= this.bookings.date;  it is not same as booking date
        this.duty.passenger = this.bookings.passenger;
        this.duty.vehicleGroup = this.bookings.vehicleGroup;
        this.duty.dutyType = this.bookings.dutyType;
        this.duty.status = this.bookings.status;
        this.duty.cname = this.bookings.cname;
        this.duty.bookByNo = this.bookings.bookByNo;
        this.duty.bookByEmail = this.bookings.bookByEmail;
        this.duty.passenger = this.bookings.passenger;
        this.duty.passengerNo = this.bookings.passengerNo;
        this.duty.passengerEmail = this.bookings.passengerEmail;
        this.duty.fromLoc = this.bookings.fromLoc;
        this.duty.toLoc = this.bookings.toLoc;
        //this.duty.endDate=this.bookings.endDate;
        this.duty.reportingTime = this.bookings.reportingTime;
        this.duty.startFromGarage = this.bookings.startFromGarage;
        this.duty.reportingAddress = this.bookings.reportingAddress;
        this.duty.dropAddress = this.bookings.dropAddress;
        this.duty.shortReportingAddress = this.bookings.shortReportingAddress;
        this.duty.flightTrainNo = this.bookings.flightTrainNo;
        this.duty.dispatchCenter = this.bookings.dispatchCenter;
        this.duty.billTo = this.bookings.billTo;
        this.duty.price = this.bookings.price;
        this.duty.remarks = this.bookings.remarks;
        this.duty.operatorNotes = this.bookings.operatorNotes;
        this.duty.label = this.bookings.label;
        this.duty.vehicleGroup = this.bookings.vehicleGroup;
        this.duty.dutyType = this.bookings.dutyType;
        this.bookings.status;
        this.duty.vehicleGroupId = this.bookings.vehicleGroupId;
        this.duty.dutyTypeId = this.bookings.dutyTypeId;
        this.duty.ownerId = this.bookings.ownerID;
        this.duty.customerId = this.bookings.customerId;
        this.duty.startDate = this.bookings.startDate;
        this.duty.extraHours = this.bookings.extraHours;
        this.duty.extraKms = this.bookings.extraKms;
        this.duty.dispatchCenterId = this.bookings.dispatchCenterId;
    };
    DutiesComponent.prototype.loadDutiesPage = function () {
        if (this.filterStart == '' && this.filterEnd == '') {
            this.dataSource.loadDuties(this.duty.id, this.input.nativeElement.value, this.sort.active, this.sort.direction, this.paginator.pageIndex, this.paginator.pageSize, this.status, '1970-01-01', '2050-12-31', this.from, this.to, this.user.ownerId);
        }
        else if (this.filterStart == '') {
            this.dataSource.loadDuties(this.duty.id, this.input.nativeElement.value, this.sort.active, this.sort.direction, this.paginator.pageIndex, this.paginator.pageSize, this.status, '1970-01-01', this.filterEnd, this.from, this.to, this.user.ownerId);
        }
        else if (this.filterEnd == '') {
            this.dataSource.loadDuties(this.duty.id, this.input.nativeElement.value, this.sort.active, this.sort.direction, this.paginator.pageIndex, this.paginator.pageSize, this.status, this.filterStart, '2050-12-31', this.from, this.to, this.user.ownerId);
        }
        else {
            this.dataSource.loadDuties(this.duty.id, this.input.nativeElement.value, this.sort.active, this.sort.direction, this.paginator.pageIndex, this.paginator.pageSize, this.status, this.filterStart, this.filterEnd, this.from, this.to, this.user.ownerId);
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], DutiesComponent.prototype, "sort", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["A" /* MatPaginator */])
    ], DutiesComponent.prototype, "paginator", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('input'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], DutiesComponent.prototype, "input", void 0);
    DutiesComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-duties',
            template: __webpack_require__("./src/app/pages/duties/duties.component.html"),
            styles: [__webpack_require__("./src/app/pages/duties/duties.component.scss")],
            providers: [__WEBPACK_IMPORTED_MODULE_12__node_modules_angular_common__["d" /* DatePipe */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__duties_service__["a" /* DutiesService */],
            __WEBPACK_IMPORTED_MODULE_2__duties_service__["a" /* DutiesService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_12__node_modules_angular_common__["d" /* DatePipe */],
            __WEBPACK_IMPORTED_MODULE_17__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_20__masters_sub_users_sub_user_service__["a" /* SubUserService */],
            __WEBPACK_IMPORTED_MODULE_23__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_31__masters_addsuppliers_supplier_service__["a" /* SupplierService */]])
    ], DutiesComponent);
    return DutiesComponent;
}());

var DutyDataSource = (function () {
    function DutyDataSource(dutiesService) {
        this.dutiesService = dutiesService;
        this.dutySubject = new __WEBPACK_IMPORTED_MODULE_3_rxjs_BehaviorSubject__["a" /* BehaviorSubject */]([]);
        this.loadingSubject = new __WEBPACK_IMPORTED_MODULE_3_rxjs_BehaviorSubject__["a" /* BehaviorSubject */](false);
        this.loading$ = this.loadingSubject.asObservable();
        this.array = [];
    }
    DutyDataSource.prototype.connect = function (collectionViewer) {
        return this.dutySubject.asObservable();
    };
    DutyDataSource.prototype.disconnect = function (collectionViewer) {
        this.dutySubject.complete();
        this.loadingSubject.complete();
    };
    DutyDataSource.prototype.loadDuties = function (columnName, filter, sortcolumn, sortDirection, pageIndex, pageSize, status, startDate, endDate, from, to, ownerId) {
        var _this = this;
        if (columnName === void 0) { columnName = 'bookBy'; }
        if (filter === void 0) { filter = ''; }
        if (sortcolumn === void 0) { sortcolumn = 'startDate'; }
        if (sortDirection === void 0) { sortDirection = 'asc'; }
        if (pageIndex === void 0) { pageIndex = 0; }
        if (pageSize === void 0) { pageSize = 10; }
        if (status === void 0) { status = 'Booked'; }
        if (ownerId === void 0) { ownerId = ''; }
        this.loadingSubject.next(true);
        this.dutiesService.findDuties(columnName, filter, sortcolumn, sortDirection, pageIndex, pageSize, status, startDate, endDate, from, to, ownerId).pipe(Object(__WEBPACK_IMPORTED_MODULE_14_rxjs_operators__["catchError"])(function () { return Object(__WEBPACK_IMPORTED_MODULE_15_rxjs_observable_of__["a" /* of */])([]); }), Object(__WEBPACK_IMPORTED_MODULE_14_rxjs_operators__["finalize"])(function () { return _this.loadingSubject.next(false); }))
            .subscribe(function (lessons) {
            // console.log(lessons)
            var i = 0;
            _this.array = lessons;
            var idArray = [];
            var driverIdArray = [];
            _this.array.forEach(function (element) {
                element.labelArray = [];
                lessons[i] = element;
                i++;
                idArray.push(element.id);
                if (element.driverId != null) {
                    driverIdArray.push(element.driverId);
                }
            });
            // console.log(this.array)
            _this.loadLabels(idArray);
            if (driverIdArray.length > 0) {
                _this.loadDriverUserId(driverIdArray);
            }
            _this.dutySubject.next(lessons);
        });
    };
    DutyDataSource.prototype.loadLabels = function (idArray) {
        var _this = this;
        var temp = {
            idArray: idArray
        };
        this.dutiesService.getLabels(temp).subscribe(function (data) {
            data.forEach(function (element) {
                var tempIndex = _this.array.findIndex(function (x) { return x.id == element.dutyId; });
                if (tempIndex >= 0) {
                    _this.array[tempIndex].labelArray.push(element);
                }
            });
        });
    };
    DutyDataSource.prototype.loadDriverUserId = function (driverIdArray) {
        var _this = this;
        var temp = {
            idArray: driverIdArray
        };
        var tempIndex = 0;
        this.dutiesService.getDriverUserId(temp).subscribe(function (data) {
            _this.array.forEach(function (element1) {
                data.forEach(function (element2) {
                    if (element1.driverId == element2.id) {
                        _this.array[tempIndex].phoneNumber = element2.phoneNumber;
                        _this.array[tempIndex].driverUserId = element2.userId;
                    }
                });
                tempIndex += 1;
            });
        });
    };
    return DutyDataSource;
}());



/***/ }),

/***/ "./src/app/pages/duties/duties.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DutiesService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__node_modules_angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_operators__ = __webpack_require__("./node_modules/rxjs/_esm5/operators.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__activitylog_service__ = __webpack_require__("./src/app/activitylog.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var DutiesService = (function () {
    function DutiesService(dialog, auth, http, datePipe, activityLogs) {
        this.dialog = dialog;
        this.auth = auth;
        this.http = http;
        this.datePipe = datePipe;
        this.activityLogs = activityLogs;
    }
    DutiesService.prototype.addduties = function (duties) {
        console.log(duties);
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/add', duties, { headers: headers }).map(function (res) {
            var response = res.toString();
        });
    };
    DutiesService.prototype.deleteduties = function (duties) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        this.http.post('/duties/delete', duties, { headers: headers }).subscribe(function (res) {
            var response = res.toString();
        });
    };
    DutiesService.prototype.getBookings = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/retrieveForInvoice', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.requestUpdateDuties = function (temp) {
        console.log(temp);
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/editRequest', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.getOwnerIdforRequest = function (temp) {
        console.log(temp);
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/getOwnerIdforRequest', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.getRequestUpdateDuties = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/retrieveEditRequest', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.getValueChanges = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/retrieveValueChanges', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.updateduties = function (duties) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        this.http.post('/duties/update', duties, { headers: headers }).subscribe();
    };
    DutiesService.prototype.updatedutyForOffline = function (duties) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        this.http.post('/duties/updateForOffline', duties, { headers: headers }).subscribe();
    };
    DutiesService.prototype.updateDutiesEdit = function (duties) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/updateEdit', duties, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.updateDutiesClose = function (duties) {
        console.log(duties);
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        this.http.post('/duties/updateClose', duties, { headers: headers }).subscribe();
    };
    DutiesService.prototype.updateDutiesDispatched = function (duties) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        this.http.post('/duties/markDispatch', duties, { headers: headers }).subscribe();
    };
    DutiesService.prototype.updateDriverAllot = function (duties) {
        console.log("JASHD");
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        this.http.post('/duties/allotDriver', duties, { headers: headers }).subscribe();
    };
    DutiesService.prototype.allotDriver = function (duties) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        this.http.post('/duties/allotMyDriver', duties, { headers: headers }).subscribe();
    };
    DutiesService.prototype.vehicleStatus = function (temp) {
        console.log(temp);
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/vehicleStatus', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.getDutyType = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/retrieveDutyType', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.getDuties = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/retrieve', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.getCustomer = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/retrieveCustomer', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.getFilteredDuties = function (column, value) {
        var t = {
            column: column,
            value: value
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/filterDuty', t, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.checkIfBookingComplete = function (column, value) {
        var t = {
            column: column,
            value: value
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/checkIfBookingComplete', t, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.findDuties = function (columnName, filter, sortColumn, sortOrder, pageNumber, pageSize, status, startDate, endDate, from, to, ownerId) {
        if (filter === void 0) { filter = ''; }
        if (sortColumn === void 0) { sortColumn = 'startDate'; }
        if (sortOrder === void 0) { sortOrder = 'asc'; }
        if (pageNumber === void 0) { pageNumber = 1; }
        if (pageSize === void 0) { pageSize = 10; }
        if (status === void 0) { status = 'Booked'; }
        console.log(status, startDate, endDate);
        if ((status == '' && startDate == '1970-01-01' && endDate == '2050-12-31') ||
            (status == 'Booked' && startDate == '1970-01-01' && endDate == '2050-12-31') ||
            (status == 'Completed' && startDate == '1970-01-01' && endDate == '2050-12-31') ||
            (status == 'Allotted' && startDate == '1970-01-01' && endDate == '2050-12-31')) {
            console.log("yes");
            var temp = {
                columnName: columnName,
                filter: filter,
                sortColumn: sortColumn,
                sortOrder: 'desc',
                pageNumber: pageNumber,
                pageSize: pageSize,
                status: status,
                startDate: startDate,
                endDate: endDate,
                from: from,
                to: to,
                ownerId: ownerId
            };
        }
        else {
            var temp = {
                columnName: columnName,
                filter: filter,
                sortColumn: sortColumn,
                sortOrder: sortOrder,
                pageNumber: pageNumber,
                pageSize: pageSize,
                status: status,
                startDate: startDate,
                endDate: endDate,
                from: from,
                to: to,
                ownerId: ownerId
            };
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/find', temp, { headers: headers }).pipe(Object(__WEBPACK_IMPORTED_MODULE_5_rxjs_operators__["map"])(function (res) { return res.json(); }));
    };
    DutiesService.prototype.completeBooking = function (temp) {
        var t = {
            value: temp
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/completeBooking', t, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.closeduties = function (closeDuty) {
        closeDuty.ownerId = this.currUser;
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/close', closeDuty, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.closedutiesExtras = function (closeDuty) {
        closeDuty.ownerId = this.currUser;
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/closeExtras', closeDuty, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.getCount = function (columnName, filter, sortColumn, sortOrder, pageNumber, pageSize, status, startDate, endDate, ownerId) {
        if (filter === void 0) { filter = ''; }
        if (sortColumn === void 0) { sortColumn = 'startDate'; }
        if (sortOrder === void 0) { sortOrder = 'asc'; }
        if (pageNumber === void 0) { pageNumber = 1; }
        if (pageSize === void 0) { pageSize = 10; }
        if (status === void 0) { status = 'Booked'; }
        console.log(status, startDate, endDate);
        if (status == '' && startDate == '1970-01-01' && endDate == '2050-12-31') {
            console.log("yes");
            var temp = {
                columnName: columnName,
                filter: filter,
                sortColumn: sortColumn,
                sortOrder: 'desc',
                pageNumber: pageNumber,
                pageSize: pageSize,
                status: status,
                startDate: startDate,
                endDate: endDate,
                ownerId: ownerId
            };
        }
        else {
            var temp = {
                columnName: columnName,
                filter: filter,
                sortColumn: sortColumn,
                sortOrder: sortOrder,
                pageNumber: pageNumber,
                pageSize: pageSize,
                status: status,
                startDate: startDate,
                endDate: endDate,
                ownerId: ownerId
            };
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/count', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.updateTotalPrice = function (temp) {
        var t = {
            bid: temp
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        this.http.post('/bookings/updatePrice', t, { headers: headers }).subscribe(function (data) { return data.json(); });
    };
    DutiesService.prototype.updateBooking = function (temp, userName, completeBooking) {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        this.http.post('/bookings/updateBookingfromDuties', temp, { headers: headers }).subscribe(function (res) {
            if (completeBooking == false) {
                _this.activityLogs.addBookingLogs({
                    bookingId: temp.id, ownerId: temp.ownerId,
                    message: "Booking confirmed on " + __WEBPACK_IMPORTED_MODULE_7_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + userName
                }).subscribe();
            }
        });
    };
    DutiesService.prototype.availableDriversForEdit = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/availabeDriversForEdit', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.availableVehiclesForEdit = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/availabeVehiclesForEdit', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.getLabels = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/getLabels', temp, { headers: headers }).pipe(Object(__WEBPACK_IMPORTED_MODULE_5_rxjs_operators__["map"])(function (res) { return res.json(); }));
    };
    DutiesService.prototype.getDriverUserId = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/getDriverUserId', temp, { headers: headers }).pipe(Object(__WEBPACK_IMPORTED_MODULE_5_rxjs_operators__["map"])(function (res) { return res.json(); }));
    };
    DutiesService.prototype.addTracking = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/tracking/addTrackingInfo', temp, { headers: headers }).pipe(Object(__WEBPACK_IMPORTED_MODULE_5_rxjs_operators__["map"])(function (res) { return res.json(); }));
    };
    DutiesService.prototype.deleteTrackingInfo = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/tracking/deleteTrackingInfo', temp, { headers: headers }).pipe(Object(__WEBPACK_IMPORTED_MODULE_5_rxjs_operators__["map"])(function (res) { return res.json(); }));
    };
    DutiesService.prototype.getTracking = function (temp) {
        return this.http.post('/tracking/retrieveTrackingInfo', temp).pipe(Object(__WEBPACK_IMPORTED_MODULE_5_rxjs_operators__["map"])(function (res) { return res.json(); }));
    };
    DutiesService.prototype.checkSelfDrive = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/checkSelfDrive', temp, { headers: headers }).pipe(Object(__WEBPACK_IMPORTED_MODULE_5_rxjs_operators__["map"])(function (res) { return res.json(); }));
    };
    DutiesService.prototype.getSelfDriveDetails = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/getSelfDriveDetails', temp, { headers: headers }).pipe(Object(__WEBPACK_IMPORTED_MODULE_5_rxjs_operators__["map"])(function (res) { return res.json(); }));
    };
    DutiesService.prototype.getDutyByBId = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/retrieveDutyByBId', temp, { headers: headers }).pipe(Object(__WEBPACK_IMPORTED_MODULE_5_rxjs_operators__["map"])(function (res) { return res.json(); }));
    };
    DutiesService.prototype.getDutyById = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/retrieveDutyById', temp, { headers: headers }).pipe(Object(__WEBPACK_IMPORTED_MODULE_5_rxjs_operators__["map"])(function (res) { return res.json(); }));
    };
    DutiesService.prototype.getDutiesForExport = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/getDutiesForExport', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.getDutiesByBooking = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/getDutiesByBooking', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.getEndedCloseDutyDetails = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/getEndedCloseDutyDetails', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.getCloseDutyDetails = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/getCloseDutyDetails', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.updateCloseDutyDetails = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/updateCloseDutyDetails', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.getEndedCloseDutyAdditionalCharges = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/getEndedCloseDutyAdditionalCharges', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.getDutySlipSummary = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/getDutySlipSummary', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.completeDuty = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/completeDuty', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.countIncompleteDuties = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/countIncompleteDuties', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.getTotalKms = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/getTotalKms', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService.prototype.getTotalSeconds = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/duties/getTotalSeconds', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutiesService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_material__["n" /* MatDialog */], __WEBPACK_IMPORTED_MODULE_6__core_auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_3__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_4__node_modules_angular_common__["d" /* DatePipe */], __WEBPACK_IMPORTED_MODULE_8__activitylog_service__["a" /* ActivitylogService */]])
    ], DutiesService);
    return DutiesService;
}());



/***/ }),

/***/ "./src/app/pages/duties/duty-slip/duty-slip.component.html":
/***/ (function(module, exports) {

module.exports = "<!-- <mat-horizontal-stepper> -->\n <!-- <mat-step [stepControl]=\"first\">\n\t <form [formGroup]=\"billingItemsForm\">\n\t\t\t<ng-template matStepLabel>Select Billing Items</ng-template>\n\t\t <table>\n\t\t\t <tr>\n\t\t\t\t <td *ngFor=\"let element of billingItems\">\n\t\t\t\t\t\t\n\t\t\t\t </td>\n\t\t\t </tr>\n\t\t </table>\n\t </form>\n </mat-step> -->\n \n\t<!-- <mat-step [stepControl]=\"second\"> -->\n<mat-tab-group mat-stretch-tabs class=\"example-stretched-tabs mat-elevation-z4\">\n\t<mat-tab label=\"Full Duty Slip\">\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-lg-12\">\n\t\t\t\t<ng-template matStepLabel>Duty Slip</ng-template>\n\t\t\t\t<html>\n\t\t\t\t\t<head>\n\t\t\t\t\t\t<title>\n\t\t\t\t\n\t\t\t\t\t\t</title>\n\t\t\t\t\t\t<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css\">\n\t\t\t\t\t\t<script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"></script>\n\t\t\t\t\t\t<script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js\"></script>\n\t\t\t\t\t\t<script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js\"></script>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<style>\t\t\t\t\n\t\t\t\t\t\t\ttable  {\n\t\t\t\t\t\t\t\twidth:100%\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t.row {\n\t\t\t\t\t\t\t\tmargin-left: 20px;\n\t\t\t\t\t\t\t\tmargin-right: 20px;\n\t\t\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg {\n\t\t\t\t\t\t\t\tborder-collapse: collapse;\n\t\t\t\t\t\t\t\tborder-spacing: 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg td {\n\t\t\t\t\t\t\t\tfont-family: Arial, sans-serif;\n\t\t\t\t\t\t\t\tfont-size: 12px;\n\t\t\t\t\t\t\t\tpadding: 10px 5px;\n\t\t\t\t\t\t\t\tborder-style: solid;\n\t\t\t\t\t\t\t\tborder-width: 2px;\n\t\t\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\t\t\tword-break: normal;\n\t\t\t\t\t\t\t\tborder-color: black;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg th{\n\t\t\t\t\t\t\t\tfont-family: Arial, sans-serif;\n\t\t\t\t\t\t\t\tfont-size: 12px;\n\t\t\t\t\t\t\t\tfont-weight: bold; \n\t\t\t\t\t\t\t\tpadding: 10px 5px;\n\t\t\t\t\t\t\t\tborder-style: solid;\n\t\t\t\t\t\t\t\tborder-width: 2px;\n\t\t\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\t\t\tword-break: normal;\n\t\t\t\t\t\t\t\tborder-color: black;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg .tg-baqh {\n\t\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t\t\tvertical-align: top;\n\t\t\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg .tg-0lax {\n\t\t\t\t\t\t\t\ttext-align: left;\n\t\t\t\t\t\t\t\tvertical-align: top;\n\t\t\t\t\t\t\t\tpadding: 20px;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg .tg-s6z2 {\n\t\t\t\t\t\t\t\ttext-align:center;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg .tg-s268 {\n\t\t\t\t\t\t\t\ttext-align: left;\n\t\t\t\t\t\t\t\tpadding: 20px\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg .tg-hgcj {\n\t\t\t\t\t\t\t\tfont-weight:bold;\n\t\t\t\t\t\t\t\ttext-align: center\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg .tg-amwm {\n\t\t\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t\t\tvertical-align: top;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg .tg-s268 {\n\t\t\t\t\t\t\t\ttext-align: left\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg .tg-vomg {\n\t\t\t\t\t\t\t\tfont-size: 11px;\n\t\t\t\t\t\t\t\tborder-color: #000000;\n\t\t\t\t\t\t\t\ttext-align: left;\n\t\t\t\t\t\t\t\tpadding-bottom: 40px;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg .tg-qtf5 {\n\t\t\t\t\t\t\t\tborder-color: #000000;\n\t\t\t\t\t\t\t\ttext-align: left;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg .tg-vmi1 {\n\t\t\t\t\t\t\t\tfont-weight:bold;\n\t\t\t\t\t\t\t\tfont-size: 12px;\n\t\t\t\t\t\t\t\tborder-color: #000000;\n\t\t\t\t\t\t\t\tpadding-bottom: 40px;\n\t\t\t\t\t\t\t\ttext-align: left;\n\t\t\t\t\t\t\t}\t\t\t\t\n\t\t\t\t\t\t</style>\n\t\t\t\t\t</head>\n\t\t\t\t\t<body>\n\t\t\t\t\t\t<div id=\"print-section\">\n\t\t\t\t\t\t\t<!-- <div class=\"container\"> -->\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"col-lg-12\" style=\"padding:10px;\"> \n\t\t\t\t\t\t\t\t\t<table style=\"width: 100%;\">\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td rowspan=\"4\" style=\"border-bottom: 1px solid darkgrey; width: 10%; padding-left: 5%; padding-bottom: 10px;\">\n\t\t\t\t\t\t\t\t\t\t\t<img alt=\"\" [src]=\"companyLogo\" height=\"100px\" width=\"100px\" />\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>                      \n\t\t\t\t\t\t\t\t\t\t<td style=\"text-align:left; padding-left: 10%;\">\n\t\t\t\t\t\t\t\t\t\t\t<b style=\"font-size: 24px; font-weight: 600 ;\">{{user.companyName}}</b>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style=\"text-align: left; padding-left: 10%;\">\n\t\t\t\t\t\t\t\t\t\t\t<b>{{companyProfile.address}}</b>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style=\"border-bottom: 1px solid darkgrey; text-align: left; padding-bottom: 10px; padding-left: 10%;\">\n\t\t\t\t\t\t\t\t\t\t\t<b><b>Email:</b> {{companyProfile.email}} <b>Mobile:</b> {{companyProfile.phone}}</b>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t<table style=\"width:100%\">\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style=\"border-bottom: 1px solid darkgrey; text-align: center;\"><b style=\"font-size: 16px\">DUTY SLIP</b></td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<!-- </div> -->\n\t\t\t\t\t\t\t<!-- <div class=\"container\"> -->\n\t\t\t\t\t\t\t<!-- <div class=\"row\" style=\"place-content:center; font-size:16px\">\n\t\t\t\t\t\t\t\t<span> DUTY SLIP</span><br>\n\t\t\t\t\t\t\t</div> -->\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"col-md-6\">\n\t\t\t\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Customer:</b> {{printData.cname}}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Booked By:</b> {{printData.bookBy}}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Passenge Name:</b> {{printData.passenger}}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Date:</b> {{printData.startDate}}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Reporting Time:</b> {{printData.reportingTime}}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Reporting Address:</b> {{printData.reportingAddress}}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"col-md-6\">\n\t\t\t\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Booking ID:</b> {{printData.bid}}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Type Of Duty:</b> {{printData.dutyType}}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Vehicle Group:</b> {{printData.vehicleGroup}}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Vehicle:</b> {{printData.vehicle}}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Driver Name:</b> {{printData.driver}}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Drop Address:</b> {{printData.dropAddress}}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<!-- </div> -->\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<table class=\"tg\" style=\"width: 100%; border-collapse: collapse; border-spacing: 0;\">\n\t\t\t\t\t\t\t\t\t<colgroup>\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 103px\">\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 103px\">\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 52px\">\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 102px\">\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 51px\">\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 102px\">\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 51px\">\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 102px\">\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 51px\">\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 20px\">\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 58px\">\n\t\t\t\t\t\t\t\t\t</colgroup>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<th class=\"tg-baqh\" style=\"text-align: center; vertical-align: top; font-weight: bold;\" rowspan=\"2\">DATE</th>\n\t\t\t\t\t\t\t\t\t\t<th class=\"tg-baqh\" colspan=\"2\">START</th>\n\t\t\t\t\t\t\t\t\t\t<th class=\"tg-baqh\" colspan=\"2\">END</th>\n\t\t\t\t\t\t\t\t\t\t<th class=\"tg-baqh\" colspan=\"2\">TOTAL</th>\n\t\t\t\t\t\t\t\t\t\t<th class=\"tg-baqh\" colspan=\"2\">EXTRA</th>\n\t\t\t\t\t\t\t\t\t\t<th class=\"tg-baqh\" colspan=\"2\" rowspan=\"2\">Signature</th>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-baqh\">KMS</td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-baqh\">TIME</td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-baqh\">KMS</td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-baqh\">TIME</td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-baqh\">KMS</td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-baqh\">TIME</td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-baqh\">KMS</td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-baqh\">TIME</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\">{{printData.startDate | date: 'dd-MM-yyyy'}}</td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\" colspan=\"2\"></td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\" colspan=\"2\"></td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<table class=\"tg\" style=\"width: 100%; border-collapse: collapse; border-spacing: 0;\">\n\t\t\t\t\t\t\t\t\t<colgroup>\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 70%\">\n\t\t\t\t\t\t\t\t\t\t<col class=\"filter-field\">\n\t\t\t\t\t\t\t\t\t</colgroup>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<th class=\"tg-s6z2\"><span style=\"font-weight:bold\">ITEMS</span></th>\n\t\t\t\t\t\t\t\t\t\t<th class=\"tg-s6z2\"><span style=\"font-weight:bold\">AMOUNT</span></th>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-s268\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-s268\"></td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-s268\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-s268\"></td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-s268\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-s268\"></td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<table class=\"tg\" style=\"width: 100%; border-collapse: collapse; border-spacing: 0;\">\n\t\t\t\t\t\t\t\t\t<colgroup>\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 20%\">\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 20%\">\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 20%\">\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 20%\">\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 20%\">\n\t\t\t\t\t\t\t\t\t</colgroup>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<th class=\"tg-s6z2\" colspan=\"5\"><span style=\"font-weight:bold\">(TO BE FILLED BY CUSTOMER ONLY)</span></th>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-hgcj\">DATE</td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-hgcj\">REPORTING KM</td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-amwm\">REPORTING TIME</td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-amwm\" *ngIf=\"businessSettings.AddReleasedKmTimeSection\">RELEASE KM</td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-amwm\" *ngIf=\"businessSettings.AddReleasedKmTimeSection\">RELEASE TIME</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-s268\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-s268\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\" *ngIf=\"businessSettings.AddReleasedKmTimeSection\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\" *ngIf=\"businessSettings.AddReleasedKmTimeSection\"></td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\" colspan=\"5\"></td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\t\t\t\t\t\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<table class=\"tg\" style=\"width: 100%; border-collapse: collapse; border-spacing: 0;\">\n\t\t\t\t\t\t\t\t\t<colgroup>\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 50%\">\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 50%\">\n\t\t\t\t\t\t\t\t\t</colgroup>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<th class=\"tg-qtf5\" colspan=\"2\">FEEDBACK : <input type=\"checkbox\"/>VERY POOR  <input type=\"checkbox\"/>POOR <input type=\"checkbox\"/> GOOD <input type=\"checkbox\"/> VERY GOOD <input type=\"checkbox\"/> EXCELLENT</th>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-vomg\" colspan=\"2\">INSTRUCTION FOR NEXT DAY:</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr style=\"padding:25px\" *ngIf=\"!businessSettings.HideRemarks\">\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-vmi1\" rowspan=\"2\">REMARKS</td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-vmi1\" rowspan=\"2\">SIGNATURE</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr style=\"padding:25px\" *ngIf=\"businessSettings.HideRemarks\">\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-vmi1\" colspan=\"2\" rowspan=\"2\">SIGNATURE</td>\n\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t \t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<!-- <td class=\"tg-qtf5\" colspan=\"2\"></td> -->\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"row\" style=\"margin-top:-15px;\" *ngIf=\"businessSettings.AddPrintedByInformationToFooter\">\n\t\t\t\t\t\t\t\tPrinted by {{user.name}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\t\n\t\t\t\t\t</body>\n\t\t\t\t</html>\t\t\t\t\n\t\t\t\t<!-- </mat-step> -->\n\t\t<!-- </mat-horizontal-stepper> -->\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"row ptb-10\">\n\t\t\t<div class=\"col-lg-12\">\n\t\t\t\t<button *ngIf=\"permission.generateDutySlip\" mat-raised-button color=\"primary\" (click)=\"print()\">Print</button>\n\t\t\t\t<button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n\t\t\t</div>\n\t\t</div>\n\t</mat-tab>\n\t<mat-tab label=\"Half Duty Slip\">\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-lg-12\">\n\t\t\t\t<ng-template matStepLabel>Duty Slip</ng-template>\n\t\t\t\t<html>\n\t\t\t\t\t<head>\n\t\t\t\t\t\t<title>\n\t\t\t\t\n\t\t\t\t\t\t</title>\n\t\t\t\t\t\t<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css\">\n\t\t\t\t\t\t<script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"></script>\n\t\t\t\t\t\t<script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js\"></script>\n\t\t\t\t\t\t<script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js\"></script>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<style>\t\t\t\t\n\t\t\t\t\t\t\ttable  {\n\t\t\t\t\t\t\t\twidth:100%\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t.row {\n\t\t\t\t\t\t\t\tmargin-left: 20px;\n\t\t\t\t\t\t\t\tmargin-right: 20px;\n\t\t\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg {\n\t\t\t\t\t\t\t\tborder-collapse: collapse;\n\t\t\t\t\t\t\t\tborder-spacing: 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg td {\n\t\t\t\t\t\t\t\tfont-family: Arial, sans-serif;\n\t\t\t\t\t\t\t\tfont-size: 12px;\n\t\t\t\t\t\t\t\tpadding: 10px 5px;\n\t\t\t\t\t\t\t\tborder-style: solid;\n\t\t\t\t\t\t\t\tborder-width: 2px;\n\t\t\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\t\t\tword-break: normal;\n\t\t\t\t\t\t\t\tborder-color: black;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg th{\n\t\t\t\t\t\t\t\tfont-family: Arial, sans-serif;\n\t\t\t\t\t\t\t\tfont-size: 12px;\n\t\t\t\t\t\t\t\tfont-weight: bold; \n\t\t\t\t\t\t\t\tpadding: 10px 5px;\n\t\t\t\t\t\t\t\tborder-style: solid;\n\t\t\t\t\t\t\t\tborder-width: 2px;\n\t\t\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\t\t\tword-break: normal;\n\t\t\t\t\t\t\t\tborder-color: black;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg .tg-baqh {\n\t\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t\t\tvertical-align: top;\n\t\t\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg .tg-0lax {\n\t\t\t\t\t\t\t\ttext-align: left;\n\t\t\t\t\t\t\t\tvertical-align: top;\n\t\t\t\t\t\t\t\tpadding: 20px;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg .tg-s6z2 {\n\t\t\t\t\t\t\t\ttext-align:center;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg .tg-s268 {\n\t\t\t\t\t\t\t\ttext-align: left;\n\t\t\t\t\t\t\t\tpadding: 20px\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg .tg-hgcj {\n\t\t\t\t\t\t\t\tfont-weight:bold;\n\t\t\t\t\t\t\t\ttext-align: center\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg .tg-amwm {\n\t\t\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t\t\tvertical-align: top;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg .tg-s268 {\n\t\t\t\t\t\t\t\ttext-align: left\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg .tg-vomg {\n\t\t\t\t\t\t\t\tfont-size: 11px;\n\t\t\t\t\t\t\t\tborder-color: #000000;\n\t\t\t\t\t\t\t\ttext-align: left;\n\t\t\t\t\t\t\t\tpadding-bottom: 40px;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg .tg-qtf5 {\n\t\t\t\t\t\t\t\tborder-color: #000000;\n\t\t\t\t\t\t\t\ttext-align: left;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.tg .tg-vmi1 {\n\t\t\t\t\t\t\t\tfont-weight:bold;\n\t\t\t\t\t\t\t\tfont-size: 12px;\n\t\t\t\t\t\t\t\tborder-color: #000000;\n\t\t\t\t\t\t\t\tpadding-bottom: 40px;\n\t\t\t\t\t\t\t\ttext-align: left;\n\t\t\t\t\t\t\t}\t\t\t\t\n\t\t\t\t\t\t</style>\n\t\t\t\t\t</head>\n\t\t\t\t\t<body>\n\t\t\t\t\t\t<div id=\"print-section2\">\n\t\t\t\t\t\t\t<!-- <div class=\"container\"> -->\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"col-lg-12\" style=\"padding:10px;\"> \n\t\t\t\t\t\t\t\t\t<table style=\"width: 100%;\">\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td rowspan=\"4\" style=\"border-bottom: 1px solid darkgrey; width: 10%; padding-left: 5%; padding-bottom: 10px;\">\n\t\t\t\t\t\t\t\t\t\t\t<img alt=\"\" [src]=\"companyLogo\" height=\"100px\" width=\"100px\" />\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>                      \n\t\t\t\t\t\t\t\t\t\t<td style=\"text-align:left; padding-left: 10%;\">\n\t\t\t\t\t\t\t\t\t\t\t<b style=\"font-size: 24px; font-weight: 600 ;\">{{user.companyName}}</b>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style=\"text-align: left; padding-left: 10%;\">\n\t\t\t\t\t\t\t\t\t\t\t<b>{{companyProfile.address}}</b>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style=\"border-bottom: 1px solid darkgrey; text-align: left; padding-bottom: 10px; padding-left: 10%;\">\n\t\t\t\t\t\t\t\t\t\t\t<b><b>Email:</b> {{companyProfile.email}} <b>Mobile:</b> {{companyProfile.phone}}</b>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t<table style=\"width:100%\">\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style=\"border-bottom: 1px solid darkgrey; text-align: center;\"><b style=\"font-size: 16px\">DUTY SLIP</b></td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<!-- </div> -->\n\t\t\t\t\t\t\t<!-- <div class=\"container\"> -->\n\t\t\t\t\t\t\t<!-- <div class=\"row\" style=\"place-content:center; font-size:16px\">\n\t\t\t\t\t\t\t\t<span> DUTY SLIP</span><br>\n\t\t\t\t\t\t\t</div> -->\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"col-md-6\">\n\t\t\t\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Customer:</b> {{printData.cname}}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Booked By:</b> {{printData.bookBy}}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Passenge Name:</b> {{printData.passenger}}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Date:</b> {{printData.startDate}}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Reporting Time:</b> {{printData.reportingTime}}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Reporting Address:</b> {{printData.reportingAddress}}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"col-md-6\">\n\t\t\t\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Booking ID:</b> {{printData.bid}}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Type Of Duty:</b> {{printData.dutyType}}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Vehicle Group:</b> {{printData.vehicleGroup}}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Vehicle:</b> {{printData.vehicle}}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Driver Name:</b> {{printData.driver}}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Drop Address:</b> {{printData.dropAddress}}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<!-- </div> -->\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<table class=\"tg\" style=\"width: 100%; border-collapse: collapse; border-spacing: 0;\">\n\t\t\t\t\t\t\t\t\t<colgroup>\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 103px\">\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 103px\">\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 103px\">\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 103px\">\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 103px\">\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 113px\">\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 103px\">\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 103px\">\n\t\t\t\t\t\t\t\t\t\t<col style=\"width: 103px\">\n\t\t\t\t\t\t\t\t\t</colgroup>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<th class=\"tg-baqh\">START KM</th>\n\t\t\t\t\t\t\t\t\t\t<th class=\"tg-baqh\">START TIME</th>\n\t\t\t\t\t\t\t\t\t\t<th class=\"tg-baqh\">END KM</th>\n\t\t\t\t\t\t\t\t\t\t<th class=\"tg-baqh\">END TIME</th>\n\t\t\t\t\t\t\t\t\t\t<th class=\"tg-baqh\">DRIVER BATTA</th>\n\t\t\t\t\t\t\t\t\t\t<th class=\"tg-baqh\">PARKING</th>\n\t\t\t\t\t\t\t\t\t\t<th class=\"tg-baqh\">OTHER</th>\n\t\t\t\t\t\t\t\t\t\t<th class=\"tg-baqh\">TOLL</th>\n\t\t\t\t\t\t\t\t\t\t<th class=\"tg-baqh\">OTHER (BISLERI)</th>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"tg-0lax\"></td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<table style=\"border: 0px !important\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style=\"width: 260px;\"><b>Instructions/Remarks/Feedback:</b> </td>\n\t\t\t\t\t\t\t\t\t\t<td style=\"border-bottom: 1px solid black\">&nbsp;</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style=\"border-bottom: 1px solid black\" colspan=\"2\"><br></td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"col-md-6\"></div>\n\t\t\t\t\t\t\t\t<div class=\"col-md-6\">\n\t\t\t\t\t\t\t\t\t<table style=\"border: 0px !important\">\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td style=\"width: 113px;\"><b>Place & Sign: </b></td>\n\t\t\t\t\t\t\t\t\t\t\t<td style=\"border-bottom: 1px solid black\">&nbsp;</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"row\" style=\"margin-top:-15px;\" *ngIf=\"businessSettings.AddPrintedByInformationToFooter\">\n\t\t\t\t\t\t\t\tPrinted by {{user.name}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\t\n\t\t\t\t\t</body>\n\t\t\t\t</html>\t\t\t\t\n\t\t\t\t<!-- </mat-step> -->\n\t\t<!-- </mat-horizontal-stepper> -->\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"row ptb-10\">\n\t\t\t<div class=\"col-lg-12\">\n\t\t\t\t<button *ngIf=\"permission.generateDutySlip\" mat-raised-button color=\"primary\" (click)=\"printHalf()\">Print</button>\n\t\t\t\t<button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n\t\t\t</div>\n\t\t</div>\n\t</mat-tab>\n</mat-tab-group>\n"

/***/ }),

/***/ "./src/app/pages/duties/duty-slip/duty-slip.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/duties/duty-slip/duty-slip.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DutySlipComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__operations_new_billing_billing_service__ = __webpack_require__("./src/app/pages/operations/new-billing/billing.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__circles_companyprofile_companyprofile_service__ = __webpack_require__("./src/app/pages/circles/companyprofile/companyprofile.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__masters_sub_users_sub_user_service__ = __webpack_require__("./src/app/pages/masters/sub-users/sub-user.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};








var DutySlipComponent = (function () {
    function DutySlipComponent(data, billingService, auth, dialog, _sanitizer, uploadService, companyProfileService, permissionService) {
        this.data = data;
        this.billingService = billingService;
        this.auth = auth;
        this.dialog = dialog;
        this._sanitizer = _sanitizer;
        this.uploadService = uploadService;
        this.companyProfileService = companyProfileService;
        this.permissionService = permissionService;
        this.css = "\n  @media print {\n    table  {\n    width:100%\n    }\n    \n    .row {\n    margin-left: 20px;\n    margin-right: 20px;\n    padding: 10px;\n    }\n    .tg {\n    border-collapse: collapse;\n    border-spacing: 0;\n    }\n    .tg td {\n    font-family: Arial, sans-serif;\n    font-size: 16px;\n    padding: 10px 5px;\n    border-style: solid;\n    border-width: 2px;\n    overflow: hidden;\n    word-break: normal;\n    border-color: black;\n    }\n    .tg th{font-family: Arial, sans-serif;\n    font-size: 16px;\n    font-weight: bold; \n    padding: 10px 5px;\n    border-style: solid;\n    border-width: 2px;\n    overflow: hidden;\n    word-break: normal;\n    border-color: black;\n    }\n    .tg .tg-baqh {\n      text-align: center;\n      vertical-align: top;\n      font-weight: bold;\n      }\n    .tg .tg-0lax {text-align: left;\n    vertical-align: top;\n    padding: 20px;}\n    .tg .tg-s6z2 {text-align:center;}\n    .tg .tg-s268 {text-align: left;\n    padding: 20px}\n    .tg .tg-hgcj {font-weight:bold;\n    text-align: center}\n    .tg .tg-amwm {font-weight: bold;\n    text-align: center;\n    vertical-align: top;}\n    .tg .tg-s268 {text-align: left}\n    .tg .tg-vomg {font-size: 11px;\n    border-color: #000000;\n    text-align: left;\n    padding-bottom: 40px;}\n    .tg .tg-qtf5 {border-color: #000000;\n    text-align: left}\n    .tg .tg-vmi1 {font-weight:bold;\n    font-size: 12px;\n    border-color: #000000;\n    padding-bottom: 40px;\n    text-align: left;}}";
        this.printData = {};
        this.user = {};
        this.businessSettings = {};
        this.companyProfile = {};
        this.companyLogo = '';
        this.permission = {};
        if (data) {
            this.printData.cname = data.cname;
            this.printData.bid = data.bid;
            this.printData.bookBy = data.bookBy;
            this.printData.dutyType = data.dutyType;
            this.printData.passenger = data.passenger;
            this.printData.vehicleGroup = data.vehicleGroup;
            this.printData.startDate = data.startDate;
            this.printData.vehicle = data.vehicle;
            this.printData.reportingTime = data.reportingTime;
            this.printData.driver = data.driver;
            this.printData.reportingAddress = data.reportingAddress;
            this.printData.dropAddress = data.dropAddress;
        }
    }
    DutySlipComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.auth.permissions.subscribe(function (data) {
                _this.permission = data[0];
            });
            // this.billingService.getBilling(this.user).subscribe(data=>{
            //   this.billingItems=data[0]
            // })
            _this.companyProfileService.getCompanyProfile(_this.user).subscribe(function (data) {
                _this.companyProfile = data[0];
                _this.uploadService.getFile(_this.user.companyName, 'profileImages', _this.companyProfile.companyLogo).subscribe(function (data) {
                    _this.companyLogo = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                        + data.text());
                });
            });
        });
        this.auth.businessSettings.subscribe(function (data) {
            _this.businessSettings = data;
        });
    };
    DutySlipComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    DutySlipComponent.prototype.print = function () {
        var data = document.getElementById('print-section').innerHTML;
        var newWindow = window.open('', '_blank', 'top=0,left=0,height=100%,width=auto');
        newWindow.document.open();
        newWindow.document.write("\n    <html>\n      <head>\n        <title>Duty Slip</title>\n        <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css\">\n\t\t\t\t<script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"></script>\n\t\t\t\t<script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js\"></script>\n\t\t\t\t<script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js\"></script>\n        <style>          \n          body {\n            font-family: \"Trebuchet MS\" !important;\n            font-size: 16px !important;\n          }\n          table  {\n\t\t\t\t\t  width:100%\n\t\t\t\t  }\t\t\t\t\t\n\t\t\t\t\t.row {\n\t\t\t\t\t  margin-left: 15px;\n\t\t\t\t\t  margin-right: 15px;\n            padding: 10px;            \n\t\t\t\t\t}\n\t\t\t\t\t.tg {\n\t\t\t\t\t  border-collapse: collapse;\n\t\t\t\t\t  border-spacing: 0;\n\t\t\t\t\t}\n\t\t\t\t\t.tg td {\n\t\t\t\t\t  font-family: Arial, sans-serif;\n\t\t\t\t\t  font-size: 16px;\n\t\t\t\t\t  padding: 10px 5px;\n\t\t\t\t\t  border-style: solid;\n\t\t\t\t\t  border-width: 2px;\n\t\t\t\t\t  overflow: hidden;\n\t\t\t\t\t  word-break: normal;\n\t\t\t\t\t  border-color: black;\n\t\t\t\t\t}\n\t\t\t\t\t.tg th{\n            font-family: Arial, sans-serif;\n\t\t\t\t\t  font-size: 16px;\n\t\t\t\t\t  font-weight: bold; \n\t\t\t\t\t  padding: 10px 5px;\n\t\t\t\t\t  border-style: solid;\n\t\t\t\t\t  border-width: 2px;\n\t\t\t\t\t  overflow: hidden;\n\t\t\t\t\t  word-break: normal;\n\t\t\t\t\t  border-color: black;\n\t\t\t\t\t}\n\t\t\t\t\t.tg .tg-baqh {\n\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\tvertical-align: top;\n\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\t}\n\t\t\t\t\t.tg .tg-0lax {\n            text-align: left;\n\t\t\t\t\t  vertical-align: top;\n            padding: 20px;\n          }\n\t\t\t\t\t.tg .tg-s6z2 {\n            text-align:center;\n          }\n\t\t\t\t\t.tg .tg-s268 {\n            text-align: left;\n            padding: 20px\n          }\n\t\t\t\t\t.tg .tg-hgcj {\n            font-weight:bold;\n            text-align: center\n          }\n\t\t\t\t\t.tg .tg-amwm {\n            font-weight: bold;\n\t\t\t\t\t  text-align: center;\n            vertical-align: top;\n          }\n\t\t\t\t\t.tg .tg-s268 {\n            text-align: left\n          }\n\t\t\t\t\t.tg .tg-vomg {\n            font-size: 12px;\n            border-color: #000000;\n\t\t\t\t\t  text-align: left;\n            padding-bottom: 40px;\n          }\n\t\t\t\t\t.tg .tg-qtf5 {\n            border-color: #000000;\n            text-align: left\n          }\n\t\t\t\t\t.tg .tg-vmi1 {\n            font-weight:bold;\n\t\t\t\t\t  font-size: 12px;\n\t\t\t\t\t  border-color: #000000;\n\t\t\t\t\t  padding-bottom: 40px;\n            text-align: left;\n          }\n          @page \n            {\n                size:  8.27in 11.69in !important;   /* auto is the initial value */\n                margin: 0mm !important;  /* this affects the margin in the printer settings */\n            }\n          @media print {\n            @page \n            {\n                size:  8.27in 11.69in !important;   /* auto is the initial value */\n                margin: 0mm !important;  /* this affects the margin in the printer settings */\n            }\n            html\n            {\n                margin: 0px !important;  /* this affects the margin on the html before sending to printer */\n            }\n\n            body\n            {\n                margin: 5mm 5mm 5mm 5mm !important; /* margin you want for the content */\n            }\n          }\n        </style>\n      </head>\n      <body onload=\"window.print();window.close()\">" + data + "</body>\n    </html>");
        newWindow.document.close();
    };
    DutySlipComponent.prototype.printHalf = function () {
        var data = document.getElementById('print-section2').innerHTML;
        var newWindow = window.open('', '_blank', 'top=0,left=0,height=100%,width=auto');
        newWindow.document.open();
        newWindow.document.write("\n    <html>\n      <head>\n        <title>Duty Slip</title>\n        <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css\">\n\t\t\t\t<script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"></script>\n\t\t\t\t<script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js\"></script>\n\t\t\t\t<script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js\"></script>\n        <style>          \n          body {\n            font-family: \"Trebuchet MS\" !important;\n            font-size: 16px !important;\n          }\n          table  {\n\t\t\t\t\t  width:100%\n\t\t\t\t  }\t\t\t\t\t\n\t\t\t\t\t.row {\n\t\t\t\t\t  margin-left: 15px;\n\t\t\t\t\t  margin-right: 15px;\n            padding: 10px;            \n\t\t\t\t\t}\n\t\t\t\t\t.tg {\n\t\t\t\t\t  border-collapse: collapse;\n\t\t\t\t\t  border-spacing: 0;\n\t\t\t\t\t}\n\t\t\t\t\t.tg td {\n\t\t\t\t\t  font-family: Arial, sans-serif;\n\t\t\t\t\t  font-size: 16px;\n\t\t\t\t\t  padding: 10px 5px;\n\t\t\t\t\t  border-style: solid;\n\t\t\t\t\t  border-width: 2px;\n\t\t\t\t\t  overflow: hidden;\n\t\t\t\t\t  word-break: normal;\n\t\t\t\t\t  border-color: black;\n\t\t\t\t\t}\n\t\t\t\t\t.tg th{\n            font-family: Arial, sans-serif;\n\t\t\t\t\t  font-size: 16px;\n\t\t\t\t\t  font-weight: bold; \n\t\t\t\t\t  padding: 10px 5px;\n\t\t\t\t\t  border-style: solid;\n\t\t\t\t\t  border-width: 2px;\n\t\t\t\t\t  overflow: hidden;\n\t\t\t\t\t  word-break: normal;\n\t\t\t\t\t  border-color: black;\n\t\t\t\t\t}\n\t\t\t\t\t.tg .tg-baqh {\n\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\tvertical-align: top;\n\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\t}\n\t\t\t\t\t.tg .tg-0lax {\n            text-align: left;\n\t\t\t\t\t  vertical-align: top;\n            padding: 20px;\n          }\n\t\t\t\t\t.tg .tg-s6z2 {\n            text-align:center;\n          }\n\t\t\t\t\t.tg .tg-s268 {\n            text-align: left;\n            padding: 20px\n          }\n\t\t\t\t\t.tg .tg-hgcj {\n            font-weight:bold;\n            text-align: center\n          }\n\t\t\t\t\t.tg .tg-amwm {\n            font-weight: bold;\n\t\t\t\t\t  text-align: center;\n            vertical-align: top;\n          }\n\t\t\t\t\t.tg .tg-s268 {\n            text-align: left\n          }\n\t\t\t\t\t.tg .tg-vomg {\n            font-size: 12px;\n            border-color: #000000;\n\t\t\t\t\t  text-align: left;\n            padding-bottom: 40px;\n          }\n\t\t\t\t\t.tg .tg-qtf5 {\n            border-color: #000000;\n            text-align: left\n          }\n\t\t\t\t\t.tg .tg-vmi1 {\n            font-weight:bold;\n\t\t\t\t\t  font-size: 12px;\n\t\t\t\t\t  border-color: #000000;\n\t\t\t\t\t  padding-bottom: 40px;\n            text-align: left;\n          }\n          @page \n            {\n                size:  8.27in 11.69in !important;   /* auto is the initial value */\n                margin: 0mm !important;  /* this affects the margin in the printer settings */\n            }\n          @media print {\n            @page \n            {\n                size:  8.27in 11.69in !important;   /* auto is the initial value */\n                margin: 0mm !important;  /* this affects the margin in the printer settings */\n            }\n            html\n            {\n                margin: 0px !important;  /* this affects the margin on the html before sending to printer */\n            }\n\n            body\n            {\n                margin: 5mm 5mm 5mm 5mm !important; /* margin you want for the content */\n            }\n          }\n        </style>\n      </head>\n      <body onload=\"window.print();window.close()\">" + data + "</body>\n    </html>");
        newWindow.document.close();
    };
    DutySlipComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'duty-slip',
            template: __webpack_require__("./src/app/pages/duties/duty-slip/duty-slip.component.html"),
            styles: [__webpack_require__("./src/app/pages/duties/duty-slip/duty-slip.component.scss")]
        }),
        __param(0, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [Object, __WEBPACK_IMPORTED_MODULE_2__operations_new_billing_billing_service__["a" /* BillingService */],
            __WEBPACK_IMPORTED_MODULE_3__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_5__angular_platform_browser__["DomSanitizer"],
            __WEBPACK_IMPORTED_MODULE_6__fileupload_service__["a" /* FileuploadService */],
            __WEBPACK_IMPORTED_MODULE_4__circles_companyprofile_companyprofile_service__["a" /* CompanyprofileService */],
            __WEBPACK_IMPORTED_MODULE_7__masters_sub_users_sub_user_service__["a" /* SubUserService */]])
    ], DutySlipComponent);
    return DutySlipComponent;
}());



/***/ }),

/***/ "./src/app/pages/duties/exportduties/exportduties.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12 col-12\">    \n    <nb-card>      \n      <nb-card-body>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              <mat-select [(ngModel)]=\"predefined\"  placeholder=\"Preset\" >\n                <mat-option *ngFor=\"let element of presets\" [value]=\"element.name\" (click)=\"predefinedRoles(element)\"> \n                  {{element.name}}\n                </mat-option>\n              </mat-select>\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-6 col-12\">\n            <form [formGroup]=\"preset\">\n              <mat-form-field>\n                <input matInput placeholder=\"Preset Name\" formControlName=\"permissionName\">\n                <mat-error>\n                  Enter a Permission Name to save as a preset\n                </mat-error>  \n              </mat-form-field>\n              <button mat-raised-button color=\"primary\" [disabled]=\"preset.invalid\" (click)=\"savePreset()\">Save Preset</button>\n            </form>\n            <!-- <button mat-icon-button class=\"close-button\" color=\"warn\" (click)=\"close()\"><mat-icon style=\"font-size: 25px;\">close</mat-icon></button> -->      \n          </div>\n        </div>\n        <hr>\n        <div class=\"row\">\n          <div class=\"col-lg-8 col-12\">\n            Customer Name:\n            <mat-form-field class=\"w-100\">\n              <!-- <input aria-placeholder=\"Pick one\" (change)=\"setCustomer(option)\" name=\"cname\" [(ngModel)]=\"bookings.cname\" matInput [matAutocomplete]=\"custauto\"> -->\n              <input aria-placeholder=\"Pick one\"  name=\"cname\" [formControl]=\"customerCtrl\" matInput [matAutocomplete]=\"custauto\" >\n              <mat-autocomplete #custauto=\"matAutocomplete\">\n                <mat-option *ngFor=\"let option of customer |async\" [value]=\"option.name\" (onSelectionChange)=\"setCustomer(option,$event)\">\n                  {{ option.name }}\n                </mat-option>\n              </mat-autocomplete>\n            </mat-form-field>\n          </div>      \n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field class=\"w-100\">\n              Start Date\n              <input matInput [(ngModel)]=\"bookings.startDate\" [matDatepicker]=\"startDate\" (click)=\"startDate.open()\" readonly name=\"startDate\">\n              <mat-datepicker-toggle matSuffix [for]=\"startDate\"></mat-datepicker-toggle>\n              <mat-datepicker #startDate></mat-datepicker>\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field class=\"w-100\">\n              End Date\n              <input matInput [(ngModel)]=\"bookings.endDate\" [matDatepicker]=\"endDate\" (click)=\"endDate.open()\" readonly name=\"endDate\">         \n              <mat-datepicker-toggle matSuffix [for]=\"endDate\"></mat-datepicker-toggle>\n              <mat-datepicker #endDate></mat-datepicker>\n            </mat-form-field>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\">\n            <mat-checkbox [ngModel]=\"exportBookings.id\" (ngModelChange)=\"change($event,&quot;d.bid as 'Booking ID'&quot;)\">\n              BookingId\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.dutyId\" (change)=\"change($event,&quot;d.id as 'Duty ID'&quot;)\">\n              Duty Id\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.cname\" (change)=\"change($event,&quot;d.cname as 'Customer Name'&quot;)\">\n              Customer Name\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.bookBy\" (change)=\"change($event,&quot;d.bookBy as 'Booked By'&quot;)\">\n              Booked by\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.bookByNo\" (change)=\"change($event,&quot;d.bookByNo as 'Booked By No'&quot;)\">\n              Booked by Phone\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.bookByEmail\" (change)=\"change($event,&quot;d.bookByEmail as 'Booked By Email'&quot;)\">\n              Booked by Email\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.ccId\" (change)=\"change($event,&quot;bo.ccId as 'CCID'&quot;)\">\n              CCID\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.passenger\" (change)=\"change($event,&quot;d.passenger as 'Passenger'&quot;)\"> \n              Passenger Name\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.passengerNo\" (change)=\"change($event,&quot;d.passengerNo as 'PassengerNo'&quot;)\">\n              Passenger Phone\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.passengerEmail\" (change)=\"change($event,&quot;d.passengerEmail as 'Passenger Email'&quot;)\">\n              Passenger Email\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.fromLoc\" (change)=\"change($event,&quot;d.fromLoc as 'From Location'&quot;)\">\n              From city\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.toLoc\" (change)=\"change($event,&quot;d.toLoc as 'To Location'&quot;)\">\n              To city\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.startDate\" (change)=\"change($event,&quot;d.startDate as 'Start Date'&quot;)\">\n              Start Date\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.endDate\" (change)=\"change($event,&quot;d.endDate as 'End Date'&quot;)\">\n              End Date\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.reportingTime\" (change)=\"change($event,&quot;d.reportingTime as 'Reporting Time'&quot;)\">\n              Reporting Time\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.startFromGarage\" (change)=\"change($event,&quot;d.startFromGarage as 'Start From Garage'&quot;)\">\n              Start From Garage\n            </mat-checkbox><br>      \n          </div>\n          <div class=\"col-lg-6 col-12\">\n            <mat-checkbox [(ngModel)]=\"exportBookings.reportingAddress\" (change)=\"change($event,&quot;d.reportingAddress as 'Reporting Address'&quot;)\">\n              Reporting Address\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.shortReportingAddress\" (change)=\"change($event,&quot;d.shortReportingAddress as 'Short Reporting Address'&quot;)\">\n              Short reporting Address\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.dropAddress\" (change)=\"change($event,&quot;d.dropAddress as 'Drop Address'&quot;)\">\n              Drop Address\n            </mat-checkbox><br>        \n            <mat-checkbox [(ngModel)]=\"exportBookings.flightTrainNo\" (change)=\"change($event,&quot;d.flightTrainNo as 'Flight/Train No'&quot;)\">\n              Flight/Train Number            \n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.poNumber\" (change)=\"change($event,&quot;bo.poNumber as 'PO Number'&quot;)\">\n              PO Number\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.dispatchCenter\" (change)=\"change($event,&quot;d.dispatchCenter as 'Dispatch Center'&quot;)\">\n              Dispatch Center\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.billTo\" (change)=\"change($event,&quot;d.billTo as 'Billed To'&quot;)\">\n              Bill To\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.price\" (change)=\"change($event,&quot;d.price as 'Price'&quot;)\">\n              Duty price\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.remarks\" (change)=\"change($event,&quot;d.remarks as 'Remarks'&quot;)\">\n              Remarks\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.operatorNotes\" (change)=\"change($event,&quot;d.operatorNotes as 'Operator Notes'&quot;)\">\n              Operator Notes\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.label\" (change)=\"change($event,&quot;d.label as 'Label'&quot;)\">\n              Label\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.vehicleGroup\" (change)=\"change($event,&quot;d.vehicleGroup as 'Vehicle Group'&quot;)\">\n              Vehicle Group\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.dutyType\" (change)=\"change($event,&quot;d.dutyType as 'Duty Type'&quot;)\">\n              Duty Type\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.totalPrice\" (change)=\"change($event,&quot;bo.totalPrice as 'Total Price'&quot;)\">\n              Total Price\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.extraHours\" (change)=\"change($event,&quot;d.extraHours as 'Extra Hours'&quot;)\">\n              Extra Hours\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.extraKms\" (change)=\"change($event,&quot;d.extraKms as 'Extra Kms'&quot;)\">\n              Extra Kms \n            </mat-checkbox><br>  \n            <mat-checkbox [(ngModel)]=\"exportBookings.startKm\" (change)=\"change($event,&quot;c.startKm as 'Start Km'&quot;)\">\n              Start Km\n            </mat-checkbox><br>\n            <mat-checkbox [(ngModel)]=\"exportBookings.endKm\" (change)=\"change($event,&quot;c.endKm as 'End Km'&quot;)\">\n              End Km \n            </mat-checkbox><br>      \n            <mat-checkbox [(ngModel)]=\"exportBookings.taxableAmount\" (change)=\"change($event,&quot;sum(i.taxableAmount) as 'Taxable Amount'&quot;)\">\n              Taxable Amount \n            </mat-checkbox><br>   \n            <mat-checkbox [(ngModel)]=\"exportBookings.nonTaxableAmount\" (change)=\"change($event,&quot;sum(i.nonTaxableAmount) as 'Non Taxable Amount'&quot;)\">\n              Non Taxable Amount\n            </mat-checkbox><br>   \n            <mat-checkbox [(ngModel)]=\"exportBookings.extraChargesTotal\" (change)=\"change($event,&quot;sum(b.extraChargesTotal) as 'Extra Charges Total'&quot;)\">\n              Extra Charges Total\n            </mat-checkbox><br>   \n            <mat-checkbox [(ngModel)]=\"exportBookings.extraCharges\" (change)=\"change($event,&quot;e.name as 'Extra Charges Name'&quot;)\">\n              Extra Charges\n            </mat-checkbox><br>   \n            <mat-checkbox [(ngModel)]=\"exportBookings.extraChargesAmount\" (change)=\"change($event,&quot;e.charges as 'Extra Charges'&quot;)\">\n              Extra Charges Amount\n            </mat-checkbox><br>   \n            <mat-checkbox [(ngModel)]=\"exportBookings.driverNumber\" (change)=\"change($event,&quot;dr.mobileNumber as 'Driver Number'&quot;)\">\n              Driver Number\n            </mat-checkbox><br>  \n            <mat-checkbox [(ngModel)]=\"exportBookings.invoiceTotal\" (change)=\"change($event,&quot;sum(i.totalAmount) as 'Invoice Total'&quot;)\">\n              Invoice Total\n            </mat-checkbox><br>    \n            <mat-checkbox [(ngModel)]=\"exportBookings.dutyCreatedAt\" (change)=\"change($event,&quot;l.message as 'Duty Created At'&quot;)\">\n              Duty Created at\n            </mat-checkbox><br>   \n          </div>                             \n        </div>\n      </nb-card-body>\n    </nb-card>    \n  </div>\n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12 col-12\">\n    <button mat-raised-button color=\"primary\" (click)=\"getDuties()\">Export</button>\n    <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/pages/duties/exportduties/exportduties.component.scss":
/***/ (function(module, exports) {

module.exports = "form {\n  float: right; }\n"

/***/ }),

/***/ "./src/app/pages/duties/exportduties/exportduties.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ExportdutiesComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__masters_new_employees_employee_service__ = __webpack_require__("./src/app/pages/masters/new-employees/employee.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__masters_customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_material_dialog__ = __webpack_require__("./node_modules/@angular/material/esm5/dialog.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_operators__ = __webpack_require__("./node_modules/rxjs/_esm5/operators.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__operations_exportbookings_export_service__ = __webpack_require__("./src/app/pages/operations/exportbookings/export.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_xlsx__ = __webpack_require__("./node_modules/xlsx/xlsx.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_xlsx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_xlsx__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__duties_service__ = __webpack_require__("./src/app/pages/duties/duties.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var ExportdutiesComponent = (function () {
    function ExportdutiesComponent(dialog, customerService, employeeService, auth, fb, snackBar, exportService, dutiesService, cd) {
        this.dialog = dialog;
        this.customerService = customerService;
        this.employeeService = employeeService;
        this.auth = auth;
        this.fb = fb;
        this.snackBar = snackBar;
        this.exportService = exportService;
        this.dutiesService = dutiesService;
        this.cd = cd;
        this.user = {};
        this.customerCtrl = new __WEBPACK_IMPORTED_MODULE_5__angular_forms__["c" /* FormControl */]();
        this.bookings = {};
        this.exportBookings = {
            name: '',
            bookingId: false,
            dutyId: false,
            cname: false,
            bookBy: false,
            bookByNo: false,
            bookByEmail: false,
            passenger: false,
            passengerNo: false,
            passengerEmail: false,
            fromLoc: false,
            toLoc: false,
            startDate: false,
            endDate: false,
            reportingTime: false,
            startFromGarage: false,
            reportingAddress: false,
            dropAddress: false,
            shortReportingAddress: false,
            flightTrainNo: false,
            dispatchCenter: false,
            billTo: false,
            price: false,
            remarks: false,
            operatorNotes: false,
            label: false,
            vehicleGroup: false,
            dutyType: false,
            totalPrice: false,
            ownerId: '',
            poNumber: false,
            ccId: false,
            extraHours: false,
            extraKms: false,
            startKm: false,
            endKm: false,
            taxableAmount: false,
            nonTaxableAmount: false,
            driverNumber: false,
            dutyCreatedAt: false,
            invoiceTotal: false,
            extraCharges: false,
            extraChargesAmount: false,
            extraChargesTotal: false
        };
        this.columns = [];
    }
    ExportdutiesComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.bookings.ownerId = data[0].ownerId;
            _this.exportBookings.ownerId = data[0].ownerId;
            if (_this.user.type == 'employee') {
                var body = {
                    userId: _this.user.id
                };
                _this.employeeService.getEmployeeForCustomer(body).subscribe(function (data) {
                    _this.employeeService.getEmployeeLimitCustomerForEmployee(data[0]).subscribe(function (data) {
                        if (data.length != 0) {
                            _this.customers = data;
                            _this.customer = _this.customerCtrl.valueChanges
                                .pipe(Object(__WEBPACK_IMPORTED_MODULE_6_rxjs_operators__["startWith"])(''), Object(__WEBPACK_IMPORTED_MODULE_6_rxjs_operators__["map"])(function (val) { return _this.filterCustomer(val); }));
                        }
                        else {
                            _this.getCustomer();
                        }
                    });
                });
            }
            else {
                _this.getCustomer();
            }
            _this.exportService.getExportDutyProfile(_this.user).subscribe(function (data) {
                _this.presets = data;
                console.log(_this.presets);
            });
        });
        this.preset = this.fb.group({
            permissionName: ['']
        });
    };
    ExportdutiesComponent.prototype.setCustomer = function (temp, event) {
        if (event.source.selected == true) {
            this.bookings.cname = temp.name;
            this.bookings.customerId = temp.id;
            this.exportBookings.cname = temp.name;
        }
    };
    ExportdutiesComponent.prototype.getCustomer = function () {
        var _this = this;
        this.customerService.getCustomers(this.user).subscribe(function (data) {
            _this.customers = data;
            _this.customer = _this.customerCtrl.valueChanges
                .pipe(Object(__WEBPACK_IMPORTED_MODULE_6_rxjs_operators__["startWith"])(''), Object(__WEBPACK_IMPORTED_MODULE_6_rxjs_operators__["map"])(function (val) { return _this.filterCustomer(val); }));
        });
    };
    ExportdutiesComponent.prototype.filterCustomer = function (val) {
        return this.customers.filter(function (option) {
            return option.name.toLowerCase().includes(val.toLowerCase());
        });
    };
    ExportdutiesComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    ExportdutiesComponent.prototype.getDuties = function () {
        var _this = this;
        var startDate = __WEBPACK_IMPORTED_MODULE_10_moment__(this.bookings.startDate).format('YYYY-MM-DD');
        var endDate = __WEBPACK_IMPORTED_MODULE_10_moment__(this.bookings.endDate).format('YYYY-MM-DD');
        var temp = {
            startDate: startDate,
            endDate: endDate,
            customerId: this.bookings.customerId,
            columns: this.columns
        };
        this.dutiesService.getDutiesForExport(temp).subscribe(function (data) {
            _this.dutiesData = data;
            console.log(_this.dutiesData);
            _this.columns.forEach(function (element) {
            });
            // this.exportDuties();
        });
    };
    ExportdutiesComponent.prototype.change = function (event, temp) {
        console.log(event);
        console.log(temp);
        if (event.checked == true) {
            this.columns.push(temp);
            console.log(this.columns);
        }
        if (event.checked == false) {
            console.log(temp);
            var index = this.columns.findIndex(function (x) { return x === temp; });
            this.columns.splice(index, 1);
            console.log(this.columns);
        }
    };
    ExportdutiesComponent.prototype.exportDuties = function () {
        console.log(this.exportBookings);
        var workBook = __WEBPACK_IMPORTED_MODULE_9_xlsx__["utils"].book_new();
        var workSheet = __WEBPACK_IMPORTED_MODULE_9_xlsx__["utils"].json_to_sheet(this.dutiesData);
        __WEBPACK_IMPORTED_MODULE_9_xlsx__["utils"].book_append_sheet(workBook, workSheet, 'data');
        __WEBPACK_IMPORTED_MODULE_9_xlsx__["writeFile"](workBook, "_Duties.xlsx");
    };
    ExportdutiesComponent.prototype.savePreset = function () {
        var _this = this;
        delete this.exportBookings.id;
        this.exportBookings.name = this.preset.get('permissionName').value;
        this.exportService.addExportDutyProfile(this.exportBookings).subscribe(function (data) { }, function (err) { }, function () {
            _this.snackBar.open("Preset Saved", "X", { duration: 3000 });
        });
    };
    ExportdutiesComponent.prototype.predefinedRoles = function (temp) {
        this.columns = [];
        console.log(temp);
        this.cd.detectChanges();
        this.exportBookings = temp;
        if (this.exportBookings.id) {
            this.columns.push("d.bid as 'Booking ID'");
        }
        if (this.exportBookings.bookBy) {
            this.columns.push("d.bookBy as 'Booked By'");
        }
        if (this.exportBookings.bookByEmail) {
            this.columns.push("d.bookByEmail as 'Booked By Email'");
        }
        if (this.exportBookings.bookByNo) {
            this.columns.push("d.bookByNo as 'Booked By No'");
        }
        if (this.exportBookings.cname) {
            this.columns.push("d.cname as 'Customer Name'");
        }
        if (this.exportBookings.dutyId) {
            this.columns.push("d.id as 'Duty Id'");
        }
        if (this.exportBookings.ccId) {
            this.columns.push("bo.ccId as 'CCID'");
        }
        if (this.exportBookings.passenger) {
            this.columns.push("d.passenger as 'Passenger'");
        }
        if (this.exportBookings.passengerEmail) {
            this.columns.push("d.passengerEmail as 'Passenger Email'");
        }
        if (this.exportBookings.passengerNo) {
            this.columns.push("d.passengerNo as 'Passenger No'");
        }
        if (this.exportBookings.fromLoc) {
            this.columns.push("d.fromLoc as 'From Location'");
        }
        if (this.exportBookings.toLoc) {
            this.columns.push("d.toLoc as 'To Location'");
        }
        if (this.exportBookings.startDate) {
            this.columns.push("d.startDate as 'Start Date'");
        }
        if (this.exportBookings.endDate) {
            this.columns.push("d.endDate as 'End Date'");
        }
        if (this.exportBookings.reportingTime) {
            this.columns.push("d.reportingTime as 'Reporting Time'");
        }
        if (this.exportBookings.startFromGarage) {
            this.columns.push("d.startFromGarage as 'Start From Garage'");
        }
        if (this.exportBookings.reportingAddress) {
            this.columns.push("d.reportingAddress as 'Reporting Address'");
        }
        if (this.exportBookings.shortReportingAddress) {
            this.columns.push("d.shortReportingAddress as 'Short Reporting Address'");
        }
        if (this.exportBookings.dropAddress) {
            this.columns.push("d.dropAddress as 'Drop Address'");
        }
        if (this.exportBookings.flightTrainNo) {
            this.columns.push("d.flightTrainNo as 'Flight/Train No'");
        }
        if (this.exportBookings.poNumber) {
            this.columns.push("bo.poNumber as 'PO Number'");
        }
        if (this.exportBookings.dispatchCenter) {
            this.columns.push("d.dispatchCenter as 'Dispatch Center'");
        }
        if (this.exportBookings.billTo) {
            this.columns.push("d.billTo as 'Billed To'");
        }
        if (this.exportBookings.price) {
            this.columns.push("d.price as 'Price'");
        }
        if (this.exportBookings.operatorNotes) {
            this.columns.push("d.operatorNotes as 'Operator Notes'");
        }
        if (this.exportBookings.remarks) {
            this.columns.push("d.remarks as 'Remarks'");
        }
        if (this.exportBookings.dutyType) {
            this.columns.push("d.dutyType as 'Duty Type'");
        }
        if (this.exportBookings.label) {
            this.columns.push("d.label as 'Label'");
        }
        if (this.exportBookings.vehicleGroup) {
            this.columns.push("d.vehicleGroup as 'Vehicle Group'");
        }
        if (this.exportBookings.totalPrice) {
            this.columns.push("bo.totalPrice as 'Total Price'");
        }
        if (this.exportBookings.extraHours) {
            this.columns.push("d.extraHours as 'Extra Hours'");
        }
        if (this.exportBookings.extraKms) {
            this.columns.push("d.extraKms as 'Extra Kms'");
        }
        if (this.exportBookings.startKm) {
            this.columns.push("c.startKm as 'Start Km'");
        }
        if (this.exportBookings.endKm) {
            this.columns.push("c.endKm as 'End Km'");
        }
        if (this.exportBookings.nonTaxableAmount) {
            this.columns.push("sum(i.nonTaxableAmount) as 'Non Taxable Amount'");
        }
        if (this.exportBookings.taxableAmount) {
            this.columns.push("sum(i.taxableAmount) as 'Taxable Amount'");
        }
        if (this.exportBookings.extraCharges) {
            this.columns.push("e.name as 'Extra Charges Name'");
        }
        if (this.exportBookings.extraChargesAmount) {
            this.columns.push("e.charges as 'Extra Charges'");
        }
        if (this.exportBookings.extraChargesTotal) {
            this.columns.push("sum(b.extraChargesTotal) as 'Extra Charges Total'");
        }
        if (this.exportBookings.driverNumber) {
            this.columns.push("dr.mobileNumber as 'Driver Number'");
        }
        if (this.exportBookings.invoiceTotal) {
            this.columns.push("sum(i.totalAmount) as 'Invoice Total'");
        }
        if (this.exportBookings.dutyCreatedAt) {
            this.columns.push("l.message as 'Duty Created At'");
        }
        console.log(this.columns);
    };
    ExportdutiesComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'exportduties',
            template: __webpack_require__("./src/app/pages/duties/exportduties/exportduties.component.html"),
            styles: [__webpack_require__("./src/app/pages/duties/exportduties/exportduties.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_4__angular_material_dialog__["b" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_3__masters_customer_customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_2__masters_new_employees_employee_service__["a" /* EmployeeService */],
            __WEBPACK_IMPORTED_MODULE_1__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_5__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_7__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_8__operations_exportbookings_export_service__["a" /* ExportService */],
            __WEBPACK_IMPORTED_MODULE_11__duties_service__["a" /* DutiesService */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ChangeDetectorRef"]])
    ], ExportdutiesComponent);
    return ExportdutiesComponent;
}());



/***/ }),

/***/ "./src/app/pages/duties/multiplesupplierallotment/multiplesupplierallotment.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n      <h5 style=\"text-align:center;\">Number of duties selected: {{length}}</h5>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n    <nb-card-body>\n      <table align=\"center\" style=\"width:90%\">\n        <thead>\n          <th>Supplier Name</th>\n          <th>Phone Number</th>\n          <th>Email</th>\n          <th>City</th>\n          <th>&#10004;</th>\n        </thead>\n        <tr *ngFor=\"let temp of supplierObs\" >\n          <td class=\"supplier-td\">\n              {{temp.name}}\n          </td>\n          <td class=\"supplier-td\">\n              {{temp.phone}}\n          </td>\n          <td class=\"supplier-td\">\n              {{temp.email}}\n          </td>\n          <td class=\"supplier-td\">\n              {{temp.headOfficeCity}}\n          </td>\n          <td class=\"supplier-td\">\n              <mat-radio-group [(ngModel)]=\"test\">\n                  <mat-radio-button class=\"supplier-radio\" [value]=\"temp\"></mat-radio-button>\n              </mat-radio-group>\n          </td>\n        </tr>\n      </table>\n    </nb-card-body>\n  </nb-card>\n  </div>\n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12\">\n    <button mat-raised-button color=\"primary\" (click)=\"sendRequest()\">Send</button>\n    <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/duties/multiplesupplierallotment/multiplesupplierallotment.component.scss":
/***/ (function(module, exports) {

module.exports = ".example-form {\n  min-width: 150px;\n  max-width: 500px;\n  width: 100%; }\n\n.example-full-width {\n  width: 100%; }\n\nth {\n  text-align: center;\n  padding: 10px; }\n\n.driver-td {\n  text-align: center;\n  padding: 2px; }\n\n.supplier-td {\n  text-align: center;\n  padding: 10px; }\n\n.supplier-radio {\n  margin-top: 5px; }\n\ntd {\n  border-top: 1px solid black; }\n"

/***/ }),

/***/ "./src/app/pages/duties/multiplesupplierallotment/multiplesupplierallotment.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MultiplesupplierallotmentComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__circles_circle_service__ = __webpack_require__("./src/app/pages/circles/circle.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__masters_addsuppliers_supplier_service__ = __webpack_require__("./src/app/pages/masters/addsuppliers/supplier.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var MultiplesupplierallotmentComponent = (function () {
    function MultiplesupplierallotmentComponent(data, auth, circleService, snackBar, matDialogRef, dialog, supplierService) {
        this.data = data;
        this.auth = auth;
        this.circleService = circleService;
        this.snackBar = snackBar;
        this.matDialogRef = matDialogRef;
        this.dialog = dialog;
        this.supplierService = supplierService;
        this.selectedDuties = {};
        this.user = {};
        if (data) {
            console.log(data);
            this.selectedDuties = data;
            console.log(this.selectedDuties);
            var keys = Object.keys(this.selectedDuties);
            this.length = keys.length;
            console.log(this.length);
        }
    }
    MultiplesupplierallotmentComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            var temp = {
                ownerId: _this.user.ownerId
            };
            _this.supplierService.getSupplier(temp).subscribe(function (data) {
                console.log(data);
                _this.supplierObs = data;
            });
        });
    };
    MultiplesupplierallotmentComponent.prototype.sendRequest = function () {
        var _this = this;
        for (var index = 0; index < this.length; index++) {
            var element = this.selectedDuties[index];
            console.log(element);
            var requestData = {
                supplierName: this.test.supplierName,
                dutyId: element.id,
                supplierId: this.test.supplierId,
                ownerName: this.user.companyName,
                ownerId: this.user.ownerId,
            };
            this.circleService.sendDutyRequest(requestData).subscribe(function (data) {
                console.log(data);
                _this.snackBar.open('Request Sent', 'X', { duration: 3000 });
                _this.matDialogRef.close(data);
            });
        }
    };
    MultiplesupplierallotmentComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    MultiplesupplierallotmentComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'multiplesupplierallotment',
            template: __webpack_require__("./src/app/pages/duties/multiplesupplierallotment/multiplesupplierallotment.component.html"),
            styles: [__webpack_require__("./src/app/pages/duties/multiplesupplierallotment/multiplesupplierallotment.component.scss")]
        }),
        __param(0, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [Object, __WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__circles_circle_service__["a" /* CircleService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["p" /* MatDialogRef */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_4__masters_addsuppliers_supplier_service__["a" /* SupplierService */]])
    ], MultiplesupplierallotmentComponent);
    return MultiplesupplierallotmentComponent;
}());



/***/ }),

/***/ "./src/app/pages/duties/newpettycash/newpettycash.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n    <div class=\"col-lg-12\">\n        <nb-card>\n            <nb-card-header>\n                New Petty Cash\n            </nb-card-header>\n            <nb-card-body>\n                <table>\n                    <tr>\n                        <td>\n                            <mat-form-field>\n                                <input matInput [(ngModel)]=\"pettyCash.date\" (click)=\"picker.open()\" [matDatepicker]=\"picker\" placeholder=\"Choose a date\">\n                                <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\n                                <mat-datepicker #picker></mat-datepicker>\n                            </mat-form-field>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            <mat-form-field>\n                                <input [(ngModel)]=\"pettyCash.voucherNumber\" matInput placeholder=\"Voucher Number\">\n                            </mat-form-field>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            <mat-radio-group (change)=\"condition($event)\">\n                                <mat-radio-button value=\"supplier\" >\n                                    Supplier\n                                </mat-radio-button>\n                                <mat-radio-button value=\"self\" >\n                                    Self\n                                </mat-radio-button>\n                            </mat-radio-group>\n                        </td>\n                    </tr>\n                    <tr *ngIf=\"supplierCondition==true\">\n                        <td>\n                            <mat-form-field>\n                                <input placeholder=\"Supplier\" matInput [(ngModel)]=\"pettyCash.supplier\" [matAutocomplete]=\"autoSuppliers\">\n                                <mat-autocomplete #autoSuppliers=\"matAutocomplete\">\n                                    <mat-option *ngFor=\"let supplier of suppliers\" [value]=\"supplier.name\">\n                                        {{ supplier.name }}\n                                    </mat-option>\n                                </mat-autocomplete> \n                            </mat-form-field>\n                        </td>\n                    </tr>\n                    <!-- <tr>\n                        <td>\n                            <mat-form-field>\n                                <input placeholder=\"Driver\" matInput [(ngModel)]=\"pettyCash.driver\" [matAutocomplete]=\"autoDrivers\">\n                                    <mat-autocomplete #autoDrivers=\"matAutocomplete\">\n                                        <mat-option *ngFor=\"let item of drivers\" [value]=\"item.name\">\n                                                {{ item.name }}\n                                        </mat-option>\n                                    </mat-autocomplete>\n                            </mat-form-field>\n                        </td>\n                    </tr> -->\n                    <tr>\n                        <td>\n                            <mat-form-field>\n                                <input placeholder=\"Amount\" matInput [(ngModel)]=\"pettyCash.amount\">\n                            </mat-form-field>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            Transaction Type\n                        </td>    \n                    </tr>\n                    <tr>\n                        <td style=\"padding:20px\">\n                            <mat-radio-group [(ngModel)]=\"pettyCash.transactionType\">\n                                <mat-radio-button value=\"Debit\">Debit</mat-radio-button>\n                                <mat-radio-button value=\"Credit\">Credit</mat-radio-button>\n                            </mat-radio-group>    \n                        </td>\n                    </tr>\n                </table>\n            </nb-card-body>\n        </nb-card>\n    </div>\n</div>\n<div class=\"row ptb-10\">\n    <div class=\"col-lg-12\">\n        <button mat-raised-button color=\"primary\"(click)=\"addPettyCash()\">Save</button>            \n        <button mat-raised-button color=\"warn\"(click)=\"closeDialog()\">Close</button>\n    </div>\n</div>    "

/***/ }),

/***/ "./src/app/pages/duties/newpettycash/newpettycash.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/duties/newpettycash/newpettycash.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NewpettycashComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__masters_newpettycash_newpettycash_component__ = __webpack_require__("./src/app/pages/masters/newpettycash/newpettycash.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};




var NewpettycashComponent = (function () {
    function NewpettycashComponent(auth, data, pettyCashService, matDialogRef) {
        this.auth = auth;
        this.data = data;
        this.pettyCashService = pettyCashService;
        this.matDialogRef = matDialogRef;
        this.user = {};
        this.supplierCondition = false;
        this.pettyCash = {
            date: '',
            voucherNumber: '',
            supplier: '',
            amount: '',
            transactionType: '',
            ownerId: '',
            dutyId: ''
        };
        if (data) {
            this.pettyCash.driver = data.row.driver;
            this.pettyCash.dutyId = data.row.id;
        }
    }
    NewpettycashComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.pettyCash.ownerId = data[0].ownerId;
        });
    };
    NewpettycashComponent.prototype.addPettyCash = function () {
        this.pettyCashService.addPettyCash(this.pettyCash).subscribe();
    };
    NewpettycashComponent.prototype.condition = function (event) {
        this.supplierCondition = !this.supplierCondition;
    };
    NewpettycashComponent.prototype.closeDialog = function () {
        this.matDialogRef.close();
    };
    NewpettycashComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-newpettycash',
            template: __webpack_require__("./src/app/pages/duties/newpettycash/newpettycash.component.html"),
            styles: [__webpack_require__("./src/app/pages/duties/newpettycash/newpettycash.component.scss")]
        }),
        __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_3__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__core_auth_service__["a" /* AuthService */], Object, __WEBPACK_IMPORTED_MODULE_2__masters_newpettycash_newpettycash_component__["a" /* NewPettyCashComponent */], __WEBPACK_IMPORTED_MODULE_3__angular_material__["p" /* MatDialogRef */]])
    ], NewpettycashComponent);
    return NewpettycashComponent;
}());



/***/ }),

/***/ "./src/app/pages/duties/offlineallottment/offlineallottment.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n    <div class=\"col-lg-12\">\n        <nb-card>\n            <nb-card-header>\n                Set Driver/Vehicle Details\n            </nb-card-header>\n            <nb-card-body>\n                <div *ngIf=\"data.row.supplierId != null\">\n                    <div class=\"row ptb-10\">\n                        <div class=\"col-lg-12 col-12\">\n                            <mat-form-field class=\"w-100\">\n                                Supplier\n                                <input type=\"text\" matInput [formControl]=\"supplierCtrl\" readonly>\n                                <!-- <mat-autocomplete #supplierAuto=\"matAutocomplete\">\n                                    <mat-option *ngFor=\"let option of supplier | async\" [value]=\"option.name\" (onSelectionChange)=\"supplierSelect(option,$event)\">\n                                        {{ option.name }}\n                                    </mat-option>\n                                </mat-autocomplete> -->\n                            </mat-form-field>\n                        </div>\n                    </div>\n                    <div class=\"row\" style=\"width:65vw;\">\n                        <div class=\"col-lg-6 col-12\">\n                            <mat-form-field class=\"w-100\">\n                                <input [(ngModel)]=\"duty.driver\" matInput placeholder=\"Driver Name\">\n                            </mat-form-field>\n                        </div>\n                        <div class=\"col-lg-6 col-12\">\n                            <mat-form-field class=\"w-100\">\n                                <input [(ngModel)]=\"duty.vehicle\" matInput placeholder=\"Vehicle Name (Number)\">\n                            </mat-form-field>\n                        </div>\n                    </div>\n                </div>\n                <div *ngIf=\"data.row.driverId == null && data.row.supplierId == null\">\n                    <div class=\"row\">\n                        <div class=\"col-lg-12 col-12\" [formGroup]=\"allotForm\">\n                            <mat-form-field *ngIf=\"duty.dutyType!='Self Drive'\" class=\"w-100\">\n                                <mat-select placeholder=\"Choose Driver\" formControlName=\"driver\">\n                                    <mat-select-trigger>\n                                        {{this.allotForm.get('driver').value}} <mat-icon *ngIf=\"mobileIcon\">phone_iphone</mat-icon>\n                                    </mat-select-trigger>\n                                    <mat-option *ngFor=\"let temp of DriverObs\" [value]=\"temp.name\" (click)=\"allotDriver(temp)\">\n                                        {{temp.name}} <mat-icon *ngIf=\"temp.userId != null\">phone_iphone</mat-icon>\n                                    </mat-option>\n                                </mat-select>\n                            </mat-form-field>\n                            <div *ngIf=\"duty.dutyType=='Self Drive'\">\n                                <b>Self Drive</b>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </nb-card-body>\n        </nb-card>\n    </div>\n</div>\n<div class=\"row ptb-10\">\n    <div class=\"col-lg-12\">\n        <button mat-raised-button *ngIf=\"data.row.supplierId != null\" color=\"primary\"(click)=\"updateAllottment()\">Save</button>\n        <button mat-raised-button *ngIf=\"data.row.supplierId == null\" color=\"primary\"(click)=\"saveDriverAllottment()\">Save</button>\n        <button mat-raised-button color=\"warn\"(click)=\"closeDialog()\">Close</button>\n    </div>\n</div>    "

/***/ }),

/***/ "./src/app/pages/duties/offlineallottment/offlineallottment.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/duties/offlineallottment/offlineallottment.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OfflineallottmentComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__duties_service__ = __webpack_require__("./src/app/pages/duties/duties.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__masters_addsuppliers_supplier_service__ = __webpack_require__("./src/app/pages/masters/addsuppliers/supplier.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_operators__ = __webpack_require__("./node_modules/rxjs/_esm5/operators.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__masters_new_driver_driver_service__ = __webpack_require__("./src/app/pages/masters/new-driver/driver.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};








var OfflineallottmentComponent = (function () {
    function OfflineallottmentComponent(data, matdialogRef, dialog, dutyService, auth, supplierService, driverService, fb) {
        this.data = data;
        this.matdialogRef = matdialogRef;
        this.dialog = dialog;
        this.dutyService = dutyService;
        this.auth = auth;
        this.supplierService = supplierService;
        this.driverService = driverService;
        this.fb = fb;
        this.duty = {};
        this.user = {};
        this.supplierCtrl = new __WEBPACK_IMPORTED_MODULE_5__angular_forms__["c" /* FormControl */]();
        this.selectedDriver = {};
        this.duty = data.row;
        this.supplierCtrl.setValue(data.row.supplierName);
    }
    OfflineallottmentComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            var temp3 = {
                ownerId: _this.user.ownerId,
                fromLoc: _this.duty.fromLoc,
                vehicleGroupId: _this.duty.vehicleGroupId
            };
            _this.supplierService.getDistinctSuppliers(temp3).subscribe(function (data) {
                _this.suppliers = data;
                _this.supplier = _this.supplierCtrl.valueChanges
                    .pipe(Object(__WEBPACK_IMPORTED_MODULE_6_rxjs_operators__["startWith"])(''), Object(__WEBPACK_IMPORTED_MODULE_6_rxjs_operators__["map"])(function (val) { return _this.filterSupplier(val); }));
            });
            _this.driverService.getDriver(_this.user).subscribe(function (res) {
                _this.DriverObs = res;
            });
        });
        this.allotForm = this.fb.group({
            driver: []
        });
    };
    OfflineallottmentComponent.prototype.updateAllottment = function () {
        this.dutyService.updateDriverAllot(this.duty);
        this.matdialogRef.close("yes");
    };
    OfflineallottmentComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    OfflineallottmentComponent.prototype.supplierSelect = function (temp, event) {
        if (event.source.selected == true) {
            console.log(temp);
        }
    };
    OfflineallottmentComponent.prototype.filterSupplier = function (val) {
        console.log(this.suppliers.filter(function (option) {
            return option.name.toLowerCase().includes(val.toLowerCase());
        }));
        return this.suppliers.filter(function (option) {
            return option.name.toLowerCase().includes(val.toLowerCase());
        });
    };
    OfflineallottmentComponent.prototype.allotDriver = function (temp) {
        console.log(temp);
        this.selectedDriver = temp;
        if (temp.userId != null) {
            this.mobileIcon = true;
        }
        else {
            this.mobileIcon = false;
        }
    };
    OfflineallottmentComponent.prototype.saveDriverAllottment = function (temp) {
        console.log(temp);
        this.duty.driverId = this.selectedDriver.id;
        // this.duty.driverNumber=this.selectedDriver.mobileNumber;
        this.duty.driver = this.selectedDriver.name;
        if (this.duty.driver.trim() == "") {
            console.log("driver null");
            this.duty.driver = '';
            this.duty.driverId = null;
        }
        if (this.duty.vehicle.trim() == "") {
            console.log("driver null");
            this.duty.vehicle = '';
            this.duty.vehicleId = null;
        }
        if (this.duty.driverId == null && this.duty.vehicleId == null) {
            this.duty.status = "Booked";
        }
        else if (this.duty.dutyType == 'Self Drive') {
            if (this.selectedDriver.userId != null) {
                this.duty.status = "Allotted";
                this.duty.subStatus = "Not Accepted";
            }
            else {
                this.duty.status = "Allotted";
                this.duty.subStatus = "Allotted";
            }
        }
        else {
            if (this.duty.driverId == null) {
                this.duty.status = "Driver Pending";
            }
            else if (this.duty.vehicleId == null) {
                this.duty.status = "Vehicle Pending";
            }
            else {
                if (this.selectedDriver.userId != null) {
                    this.duty.status = "Allotted";
                    this.duty.subStatus = "Not Accepted";
                }
                else {
                    this.duty.status = "Allotted";
                    this.duty.subStatus = "Allotted";
                }
            }
        }
        console.log(this.duty);
        this.dutyService.allotDriver(this.duty);
        console.log("ASD");
        this.matdialogRef.close("yes");
    };
    OfflineallottmentComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'offlineallottment',
            template: __webpack_require__("./src/app/pages/duties/offlineallottment/offlineallottment.component.html"),
            styles: [__webpack_require__("./src/app/pages/duties/offlineallottment/offlineallottment.component.scss")]
        }),
        __param(0, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [Object, __WEBPACK_IMPORTED_MODULE_1__angular_material__["p" /* MatDialogRef */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_2__duties_service__["a" /* DutiesService */],
            __WEBPACK_IMPORTED_MODULE_3__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_4__masters_addsuppliers_supplier_service__["a" /* SupplierService */],
            __WEBPACK_IMPORTED_MODULE_7__masters_new_driver_driver_service__["a" /* DriverService */],
            __WEBPACK_IMPORTED_MODULE_5__angular_forms__["b" /* FormBuilder */]])
    ], OfflineallottmentComponent);
    return OfflineallottmentComponent;
}());



/***/ }),

/***/ "./src/app/pages/duties/selfdrive/selfdrive.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\" style=\"min-width:60vw;\">\n  <div class=\"col-lg-12 col-12\">\n    <div style=\"margin: 15px;\">\n        <b>Video:</b>\n      <a *ngIf=\"videoUrl!=''\" [href]=\"videoUrl\" target=\"_blank\">Click here to view the video</a>\n    </div>\n    <div style=\"margin: 15px;\">\n      <b>Images:</b><br>\n      <div *ngIf=\"imgUrl.length==0\">\n          <mat-progress-spinner\n          color=\"primary\"\n          mode=\"indeterminate\">\n        </mat-progress-spinner>\n      </div>\n      <div *ngIf=\"imgUrl.length>0\">\n        <div *ngFor=\"let url of imgUrl; let i=index\" style=\"display: inline-block;\">\n            <img class=\"invoice-button\" [src]=url height=\"150px\" width=\"150px\" alt=\"\" style=\"cursor: pointer\" (click)=\"open(i)\"/>\n        </div>\n      </div>\n    </div>\n    <div style=\"margin: 15px;\">\n      <b>Remarks:</b>\n      <p>{{remarks}}</p>\n    </div>\n    <div class=\"col-lg-12 col-12\">\n        <button mat-raised-button color=\"primary\" (click)=\"save()\">Approve</button>\n      <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n    </div>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/duties/selfdrive/selfdrive.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/duties/selfdrive/selfdrive.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SelfdriveComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__duties_service__ = __webpack_require__("./src/app/pages/duties/duties.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ngx_lightbox__ = __webpack_require__("./node_modules/ngx-lightbox/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ngx_lightbox___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_ngx_lightbox__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};







var SelfdriveComponent = (function () {
    function SelfdriveComponent(dialog, data, snackbar, auth, uploadService, dutiesService, _sanitizer, _lightbox) {
        this.dialog = dialog;
        this.data = data;
        this.snackbar = snackbar;
        this.auth = auth;
        this.uploadService = uploadService;
        this.dutiesService = dutiesService;
        this._sanitizer = _sanitizer;
        this._lightbox = _lightbox;
        this.duty = {};
        this.user = {};
        this.videoUrl = '';
        this.remarks = '';
        this.imgUrl = [];
        this._albums = [];
        this.duty = data.row;
        console.log(this.duty);
    }
    SelfdriveComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.uploadService.getSelfDriveVideoFile(_this.user.companyName, _this.duty.id).subscribe(function (data) {
                _this.videoUrl = data.text().toString();
            });
            _this.uploadService.getSelfDriveImageFiles(_this.user.companyName, _this.duty.id).subscribe(function (data) {
                data.json().forEach(function (element) {
                    _this.imgUrl.push(_this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' + element));
                    var album = {
                        src: _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' + element)
                    };
                    _this._albums.push(album);
                });
            });
            _this.dutiesService.getSelfDriveDetails({ dutyId: _this.duty.id }).subscribe(function (data) {
                _this.remarks = data[0].remarks;
            });
        });
    };
    SelfdriveComponent.prototype.closeDialog = function () {
        this.dialog.close("no");
    };
    SelfdriveComponent.prototype.save = function () {
        this.dialog.close("yes");
    };
    SelfdriveComponent.prototype.open = function (index) {
        // open lightbox
        this._lightbox.open(this._albums, index);
    };
    SelfdriveComponent.prototype.close = function () {
        // close lightbox programmatically
        this._lightbox.close();
    };
    SelfdriveComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'selfdrive',
            template: __webpack_require__("./src/app/pages/duties/selfdrive/selfdrive.component.html"),
            styles: [__webpack_require__("./src/app/pages/duties/selfdrive/selfdrive.component.scss")]
        }),
        __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_material__["p" /* MatDialogRef */], Object, __WEBPACK_IMPORTED_MODULE_1__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__fileupload_service__["a" /* FileuploadService */],
            __WEBPACK_IMPORTED_MODULE_4__duties_service__["a" /* DutiesService */],
            __WEBPACK_IMPORTED_MODULE_5__angular_platform_browser__["DomSanitizer"],
            __WEBPACK_IMPORTED_MODULE_6_ngx_lightbox__["Lightbox"]])
    ], SelfdriveComponent);
    return SelfdriveComponent;
}());



/***/ }),

/***/ "./src/app/pages/duties/senddutytosuppliers/senddutytosuppliers.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-body class=\"w-100 hide-overflow\">        \n        <div class=\"row ptb-10\">\n          <div class=\"col-lg-12 col-12\">                \n            <mat-chip-list>\n              Suppliers:&nbsp;\n              <mat-chip color=\"primary\" selected *ngFor=\"let element of supplierData; let i=index\">\n                {{element.billingName}}\n                <button class=\"w-21\" mat-icon-button color=\"primary\" (click)=\"deleteChip(i)\">\n                  <mat-icon>clear</mat-icon>\n                </button>\n              </mat-chip>\n            </mat-chip-list>\n          </div>      \n          <hr>\n        </div>    \n        <div class=\"row ptb-10\">\n          <div class=\"col-lg-12 col-12\">\n            Subject:\n            <mat-form-field class=\"w-100\">\n              <input type=\"text\" matInput [(ngModel)]=\"mailSubject\">\n            </mat-form-field>         \n          </div>\n          <hr>\n        </div>\n        <div #div1 id=\"div1\">      \n          <head>\n            <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n            <meta name=\"viewport\" content=\"width=device-width; initial-scale=1.0; maximum-scale=1.0;\">\n            <meta property=\"og:title\" content=\"Saucey\">\n            <link href=\"http://fonts.googleapis.com/css?family=Lato:300,400,600,300italic\" rel=\"stylesheet\" type=\"text/css\">\n            <link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.7.2/css/all.css\" integrity=\"sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr\" crossorigin=\"anonymous\">\n            <title></title>\n            </head>\n              <body style=\"width: 100%;background-color: #ffffff;margin: 0;padding: 0;-webkit-font-smoothing: antialiased;text-align: center;\">\n                <table width=\"100%\" height=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"10\">\n                  <tbody>\n                    <tr>\n                      <td>                      \n                        <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                          <tr>\n                            <td bgcolor=\"#00C186\" style=\"background-color: #00C186;\">\n                              <div align=\"center\" style=\"padding: 0px 20px 0px 20px;\">\n                                <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"wrapper\" align=\"center\">\n                                  <tr align=\"center\">\n                                    <td style=\"padding: 10px 0px 10px 0px; text-align: center; width: 400px;\" class=\"logo\" align=\"center\">\n                                      <a>\n                                        <!-- <img alt=\"header\" src=\"http://media.firebox.com/i/nl/fb_light.png\" width=\"130\" border=\"0\"> -->\n                                        <img alt=\"header\" [src]=\"companyLogo\" width=\"70\" border=\"0\">\n                                      </a>\n                                    </td>\n                                  </tr>\n                                  <!-- <tr align=\"center\">\n                                    <td style=\"padding: 0px 0px 15px 0px; text-align: center; width: 400px;\" class=\"logo\" align=\"center\"> -->\n                                      <!-- <img src=\"https://media.firebox.com/i/transactional/header-dispatch.png\" width=\"100%\" class=\"img-max\"> -->\n                                    <!-- </td>\n                                  </tr> -->\n                                </table>\n                              </div>\n                            </td>\n                          </tr>\n                        </table>                    \n                      </td>\n                    </tr>\n                    <tr>\n                      <td>                      \n                        <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" *ngIf=\"businessSettings.dutyAllotmentToSupplierHeader != ''\">\n                          <tr>\n                            <td bgcolor=\"#00C186\" style=\"background-color: #00C186;\">\n                              <div align=\"center\" style=\"padding: 0px 20px 0px 20px;\">\n                                <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"wrapper\" align=\"center\">\n                                  <tr align=\"center\">\n                                    <td style=\"padding: 15px 0px 10px 0px; text-align: center; width: 400px;\" class=\"logo\" align=\"center\">\n                                      <p [innerHTML]=\"businessSettings.dutyAllotmentToSupplierHeader\"></p>\n                                    </td>\n                                  </tr>                                    \n                                </table>\n                              </div>\n                            </td>\n                          </tr>\n                        </table>                    \n                      </td>\n                    </tr>\n                    <tr>\n                      <td align=\"center\"><table width=\"100%\" border=\"0\" cellspacing=\"5\" cellpadding=\"10\" align=\"center\" style=\"max-width:600px;\">\n                        <tbody>          \n                          <tr>\n                            <td align=\"center\">\n                              <div align=\"center\">\n                                <img alt=\"\" src=\"https://image.freepik.com/free-vector/hands-holding-document-pencil_1325-132.jpg\" width=\"75\" style=\"border-radius: 100%; margin:10px; border: 4px solid #FFF;-webkit-box-shadow: 0 0 15px 0px rgba(0,0,0,0.1); -moz-box-shadow: 0 0 5px 0px rgba(0,0,0,0.1); box-shadow: 0 0 15px 0px rgba(0,0,0,0.1);\">\n                              </div>\n                              <div align=\"center\" style=\"word-break:break-word;border-collapse:collapse!important;vertical-align:top;text-align:center;display:block;font-family: 'Lato', sans-serif;font-size:14px; color: #555; font-weight:300; font-style:italic\">\n                                Please find the duty details below\n                              </div> \n                            </td>\n                          </tr>                      \n                          <tr>\n                            <td align=\"center\" valign=\"top\">\n                              <table width=\"100%\" border=\"0\" cellspacing=\"5\" cellpadding=\"10\" align=\"center\">\n                                <tbody>\n                                  <tr style=\"vertical-align:top;text-align:left;width:100%;padding:0\" align=\"left\">\n                                    <td style=\"border-collapse:collapse!important;vertical-align:middle;display:table-cell;width:auto!important;padding:12px 0 5px\" align=\"center\" valign=\"middle\">\n                                      <p style=\"color:#222222;text-align:center;line-height:0;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:#d9d9d9;display:block;margin:0;padding:0\" align=\"left\"></p>\n                                    </td>\n                                    <td style=\"word-break:break-word;border-collapse:collapse!important;vertical-align:middle;text-align:center;display:table-cell;width:120px!important;font-family: 'Lato', sans-serif;font-size:12px;font-weight:normal; text-transform:uppercase;white-space:pre-wrap;padding:0px 10px 5px\" align=\"center\" valign=\"middle\">\n                                      Duty Summary\n                                    </td>\n                                    <td style=\"border-collapse:collapse!important;vertical-align:middle;display:table-cell;width:auto!important;padding:12px 0 5px\" align=\"center\" valign=\"middle\">\n                                      <p style=\"color:#222222;text-align:center;line-height:0;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:#d9d9d9;display:block;margin:0;padding:0\" align=\"left\"></p>\n                                    </td>\n                                  </tr>\n                                </tbody>\n                              </table>\n                              <br>\n                              <table width=\"100%\" border=\"0\" cellspacing=\"5\" cellpadding=\"0\" align=\"center\">\n                                <tbody *ngFor=\"let element of dutyData; let i=index\">\n                                  <!-- Repeat Per Product -->\n                                  <tr style=\"vertical-align:top;text-align:left;width:100%;padding:0;\" align=\"left\">\n                                    <td style=\"word-break:break-word;border-collapse:collapse!important;vertical-align:top;text-align:left;display:table-cell;width:50px!important;font-family: 'Lato', sans-serif;font-size:14px;\" align=\"left\" valign=\"top\">\n                                      {{i+1}}\n                                    </td>\n                                    <td style=\"word-break:break-word;border-collapse:collapse!important;vertical-align:top;text-align:left;display:table-cell;font-family: 'Lato', sans-serif;font-size:14px;\" align=\"right\" valign=\"top\">                                    \n                                      Booking ID: <span style=\"font-weight:300;\">{{element.id}}&nbsp;</span> <br>\n                                      Date: <span style=\"font-weight:300;\"> {{element.startDate}}&nbsp;</span> <br>\n                                      From: <span style=\"font-weight:300;\">{{element.fromLoc}}&nbsp;</span> <br>                                    \n                                      Passenger Name: <span style=\"font-weight:300;\">{{element.passenger}}&nbsp;</span>                                      \n                                    </td>                                     \t\n                                    <td style=\"word-break:break-word;border-collapse:collapse!important;vertical-align:top;text-align:left;display:table-cell;font-family: 'Lato', sans-serif;font-size:14px;\" align=\"right\" valign=\"top\">\n                                      Vehicle Group: <span style=\"font-weight:300;\">{{element.vehicleGroup}}&nbsp;</span><br>\n                                      Reporting Time: <span style=\"font-weight:300;\">{{element.reportingTime}}&nbsp;</span><br>\n                                      To: <span style=\"font-weight:300;\">{{element.toLoc}}&nbsp;</span> <br>\n                                      Mobile No.: <span style=\"font-weight:300;\">{{element.passengerNo}}&nbsp;</span> <br>                                      \n                                    </td>\n                                  </tr>\n                                  <tr>\n                                    <td></td>\n                                    <td colspan=\"2\" style=\"word-break:break-word;border-collapse:collapse!important;vertical-align:top;text-align:left;display:table-cell;font-family: 'Lato', sans-serif;font-size:14px;\" valign=\"top\">\n                                      Reporting Address: <br><span style=\"font-weight:300;\">{{element.reportingAddress}}&nbsp;</span>\n                                    </td>\n                                  </tr>\n                                  <tr>\n                                    <td></td>\n                                    <td colspan=\"2\" style=\"word-break:break-word;border-collapse:collapse!important;vertical-align:top;text-align:left;display:table-cell;font-family: 'Lato', sans-serif;font-size:14px;\" valign=\"top\">\n                                      Drop Address: <br><span style=\"font-weight:300;\">{{element.dropAddress}}&nbsp;</span>\n                                    </td>\n                                  </tr>\n                                  <tr>\n                                    <td colspan=\"3\" style=\"word-break:break-word;border-collapse:collapse!important;vertical-align:top;text-align:center;display:table-cell;font-family: 'Lato', sans-serif;font-size:14px;\" valign=\"top\" *ngIf=\"element.operatorNotes\">\n                                      <br>\n                                      Operator Notes: <span style=\"font-weight:300;\">{{element.operatorNotes}}&nbsp;</span>    \n                                    </td>\n                                  </tr>\n                                  <tr style=\"vertical-align:top;text-align:left;width:100%;padding:0;\" align=\"left\">\n                                    <td>&nbsp;</td>\n                                    <td colspan=\"2\" style=\"border-collapse:collapse!important;vertical-align:middle;display:table-cell;width:auto!important;padding:12px 0 5px\" align=\"center\" valign=\"middle\">\n                                      <p style=\"color:#222222;text-align:center;line-height:0;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:#d9d9d9;display:block;margin:0;padding:0\" align=\"left\"></p>\n                                    </td>\n                                  </tr>\n                                  <tr style=\"vertical-align:top;text-align:left;width:100%;padding:0;\" align=\"left\">\n                                    <td style=\"word-break:break-word;border-collapse:collapse!important;vertical-align:top;text-align:left;display:table-cell;width:20px!important;font-family: 'Lato', sans-serif;font-size:14px;\" align=\"left\" valign=\"top\">\n                                      &nbsp;\n                                    </td>\n                                  </tr>\n                                  <tr>\n                                    <td height=\"10px\">&nbsp;</td>\n                                  </tr>\n                                  <!-- End Repeat Per Product -->                     \n                                </tbody>\n                              </table>              \n                <!-- Price Breakdown -->                                            \n                            </td>\n                          </tr>\n                        </tbody>\n                      </table>\n                    </td>\n                  </tr>    \n                  <tr>\n                    <td>\n                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                        <tr>\n                          <td bgcolor=\"#ffffff\" align=\"center\" style=\"padding: 20px 0px;\">\n                            <!-- UNSUBSCRIBE COPY -->\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n                                <tr>\n                                  <td bgcolor=\"#ffffff\" align=\"center\" style=\"padding: 20px 0px;\">\n                                    <!-- UNSUBSCRIBE COPY -->\n                                    <table width=\"600\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\" class=\"responsive-table\">\n                                      <tr>\n                                        <td width=\"100%\" align=\"center\" style=\"padding: 0 0 20px 0; font-size: 14px; line-height: 18px; font-family: Helvetica, Arial, sans-serif; color:#888888;\">\n                                          Until next time, <strong>Techsimians Team</strong>\n                                        </td>\n                                      </tr>\n                                      <!-- <tr>\n                                        <td>\n                                          <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" align=\"center\">\n                                            <tr width=\"183\">\n                                              <td>\n                                                <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" align=\"center\">\n                                                  <tr width=\"157\">\n                                                    <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                                      <a href=\"https://www.facebook.com/Firebox\" target=\"blank\">\n                                                        <img src=\"http://media.firebox.com/i/nl/facebook_icon.png\" width=\"16\" height=\"16\">\n                                                      </a>\n                                                    </td>\n                                                    <td width=\"19\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                                      <a href=\"https://twitter.com/Firebox\" target=\"blank\">\n                                                        <img src=\"http://media.firebox.com/i/nl/twitter_icon.png\" width=\"19\" height=\"16\">\n                                                      </a>\n                                                    </td>\n                                                    <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                                      <a href=\"https://www.instagram.com/Firebox/\" target=\"blank\">\n                                                        <img src=\"http://media.firebox.com/i/nl/instagram_icon.png\" width=\"16\" height=\"16\">\n                                                      </a>\n                                                    </td>\n                                                    <td width=\"16\" align=\"center\" style=\"padding: 0 10px 20px 10px;\">\n                                                      <a href=\"https://www.pinterest.com/firebox/\" target=\"blank\">\n                                                        <img src=\"http://media.firebox.com/i/nl/pinterest_icon.png\" width=\"16\" height=\"16\">\n                                                      </a>\n                                                    </td>\n                                                  </tr>\n                                                </table>\n                                              </td>\n                                            </tr>\n                                          </table>\n                                        </td>\n                                      </tr> -->\n                                      <tr>\n                                        <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 0 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                          <span class=\"appleBody\">\n                                            <strong>Techsimians</strong><br /> Mumbai, Maharashtra, India.\n                                          </span>\n                                        </td>\n                                      </tr>\n                                      <!-- <tr>\n                                        <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 20px 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                          <span class=\"appleBody\">\n                                            VAT Reg. No.: 798 6593 41 Registered in England & Wales, No. 3874477\n                                          </span>\n                                        </td>\n                                      </tr> -->\n                                      <tr>\n                                        <td width=\"100%\" align=\"center\" style=\"padding: 0 10px 20px 10px; font-family:'sofia', Helvetica, Arial, sans-serif; line-height: 24px; color: #888888; font-size: 12px;\">\n                                          <span class=\"appleBody\" style=\"color:#888888;\">\n                                            <a style=\"color:#888888 !important;\">info@yourfleetman.com</a>\n                                          </span>\n                                          <span class=\"hide-mobile\">&nbsp; | &nbsp;</span>\n                                          <span class=\"appleBody break\" style=\"color:#888888;\">\n                                            <a href=\"http://www.techsimians.com\"\n                                              style=\"color: #888888 !important;\">www.techsimians.com</a>\n                                          </span>\n                                          <span class=\"hide-mobile\">&nbsp; | &nbsp;</span>\n                                          <span class=\"appleBody break\" style=\"color:#888888;\">\n                                            8080 425 120\n                                          </span>\n                                        </td>\n                                      </tr>\n                                      <tr>\n                                        <td>                      \n                                          <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" *ngIf=\"businessSettings.dutyAllotmentToSupplierFooter != ''\">\n                                            <tr>\n                                              <td bgcolor=\"#00C186\" style=\"background-color: #00C186;\">\n                                                <div align=\"center\" style=\"padding: 0px 20px 0px 20px;\">\n                                                  <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" class=\"wrapper\" align=\"center\">\n                                                    <tr align=\"center\">\n                                                      <td style=\"padding: 15px 0px 10px 0px; text-align: center; width: 400px;\" class=\"logo\" align=\"center\">\n                                                        <p [innerHTML]=\"businessSettings.dutyAllotmentToSupplierFooter\"></p>\n                                                      </td>\n                                                    </tr>                                    \n                                                  </table>\n                                                </div>\n                                              </td>\n                                            </tr>\n                                          </table>                    \n                                        </td>\n                                      </tr>\n                                    </table>\n                                  </td>\n                                </tr>\n                              </table>\n                          </td>\n                        </tr>\n                      </table>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n                \n                \n            </body>\n          <!-- <div class=\"row\" *ngFor=\"let element of dutyData; let i=index\">\n            <div class=\"col-lg-1\">\n              <b>Sr.&nbsp;</b><br>\n              <b>{{i+1}}&nbsp;</b>\n            </div>\n            <div class=\"col-lg-2\">\n              <b>Booking ID&nbsp;</b><br>\n              {{element.id}}&nbsp;\n            </div>\n            <div class=\"col-lg-5\">\n              <b>Details&nbsp;</b><br>\n              Date: {{element.startDate}}&nbsp; <br>\n              From: {{element.fromLoc}}&nbsp; <br>\n              To: {{element.toLoc}}&nbsp; <br>\n              Passenger Name: {{element.passenger}}&nbsp; <br>\n              Mobile No.: {{element.passengerNo}}&nbsp; <br>\n              Reporting Address: {{element.reportingAddress}}&nbsp; <br>\n              Drop Address: {{element.dropAddress}}&nbsp; <br>        \n            </div>\n            <div class=\"col-lg-2\">\n              <b>Reporting Time&nbsp;</b><br>\n              {{element.reportingTime}}&nbsp;\n            </div>\n            <div class=\"col-lg-2\">\n                <b>Vehicle Group&nbsp;</b><br>\n              {{element.vehicleGroup}}&nbsp;\n            </div>\n            <div class=\"col-lg-12 pt-10\" *ngIf=\"element.operatorNotes\">\n              <p class=\"text-align\">Operator Notes: {{element.operatorNotes}}&nbsp;</p>\n            </div>\n            <hr>\n          </div> -->\n        </div>       \n      </nb-card-body>      \n    </nb-card>\n  </div>  \n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12\">\n    <button mat-raised-button color=\"primary\" (click)=\"sendMail(div1)\">Send Mail</button> &nbsp;  \n    <!-- <button mat-raised-button color=\"primary\" onclick=\"CopyToClipboard('div1')\">Copy</button> -->\n    <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n  </div>  \n</div>  "

/***/ }),

/***/ "./src/app/pages/duties/senddutytosuppliers/senddutytosuppliers.component.scss":
/***/ (function(module, exports) {

module.exports = ".w-21 {\n  bottom: 1px;\n  width: 20px;\n  color: #ffffff; }\n\n.mat-chip:not(.mat-basic-chip) {\n  padding: 0px 15px; }\n\n.text-align {\n  text-align: center; }\n\nhr {\n  width: 100%; }\n\n.mat-chip {\n  margin: unset !important; }\n"

/***/ }),

/***/ "./src/app/pages/duties/senddutytosuppliers/senddutytosuppliers.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SenddutytosuppliersComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__duties_service__ = __webpack_require__("./src/app/pages/duties/duties.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__circles_companyprofile_companyprofile_service__ = __webpack_require__("./src/app/pages/circles/companyprofile/companyprofile.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};








var SenddutytosuppliersComponent = (function () {
    function SenddutytosuppliersComponent(data, http, dialog, auth, dutiesService, _sanitizer, companyProfileService, uploadService, snackBar) {
        this.data = data;
        this.http = http;
        this.dialog = dialog;
        this.auth = auth;
        this.dutiesService = dutiesService;
        this._sanitizer = _sanitizer;
        this.companyProfileService = companyProfileService;
        this.uploadService = uploadService;
        this.snackBar = snackBar;
        this.mailSubject = "Request of Cab supply for following duties";
        this.businessSettings = {};
        this.companyLogo = '';
        this.companyProfile = {};
        this.user = {};
        if (data != null) {
            this.dutyData = data[0];
            this.supplierData = data[1];
        }
    }
    SenddutytosuppliersComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.businessSettings.subscribe(function (data) {
            _this.businessSettings = data;
        });
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.companyProfileService.getCompanyProfile(_this.user).subscribe(function (data) {
                _this.companyProfile = data[0];
                _this.uploadService.getFile(_this.user.companyName, 'profileImages', _this.companyProfile.companyLogo).subscribe(function (data) {
                    _this.companyLogo = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                        + data.text());
                });
            });
        });
    };
    SenddutytosuppliersComponent.prototype.deleteChip = function (i) {
        this.supplierData.splice(i, 1);
        if (this.supplierData.length == 0) {
            this.dialog.closeAll();
        }
    };
    SenddutytosuppliersComponent.prototype.sendMail = function (div1) {
        var _this = this;
        this.mailBody = div1;
        if (this.businessSettings.CCAllAllotmentEmails) {
            var temp = {
                companyEmail: this.companyProfile.email,
                name: this.companyProfile.name,
                email: [this.supplierData[0].email],
                cc: this.businessSettings.AutoCCEmail,
                date: this.dutyData[0].startDate,
                subject: this.mailSubject,
                mailBody: this.mailBody.innerHTML,
                vehicle: this.dutyData[0].vehicle,
            };
        }
        else {
            var temp = {
                companyEmail: this.companyProfile.email,
                name: this.companyProfile.name,
                email: [this.supplierData[0].email],
                cc: '',
                date: this.dutyData[0].startDate,
                subject: this.mailSubject,
                mailBody: this.mailBody.innerHTML,
                vehicle: this.dutyData[0].vehicle,
            };
        }
        this.http.post('/Voip/sendMail', temp).subscribe(function (data) {
            console.log(data);
        }, function (err) { }, function () {
            _this.snackBar.open("Email Sent", "X", { duration: 3000 });
        });
        var body = {
            supplierId: this.supplierData[0].id,
            supplierName: this.supplierData[0].name,
            supplierType: this.supplierData[0].type,
            status: 'Details pending',
            id: this.dutyData[0].id
        };
        this.dutiesService.updatedutyForOffline(body);
    };
    SenddutytosuppliersComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    SenddutytosuppliersComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'senddutytosuppliers',
            template: __webpack_require__("./src/app/pages/duties/senddutytosuppliers/senddutytosuppliers.component.html"),
            styles: [__webpack_require__("./src/app/pages/duties/senddutytosuppliers/senddutytosuppliers.component.scss")]
        }),
        __param(0, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [Object, __WEBPACK_IMPORTED_MODULE_2__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_3__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_4__duties_service__["a" /* DutiesService */],
            __WEBPACK_IMPORTED_MODULE_5__angular_platform_browser__["DomSanitizer"],
            __WEBPACK_IMPORTED_MODULE_6__circles_companyprofile_companyprofile_service__["a" /* CompanyprofileService */],
            __WEBPACK_IMPORTED_MODULE_7__fileupload_service__["a" /* FileuploadService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["I" /* MatSnackBar */]])
    ], SenddutytosuppliersComponent);
    return SenddutytosuppliersComponent;
}());



/***/ }),

/***/ "./src/app/pages/duties/sendinfo/sendinfo.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>Send to Suppliers</nb-card-header>\n      <nb-card-body>        \n        <!-- <div class=\"row ptb-10\">\n          <div class=\"col-lg-4 col-12\" *ngFor=\"let element of supplierObs\">\n            <mat-checkbox (change)=\"chooseSuppliers(element,$event)\">\n              <b>Supplier Name:</b> {{element.supplierName}}\n              <br>\n              <b>Supplier Phone:</b> 9892456898\n              <br>\n              <b>Supplier Email:</b> email@email.com\n            </mat-checkbox>         -->\n            <!-- <div>\n              Supplier Email:{{supplierObs[0].email}}\n            </div>\n            <div>\n              Supplier Phone:{{supplierObs[0].phone}}\n            </div> -->\n            <!-- <div>\n              <button mat-icon-button (click)=\"makeCall('919167051541')\" color=\"primary\" matTooltip=\"Call {{duty.bookByNo}}\"><mat-icon>call</mat-icon></button>\n              <button mat-icon-button color=\"primary\" matTooltip=\"Message {{duty.bookBy}}\"><mat-icon>chat</mat-icon></button>\n              <a style=\"padding-left:9px\" matTooltip=\"Whatsapp {{duty.bookBy}}\"><i class=\"fa fa-whatsapp\"></i></a>\n              <button mat-icon-button (click)=\"mail(duty.bookByEmail)\" color=\"primary\" matTooltip=\"Mail {{duty.bookBy}}\"><mat-icon>email</mat-icon></button>\n              <button mat-icon-button (click)=\"makeAppCall(duty.bookByNo)\" color=\"primary\" matTooltip=\"Call from app\"><mat-icon>phonelink_ring</mat-icon></button>\n            </div>  -->\n            \n            <table align=\"center\" style=\"width:90%\">\n              <thead>\n                <th>Supplier Name</th>\n                <th>Phone Number</th>\n                <th>Email</th>\n                <th>City</th>\n                <th>&#10004;</th>\n              </thead>\n              <tr *ngFor=\"let temp of supplierObs\" >\n                <td class=\"supplier-td\">\n                    {{temp.name}}\n                </td>\n                <td class=\"supplier-td\">\n                    {{temp.phone}}\n                </td>\n                <td class=\"supplier-td\">\n                    {{temp.email}}\n                </td>\n                <td class=\"supplier-td\">\n                    {{temp.headOfficeCity}}\n                </td>\n                <td class=\"supplier-td\">\n                  <mat-checkbox class=\"supplier-radio\" (change)=\"chooseSuppliers(temp,$event)\"></mat-checkbox>\n                </td>\n              </tr>\n            </table>\n          <!-- </div>       -->\n        <!-- </div>       -->\n      </nb-card-body>      \n    </nb-card>\n  </div>\n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12\">\n    <button mat-raised-button color=\"primary\" *ngIf=\"selectedSuppliers.length >= 1\" (click)=\"send()\">Send</button>\n    <button mat-raised-button color=\"primary\" *ngIf=\"selectedSuppliers.length == 0\" disabled>Send</button>\n    <button mat-raised-button color=\"warn\"(click)=\"closeDialog()\">Close</button>\n  </div>\n</div>  "

/***/ }),

/***/ "./src/app/pages/duties/sendinfo/sendinfo.component.scss":
/***/ (function(module, exports) {

module.exports = ".example-form {\n  min-width: 150px;\n  max-width: 500px;\n  width: 100%; }\n\n.example-full-width {\n  width: 100%; }\n\nth {\n  text-align: center;\n  padding: 10px; }\n\n.driver-td {\n  text-align: center;\n  padding: 2px; }\n\n.supplier-td {\n  text-align: center;\n  padding: 10px; }\n\n.supplier-radio {\n  margin-top: 5px; }\n\ntd {\n  border-top: 1px solid black; }\n"

/***/ }),

/***/ "./src/app/pages/duties/sendinfo/sendinfo.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SendinfoComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__circles_circle_service__ = __webpack_require__("./src/app/pages/circles/circle.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__senddutytosuppliers_senddutytosuppliers_component__ = __webpack_require__("./src/app/pages/duties/senddutytosuppliers/senddutytosuppliers.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__masters_addsuppliers_supplier_service__ = __webpack_require__("./src/app/pages/masters/addsuppliers/supplier.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};







var SendinfoComponent = (function () {
    function SendinfoComponent(circleService, snackBar, auth, http, dialog, supplierService, data) {
        this.circleService = circleService;
        this.snackBar = snackBar;
        this.auth = auth;
        this.http = http;
        this.dialog = dialog;
        this.supplierService = supplierService;
        this.data = data;
        this.duty = {};
        this.callNumber = '';
        this.calling = true;
        this.mail = false;
        this.user = {};
        this.selectedSuppliers = [];
        this.selectedDuties = [];
        this.multipleSelected = false;
        if (data.length >= 1) {
            this.selectedDuties = data;
            console.log(data);
        }
        else {
            this.selectedDuties[0] = data;
        }
    }
    SendinfoComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            var temp3 = {
                ownerId: _this.user.ownerId,
                fromLoc: _this.selectedDuties[0].fromLoc,
                vehicleGroupId: _this.selectedDuties[0].vehicleGroupId
            };
            _this.supplierService.getDistinctSuppliers(temp3).subscribe(function (data) {
                console.log(data);
                _this.supplierObs = data;
            });
            // var temp = {
            //   ownerId:this.user.ownerId
            // }
            // this.circleService.getCircle(temp).subscribe( res => {
            //   this.supplierObs=res;
            //   console.log(this.supplierObs)
            // })
        });
    };
    SendinfoComponent.prototype.makeCall = function (number) {
        this.calling = false;
        this.callNumber = number;
    };
    SendinfoComponent.prototype.callExotel = function (number) {
        this.http.post('/Voip/exotelCall', number).subscribe();
    };
    SendinfoComponent.prototype.makeAppCall = function (number) {
        var temp = {
            userId: this.user.id,
            number: number
        };
        this.http.post('/Voip/makeAppCall', temp).subscribe();
    };
    // sendMail(email){
    //   var temp={
    //     email:email,
    //     date:this.duty.startDate,
    //     subject:this.mailSubject,
    //     mailBody:this.mailBody,
    //     vehicle:this.duty.vehicle,
    //   }
    //   console.log(temp)
    //   this.http.post('/Voip/sendMail',temp).subscribe(data=>{
    //     console.log(data)
    //   })
    // }
    SendinfoComponent.prototype.chooseSuppliers = function (supplier, event) {
        console.log(this.selectedSuppliers);
        var index = this.selectedSuppliers.indexOf(supplier);
        console.log(index);
        if (event.checked) {
            // this.multipleSelected=true;
            this.selectedSuppliers.push(supplier);
            this.selectedSuppliers.forEach(function (element) {
                console.log(element);
            });
            console.log(this.selectedSuppliers, event);
        }
        else if (event.checked == false) {
            this.selectedSuppliers.splice(index, 1);
        }
    };
    SendinfoComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    SendinfoComponent.prototype.send = function () {
        this.dialog.closeAll();
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_5__senddutytosuppliers_senddutytosuppliers_component__["a" /* SenddutytosuppliersComponent */], { data: [this.selectedDuties, this.selectedSuppliers], autoFocus: false, disableClose: true });
    };
    SendinfoComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'sendinfo',
            template: __webpack_require__("./src/app/pages/duties/sendinfo/sendinfo.component.html"),
            styles: [__webpack_require__("./src/app/pages/duties/sendinfo/sendinfo.component.scss")]
        }),
        __param(6, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_2__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__circles_circle_service__["a" /* CircleService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_3__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_4__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_6__masters_addsuppliers_supplier_service__["a" /* SupplierService */], Object])
    ], SendinfoComponent);
    return SendinfoComponent;
}());



/***/ }),

/***/ "./src/app/pages/duties/viewdutyslip/viewdutyslip.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        <div class=\"row\">\n          <div class=\"col-lg-8 col-12\">\n            <b>Duty #{{duty.id}}</b>\n          </div>\n          <div class=\"col-lg-4 col-12\">\n            <mat-chip-list>\n              <mat-chip color=\"primary\" selected>{{duty.status}}</mat-chip>\n            </mat-chip-list>\n          </div>\n        </div>\n      </nb-card-header>\n      <nb-card-body>\n        <div #dutySlip id=\"dutySlip\">\n          <div class=\"row ptb-10\">\n            <div class=\"col-lg-6 col-12\">\n              <b>Customer: </b>{{duty.cname}}\n            </div>\n            <div class=\"col-lg-6 col-12\">\n              <b>Duty ID: </b>{{duty.id}}\n            </div>\n          </div>\n          <div class=\"row pb-10\">\n            <div class=\"col-lg-6 col-12\">\n              <b>Date: </b>{{duty.startDate}}\n            </div>\n            <div class=\"col-lg-6 col-12\">\n              <b>Vehicle Group: </b>{{duty.vehicleGroup}}\n            </div>\n          </div>\n          <div class=\"row pb-10\">\n            <div class=\"col-lg-6 col-12\">\n              <b>Booked By: </b>{{duty.bookBy}}\n            </div>\n            <div class=\"col-lg-6 col-12\">\n              <b>Vehicle: </b>{{duty.vehicle}}\n            </div>\n          </div>\n          <div class=\"row pb-10\">\n            <div class=\"col-lg-6 col-12\">\n              <b>Passenger: </b>{{duty.passenger}}\n            </div>\n            <div class=\"col-lg-6 col-12\">\n              <b>Driver: </b>{{duty.driver}}\n            </div>\n          </div>\n          <div class=\"row pb-10\">\n            <div class=\"col-lg-12 col-12\">\n              <b>Reporting Address: </b>{{duty.reportingAddress}}\n            </div>\n          </div>\n          <div class=\"row pb-10\">\n            <div class=\"col-lg-12 col-12\">\n              <b>Drop Address: </b>{{duty.dropAddress}}\n            </div>\n          </div>\n          <div class=\"row ptb-10\">\n            <div class=\"col-lg-12 col-12\">\n              <table class=\"table table-bordered\">\n                <tbody>\n                  <tr>\n                    <td></td>\n                    <td><b>Reporting</b></td>\n                    <td><b>Release</b></td>\n                    <td><b>Total</b></td>\n                    <td><b>Extra</b></td>\n                  </tr>\n                  <tr>\n                    <td><b>KM</b></td>\n                    <td>{{dutySummary.startKm}}</td>\n                    <td>{{dutySummary.endKm}}</td>\n                    <td>{{dutySummary.totalKm}}</td>\n                    <td>{{dutySummary.extraKm}}</td>\n                  </tr>\n                  <tr>\n                    <td><b>Time</b></td>\n                    <td>{{dutySummary.startTime | date: 'dd-MM-yyyy HH:mm a'}}</td>\n                    <td>{{dutySummary.endTime | date: 'dd-MM-yyyy HH:mm a'}}</td>\n                    <td>{{dutySummary.totalTime}}</td>\n                    <td>{{dutySummary.extraTime}}</td>\n                  </tr>\n                  <!-- <tr>\n                    <td><b>Speedo KM</b></td>\n                    <td>{{dutySummary.startKm}}</td>\n                    <td>{{dutySummary.endKm}}</td>\n                    <td>{{dutySummary.totalKm}}</td>\n                    <td>{{dutySummary.extraKm}}</td>\n                  </tr> -->\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <div class=\"row pb-10\" *ngIf=\"mapImgUrl != ''\">\n            <div class=\"col-lg-12 col-12\">\n              <img [src]=\"mapImgUrl\"  width=\"auto\" height=\"400px\">\n            </div>\n          </div>\n          <div class=\"row ptb-10\" *ngIf=\"additionalCharges.length > 0\">\n            <div class=\"col-lg-12 col-12\">\n              <b>Additional Charges: </b>\n              <br>\n              <br>\n              <table class=\"table table-bordered\">\n                <thead>\n                  <tr>\n                    <th>Charges</th>\n                    <th>Amount</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr *ngFor=\"let element of additionalCharges\">\n                    <td *ngIf=\"!element.url\">{{element.name}}</td>\n                    <td *ngIf=\"element.url\"> <a target=\"_blank\" href=\"{{element.url}}\"> {{element.name}} </a> </td>\n                    <td>{{element.charges}}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <div class=\"row ptb-10\" *ngIf=\"dutySlipImgUrl!=''\">\n            <div class=\"col-lg-12\">\n              <a href=\"{{dutySlipImgUrl}}\">Duty Slip</a>\n            </div>\n          </div>\n          <div class=\"row ptb-10\" *ngIf=\"signImgUrl!=''\">\n            <div class=\"col-lg-12 col-12\">\n              <b>Customer Signature: </b>\n            </div>\n            <br>\n            <img [src]=\"signImgUrl\" width=\"300px\" height=\"150px\">\n          </div>\n        </div>\n        <div class=\"row ptb-10\" *ngIf=\"routeInfoUrl != ''\">\n          <div class=\"col-lg-12\">\n            <a target=\"_blank\" href=\"{{routeInfoUrl}}\">Get Route Info</a>\n          </div>\n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-12 col-12\">\n    <button mat-raised-button color=\"primary\" (click)=\"print()\">Print Duty Slip</button>\n    <button *ngIf=\"duty.subStatus == 'Needs Approval'\" mat-raised-button color=\"primary\" (click)=\"approveDutySlip()\">Approve Duty Slip</button>\n    <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/pages/duties/viewdutyslip/viewdutyslip.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/duties/viewdutyslip/viewdutyslip.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ViewdutyslipComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__duties_service__ = __webpack_require__("./src/app/pages/duties/duties.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__modals_confirm_confirm_component__ = __webpack_require__("./src/app/pages/modals/confirm/confirm.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};








var ViewdutyslipComponent = (function () {
    function ViewdutyslipComponent(auth, data, dialog, dutiesService, uploadService, _sanitizer, snackBar) {
        this.auth = auth;
        this.data = data;
        this.dialog = dialog;
        this.dutiesService = dutiesService;
        this.uploadService = uploadService;
        this._sanitizer = _sanitizer;
        this.snackBar = snackBar;
        this.duty = {};
        this.additionalCharges = [];
        this.dutySummary = {};
        this.user = {};
        this.mapImgUrl = "";
        this.signImgUrl = "";
        this.dutySlipImgUrl = '';
        this.routeInfoUrl = '';
        console.log(data);
        this.duty = data;
    }
    ViewdutyslipComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.uploadService.getFile(_this.user.companyName, "closeDutyPics/Pictures/" + _this.duty.id, "mapRoute.jpg").subscribe(function (data) {
                _this.mapImgUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' + data.text().toString());
                console.log(_this.mapImgUrl);
            });
            // this.uploadService.getPresignedUrl(this.user.companyName,this.driver.panFileName,'driverList').subscribe(data => {
            //   this.imgPan = data._body;
            // })
            _this.uploadService.getFile(_this.user.companyName, "closeDutyPics/Pictures/" + _this.duty.id, "signature.jpg").subscribe(function (data) {
                _this.signImgUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' + data.text().toString());
            });
            // this.uploadService.getPresignedUrl(this.user.companyName,this.driver.panFileName,'driverList').subscribe(data => {
            //   this.imgPan = data._body;
            // })
        });
        this.dutiesService.getEndedCloseDutyAdditionalCharges(this.duty).subscribe(function (data) {
            _this.additionalCharges = data;
            console.log(_this.additionalCharges);
            _this.additionalCharges.forEach(function (element) {
                console.log(element);
                if (element.fileName != 'undefined' && element.fileName != null) {
                    _this.uploadService.getPresignedUrl(_this.user.companyName, element.fileName, 'closeDutyPics/Pictures/' + _this.data.id).subscribe(function (data) {
                        element.url = data._body;
                    });
                }
            });
        });
        this.dutiesService.getDutySlipSummary(this.duty).subscribe(function (data) {
            console.log(data);
            _this.dutySummary = data[0];
            _this.uploadService.getPresignedUrl(_this.user.companyName, _this.dutySummary.dutySlipFileName, 'dutySlip').subscribe(function (data) {
                _this.dutySlipImgUrl = data._body;
            });
            var startTime = __WEBPACK_IMPORTED_MODULE_3_moment__(__WEBPACK_IMPORTED_MODULE_3_moment__(_this.dutySummary.startDate).format("YYYY-MM-DD") + " " + _this.dutySummary.startTime, "YYYY-MM-DD HH:mm a");
            var endTime = __WEBPACK_IMPORTED_MODULE_3_moment__(__WEBPACK_IMPORTED_MODULE_3_moment__(_this.dutySummary.endDate).format("YYYY-MM-DD") + " " + _this.dutySummary.endTime, "YYYY-MM-DD HH:mm a");
            _this.dutySummary.endTime = __WEBPACK_IMPORTED_MODULE_3_moment__(_this.dutySummary.endTime, "HH:mm a");
            ;
            _this.dutySummary.startTime = __WEBPACK_IMPORTED_MODULE_3_moment__(_this.dutySummary.startTime, "HH:mm a");
            var totalHrs = endTime.diff(startTime, 'hours');
            var totalMins = endTime.diff(startTime, 'minutes');
            var clearMins = totalMins % 60;
            _this.dutySummary.totalTime = totalHrs + "hrs " + clearMins + "mins";
            _this.dutySummary.totalKm = _this.dutySummary.endKm - _this.dutySummary.startKm;
            if (_this.dutySummary.maxHrs == '' || totalHrs < _this.dutySummary.maxHrs) {
                _this.dutySummary.extraTime = 0;
            }
            else {
                _this.dutySummary.extraTime = (totalHrs - _this.dutySummary.maxHrs) + "hrs " + clearMins + "mins";
            }
            if (_this.dutySummary.maxKms == '') {
                _this.dutySummary.extraKm = 0;
            }
            else {
                _this.dutySummary.extraKm = Number(_this.dutySummary.totalKm) - Number(_this.dutySummary.maxKms);
            }
            console.log(_this.dutySummary.totalTime);
            console.log(_this.dutySummary);
        });
        this.getRouteInfo();
    };
    ViewdutyslipComponent.prototype.approveDutySlip = function () {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_7__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.dutiesService.completeDuty(_this.duty).subscribe(function (data) { }, function (err) { }, function () {
                    _this.snackBar.open("Close Duty Approved", "X", { duration: 3000 });
                    _this.dialog.closeAll();
                });
            }
        });
    };
    ViewdutyslipComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    ViewdutyslipComponent.prototype.print = function () {
        // let data = document.getElementById('demo').innerHTML;  
        var data = this.dutySlip.nativeElement.innerHTML;
        var newWindow = window.open('', '_blank', 'top=0,left=0,height=100%,width=auto');
        newWindow.document.open();
        newWindow.document.write("\n    <html>\n      <head>        \n        <style media=\"print\">    \n         .row {\n            display: -webkit-box;\n            display: -ms-flexbox;\n            display: flex;\n            -ms-flex-wrap: wrap;\n            flex-wrap: wrap;\n            margin-right: -15px;\n            margin-left: -15px;\n          }  \n          body {\n            font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n            font-size: 1rem;\n            font-weight: 400;\n            line-height: 1.5;\n            color: #212529;\n            text-align: left;\n          }\n          .col-lg-12 {\n            -webkit-box-flex: 0;\n            -ms-flex: 0 0 100%;\n            flex: 0 0 100%;\n            max-width: 100%;\n          }\n          .col-lg-8 {\n            -webkit-box-flex: 0;\n            -ms-flex: 0 0 66.66666667%;\n            flex: 0 0 66.66666667%;\n            max-width: 66.66666667%;\n          }\n          .col-lg-4 {\n            -webkit-box-flex: 0;\n            -ms-flex: 0 0 33.33333333%;\n            flex: 0 0 33.33333333%;\n            max-width: 33.33333333%;\n          }\n          .ptb-10 {\n            padding: 10px 0px 10px 0px;\n          }\n          .col-lg-6 {\n            -webkit-box-flex: 0;\n            -ms-flex: 0 0 50%;\n            flex: 0 0 50%;\n            max-width: 50%;\n          }\n          .table {\n            width: 100%;\n            max-width: 100%;\n            margin-bottom: 1rem;\n            background-color: transparent;\n            border-collapse: collapse;\n          }\n          }\n          .table-bordered {\n            border: 1px solid #e9ecef;\n          }\n          @page {\n            size:  8.27in 11.69in !important;   /* auto is the initial value */\n            margin: 5mm 0mm 5mm 0mm !important;  /* this affects the margin in the printer settings */\n          }\n          @media print {\n            @page {\n              size:  8.27in 11.69in !important;   /* auto is the initial value */\n              margin: 5mm 0mm 5mm 0mm !important;  /* this affects the margin in the printer settings */\n            }\n            html {\n              margin: 0px !important;  /* this affects the margin on the html before sending to printer */\n            }\n            body {\n              margin: 0mm 5mm 0mm 5mm !important; /* margin you want for the content */\n            }\n          }\n        </style>\n      </head>\n      <body onload=\"window.print();window.close()\">" + data + "</body>\n\n    </html>");
        newWindow.document.close();
    };
    ViewdutyslipComponent.prototype.getRouteInfo = function () {
        var _this = this;
        this.uploadService.getPresignedUrl(this.user.companyName, 'route_info.csv', 'closeDutyPics/RouteCSV/' + this.duty.id).subscribe(function (data) {
            if (data.length > 0) {
                _this.routeInfoUrl = data._body;
            }
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('dutySlip'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], ViewdutyslipComponent.prototype, "dutySlip", void 0);
    ViewdutyslipComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'viewdutyslip',
            template: __webpack_require__("./src/app/pages/duties/viewdutyslip/viewdutyslip.component.html"),
            styles: [__webpack_require__("./src/app/pages/duties/viewdutyslip/viewdutyslip.component.scss")]
        }),
        __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__core_auth_service__["a" /* AuthService */], Object, __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_2__duties_service__["a" /* DutiesService */],
            __WEBPACK_IMPORTED_MODULE_4__fileupload_service__["a" /* FileuploadService */],
            __WEBPACK_IMPORTED_MODULE_6__angular_platform_browser__["DomSanitizer"],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["I" /* MatSnackBar */]])
    ], ViewdutyslipComponent);
    return ViewdutyslipComponent;
}());



/***/ }),

/***/ "./src/app/pages/join/join.component.html":
/***/ (function(module, exports) {

module.exports = "\n<style>\n  mat-card {\n  max-width: 400px;\n  margin-right: auto;\n  margin-left: auto;\n  text-align: center;\n  border-radius: 8px;\n  box-shadow: 0 3px 24px -1px rgba(0,0,0,.2), 0 3px 2px 0 rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12) !important;\n}\n.signin-content {\n  padding: 0px 1rem;\n}\n.full-width-input {\n  width: 100%;\n}\n\n.mat-form-field{\n  margin-top: 20px;\n}\n</style>\n<div class=\"signin-content\" id=\"test\">\n  <mat-card>\n    <mat-card-content>\n      <form #formData='ngForm' (ngSubmit)=\"onSubmit(formData)\">\n        <div style=\"margin:20px\">\n          <img alt=\"\" src=\"../../../assets/icons/iconfinder_user_925901.svg\" style=\"width:20%\">\n        </div>\n        <h5>CREATE ACCOUNT</h5>\n        <mat-form-field class=\"full-width-input\">\n          <input type=\"text\" matInput placeholder=\"Name\" [(ngModel)]=\"name\" name=\"name\" required>\n        </mat-form-field>\n        <mat-form-field class=\"full-width-input\">\n          <input type=\"email\" matInput placeholder=\"Email address\" [(ngModel)]=\"email\"  name=\"email\" required>\n        </mat-form-field>\n        <mat-form-field class=\"full-width-input\">\n          <input type=\"text\" matInput placeholder=\"Phone\" [(ngModel)]=\"phone\"  name=\"phone\" required>\n        </mat-form-field>\n        <mat-form-field class=\"full-width-input\">\n          <input matInput type=\"password\" placeholder=\"Password\" [(ngModel)]=\"password\" name=\"password\" required>\n        </mat-form-field>\n        <mat-form-field class=\"full-width-input\">\n          <input matInput type=\"password\" placeholder=\"Confirm password\" [(ngModel)]=\"confirmPassword\" name=\"confirmPassword\" required>\n        </mat-form-field>\n        <button style=\"margin-top:50px; width:200px;\" type=\"submit\" [disabled]=\"!formData.valid\" mat-raised-button color=\"primary\">Create Account</button>\n        <mat-progress-bar [hidden]=\"!loader\" style=\"max-width:200px; margin:auto; margin-bottom: 20px\"\n            color=\"primary\"\n            mode=\"indeterminate\">\n        </mat-progress-bar>\n      </form>\n    </mat-card-content>\n  </mat-card>\n</div>"

/***/ }),

/***/ "./src/app/pages/join/join.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/join/join.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return JoinComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__circles_businesssetting_businesssetting_service__ = __webpack_require__("./src/app/pages/circles/businesssetting/businesssetting.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__masters_sub_users_sub_user_service__ = __webpack_require__("./src/app/pages/masters/sub-users/sub-user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__wallet_wallet_service__ = __webpack_require__("./src/app/pages/wallet/wallet.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var JoinComponent = (function () {
    function JoinComponent(router, auth, businessSettingsService, permissionService, http, walletService) {
        this.router = router;
        this.auth = auth;
        this.businessSettingsService = businessSettingsService;
        this.permissionService = permissionService;
        this.http = http;
        this.walletService = walletService;
        this.isError = false;
        this.loader = false;
        this.businessSettings = {
            ownerID: '',
            AllowBookingsToBeAddedWithoutAnyPricing: false,
            AutoSendAllotmentNotificationToDriverApp: false,
            UseBookingsIDInSMS: false,
            DefaultStartFromGarage: '',
            RoundOffDutySlipTimeToNearestHour: false,
            ShowGarageStartTimeInsteadOfReportingTime: false,
            ShowFromCity: false,
            ShowDropAddress: false,
            ShowRemarks: false,
            ShowVehicleGroup: false,
            ShowLabels: false,
            AddCustomerName: false,
            AddBookedByName: false,
            AddAllPassengerNamesAndNumbers: false,
            HideVehicleName: false,
            HideRemarks: false,
            AddGarageStartTime: false,
            AddReleasedKmTimeSection: false,
            AddEntireBookingDateRange: false,
            AddPrintedByInformationToFooter: false,
            AlwaysUseFullPageDesign: false,
            HideBusinessLetterHead: false,
            HideCustomerNameForDriverSupplierInMobileApp: false,
            invoiceDatesAndNumbering: 'Automatic',
            RoundOffExtraTimeOfEveryDutyWhileDisplayingOnInvoice: false,
            ShowPerKilometerRateOnInvoiceForDayKMDuties: false,
            HideVehicleNumberFromInvoice: false,
            ShowDutySummaryAtTheTopOfTheInvoiceAlways: false,
            ShowDutyId: false,
            ShowDutyType: false,
            ShowBookedByName: false,
            ShowPassengerNames: false,
            ShowVehicleGroupName: false,
            ShowVehicleNumber: false,
            ShowStartDate: false,
            ShowEndDate: false,
            ShowStartTime: false,
            ShowEndTime: false,
            ShowExtraHour: false,
            ShowTotalHour: false,
            ShowStartKM: false,
            ShowEndKM: false,
            ShowExtraKM: false,
            ShowTotalKM: false,
            ShowExtraHourRate: false,
            ShowExtraKMRate: false,
            ShowExtraHourCost: false,
            ShowExtraKMCost: false,
            ShowConsolidatedBillingItems: false,
            ShowSeparatedBillingItems: false,
            ShowAllowances: false,
            ShowPrice: false,
            ShowQuantityNumberOfDays: false,
            ShowTotalPrice: false,
            ShowCarHireCharges: false,
            ShowDutySubtotal: false,
            ShowDutySubtotalIncludingAllowances: false,
            ShowPurchaseDutyID: false,
            ShowPurchaseDutyType: false,
            ShowPurchaseBookedByName: false,
            ShowPurchasePassengerNames: false,
            ShowPurchaseVehicleGroupName: false,
            ShowPurchaseVehicleNumber: false,
            ShowPurchaseStartDate: false,
            ShowPurchaseEndDate: false,
            ShowPurchaseStartTime: false,
            ShowPurchaseEndTime: false,
            ShowPurchaseExtraHour: false,
            ShowPurchaseTotalHours: false,
            ShowPurchaseStartKM: false,
            ShowPurchaseEndKM: false,
            ShowPurchaseExtraKM: false,
            ShowPurchaseTotalKm: false,
            ShowPurchaseExtraHourRate: false,
            ShowPurchaseExtraKMRate: false,
            ShowPurchaseExtraHourCost: false,
            ShowPurchaseExtraKMCost: false,
            ShowPurchaseConsolidatedBillingItems: false,
            ShowPurchaseSeparatedBillingItems: false,
            ShowPurchaseAllowances: false,
            ShowPurchasePrice: false,
            ShowPurchaseDutySubtotal: false,
            ShowCustomerCarHireCharges: false,
            ShowCustomerCarHireChargesIncludingAllowances: false,
            ShowCustomerDutySubtotal: false,
            ShowCustomerDutySubtotalIncludingAllowances: false,
            defaultCustomer: '',
            dispatchCenter: '',
            AutoCCEmail: '',
            CCAllConfirmationAndCancellationEmails: false,
            CCAllAllotmentEmails: false,
            CCAllInvoiceEmails: false,
            SMSMask: '',
            AutoAcceptIncomingDutySlip: false,
            bookingConfirmationHeader: '',
            bookingConfirmationFooter: '',
            dutyAllotmentToCustomerHeader: '',
            dutyAllotmentToCustomerFooter: '',
            dutyAllotmentToSupplierHeader: '',
            dutyAllotmentToSupplierFooter: '',
            dutyBookingCancellationHeader: '',
            dutyBookingCancellationFooter: '',
            invoiceToCustomerHeader: '',
            invoiceToCustomerFooter: '',
            paymentRequestHeader: '',
            paymentRequestFooter: '',
            SMSEnabled: false,
            EmailEnabled: false,
            trackingProvider: '',
            trackingUsername: '',
            trackingPassword: '',
        };
        this.permissions = {
            editCompanyInfo: 1,
            ownerId: '',
            editDuties: 1,
            allotVehiclesDriver: 1,
            closeDuty: 1,
            dispatchDuty: 1,
            cancelDuty: 1,
            sendInfoDuty: 1,
            viewDutySlip: 1,
            generateDutySlip: 1,
            exportDuty: 1,
            manageBooking: 1,
            viewBookings: 1,
            exportBookings: 1,
            addBookings: 1,
            manageCabInvoices: 1,
            viewCabInvoices: 1,
            addCabInvoices: 1,
            downloadCabInvoices: 1,
            emailCabInvoices: 1,
            cancelCabInvoices: 1,
            exportCabInvoices: 1,
            manageHotelInvoices: 1,
            viewHotelInvoices: 1,
            addHotelInvoices: 1,
            downloadHotelInvoices: 1,
            emailHotelInvoices: 1,
            cancelHotelInvoices: 1,
            exportHotelInvoices: 1,
            manageFlightInvoices: 1,
            viewFlightInvoices: 1,
            addFlightInvoices: 1,
            downloadFlightInvoices: 1,
            emailFlightInvoices: 1,
            cancelFlightInvoices: 1,
            exportFlightInvoices: 1,
            manageVisaInvoices: 1,
            viewVisaInvoices: 1,
            addVisaInvoices: 1,
            downloadVisaInvoices: 1,
            emailVisaInvoices: 1,
            cancelVisaInvoices: 1,
            exportVisaInvoices: 1,
            viewInvoices: 1,
            viewReceipts: 1,
            manageCabReceipts: 1,
            viewCabReceipts: 1,
            requestCabReceipts: 1,
            cancelCabReceipts: 1,
            exportCabReceipts: 1,
            manageFlightReceipts: 1,
            viewFlightReceipts: 1,
            requestFlightReceipts: 1,
            cancelFlightReceipts: 1,
            exportFlightReceipts: 1,
            addCabReceipts: 1,
            addFlightReceipts: 1,
            addHotelReceipts: 1,
            addVisaReceipts: 1,
            manageHotelReceipts: 1,
            viewHotelReceipts: 1,
            requestHotelReceipts: 1,
            cancelHotelReceipts: 1,
            exportHotelReceipts: 1,
            manageVisaReceipts: 1,
            viewVisaReceipts: 1,
            requestVisaReceipts: 1,
            cancelVisaReceipts: 1,
            exportVisaReceipts: 1,
            managePurchasesInvoices: 1,
            viewPurchasesInvoices: 1,
            addPurchasesInvoices: 1,
            cancelPurchases: 1,
            exportPurchases: 1,
            managePurchasesDuties: 1,
            addPurchasesDuties: 1,
            viewPurchasesDuties: 1,
            generatePurchaseDuties: 1,
            requestDutySlip: 1,
            requestInvoice: 1,
            managePurchasePayments: 1,
            viewPurchasesPayments: 1,
            addPurchasesPayments: 1,
            cancelPurchasesPayments: 1,
            managePettyCash: 1,
            addPettyCash: 1,
            viewPettyCash: 1,
            manageVehicleFuel: 1,
            addVehicleFuel: 1,
            viewVehicleFuel: 1,
            manageDrivers: 1,
            addDrivers: 1,
            viewDriver: 1,
            manageDriverInfo: 1,
            manageDriverUsers: 1,
            manageSupporters: 1,
            viewDutySupporters: 1,
            viewBasicDutySupporters: 1,
            addVehicles: 1,
            manageVehicles: 1,
            viewVehicles: 1,
            viewBasicVehicles: 1,
            addVehicleGroup: 1,
            manageVehicleGroup: 1,
            viewVehicleGroup: 1,
            addCustomerGroup: 1,
            manageCustomerGroup: 1,
            viewCustomerGroup: 1,
            manageCustomer: 1,
            addCustomer: 1,
            viewCustomer: 1,
            managePricing: 1,
            viewPricing: 1,
            manageSupplierGroup: 1,
            viewSupplierGroup: 1,
            addSupplierGroup: 1,
            manageSuppliers: 1,
            viewSuppliers: 1,
            addSupplier: 1,
            manageDutyType: 1,
            addDutyType: 1,
            viewDutyType: 1,
            manageTaxes: 1,
            viewTaxes: 1,
            addTaxes: 1,
            manageBranches: 1,
            viewBranches: 1,
            addBranches: 1,
            manageBillingItems: 1,
            viewBillingItems: 1,
            addBillingItems: 1,
            manageBankAccounts: 1,
            viewBankAccounts: 1,
            addBankAccounts: 1,
            manageSisterCompanies: 1,
            viewSisterCompanies: 1,
            viewLabels: 1,
            addLabels: 1,
            manageLabels: 1,
            manageExportProfiles: 1,
            viewExportProfiles: 1,
            manageEmployees: 1,
            addEmployees: 1,
            viewEmployees: 1,
            userId: '',
            manageFlights: 1,
            viewFlights: 1,
            addFlights: 1,
            manageVisa: 1,
            viewVisa: 1,
            addVisa: 1,
            manageHotels: 1,
            viewHotels: 1,
            addHotels: 1,
            manageHotelsBookings: 1,
            viewHotelsBookings: 1,
            addHotelsBookings: 1,
            addRecurringBookedBy: 1,
            viewRecurringBookedBy: 1,
            manageRecurringBookedBy: 1,
            addRecurringPassenger: 1,
            viewRecurringPassenger: 1,
            manageRecurringPassenger: 1,
            addVehicleBreakDowns: 1,
            viewVehicleBreakDowns: 1,
            manageVehicleBreakDowns: 1,
            addVehicleMaintenance: 1,
            viewVehicleMaintenance: 1,
            manageVehicleMaintenance: 1,
            viewTracking: 1,
            viewIncomingDutyRequests: 1,
            acceptDeclineDutyRequests: 1,
            viewIncomingCircleRequests: 1,
            acceptDeclineCircleRequests: 1,
            viewCircle: 1,
            addToCircle: 1,
            manageCircle: 1,
            addUsers: 1,
            viewUsers: 1,
            manageUsers: 1,
            addOfficeExpenses: 1,
            manageOfficeExpenses: 1,
            viewOfficeExpenses: 1,
            viewSms: 1,
            viewBusinessSetting: 1,
            editBusinessSetting: 1,
            smsEmailCallBookings: 1,
            smsEmailCallDuties: 1,
            smsEmailCallFlights: 1,
            smsEmailCallVisa: 1,
            smsEmailCallHotels: 1
        };
        this.companyProfile = {
            name: '',
            phone: '',
            email: '',
            ownerId: '',
        };
    }
    JoinComponent.prototype.ngOnInit = function () {
        if (localStorage.getItem("rtcuieo") && this.auth.isAuthenticated()) {
            this.router.navigate(['/pages']);
        }
    };
    JoinComponent.prototype.onSubmit = function (formData) {
        var _this = this;
        this.loader = true;
        this.auth.registerOwner(formData).then(function (data) {
            _this.businessSettings.ownerID = data.user.uid;
            _this.permissions.ownerId = data.user.uid;
            _this.permissions.userId = data.user.uid;
            var ownerData = {
                id: data.user.uid,
                name: _this.name,
                email: _this.email,
                phone: _this.phone,
                type: 'owner',
                ownerId: data.user.uid,
                userName: _this.email.substring(0, _this.email.lastIndexOf("@")),
                active: 1
            };
            _this.auth.createOwner(ownerData).subscribe();
            _this.businessSettingsService.addBusinessSettings(_this.businessSettings).subscribe();
            _this.permissionService.addSubUser(_this.permissions);
            _this.companyProfile = {
                name: _this.name,
                email: _this.email,
                phone: _this.phone,
                ownerId: data.user.uid
            };
            _this.http.post('/companyProfile/addNew', _this.companyProfile).map(function (res) { return res.json(); }).subscribe();
            _this.walletService.addNewWallet(_this.companyProfile).subscribe();
        });
    };
    JoinComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'join',
            template: __webpack_require__("./src/app/pages/join/join.component.html"),
            styles: [__webpack_require__("./src/app/pages/join/join.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */], __WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__circles_businesssetting_businesssetting_service__["a" /* BusinesssettingService */],
            __WEBPACK_IMPORTED_MODULE_4__masters_sub_users_sub_user_service__["a" /* SubUserService */], __WEBPACK_IMPORTED_MODULE_5__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_6__wallet_wallet_service__["a" /* WalletService */]])
    ], JoinComponent);
    return JoinComponent;
}());



/***/ }),

/***/ "./src/app/pages/login/login.component.html":
/***/ (function(module, exports) {

module.exports = "\n<style>\n  mat-card {\n  max-width: 400px;\n  margin-right: auto;\n  margin-left: auto;\n  text-align: center;\n  border-radius: 8px;\n  box-shadow: 0 3px 24px -1px rgba(0,0,0,.2), 0 3px 2px 0 rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12) !important;\n}\n.signin-content {\n  padding: 60px 1rem;\n}\n.full-width-input {\n  width: 100%;\n}\n\n.mat-form-field{\n  margin-top: 20px;\n}\n</style>\n<div class=\"signin-content\" id=\"test\">\n  <mat-card>\n    <mat-card-content>\n      <form #formData='ngForm' (ngSubmit)=\"onSubmit(formData)\">\n        <div style=\"margin:20px\">\n          <img alt=\"\" src=\"../../../assets/icons/iconfinder_user_925901.svg\" style=\"width:20%\">\n        </div>\n        <h5>LOG IN</h5>\n        <p *ngIf=\"isError\" [@fadeInOut] style=\"color:red;\">{{error}}</p>\n        <mat-form-field class=\"full-width-input\">\n          <input type=\"email\" matInput placeholder=\"Email address\" [(ngModel)]=\"email\" (keyup)=\"isError=false\"  name=\"email\" required>\n        </mat-form-field>\n        <mat-form-field class=\"full-width-input\" *ngIf=\"!passwordReset\" [@fadeInOut]>\n          <input matInput type=\"password\" placeholder=\"Password\" [(ngModel)]=\"password\" (keyup)=\"isError=false\" name=\"password\" required>\n        </mat-form-field>\n        <div *ngIf=\"!passwordReset\" [@fadeInOut]> \n          <a style=\"margin-top: 10px;color:darkblue;\" (click)=\"resetPassword()\">Forgot Password?</a>\n        </div>\n        <div *ngIf=\"emailSent\"> \n          Password reset E-mail has been sent.<br><a style=\"margin-top: 10px;color:darkblue;\" (click)=\"sendEmail()\">Click here</a> to send again.\n        </div>\n        <button style=\"margin-top:50px; width:200px;\" *ngIf=\"!passwordReset\" type=\"submit\" [disabled]=\"!formData.valid\" mat-raised-button color=\"primary\">Login</button>\n        <mat-progress-bar [hidden]=\"!loader\" style=\"max-width:200px; margin:auto; margin-bottom: 20px\"\n            color=\"primary\"\n            mode=\"indeterminate\">\n        </mat-progress-bar>\n      </form>\n      <button [@fadeInOut] style=\"margin-top:50px; width:200px;\" *ngIf=\"passwordReset==true && emailSent==false\" mat-raised-button color=\"primary\" (click)=\"sendEmail()\">Reset my password</button>\n      <br><button [@fadeInOut] style=\"margin-top:20px;\" *ngIf=\"passwordReset==true\" mat-icon-button (click)=\"gotoLogin()\"><mat-icon>arrow_back</mat-icon></button>\n    </mat-card-content>\n  </mat-card>\n</div>"

/***/ }),

/***/ "./src/app/pages/login/login.component.scss":
/***/ (function(module, exports) {

module.exports = ".mat-icon {\n  font-size: 25px !important; }\n"

/***/ }),

/***/ "./src/app/pages/login/login.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LoginComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_animations__ = __webpack_require__("./node_modules/@angular/animations/esm5/animations.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var LoginComponent = (function () {
    function LoginComponent(router, auth) {
        this.router = router;
        this.auth = auth;
        this.isError = false;
        this.loader = false;
        this.passwordReset = false;
        this.emailSent = false;
        this.error = '';
    }
    LoginComponent.prototype.ngOnInit = function () {
        if (localStorage.getItem("rtcuieo") && this.auth.isAuthenticated()) {
            this.router.navigate(['/pages']);
        }
    };
    LoginComponent.prototype.onSubmit = function (formData) {
        var _this = this;
        this.loader = true;
        if (!this.email.match(/\b([a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+\.[a-zA-Z]{2,}$)\b/)) {
            this.isError = true;
            this.error = 'Enter a valid email address';
            this.loader = false;
        }
        else {
            this.auth.Login(formData).then(function (data) {
                data;
                if (data == false) {
                    _this.loader = false;
                    _this.isError = true;
                    _this.error = 'Incorrect username or password';
                }
            });
        }
    };
    LoginComponent.prototype.resetPassword = function () {
        this.passwordReset = true;
        this.isError = true;
        this.error = 'A password reset link will be sent to your E-mail ID';
    };
    LoginComponent.prototype.sendEmail = function () {
        var _this = this;
        if (!this.email) {
            this.isError = true;
            this.error = 'Enter a valid email address';
        }
        else if (!this.email.match(/\b([a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+\.[a-zA-Z]{2,}$)\b/)) {
            this.isError = true;
            this.error = 'Enter a valid email address';
            this.loader = false;
        }
        else {
            this.auth.changePassword(this.email).then(function () {
                _this.emailSent = true;
                _this.isError = false;
                _this.error = '';
            }).catch(function () {
                _this.isError = false;
                _this.error = 'There seems to be an error. Please try again';
            });
        }
    };
    LoginComponent.prototype.gotoLogin = function () {
        this.passwordReset = false;
        this.emailSent = false;
        this.isError = false;
        this.error = '';
    };
    LoginComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-login',
            template: __webpack_require__("./src/app/pages/login/login.component.html"),
            styles: [__webpack_require__("./src/app/pages/login/login.component.scss")],
            animations: [
                Object(__WEBPACK_IMPORTED_MODULE_3__angular_animations__["n" /* trigger */])('fadeInOut', [
                    Object(__WEBPACK_IMPORTED_MODULE_3__angular_animations__["m" /* transition */])(':enter', [
                        Object(__WEBPACK_IMPORTED_MODULE_3__angular_animations__["l" /* style */])({ opacity: 0 }),
                        Object(__WEBPACK_IMPORTED_MODULE_3__angular_animations__["e" /* animate */])(300, Object(__WEBPACK_IMPORTED_MODULE_3__angular_animations__["l" /* style */])({ opacity: 1 }))
                    ])
                ])
            ]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */], __WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */]])
    ], LoginComponent);
    return LoginComponent;
}());



/***/ }),

/***/ "./src/app/pages/logout/logout.component.html":
/***/ (function(module, exports) {

module.exports = "<p>\n  logout works!\n</p>\n"

/***/ }),

/***/ "./src/app/pages/logout/logout.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/logout/logout.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LogoutComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var LogoutComponent = (function () {
    function LogoutComponent(auth) {
        this.auth = auth;
    }
    LogoutComponent.prototype.ngOnInit = function () {
        this.auth.signOut();
    };
    LogoutComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-logout',
            template: __webpack_require__("./src/app/pages/logout/logout.component.html"),
            styles: [__webpack_require__("./src/app/pages/logout/logout.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__core_auth_service__["a" /* AuthService */]])
    ], LogoutComponent);
    return LogoutComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/addcustomer/addcustomer.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\r\n    <div class=\"col-lg-12\">\r\n        <nb-card>\r\n            <nb-card-header>\r\n                Customer\r\n            </nb-card-header>\r\n            <nb-card-body class=\"hide-overflow\">                \r\n                <div class=\"row\">\r\n                    <div class=\"col-lg-3 col-12\">\r\n                        <mat-form-field class=\"bottom-align\">\r\n                            Name\r\n                            <input matInput [(ngModel)]=\"customer.name\" name=\"name\"#custName required minlength=\"4\">\r\n                        </mat-form-field>\r\n                    </div>\r\n                    <div class=\"col-lg-3 col-12\">\r\n                        <mat-form-field>\r\n                            Email\r\n                            <input matInput [(ngModel)]=\"customer.email\" name=\"email\" #custEmail>\r\n                        </mat-form-field>                        \r\n                    </div>\r\n                    <div class=\"col-lg-3 col-12\">\r\n                        <mat-form-field>\r\n                            Phone Number\r\n                            <input matInput [(ngModel)]=\"customer.phone\" name=\"cid\"#custPhone>\r\n                        </mat-form-field>                        \r\n                    </div>\r\n                    <div class=\"col-lg-3 col-12\">\r\n                        <mat-form-field>\r\n                            Alternate Phone Number\r\n                            <input matInput [(ngModel)]=\"customer.alternatePhone\" name=\"cid\"#custPhone>\r\n                        </mat-form-field>\r\n                    </div>                      \r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-lg-6 col-12\" style=\"height: 100%\">\r\n                        <mat-form-field class=\"w-100\">\r\n                            Address\r\n                            <textarea rows=\"4\" matInput [(ngModel)]=\"customer.caddress\" name=\"caddress\"#custAddress></textarea>\r\n                        </mat-form-field>\r\n                    </div>\r\n                    <div class=\"col-lg-3 col-12\">\r\n                        <mat-form-field class=\"bottom-align\">\r\n                            State\r\n                            <input type=\"text\" matInput [formControl]=\"custStateCtrl\" [matAutocomplete]=\"custState\">\r\n                            <mat-autocomplete #custState=\"matAutocomplete\">\r\n                                <mat-option *ngFor=\"let option of custStateOptions | async\" [value]=\"option\" (onSelectionChange)=\"custStateSelect(option,$event)\">\r\n                                    {{ option }}\r\n                                </mat-option>\r\n                            </mat-autocomplete>\r\n                        </mat-form-field>\r\n                    </div>\r\n                    <div class=\"col-lg-3 col-12\">\r\n                        <mat-form-field class=\"bottom-align\">\r\n                            Customer Group\r\n                            <mat-select [(ngModel)]=\"customer.custGroup\" placeholder=\"\">\r\n                                <mat-option *ngFor=\"let element of customerGroups\" [value]=\"element.name\" (onSelectionChange)=\"setCustGroupId(element,$event)\">\r\n                                    {{element.name}}\r\n                                </mat-option>\r\n                            </mat-select>\r\n                        </mat-form-field>\r\n                    </div>\r\n                    \r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-lg-6 col-12\" style=\"height: 100%\">\r\n                        <mat-form-field class=\"w-100\">\r\n                            Billing Address\r\n                            <textarea rows=\"4\" matInput [(ngModel)]=\"customer.billingAddress\" name=\"billingAddress\"  #gstBillAddress></textarea>\r\n                        </mat-form-field>\r\n                    </div>\r\n                    <div class=\"col-lg-3 col-12\">\r\n                        <mat-form-field class=\"bottom-align\">\r\n                            Billing State\r\n                            <input type=\"text\" aria-label=\"Number\" matInput [formControl]=\"billingStateCtrl\" [matAutocomplete]=\"billingState\">\r\n                            <mat-autocomplete #billingState=\"matAutocomplete\">\r\n                                <mat-option *ngFor=\"let option of billingStateOptions | async\" [value]=\"option\" (onSelectionChange)=\"billingStateSelect(option,$event)\">\r\n                                    {{ option }}\r\n                                </mat-option>\r\n                            </mat-autocomplete>\r\n                        </mat-form-field>\r\n                    </div>\r\n                    <div class=\"col-lg-3 col-12\">\r\n                        <mat-form-field class=\"bottom-align\">\r\n                            Pan Number\r\n                            <input matInput [(ngModel)]=\"customer.panNo\" name=\"panNo\"  #custPAN>\r\n                        </mat-form-field>\r\n                    </div>                    \r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-lg-3 col-12\">\r\n                        <mat-form-field>\r\n                            <br>\r\n                            <mat-label>GST Type</mat-label>\r\n                            <mat-select [value]=\"customer.billingGSTType\">\r\n                                <mat-option value=\"Registered\">Registered</mat-option>\r\n                                <mat-option value=\"Un-Registered\">Un-Registered</mat-option>\r\n                            </mat-select>   \r\n                        </mat-form-field>                                \r\n                    </div>\r\n                    <div class=\"col-lg-3 col-12\">\r\n                        <mat-form-field>\r\n                            GSTIN Number\r\n                            <input matInput [(ngModel)]=\"customer.gstin\" name=\"gstin\"  #custGST>\r\n                        </mat-form-field>\r\n                    </div>   \r\n                    <div class=\"col-lg-3 col-12\">\r\n                        <mat-form-field>\r\n                            Contract Start Date\r\n                            <input [matDatepicker]=\"contractSDate\" (click)=\"contractSDate.open()\" readonly matInput [(ngModel)]=\"customer.contractSDate\" name=\"date\">\r\n                            <mat-datepicker-toggle matSuffix [for]=\"contractSDate\"></mat-datepicker-toggle>\r\n                            <mat-datepicker #contractSDate></mat-datepicker>\r\n                        </mat-form-field>\r\n                    </div>\r\n                    <div class=\"col-lg-3 col-12\">\r\n                        <mat-form-field>\r\n                            Contract End Date\r\n                            <input matInput [(ngModel)]=\"customer.billingContractEndDate\"  (click)=\"contractEndDate.open()\" readonly [matDatepicker]=\"contractEndDate\" name=\"billingContractEndDate\">\r\n                            <mat-datepicker-toggle matSuffix [for]=\"contractEndDate\"></mat-datepicker-toggle>\r\n                            <mat-datepicker #contractEndDate></mat-datepicker>\r\n                        </mat-form-field>\r\n                    </div>                    \r\n                </div>                \r\n                <div class=\"row\">\r\n                    <div class=\"col-lg-3 col-12\">\r\n                        <mat-form-field>\r\n                            TDS Percentage\r\n                            <input matInput  [(ngModel)]=\"customer.tdsPercent\" name=\"tdsPercent\"  #custTDS>\r\n                        </mat-form-field>\r\n                    </div>  \r\n                    <div class=\"col-lg-3 col-12\">\r\n                        <mat-form-field class=\"bottom-align\">\r\n                            Surchage Percentage\r\n                            <input matInput [(ngModel)]=\"customer.surchargePercent\" name=\"surchargePercent\" #custSurchargePer>\r\n                        </mat-form-field>\r\n                    </div>\r\n                    <div class=\"col-lg-3 col-12\">\r\n                        <mat-form-field class=\"bottom-align\">\r\n                            Select Base City for fuel surcharge\r\n                            <input matInput [formControl]=\"cityCtrl\"  [matAutocomplete]=\"auto1\">\r\n                            <mat-autocomplete #auto1=\"matAutocomplete\">\r\n                                <mat-option *ngFor=\"let option of cities | async\" [value]=\"option\" (onSelectionChange)=\"citySelect(option,$event)\">\r\n                                    {{ option }}\r\n                                </mat-option>\r\n                            </mat-autocomplete>                            \r\n                        </mat-form-field>\r\n                    </div>\r\n                    <div class=\"col-lg-3 col-12\">\r\n                        <mat-form-field>\r\n                            Forced Fuel Type\r\n                            <mat-select [(ngModel)]=\"customer.billingForcedFuel\">\r\n                                <mat-option value=\"Petrol\">Petrol</mat-option>\r\n                                <mat-option value=\"Diesel\">Diesel</mat-option>\r\n                                <mat-option value=\"Diesel\">Diesel</mat-option>\r\n                                <mat-option value=\"Electric\">Electric</mat-option>\r\n                            </mat-select>\r\n                        </mat-form-field>\r\n                    </div>\r\n                </div>                                              \r\n            </nb-card-body>\r\n        </nb-card>\r\n    </div>\r\n</div>\r\n<!-- <div class=\"row\">\r\n    <div class=\"col-lg-12\">\r\n        <nb-card>\r\n            <nb-card-header>GSTIN Billing Details-<i>Only to be filled if this customer has different GSTIN billing details</i></nb-card-header>\r\n            <nb-card-body class=\"hide-overflow\">\r\n                <div class=\"container\">                    \r\n                    <div class=\"row pb-10\">\r\n                        <div class=\"col-lg-4 col-12\">\r\n                            <mat-form-field class=\"bottom-align\">\r\n                                Billing Name\r\n                                <input matInput [(ngModel)]=\"customer.billingName\" name=\"billingName\" #gstBillName>\r\n                            </mat-form-field>\r\n                        </div>\r\n                        <div class=\"col-lg-4 col-12\">\r\n                            \r\n                        </div>\r\n                        <div class=\"col-lg-4 col-12\">\r\n                            \r\n                        </div>\r\n                    </div>                    \r\n                    <div class=\"row pb-10\">\r\n                        <div class=\"col-lg-4 col-12\">\r\n                            <mat-form-field>\r\n                                Alternate Phone Number\r\n                                <input matInput [(ngModel)]=\"customer.billingPhone\" name=\"billingPhone\"  #altPhone>\r\n                            </mat-form-field>\r\n                        </div>\r\n                        <div class=\"col-lg-4 col-12\">\r\n                            <mat-form-field>\r\n                                Alternate Email Address\r\n                                <input matInput [(ngModel)]=\"customer.billingEmail\" name=\"billingEmail\"  #altEmail>\r\n                            </mat-form-field>\r\n                        </div>\r\n                        <div class=\"col-lg-4 col-12\">\r\n                            <mat-form-field>\r\n                                Service Tax Number\r\n                                <input matInput [(ngModel)]=\"customer.billingServiceTax\" name=\"billingServiceTax\"  #gstTaxNum>\r\n                            </mat-form-field>\r\n                        </div>\r\n                    </div>                    \r\n                    <div class=\"row pb-10\">                         -->\r\n                        <!-- <div class=\"col-lg-4 col-12\">                            \r\n                            GST Type\r\n                            <br>\r\n                            <mat-checkbox name=\"cgstsgst\" value=\"cgstsgst\">CGST + SGST</mat-checkbox>                            \r\n                            <mat-checkbox name=\"igst\" value=\"cgstsgst\">IGST</mat-checkbox>                            \r\n                        </div> -->\r\n                        <!-- <div class=\"col-lg-4 col-12\">\r\n                            \r\n                        </div>\r\n                        <div class=\"col-lg-4 col-12\">\r\n                            \r\n                        </div> -->\r\n                        <!-- <div class=\"col-lg-6 col-12\">\r\n                            <mat-form-field>\r\n                                Reverse Applicable Charges\r\n                                <mat-select>\r\n                                    <mat-option value=\"option\">Option</mat-option>\r\n                                </mat-select>\r\n                            </mat-form-field>\r\n                        </div> -->\r\n                    <!-- </div>                     -->\r\n                    <!-- <div class=\"row pb-10\">\r\n                        \r\n                    </div>                 -->\r\n                <!-- </div>\r\n            </nb-card-body>\r\n        </nb-card>\r\n    </div>\r\n</div> -->\r\n<div class=\"row\">\r\n    <div class=\"col-lg-12\">\r\n        <nb-card>\r\n            <nb-card-header>\r\n                Driver Allowance Settings\r\n            </nb-card-header>\r\n            <nb-card-body class=\"hide-overflow\">                \r\n                <div class=\"row\">\r\n                    <div class=\"col-lg-6 col-12\">\r\n                        <mat-form-field>\r\n                            Early Time\r\n                            <input type=\"time\" matInput [(ngModel)]=\"customer.earlyTime\" name=\"earlyTime\"  #earlyTime>\r\n                        </mat-form-field>\r\n                    </div>\r\n                    <div class=\"col-lg-6 col-12\">\r\n                        <mat-form-field>\r\n                            Late Time\r\n                            <input type=\"time\" matInput [(ngModel)]=\"customer.lateTime\" name=\"lateTime\"  #lateTime>\r\n                        </mat-form-field>\r\n                    </div>\r\n                </div>                \r\n            </nb-card-body>\r\n        </nb-card>\r\n    </div>\r\n</div>\r\n<div class=\"row\">\r\n    <div class=\"col-lg-12\">\r\n        <nb-card>\r\n            <nb-card-header>\r\n                Applicable Taxes\r\n            </nb-card-header>\r\n            <nb-card-body class=\"hide-overflow\">\r\n                <form [formGroup]=\"myForm\">\r\n                    <div formArrayName=\"rows\">\r\n                        <div class=\"row pt-10\">                            \r\n                            <div class=\"col-lg-6 col-10\">\r\n                                Tax\r\n                            </div>\r\n                            <div class=\"col-lg-2 col-2\"></div>\r\n                        </div>\r\n                        <div class=\"row pb-10\" *ngFor=\"let temp of applicableTaxes.controls; let i=index\" [formGroupName]=\"i\">                            \r\n                            <div class=\"col-lg-6 col-10\">\r\n                                <mat-form-field class=\"w-100\">\r\n                                    <input placeholder=\"Charges\" [formControl]=\"taxCtrl\" matInput [matAutocomplete]=\"taxauto\">\r\n                                    <mat-autocomplete #taxauto=\"matAutocomplete\">\r\n                                        <mat-option *ngFor=\"let option of taxes |async\" [value]=\"option.name\" (onSelectionChange)=\"setTax(option,$event)\">\r\n                                            {{ option.name }}&nbsp;-{{option.percent}}%\r\n                                        </mat-option>\r\n                                    </mat-autocomplete>\r\n                                </mat-form-field>\r\n                            </div>\r\n                            <div class=\"col-lg-2 col-2\">\r\n                                <button mat-icon-button color=\"primary\" (click)=\"deleteRow(i)\"><mat-icon>clear</mat-icon></button>\r\n                            </div>\r\n                        </div>                                            \r\n                    </div>\r\n                </form>\r\n                <div class=\"row ptb-10\">\r\n                    <div class=\"col-lg-12 col-12\">\r\n                        <button [disabled]=\"taxStatus\" mat-raised-button color=\"primary\" (click)=\"addRow(true)\">Add Tax</button>\r\n                    </div>\r\n                </div>                \r\n            </nb-card-body>\r\n        </nb-card>\r\n    </div>\r\n</div>\r\n<div class=\"row\">\r\n    <div class=\"col-lg-12\">\r\n        <nb-card>\r\n            <nb-card-header>\r\n                Notes\r\n            </nb-card-header>\r\n            <nb-card-body class=\"hide-overflow\">\r\n                <div class=\"container\">                    \r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-12 col-12\">\r\n                            <mat-form-field class=\"w-100\">\r\n                                Notes\r\n                                <textarea matInput [(ngModel)]=\"customer.notes\" name=\"notes\"  #notes></textarea>\r\n                            </mat-form-field>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-12 col-12\">\r\n                            <mat-checkbox> Enable Custom Pricing.</mat-checkbox>\r\n                        </div>\r\n                    </div>\r\n                    <!-- <div class=\"row\">\r\n                        <div class=\"col-lg-12 col-12\">\r\n                            <mat-checkbox> Deny Booked by Passenger and Additional contact info to be added to Master while adding a booking.</mat-checkbox>\r\n                        </div>\r\n                    </div> -->\r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-12 col-12\">\r\n                            <mat-checkbox [(ngModel)]=\"customer.active\"> Active</mat-checkbox>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </nb-card-body>\r\n        </nb-card>\r\n    </div>\r\n</div>\r\n<div class=\"row\">\r\n    <div class=\"col-lg-12\">\r\n        <nb-card>\r\n            <nb-card-body class=\"hide-overflow\">\r\n                <div class=\"container\">\r\n                    <form [formGroup]=\"cityForm\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-lg-12 col-12\">\r\n                                <br>\r\n                                Limit ability to allot bookings to these cities\r\n                            </div>                            \r\n                        </div>\r\n                        <div formArrayName=\"cities\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-lg-3\" *ngFor=\"let temp of citiesFormCtrl.controls; let i=index\" [formGroupName]=\"i\">\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-lg-8 col-10\">\r\n                                            <mat-form-field>\r\n                                                <input matInput formControlName=\"city\" (keypress)=\"filterCity(i)\" [matAutocomplete]=\"auto1\">\r\n                                                <mat-autocomplete #auto1=\"matAutocomplete\">\r\n                                                    <mat-option *ngFor=\"let option of cities | async\" [value]=\"option\">\r\n                                                        {{ option }}\r\n                                                    </mat-option>\r\n                                                </mat-autocomplete>\r\n                                                <!-- <mat-select placeholder=\"Choose One\" formControlName=\"city\">\r\n                                                    <mat-option *ngFor=\"let element of cities\" [value]=\"element\">\r\n                                                        {{element}}\r\n                                                    </mat-option>\r\n                                                </mat-select> -->\r\n                                            </mat-form-field>\r\n                                        </div>\r\n                                        <div class=\"col-lg-2 col-2\">\r\n                                            <button mat-icon-button color=\"primary\" (click)=\"deleteCity(i, temp)\"><mat-icon>clear</mat-icon></button>\r\n                                        </div>\r\n                                    </div>                                    \r\n                                </div>\r\n                            </div>                            \r\n                        </div>\r\n                        <div class=\"row ptb-10\">\r\n                            <div class=\"col-lg-12 col-12\">\r\n                                <button mat-raised-button color=\"primary\" (click)=\"addCity(true)\">Add</button>\r\n                            </div>                        \r\n                        </div>\r\n                    </form>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-12 col-12\">\r\n                            Vehicle Group - Limit ability to allot bookings to these Vehicle Groups\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-12 col-12\">\r\n                            <mat-form-field class=\"w-100\">\r\n                                <mat-select [(ngModel)]=\"vehicleGroupId\" multiple>\r\n                                    <mat-option *ngFor=\"let element of vehicleGroups\" [value]=\"element.id\">\r\n                                        {{element.name}}\r\n                                    </mat-option>\r\n                                </mat-select>\r\n                            </mat-form-field>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-12 col-12\">\r\n                            Duty Type - Limit ability to allot bookings to these Duty Types\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-12 col-12\">\r\n                            <mat-form-field class=\"w-100\">\r\n                                <mat-select [(ngModel)]=\"dutyTypeId\" multiple>\r\n                                    <mat-option *ngFor=\"let element of dutyTypes\" [value]=\"element.id\">\r\n                                        {{element.name}}\r\n                                    </mat-option>\r\n                                </mat-select>\r\n                            </mat-form-field>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div style=\"bottom: 5%\" *ngIf=\"logs.length>0\">\r\n                    <ul>\r\n                        <li *ngFor=\"let element of logs\">\r\n                            {{element.message}}\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </nb-card-body>\r\n        </nb-card>\r\n    </div>\r\n</div>\r\n<div class=\"row ptb-10\">\r\n    <div class=\"col-lg-12\">\r\n        <button mat-raised-button color=\"primary\" *ngIf=\"editState==false\" (click)=\"saveCustomer()\">Add</button>\r\n        <button mat-raised-button color=\"primary\" *ngIf=\"editState==true\" (click)=\"editCustomer()\">Save</button>\r\n        <button mat-raised-button color=\"warn\" *ngIf=\"data=='addCustomer'\" (click)=\"closeDialog()\">Close</button>\r\n    </div>\r\n</div>    "

/***/ }),

/***/ "./src/app/pages/masters/addcustomer/addcustomer.component.scss":
/***/ (function(module, exports) {

module.exports = ".full-width {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  min-width: 100px; }\n\nnb-checkbox {\n  margin-bottom: 1rem; }\n\n.form-inline > * {\n  margin: 0 1.5rem 1.5rem 0; }\n\nnb-card.inline-form-card nb-card-body {\n  padding-bottom: 0; }\n"

/***/ }),

/***/ "./src/app/pages/masters/addcustomer/addcustomer.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AddCustomerComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_operators__ = __webpack_require__("./node_modules/rxjs/_esm5/operators.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__newcustomergroup_newcustomergroup_component__ = __webpack_require__("./src/app/pages/masters/newcustomergroup/newcustomergroup.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__vehiclegroups_vehiclegroups_component__ = __webpack_require__("./src/app/pages/masters/vehiclegroups/vehiclegroups.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__dutytype_duty_type_service__ = __webpack_require__("./src/app/pages/masters/dutytype/duty-type.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__activitylog_service__ = __webpack_require__("./src/app/activitylog.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};













var AddCustomerComponent = (function () {
    function AddCustomerComponent(customerGroupService, matDialogRef, data, customerService, dutyTypeService, snackBar, fb, dialog, auth, invoiceService, vehicleGroupService, router, activityLogs) {
        var _this = this;
        this.customerGroupService = customerGroupService;
        this.matDialogRef = matDialogRef;
        this.data = data;
        this.customerService = customerService;
        this.dutyTypeService = dutyTypeService;
        this.snackBar = snackBar;
        this.fb = fb;
        this.dialog = dialog;
        this.auth = auth;
        this.invoiceService = invoiceService;
        this.vehicleGroupService = vehicleGroupService;
        this.router = router;
        this.activityLogs = activityLogs;
        this.city = [
            'Achalpur',
            'Achhnera',
            'Adalaj',
            'Adilabad',
            'Adityapur',
            'Adoni',
            'Adoor',
            'Adra',
            'Adyar',
            'Afzalpur',
            'Agartala',
            'Agra',
            'Ahmedabad',
            'Ahmednagar',
            'Aizawl',
            'Ajmer',
            'Akola',
            'Akot',
            'Alappuzha',
            'Aligarh',
            'Alipurduar',
            'Alirajpur',
            'Allahabad',
            'Alwar',
            'Amalapuram',
            'Amalner',
            'Ambejogai',
            'Ambikapur',
            'Amravati',
            'Amreli',
            'Amritsar',
            'Amroha',
            'Anakapalle',
            'Anand',
            'Anantapur',
            'Anantnag',
            'Anjangaon',
            'Anjar',
            'Ankleshwar',
            'Arakkonam',
            'Arambagh',
            'Araria',
            'Arrah',
            'Arsikere',
            'Aruppukkottai',
            'Arvi',
            'Arwal',
            'Asansol',
            'Asarganj',
            'Ashok Nagar',
            'Athni',
            'Attingal',
            'Aurangabad',
            'Aurangabad',
            'Azamgarh',
            'Bagaha',
            'Bageshwar',
            'Bahadurgarh',
            'Baharampur',
            'Bahraich',
            'Balaghat',
            'Balangir',
            'Baleshwar Town',
            'Ballari',
            'Balurghat',
            'Bankura',
            'Bapatla',
            'Baramula',
            'Barbil',
            'Bargarh',
            'Barh',
            'Baripada Town',
            'Barmer',
            'Barnala',
            'Barpeta',
            'Batala',
            'Bathinda',
            'Begusarai',
            'Belagavi',
            'Bellampalle',
            'Belonia',
            'Bengaluru',
            'Bettiah',
            'BhabUrban',
            'Bhadrachalam',
            'Bhadrak',
            'Bhagalpur',
            'Bhainsa',
            'Bharatpur',
            'Bharuch',
            'Bhatapara',
            'Bhavnagar',
            'Bhawanipatna',
            'Bheemunipatnam',
            'Bhilai Nagar',
            'Bhilwara',
            'Bhimavaram',
            'Bhiwandi',
            'Bhiwani',
            'Bhongir',
            'Bhopal',
            'Bhubaneswar',
            'Bhuj',
            'Bikaner',
            'Bilaspur',
            'Bobbili',
            'Bodhan',
            'Bokaro Steel City',
            'Bongaigaon City',
            'Brahmapur',
            'Buxar',
            'Byasanagar',
            'Chaibasa',
            'Chalakudy',
            'Chandausi',
            'Chandigarh',
            'Changanassery',
            'Charkhi Dadri',
            'Chatra',
            'Chennai',
            'Cherthala',
            'Chhapra',
            'Chhapra',
            'Chikkamagaluru',
            'Chilakaluripet',
            'Chirala',
            'Chirkunda',
            'Chirmiri',
            'Chittoor',
            'Chittur-Thathamangalam',
            'Coimbatore',
            'Cuttack',
            'Dalli-Rajhara',
            'Darbhanga',
            'Darjiling',
            'Davanagere',
            'Deesa',
            'Dehradun',
            'Dehri-on-Sone',
            'Delhi',
            'Deoghar',
            'Dhamtari',
            'Dhanbad',
            'Dharmanagar',
            'Dharmavaram',
            'Dhenkanal',
            'Dhoraji',
            'Dhubri',
            'Dhule',
            'Dhuri',
            'Dibrugarh',
            'Dimapur',
            'Diphu',
            'Dumka',
            'Dumraon',
            'Durg',
            'Eluru',
            'English Bazar',
            'Erode',
            'Etawah',
            'Faridabad',
            'Faridkot',
            'Farooqnagar',
            'Fatehabad',
            'Fatehpur Sikri',
            'Fazilka',
            'Firozabad',
            'Firozpur',
            'Firozpur Cantt.',
            'Forbesganj',
            'Gadwal',
            'Gangarampur',
            'Ganjbasoda',
            'Gaya',
            'Giridih',
            'Goalpara',
            'Gobichettipalayam',
            'Gobindgarh',
            'Godhra',
            'Gohana',
            'Gokak',
            'Gooty',
            'Gopalganj',
            'Gudivada',
            'Gudur',
            'Gumia',
            'Guntakal',
            'Guntur',
            'Gurdaspur',
            'Gurgaon',
            'Guruvayoor',
            'Guwahati',
            'Gwalior',
            'Habra',
            'Hajipur',
            'Haldwani',
            'Hansi',
            'Hapur',
            'Hardoi ',
            'Hardwar',
            'Hazaribag',
            'Hindupur',
            'Hisar',
            'Hoshiarpur',
            'Hubli-Dharwad',
            'Hugli-Chinsurah',
            'Hyderabad',
            'Ichalkaranji',
            'Imphal',
            'Indore',
            'Itarsi',
            'Jabalpur',
            'Jagdalpur',
            'Jaggaiahpet',
            'Jagraon',
            'Jagtial',
            'Jaipur',
            'Jalandhar',
            'Jalandhar Cantt.',
            'Jalpaiguri',
            'Jamalpur',
            'Jammalamadugu',
            'Jammu',
            'Jamnagar',
            'Jamshedpur',
            'Jamui',
            'Jangaon',
            'Jatani',
            'Jehanabad',
            'Jhansi',
            'Jhargram',
            'Jharsuguda',
            'Jhumri Tilaiya',
            'Jind',
            'Jodhpur',
            'Jorhat',
            'Kadapa',
            'Kadi',
            'Kadiri',
            'Kagaznagar',
            'Kailasahar',
            'Kaithal',
            'Kakinada',
            'Kalimpong',
            'Kalpi',
            'Kalyan-Dombivali',
            'Kamareddy',
            'Kancheepuram',
            'Kandukur',
            'Kanhangad',
            'Kannur',
            'Kanpur',
            'Kapadvanj',
            'Kapurthala',
            'Karaikal',
            'Karimganj',
            'Karimnagar',
            'Karjat',
            'Karnal',
            'Karur',
            'Karwar',
            'Kasaragod',
            'Kashipur',
            'KathUrban',
            'Katihar',
            'Kavali',
            'Kayamkulam',
            'Kendrapara',
            'Kendujhar',
            'Keshod',
            'Khair',
            'Khambhat',
            'Khammam',
            'Khanna',
            'Kharagpur',
            'Kharar',
            'Khowai',
            'Kishanganj',
            'Kochi',
            'Kodungallur',
            'Kohima',
            'Kolar',
            'Kolkata',
            'Kollam',
            'Koratla',
            'Korba',
            'Kot Kapura',
            'Kothagudem',
            'Kottayam',
            'Kovvur',
            'Koyilandy',
            'Kozhikode',
            'Kunnamkulam',
            'Kurnool',
            'Kyathampalle',
            'Lachhmangarh',
            'Ladnu',
            'Ladwa',
            'Lahar',
            'Laharpur',
            'Lakheri',
            'Lakhimpur',
            'Lakhisarai',
            'Lakshmeshwar',
            'Lal Gopalganj Nindaura',
            'Lalganj',
            'Lalganj',
            'Lalgudi',
            'Lalitpur',
            'Lalsot',
            'Lanka',
            'Lar',
            'Lathi',
            'Latur',
            'Lilong',
            'Limbdi',
            'Lingsugur',
            'Loha',
            'Lohardaga',
            'Lonar',
            'Lonavla',
            'Longowal',
            'Loni',
            'Losal',
            'Lucknow',
            'Ludhiana',
            'Lumding',
            'Lunawada',
            'Lunglei',
            'Macherla',
            'Machilipatnam',
            'Madanapalle',
            'Maddur',
            'Madhepura',
            'Madhubani',
            'Madhugiri',
            'Madhupur',
            'Madikeri',
            'Madurai',
            'Magadi',
            'Mahad',
            'Mahalingapura',
            'Maharajganj',
            'Maharajpur',
            'Mahasamund',
            'Mahbubnagar',
            'Mahe',
            'Mahemdabad',
            'Mahendragarh',
            'Mahesana',
            'Mahidpur',
            'Mahnar Bazar',
            'Mahuva',
            'Maihar',
            'Mainaguri',
            'Makhdumpur',
            'Makrana',
            'Malaj Khand',
            'Malappuram',
            'Malavalli',
            'Malda',
            'Malegaon',
            'Malerkotla',
            'Malkangiri',
            'Malkapur',
            'Malout',
            'Malpura',
            'Malur',
            'Manachanallur',
            'Manasa',
            'Manavadar',
            'Manawar',
            'Mumbai',
            'Mundargi',
            'Mundi',
            'Mungeli',
            'Munger',
            'Murliganj',
            'Murshidabad',
            'Murtijapur',
            'Murwara (Katni)',
            'Musabani',
            'Mussoorie',
            'Muvattupuzha',
            'Muzaffarpur',
            'Mysore',
            'Nabadwip',
            'Nabarangapur',
            'Nabha',
            'Nadbai',
            'Nadiad',
            'Nagaon',
            'Nagapattinam',
            'Nagar',
            'Nagari',
            'Nagarkurnool',
            'Nagaur',
            'Nagda',
            'Nagercoil',
            'Nagina',
            'Nagla',
            'Nagpur',
            'Nahan',
            'Naharlagun',
            'Naidupet',
            'Naihati',
            'Naila Janjgir',
            'Nainital',
            'Nainpur',
            'Najibabad',
            'Nakodar',
            'Nakur',
            'Nalbari',
            'Namagiripettai',
            'Namakkal',
            'Nanded-Waghala',
            'Nandgaon',
            'Nandivaram-Guduvancheri',
            'Nandura',
            'Nandurbar',
            'Nandyal',
            'Nangal',
            'Nanjangud',
            'Nanjikottai',
            'Nanpara',
            'Narasapuram',
            'Narasaraopet',
            'Naraura',
            'Narayanpet',
            'Nargund',
            'Narkatiaganj',
            'Narkhed',
            'Narnaul',
            'Narsinghgarh',
            'Narsinghgarh',
            'Narsipatnam',
            'Narwana',
            'Nashik',
            'Nasirabad',
            'Natham',
            'Nathdwara',
            'Naugachhia',
            'Naugawan Sadat',
            'Nautanwa',
            'Navalgund',
            'Navsari',
            'Nawabganj',
            'Nawada',
            'Nawanshahr',
            'Nawapur',
            'Nedumangad',
            'Neem-Ka-Thana',
            'Neemuch',
            'Nehtaur',
            'Nelamangala',
            'Nellikuppam',
            'Nellore',
            'Nepanagar',
            'New Delhi',
            'Neyveli (TS)',
            'Neyyattinkara',
            'Nidadavole',
            'Nilambur',
            'Nilanga',
            'Nimbahera',
            'Nirmal',
            'Niwai',
            'Niwari',
            'Nizamabad',
            'Nohar',
            'Noida',
            'Nokha',
            'Nokha',
            'Nongstoin',
            'Noorpur',
            'North Lakhimpur',
            'Nowgong',
            'Nowrozabad (Khodargama)',
            'Nuzvid',
            'O Valley',
            'Obra',
            'Oddanchatram',
            'Ongole',
            'Orai',
            'Osmanabad',
            'Ottappalam',
            'Ozar',
            'P.N.Patti',
            'Pachora',
            'Pachore',
            'Pacode',
            'Padmanabhapuram',
            'Padra',
            'Padrauna',
            'Paithan',
            'Pakaur',
            'Palacole',
            'Palai',
            'Palakkad',
            'Palampur',
            'Palani',
            'Palanpur',
            'Palasa Kasibugga',
            'Palghar',
            'Pali',
            'Palia Kalan',
            'Palitana',
            'Palladam',
            'Pallapatti',
            'Pallikonda',
            'Palwal',
            'Palwancha',
            'Panagar',
            'Panagudi',
            'Panaji',
            'Panamattom',
            'Panchkula',
            'Panchla',
            'Pandharkaoda',
            'Pandharpur',
            'Pandhurna',
            'Panipat',
            'Panna',
            'Panniyannur',
            'Panruti',
            'Panvel',
            'Pappinisseri',
            'Paradip',
            'Paramakudi',
            'Parangipettai',
            'Parasi',
            'Paravoor',
            'Parbhani',
            'Pardi',
            'Parlakhemundi',
            'Parli',
            'Partur',
            'Parvathipuram',
            'Pasan',
            'Paschim Punropara',
            'Pasighat',
            'Patan',
            'Pathanamthitta',
            'Pathankot',
            'Pathardi',
            'Pathri',
            'Patiala',
            'Patna',
            'Patratu',
            'Pattamundai',
            'Patti',
            'Pattran',
            'Pattukkottai',
            'Patur',
            'Pauni',
            'Pauri',
            'Pavagada',
            'Pedana',
            'Peddapuram',
            'Pehowa',
            'Pen',
            'Perambalur',
            'Peravurani',
            'Peringathur',
            'Perinthalmanna',
            'Periyakulam',
            'Periyasemur',
            'Pernampattu',
            'Perumbavoor',
            'Petlad',
            'Phagwara',
            'Phalodi',
            'Phaltan',
            'Phillaur',
            'Phulabani',
            'Phulera',
            'Phulpur',
            'Phusro',
            'Pihani',
            'Pilani',
            'Pilibanga',
            'Pilibhit',
            'Pilkhuwa',
            'Pindwara',
            'Pinjore',
            'Pipar City',
            'Pipariya',
            'Piriyapatna',
            'Piro',
            'Pithampur',
            'Pithapuram',
            'Pithoragarh',
            'Pollachi',
            'Polur',
            'Pondicherry',
            'Ponnani',
            'Ponneri',
            'Ponnur',
            'Porbandar',
            'Porsa',
            'Port Blair',
            'Powayan',
            'Prantij',
            'Pratapgarh',
            'Pratapgarh',
            'Prithvipur',
            'Proddatur',
            'Pudukkottai',
            'Pudupattinam',
            'Pukhrayan',
            'Pulgaon',
            'Puliyankudi',
            'Punalur',
            'Punch',
            'Pune',
            'Punganur',
            'Punjaipugalur',
            'Puranpur',
            'Puri',
            'Purna',
            'Purnia',
            'PurqUrban Agglomerationzi',
            'Purulia',
            'Purwa',
            'Pusad',
            'Puthuppally',
            'Puttur',
            'Puttur',
            'Qadian',
            'Raayachuru',
            'Rabkavi Banhatti',
            'Radhanpur',
            'Rae Bareli',
            'Rafiganj',
            'Raghogarh-Vijaypur',
            'Raghunathganj',
            'Raghunathpur',
            'Rahatgarh',
            'Rahuri',
            'Raiganj',
            'Raigarh',
            'Raikot',
            'Raipur',
            'Rairangpur',
            'Raisen',
            'Raisinghnagar',
            'Rajagangapur',
            'Rajahmundry',
            'Rajakhera',
            'Rajaldesar',
            'Rajam',
            'Rajampet',
            'Rajapalayam',
            'Rajauri',
            'Rajgarh',
            'Rajgarh (Alwar)',
            'Rajgarh (Churu)',
            'Rajgir',
            'Rajkot',
            'Rajnandgaon',
            'Rajpipla',
            'Rajpura',
            'Rajsamand',
            'Rajula',
            'Rajura',
            'Ramachandrapuram',
            'Ramagundam',
            'Ramanagaram',
            'Ramanathapuram',
            'Ramdurg',
            'Rameshwaram',
            'Ramganj Mandi',
            'Ramgarh',
            'Ramnagar',
            'Ramngarh',
            'Rampur',
            'Rampur Maniharan',
            'Rampura Phul',
            'Rampurhat',
            'Ramtek',
            'Ranaghat',
            'Ranavav',
            'Ranchi',
            'Ranebennuru',
            'Rangia',
            'Rania',
            'Ranibennur',
            'Ranipet',
            'Rapar',
            'Rasipuram',
            'Rasra',
            'Ratangarh',
            'Rath',
            'Ratia',
            'Ratlam',
            'Ratnagiri',
            'Rau',
            'Raurkela',
            'Raver',
            'Rawatbhata',
            'Rawatsar',
            'Raxaul Bazar',
            'Rayachoti',
            'Rayadurg',
            'Rayagada',
            'Reengus',
            'Rehli',
            'Renigunta',
            'Renukoot',
            'Reoti',
            'Repalle',
            'Revelganj',
            'Rewa',
            'Rewari',
            'Rishikesh',
            'Risod',
            'Robertsganj',
            'Robertson Pet',
            'Rohtak',
            'Ron',
            'Roorkee',
            'Rosera',
            'Rudauli',
            'Rudrapur',
            'Rudrapur',
            'Rupnagar',
            'Sabalgarh',
            'Sadabad',
            'Sadalagi',
            'Sadasivpet',
            'Sadri',
            'Sadulpur',
            'Sadulshahar',
            'Safidon',
            'Safipur',
            'Sagar',
            'Sagara',
            'Sagwara',
            'Saharanpur',
            'Saharsa',
            'Sahaspur',
            'Sahaswan',
            'Sahawar',
            'Sahibganj',
            'Sahjanwa',
            'Saidpur',
            'Saiha',
            'Sailu',
            'Sainthia',
            'Sakaleshapura',
            'Sakti',
            'Salaya',
            'Salem',
            'Salur',
            'Samalkha',
            'Samalkot',
            'Samana',
            'Samastipur',
            'Sambalpur',
            'Sambhal',
            'Sambhar',
            'Samdhan',
            'Samthar',
            'Sanand',
            'Sanawad',
            'Sanchore',
            'Sandi',
            'Sandila',
            'Sanduru',
            'Sangamner',
            'Sangareddy',
            'Sangaria',
            'Sangli',
            'Sangole',
            'Sangrur',
            'Sankarankovil',
            'Sankari',
            'Sankeshwara',
            'Santipur',
            'Sarangpur',
            'Sardarshahar',
            'Sardhana',
            'Sarni',
            'Sarsod',
            'Sasaram',
            'Sasvad',
            'Satana',
            'Satara',
            'Sathyamangalam',
            'Satna',
            'Sattenapalle',
            'Sattur',
            'Saunda',
            'Saundatti-Yellamma',
            'Sausar',
            'Savanur',
            'Savarkundla',
            'Savner',
            'Sawai Madhopur',
            'Sawantwadi',
            'Sedam',
            'Sehore',
            'Sendhwa',
            'Seohara',
            'Seoni',
            'Seoni-Malwa',
            'Shahabad',
            'Shahabad, Hardoi',
            'Shahabad, Rampur',
            'Shahade',
            'Shahdol',
            'Shahganj',
            'Shahjahanpur',
            'Shahpur',
            'Shahpura',
            'Shajapur',
            'Shamgarh',
            'Shamli',
            'Shamsabad, Agra',
            'Shamsabad, Farrukhabad',
            'Shegaon',
            'Sheikhpura',
            'Shendurjana',
            'Shenkottai',
            'Sheoganj',
            'Sheohar',
            'Sheopur',
            'Sherghati',
            'Sherkot',
            'Shiggaon',
            'Shikaripur',
            'Shikarpur, Bulandshahr',
            'Shikohabad',
            'Shillong',
            'Shimla',
            'Shirdi',
            'Shirpur-Warwade',
            'Shirur',
            'Shishgarh',
            'Shivamogga',
            'Shivpuri',
            'Sholavandan',
            'Sholingur',
            'Shoranur',
            'Shrigonda',
            'Shrirampur',
            'Shrirangapattana',
            'Shujalpur',
            'Siana',
            'Sibsagar',
            'Siddipet',
            'Sidhi',
            'Sidhpur',
            'Sidlaghatta',
            'Sihor',
            'Sihora',
            'Sikanderpur',
            'Sikandra Rao',
            'Sikandrabad',
            'Sikar',
            'Silao',
            'Silapathar',
            'Silchar',
            'Siliguri',
            'Sillod',
            'Silvassa',
            'Simdega',
            'Sindagi',
            'Sindhagi',
            'Sindhnur',
            'Singrauli',
            'Sinnar',
            'Sira',
            'Sircilla',
            'Sirhind Fatehgarh Sahib',
            'Sirkali',
            'Sirohi',
            'Sironj',
            'Sirsa',
            'Sirsaganj',
            'Sirsi',
            'Siruguppa',
            'Sitamarhi',
            'Sitapur',
            'Sitarganj',
            'Sivaganga',
            'Sivagiri',
            'Sivakasi',
            'Siwan',
            'Sohagpur',
            'Sohna',
            'Sojat',
            'Solan',
            'Solapur',
            'Sonamukhi',
            'Sonepur',
            'Songadh',
            'Sonipat',
            'Sopore',
            'Soro',
            'Soron',
            'Soyagaon',
            'Sri Madhopur',
            'Srikakulam',
            'Srikalahasti',
            'Srinagar',
            'Srinagar',
            'Srinivaspur',
            'Srirampore',
            'Srivilliputhur',
            'Sugauli',
            'Sujangarh',
            'Sujanpur',
            'Sullurpeta',
            'Sultanganj',
            'Sultanpur',
            'Sumerpur',
            'Sumerpur',
            'Sunabeda',
            'Sunam',
            'Sundargarh',
            'Sundarnagar',
            'Supaul',
            'Surandai',
            'Surapura',
            'Surat',
            'Suratgarh',
            'SUrban Agglomerationr',
            'Suri',
            'Suriyampalayam',
            'Suryapet',
            'Tadepalligudem',
            'Tadpatri',
            'Takhatgarh',
            'Taki',
            'Talaja',
            'Talcher',
            'Talegaon Dabhade',
            'Talikota',
            'Taliparamba',
            'Talode',
            'Talwara',
            'Tamluk',
            'Tanda',
            'Tandur',
            'Tanuku',
            'Tarakeswar',
            'Tarana',
            'Taranagar',
            'Taraori',
            'Tarbha',
            'Tarikere',
            'Tarn Taran',
            'Tasgaon',
            'Tehri',
            'Tekkalakote',
            'Tenali',
            'Tenkasi',
            'Tenu dam-cum-Kathhara',
            'Terdal',
            'Tezpur',
            'Thakurdwara',
            'Thammampatti',
            'Thana Bhawan',
            'Thane',
            'Thanesar',
            'Thangadh',
            'Thanjavur',
            'Tharad',
            'Tharamangalam',
            'Tharangambadi',
            'Theni Allinagaram',
            'Thirumangalam',
            'Thirupuvanam',
            'Thiruthuraipoondi',
            'Thiruvalla',
            'Thiruvallur',
            'Thiruvananthapuram',
            'Thiruvarur',
            'Thodupuzha',
            'Thoubal',
            'Thrissur',
            'Thuraiyur',
            'Tikamgarh',
            'Tilda Newra',
            'Tilhar',
            'Tindivanam',
            'Tinsukia',
            'Tiptur',
            'Tirora',
            'Tiruchendur',
            'Tiruchengode',
            'Tiruchirappalli',
            'Tirukalukundram',
            'Tirukkoyilur',
            'Tirunelveli',
            'Tirupathur',
            'Tirupati',
            'Tiruppur',
            'Tirur',
            'Tiruttani',
            'Tiruvannamalai',
            'Tiruvethipuram',
            'Tiruvuru',
            'Tirwaganj',
            'Titlagarh',
            'Tittakudi',
            'Todabhim',
            'Todaraisingh',
            'Tohana',
            'Tonk',
            'Tuensang',
            'Tuljapur',
            'Tulsipur',
            'Tumkur',
            'Tumsar',
            'Tundla',
            'Tuni',
            'Tura',
            'Uchgaon',
            'Udaipur',
            'Udaipurwati',
            'Udgir',
            'Udhagamandalam',
            'Udhampur',
            'Udumalaipettai',
            'Udupi',
            'Ujhani',
            'Ujjain',
            'Umarga',
            'Umaria',
            'Umarkhed',
            'Umbergaon',
            'Umred',
            'Umreth',
            'Una',
            'Unjha',
            'Unnamalaikadai',
            'Unnao',
            'Upleta',
            'Uran',
            'Uran Islampur',
            'Uravakonda',
            'Urmar Tanda',
            'Usilampatti',
            'Uthamapalayam',
            'Uthiramerur',
            'Utraula',
            'Vadakkuvalliyur',
            'Vadalur',
            'Vadgaon Kasba',
            'Vadipatti',
            'Vadnagar',
            'Vadodara',
            'Vaijapur',
            'Vaikom',
            'Valparai',
            'Valsad',
            'Vandavasi',
            'Vaniyambadi',
            'Vapi',
            'Vapi',
            'Varanasi',
            'Varkala',
            'Vasai-Virar',
            'Vatakara',
            'Vedaranyam',
            'Vellakoil',
            'Vellore',
            'Venkatagiri',
            'Veraval',
            'Vidisha',
            'Vijainagar, Ajmer',
            'Vijapur',
            'Vijayapura',
            'Vijayawada',
            'Vijaypur',
            'Vikarabad',
            'Vikramasingapuram',
            'Viluppuram',
            'Vinukonda',
            'Viramgam',
            'Virudhachalam',
            'Virudhunagar',
            'Visakhapatnam',
            'Visnagar',
            'Viswanatham',
            'Vita',
            'Vizianagaram',
            'Vrindavan',
            'Vyara',
            'Wadgaon Road',
            'Wadhwan',
            'Wadi',
            'Wai',
            'Wanaparthy',
            'Wani',
            'Wankaner',
            'Wara Seoni',
            'Warangal',
            'Wardha',
            'Warhapur',
            'Warisaliganj',
            'Warora',
            'Warud',
            'Washim',
            'Wokha',
            'Yadgir',
            'Yamunanagar',
            'Yanam',
            'Yavatmal',
            'Yawal',
            'Yellandu',
            'Yemmiganur',
            'Yerraguntla',
            'Yevla',
            'Zaidpur',
            'Zamania',
            'Zira',
            'Zirakpur',
            'Zunheboto'
        ];
        this.cityCtrl = new __WEBPACK_IMPORTED_MODULE_4__angular_forms__["c" /* FormControl */]();
        this.user = {};
        this.editState = false;
        this.tax = [];
        this.taxCtrl = new __WEBPACK_IMPORTED_MODULE_4__angular_forms__["c" /* FormControl */]();
        this.taxStatus = false;
        this.deletedCity = [];
        this.deletedVehicleGroup = [];
        this.deletedDutyType = [];
        this.logs = [];
        this.vehicleGroupId = [];
        this.retrievedVehicleGroupId = [];
        this.dutyTypeId = [];
        this.retrievedDutyTypeId = [];
        this.param = {
            inserted: 'no',
            data: null
        };
        this.custStateCtrl = new __WEBPACK_IMPORTED_MODULE_4__angular_forms__["c" /* FormControl */]();
        this.billingStateCtrl = new __WEBPACK_IMPORTED_MODULE_4__angular_forms__["c" /* FormControl */]();
        this.states = [
            'Andaman and Nicobar Islands',
            'Andhra Pradesh',
            'Arunachal Pradesh',
            'Assam',
            'Bihar',
            'Chandigarh',
            'Chhattisgarh',
            'Dadra and Nagar Haveli',
            'Delhi',
            'Goa',
            'Gujarat',
            'Haryana',
            'Himachal Pradesh',
            'Jammu and Kashmir',
            'Jharkhand',
            'Karnataka',
            'Karnatka',
            'Kerala',
            'Madhya Pradesh',
            'Maharashtra',
            'Manipur',
            'Meghalaya',
            'Mizoram',
            'Nagaland',
            'Odisha',
            'Puducherry',
            'Punjab',
            'Rajasthan',
            'Tamil Nadu',
            'Telangana',
            'Tripura',
            'Uttar Pradesh',
            'Uttarakhand',
            'West Bengal'
        ];
        this.customer = {
            //Customer Details
            ownerId: '',
            name: '',
            caddress: '',
            state: '',
            custGroup: '',
            customerGroupId: null,
            phone: '',
            alternatePhone: '',
            email: '',
            panNo: '',
            gstin: '',
            tdsPercent: '',
            contractSDate: '',
            surchargePercent: '',
            baseCityForFuel: '',
            //GSTin details 
            billingName: '',
            billingAddress: '',
            billingState: '',
            billingPhone: '',
            billingEmail: '',
            billingServiceTax: '',
            billingGSTType: '',
            billingReverseChargeApplicable: '',
            billingContractEndDate: '',
            billingForcedFuel: '',
            //Applicable taxes
            applicableTaxes: 0,
            //Driver Allowance
            earlyTime: '',
            lateTime: '',
            //Misc
            notes: '',
            enableCustomPricing: '',
            denyBookbyPassenger: '',
            active: true,
            //Temp
            date: '',
            status: '',
        };
        var cData = localStorage.getItem('customer');
        console.log(cData);
        if (cData != 'undefined' && cData != null) {
            this.customer = JSON.parse(cData);
            this.editState = true;
            this.custStateCtrl.setValue(this.customer.state);
            this.billingStateCtrl.setValue(this.customer.billingState);
            this.customerService.getCustomerLimitCity(this.customer).subscribe(function (data) {
                data.forEach(function (element) {
                    var city = _this.fb.group({
                        id: element.id,
                        city: element.city,
                    });
                    _this.citiesFormCtrl.push(city);
                });
            });
            // console.log(this.vehicleGroupsFormCtrl)
            this.customerService.getCustomerLimitVehicleGroup(this.customer).subscribe(function (data) {
                data.forEach(function (element) {
                    _this.vehicleGroupId.push(element.vehicleGroupId);
                    _this.retrievedVehicleGroupId.push(element.vehicleGroupId);
                });
            });
            this.customerService.getCustomerLimitDutyType(this.customer).subscribe(function (data) {
                data.forEach(function (element) {
                    _this.dutyTypeId.push(element.dutyTypeId);
                    _this.retrievedDutyTypeId.push(element.dutyTypeId);
                });
            });
            this.activityLogs.getCustomerLogs({ id: this.customer.id }).subscribe(function (data) {
                _this.logs = data;
            });
        }
        if (this.customer == undefined) {
            this.router.navigate(['/pages/masters/customer']);
        }
    }
    AddCustomerComponent.prototype.unloadHandler = function (event) {
        console.log("Processing beforeunload...");
        event.returnValue = false;
    };
    AddCustomerComponent.prototype.saveCustomer = function () {
        var _this = this;
        if (this.customer.name.trim() == "") {
            this.snackBar.open('Enter Name', null, {
                duration: 5000
            });
        }
        else if (this.customer.caddress.trim() == "") {
            this.snackBar.open('Enter Address', null, {
                duration: 5000
            });
        }
        else if (this.customer.panNo.trim() != "" && !this.customer.panNo.match(/\b([A-Z]{5}[0-9]{4}[A-Z]{1})\b/)) {
            this.snackBar.open('Enter a valid PAN Number', null, {
                duration: 5000
            });
        }
        else {
            this.customer.contractSDate = __WEBPACK_IMPORTED_MODULE_7_moment__(this.customer.contractSDate).format("YYYY-MM-DD");
            this.customer.billingContractEndDate = __WEBPACK_IMPORTED_MODULE_7_moment__(this.customer.billingContractEndDate).format("YYYY-MM-DD");
            this.customerService.addCustomer(this.customer).subscribe(function (data) {
                if (data.affectedRows == 1) {
                    _this.param.inserted = 'yes';
                    _this.customer.id = data.insertId;
                    _this.param.data = _this.customer;
                    _this.activityLogs.addCustomerLogs({
                        customerId: data.insertId,
                        ownerId: _this.customer.ownerId,
                        message: "Customer created on " + __WEBPACK_IMPORTED_MODULE_7_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + _this.user.name
                    }).subscribe();
                    if (_this.citiesFormCtrl.length > 0) {
                        _this.citiesFormCtrl.value.forEach(function (element) {
                            element.ownerId = _this.user.ownerId;
                            element.customerId = data.insertId;
                            _this.customerService.addCustomerLimitCity(element).subscribe();
                            console.log(element);
                        });
                    }
                    // console.log(this.vehicleGroupsFormCtrl)
                    // if(this.vehicleGroupsFormCtrl.length > 0) {
                    //   this.vehicleGroupsFormCtrl.value.forEach(element => {
                    //     element.ownerId = this.user.ownerId;
                    //     element.customerId = data.insertId;
                    //     this.customerService.addCustomerLimitVehicleGroup(element).subscribe();
                    //     console.log(element)
                    //   });
                    // }    
                    if (_this.vehicleGroupId.length > 0) {
                        _this.vehicleGroupId.forEach(function (element) {
                            var limit = {
                                vehicleGroupId: element,
                                ownerId: _this.user.ownerId,
                                customerId: data.insertId
                            };
                            // element.ownerId = this.user.ownerId;
                            // element.customerId = data.insertId;
                            _this.customerService.addCustomerLimitVehicleGroup(limit).subscribe();
                            console.log(element);
                        });
                    }
                    if (_this.dutyTypeId.length > 0) {
                        _this.dutyTypeId.forEach(function (element) {
                            var limitDutyType = {
                                dutyTypeId: element,
                                ownerId: _this.user.ownerId,
                                customerId: data.insertId,
                            };
                            _this.customerService.addCustomerLimitDutyType(limitDutyType).subscribe();
                        });
                    }
                }
                // this.matDialogRef.close(this.param);
            }, function (err) { }, function () {
                _this.snackBar.open("Customer Added", "X", { duration: 3000 });
                _this.dialog.closeAll();
            });
            // this.customer.cid='';
            //  this.customer.name='';
            // this.customer.date='';
            // this.customer.email='';
            // this.customer.gstin='';
            // this.customer.status='';
        }
    };
    AddCustomerComponent.prototype.editCustomer = function () {
        var _this = this;
        if (this.customer.name.trim() == "") {
            this.snackBar.open('Enter Name', null, {
                duration: 5000
            });
        }
        else if (this.customer.panNo.match("^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$/")) {
            this.snackBar.open('Enter a valid Pan card number', null, {
                duration: 5000
            });
        }
        else {
            this.customer.contractSDate = __WEBPACK_IMPORTED_MODULE_7_moment__(this.customer.contractSDate).format("YYYY-MM-DD");
            this.customer.billingContractEndDate = __WEBPACK_IMPORTED_MODULE_7_moment__(this.customer.billingContractEndDate).format("YYYY-MM-DD");
            this.customerService.updateCustomer(this.customer).subscribe(function (data) {
                _this.activityLogs.addCustomerLogs({
                    customerId: _this.customer.id,
                    ownerId: _this.customer.ownerId,
                    message: "Customer edited on " + __WEBPACK_IMPORTED_MODULE_7_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + _this.user.name
                }).subscribe();
                if (_this.citiesFormCtrl.length > 0) {
                    _this.citiesFormCtrl.value.forEach(function (element) {
                        if (element.id) {
                            _this.customerService.updateCustomerLimitCity(element).subscribe();
                        }
                        else {
                            element.ownerId = _this.user.ownerId;
                            element.customerId = _this.customer.id;
                            _this.customerService.addCustomerLimitCity(element).subscribe();
                            console.log(element);
                        }
                    });
                }
                _this.deletedCity.forEach(function (element) {
                    _this.customerService.deleteCustomerLimitCity(element).subscribe();
                });
                // console.log(this.vehicleGroupsFormCtrl)
                // if(this.vehicleGroupsFormCtrl.length > 0) {
                //   this.vehicleGroupsFormCtrl.value.forEach(element => {
                //     if(element.id) {
                //       this.customerService.updateCustomerLimitVehicleGroup(element).subscribe();              
                //     }
                //     else {
                //       element.ownerId = this.user.ownerId;
                //       element.customerId = this.customer.id;
                //       this.customerService.addCustomerLimitVehicleGroup(element).subscribe();
                //       console.log(element)
                //     }
                //   });
                // }
                // this.deletedVehicleGroup.forEach(element => {
                //   this.customerService.deleteCustomerLimitVehicleGroup(element).subscribe();
                // })           
                if (_this.vehicleGroupId.length > 0) {
                    _this.vehicleGroupId.forEach(function (element) {
                        if (!_this.retrievedVehicleGroupId.includes(element)) {
                            var limit = {
                                vehicleGroupId: element,
                                ownerId: _this.user.ownerId,
                                customerId: _this.customer.id
                            };
                            _this.customerService.addCustomerLimitVehicleGroup(limit).subscribe();
                        }
                    });
                }
                _this.retrievedVehicleGroupId.forEach(function (element) {
                    if (!_this.vehicleGroupId.includes(element)) {
                        _this.customerService.deleteCustomerLimitVehicleGroup({ vehicleGroupId: element, customerId: _this.customer.id }).subscribe();
                    }
                });
                if (_this.dutyTypeId.length > 0) {
                    _this.dutyTypeId.forEach(function (element) {
                        if (!_this.retrievedDutyTypeId.includes(element)) {
                            var limitDutyType = {
                                dutyTypeId: element,
                                ownerId: _this.user.ownerId,
                                customerId: _this.customer.id,
                            };
                            _this.customerService.addCustomerLimitDutyType(limitDutyType).subscribe();
                        }
                    });
                }
                _this.retrievedDutyTypeId.forEach(function (element) {
                    if (!_this.dutyTypeId.includes(element)) {
                        _this.customerService.deleteCustomerLimitDutyType({ dutyTypeId: element, customerId: _this.customer.id }).subscribe();
                    }
                });
            }, function (err) { }, function () {
                _this.snackBar.open("Customer Updated", null, { duration: 2000 });
                _this.dialog.closeAll();
            });
        }
    };
    AddCustomerComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    AddCustomerComponent.prototype.updateCustomer = function () {
        this.customerService.updateCustomer(this.customer);
    };
    AddCustomerComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.myForm = this.fb.group({
            rows: this.fb.array([])
        });
        this.cityForm = this.fb.group({
            cities: this.fb.array([])
        });
        this.vehicleGroupsForm = this.fb.group({
            vehicleGroups: this.fb.array([])
        });
        this.dutyTypesForm = this.fb.group({
            dutyTypes: this.fb.array([])
        });
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.customer.ownerId = data[0].ownerId;
            _this.invoiceService.getTaxes(data[0]).subscribe(function (data) {
                console.log(data);
                _this.tax = data;
                if (_this.customer != null) {
                    _this.taxId = _this.customer.applicableTaxes;
                    var cTax = _this.tax.find(function (x) { return x.id === Number(_this.taxId); });
                    if (cTax != undefined) {
                        var row = _this.fb.group({
                            tax: cTax.name,
                            tempTax: true
                        });
                        _this.applicableTaxes.push(row);
                        _this.taxStatus = true;
                        _this.taxCtrl.setValue(cTax.name);
                    }
                }
                _this.taxes = _this.taxCtrl.valueChanges
                    .pipe(Object(__WEBPACK_IMPORTED_MODULE_3_rxjs_operators__["startWith"])(''), Object(__WEBPACK_IMPORTED_MODULE_3_rxjs_operators__["map"])(function (val) { return _this.filterTax(val); }));
            });
        });
        this.customerGroupService.getCustomerGroups(this.customer).subscribe(function (data) {
            _this.customerGroups = data;
        });
        this.vehicleGroupService.getvehicleGroup(this.user).subscribe(function (data) {
            _this.vehicleGroups = data;
        });
        this.dutyTypeService.getDutyType(this.user).subscribe(function (data) {
            _this.dutyTypes = data;
        });
        this.custStateOptions = this.custStateCtrl.valueChanges
            .pipe(Object(__WEBPACK_IMPORTED_MODULE_3_rxjs_operators__["startWith"])(''), Object(__WEBPACK_IMPORTED_MODULE_3_rxjs_operators__["map"])(function (val) { return _this.filterCustStates(val); }));
        this.billingStateOptions = this.billingStateCtrl.valueChanges
            .pipe(Object(__WEBPACK_IMPORTED_MODULE_3_rxjs_operators__["startWith"])(''), Object(__WEBPACK_IMPORTED_MODULE_3_rxjs_operators__["map"])(function (val) { return _this.filterBillingStates(val); }));
    };
    AddCustomerComponent.prototype.filterCity = function (i) {
        var _this = this;
        this.cities = this.citiesFormCtrl.at(i).get('city').valueChanges
            .pipe(Object(__WEBPACK_IMPORTED_MODULE_3_rxjs_operators__["startWith"])(''), Object(__WEBPACK_IMPORTED_MODULE_3_rxjs_operators__["map"])(function (val) { return _this.filterFromCity(val); }));
    };
    AddCustomerComponent.prototype.filterCustStates = function (val) {
        return this.states.filter(function (option) {
            return option.toLowerCase().includes(val.toLowerCase());
        });
    };
    AddCustomerComponent.prototype.filterBillingStates = function (val) {
        return this.states.filter(function (option) {
            return option.toLowerCase().includes(val.toLowerCase());
        });
    };
    AddCustomerComponent.prototype.filterFromCity = function (val) {
        return this.city.filter(function (option) {
            return option.toLowerCase().includes(val.toLowerCase());
        });
    };
    AddCustomerComponent.prototype.custStateSelect = function (option, event) {
        if (event.source.selected == true) {
            this.customer.state = option;
        }
    };
    AddCustomerComponent.prototype.setCustGroupId = function (option, event) {
        if (event.source.selected == true) {
            this.customer.customerGroupId = option.id;
        }
    };
    AddCustomerComponent.prototype.billingStateSelect = function (option, event) {
        if (event.source.selected == true) {
            this.customer.billingState = option;
        }
    };
    AddCustomerComponent.prototype.citySelect = function (option, event) {
        if (event.source.selected == true) {
            this.customer.baseCityForFuel = option;
        }
    };
    Object.defineProperty(AddCustomerComponent.prototype, "applicableTaxes", {
        get: function () {
            return this.myForm.get('rows');
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AddCustomerComponent.prototype, "citiesFormCtrl", {
        get: function () {
            return this.cityForm.get('cities');
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AddCustomerComponent.prototype, "vehicleGroupsFormCtrl", {
        get: function () {
            return this.vehicleGroupsForm.get('vehicleGroups');
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AddCustomerComponent.prototype, "dutyTypesFormCtrl", {
        get: function () {
            return this.dutyTypesForm.get('dutyTypes');
        },
        enumerable: true,
        configurable: true
    });
    AddCustomerComponent.prototype.deleteRow = function (i) {
        this.applicableTaxes.removeAt(i);
        this.taxStatus = false;
        this.customer.applicableTaxes = null;
    };
    AddCustomerComponent.prototype.addRow = function (temp) {
        var row = this.fb.group({
            tax: '',
            tempTax: temp
        });
        this.applicableTaxes.push(row);
        this.taxStatus = true;
    };
    AddCustomerComponent.prototype.addCity = function (temp) {
        var city = this.fb.group({
            city: '',
        });
        this.citiesFormCtrl.push(city);
    };
    AddCustomerComponent.prototype.deleteCity = function (i, aRow) {
        this.citiesFormCtrl.removeAt(i);
        if (aRow.value.id) {
            this.deletedCity.push(aRow.value);
        }
    };
    AddCustomerComponent.prototype.addVehicleGroup = function (temp) {
        console.log(this.vehicleGroupsFormCtrl);
        var vehicleGroups = this.fb.group({
            vehicleGroupId: '',
            vehicleGroupName: '',
        });
        this.vehicleGroupsFormCtrl.push(vehicleGroups);
    };
    AddCustomerComponent.prototype.deleteVehicleGroup = function (i, aRow) {
        this.vehicleGroupsFormCtrl.removeAt(i);
        if (aRow.value.id) {
            this.deletedVehicleGroup.push(aRow.value);
        }
    };
    AddCustomerComponent.prototype.addDutyType = function (temp) {
        var dutyTypes = this.fb.group({
            dutyTypeId: '',
        });
        this.dutyTypesFormCtrl.push(dutyTypes);
    };
    AddCustomerComponent.prototype.deleteDutyType = function (i, aRow) {
        this.dutyTypesFormCtrl.removeAt(i);
        if (aRow.value.id) {
            this.deletedDutyType.push(aRow.value);
        }
    };
    AddCustomerComponent.prototype.filterTax = function (val) {
        return this.tax.filter(function (option) {
            return option.name.toLowerCase().includes(val.toLowerCase());
        });
    };
    AddCustomerComponent.prototype.setTax = function (option, $event) {
        this.customer.applicableTaxes = option.id;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])("window:beforeunload", ["$event"]),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Event]),
        __metadata("design:returntype", void 0)
    ], AddCustomerComponent.prototype, "unloadHandler", null);
    AddCustomerComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ngx-form-layouts',
            styles: [__webpack_require__("./src/app/pages/masters/addcustomer/addcustomer.component.scss")],
            template: __webpack_require__("./src/app/pages/masters/addcustomer/addcustomer.component.html"),
        }),
        __param(2, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_2__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__newcustomergroup_newcustomergroup_component__["a" /* NewcustomergroupComponent */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["p" /* MatDialogRef */], Object, __WEBPACK_IMPORTED_MODULE_1__customer_customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_10__dutytype_duty_type_service__["a" /* DutyTypeService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_4__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_6__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_8__createinvoice_invoice_service__["a" /* InvoiceService */],
            __WEBPACK_IMPORTED_MODULE_9__vehiclegroups_vehiclegroups_component__["a" /* VehicleGroupsComponent */],
            __WEBPACK_IMPORTED_MODULE_11__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_12__activitylog_service__["a" /* ActivitylogService */]])
    ], AddCustomerComponent);
    return AddCustomerComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/addpurchase/purchase.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PurchaseService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var PurchaseService = (function () {
    function PurchaseService(http) {
        this.http = http;
    }
    PurchaseService.prototype.addPurchase = function (purchase) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        this.http.post('/purchase/add', purchase, { headers: headers }).subscribe(function (res) { return res; });
    };
    PurchaseService.prototype.deletePurchase = function (purchase) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        this.http.post('/purchase/delete', purchase, { headers: headers }).subscribe(function (res) { return res; });
    };
    PurchaseService.prototype.updatePurchase = function (purchase) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        this.http.post('/purchase/update', purchase, { headers: headers }).subscribe(function (res) { return res; });
    };
    PurchaseService.prototype.getPurchase = function () {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.get('/purchase/retrieve', { headers: headers }).map(function (res) { return res.json(); });
    };
    PurchaseService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_http__["b" /* Http */]])
    ], PurchaseService);
    return PurchaseService;
}());



/***/ }),

/***/ "./src/app/pages/masters/addreceipts/receipt.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ReceiptService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var ReceiptService = (function () {
    function ReceiptService(http) {
        this.http = http;
    }
    ReceiptService.prototype.addReceipt = function (receipt) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/add', receipt, { headers: headers }).map(function (res) { return res.json(); });
    };
    ReceiptService.prototype.addHotelReceipt = function (receipt) {
        console.log("service");
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/addHotel', receipt, { headers: headers }).map(function (res) { return res.json(); });
    };
    ReceiptService.prototype.addFlightReceipt = function (receipt) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/addFlight', receipt, { headers: headers }).map(function (res) { return res.json(); });
    };
    ReceiptService.prototype.addVisaReceipt = function (receipt) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/addVisa', receipt, { headers: headers }).map(function (res) { return res.json(); });
    };
    ReceiptService.prototype.addPurchasePayment = function (receipt) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/addPurchasePayments', receipt, { headers: headers }).map(function (res) { return res.json(); });
    };
    ReceiptService.prototype.addInvoices = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/addInvoices', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ReceiptService.prototype.addHotelInvoices = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/addHotelInvoices', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ReceiptService.prototype.addFlightInvoices = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/addFlightInvoices', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ReceiptService.prototype.addVisaInvoices = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/addVisaInvoices', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ReceiptService.prototype.addPurchaseInvoices = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/addPurchaseInvoices', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ReceiptService.prototype.deleteReceipt = function (Receipt) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/delete', Receipt, { headers: headers }).map(function (res) { return res.json(); });
    };
    ReceiptService.prototype.updateReceipt = function (Receipt) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        this.http.post('/receipts/update', Receipt, { headers: headers }).subscribe(function (res) { return res; });
    };
    ReceiptService.prototype.getInvoiceInReceipts = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/retrieveInvoiceInReceipts', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ReceiptService.prototype.getInvoiceInHotelReceipts = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/retrieveInvoiceInHotelReceipts', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ReceiptService.prototype.getInvoiceInFlightReceipts = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/retrieveInvoiceInFlightReceipts', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ReceiptService.prototype.getInvoiceInVisaReceipts = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/retrieveInvoiceInVisaReceipts', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ReceiptService.prototype.getInvoiceInPurchasePayments = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/retrieveInvoiceInPurchasePayments', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ReceiptService.prototype.getReceipt = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/retrieve', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ReceiptService.prototype.getHotelReceipt = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/retrieveHotels', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ReceiptService.prototype.getFlightReceipt = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/retrieveFlights', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ReceiptService.prototype.getVisaReceipt = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/retrieveVisa', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ReceiptService.prototype.getPurchasePayments = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/retrievePurchasePayments', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ReceiptService.prototype.getInvoiceInPurchasePaymentsByIds = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/retrieveInvoiceInPurchasePaymentsByIds', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ReceiptService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["b" /* Http */]])
    ], ReceiptService);
    return ReceiptService;
}());



/***/ }),

/***/ "./src/app/pages/masters/addsuppliers/supplier.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SupplierService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var SupplierService = (function () {
    function SupplierService(http) {
        this.http = http;
    }
    SupplierService.prototype.addSupplier = function (suppliers) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/suppliers/add', suppliers, { headers: headers }).map(function (res) { return res.json(); });
    };
    SupplierService.prototype.addSupplierLimitCity = function (temp) {
        console.log("city");
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/suppliers/addSupplierLimitCity', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    SupplierService.prototype.addSupplierLimitVehicleGroup = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/suppliers/addSupplierLimitVehicleGroup', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    SupplierService.prototype.addSupplierLimitDutyType = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/suppliers/addSupplierLimitDutyType', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    SupplierService.prototype.deleteSupplier = function (suppliers) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/suppliers/delete', suppliers, { headers: headers }).map(function (res) { return res.json(); });
    };
    SupplierService.prototype.deleteSupplierLimitCity = function (suppliers) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/suppliers/deleteSupplierLimitCity', suppliers, { headers: headers }).map(function (res) { return res.json(); });
    };
    SupplierService.prototype.deleteSupplierLimitVehicleGroup = function (suppliers) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/suppliers/deleteSupplierLimitVehicleGroup', suppliers, { headers: headers }).map(function (res) { return res.json(); });
    };
    SupplierService.prototype.deleteSupplierLimitDutyType = function (suppliers) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/suppliers/deleteSupplierLimitDutyType', suppliers, { headers: headers }).map(function (res) { return res.json(); });
    };
    SupplierService.prototype.updateSupplier = function (suppliers) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/suppliers/update', suppliers, { headers: headers }).map(function (res) { return res.json(); });
    };
    SupplierService.prototype.updateSupplierLimitCity = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/suppliers/updateSupplierLimitCity', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    SupplierService.prototype.updateSupplierLimitVehicleGroup = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/suppliers/updateSupplierLimitVehicleGroup', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    SupplierService.prototype.updateSupplierLimitDutyType = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/suppliers/updateSupplierLimitDutyType', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    SupplierService.prototype.getSupplier = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/suppliers/retrieve', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    SupplierService.prototype.getSupplierLimitCity = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/suppliers/retrieveSupplierLimitCity', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    SupplierService.prototype.getSupplierLimitVehicleGroup = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/suppliers/retrieveSupplierLimitVehicleGroup', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    SupplierService.prototype.getSupplierLimitDutyType = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/suppliers/retrieveSupplierLimitDutyType', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    SupplierService.prototype.getDistinctSuppliers = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/suppliers/retrieveDistinctSuppliers', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    SupplierService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["b" /* Http */]])
    ], SupplierService);
    return SupplierService;
}());



/***/ }),

/***/ "./src/app/pages/masters/bookingdispinvoice/bookingdispinvoice.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        Customer\n      </nb-card-header>      \n      <nb-card-body>\n        <mat-table #table [dataSource]=\"dataSource\" matSort>\n\n            <!-- Position Column -->\n          <!-- <ng-container matColumnDef=\"Date\">\n              <mat-header-cell *matHeaderCellDef mat-sort-header> Date. </mat-header-cell>\n              <mat-cell *matCellDef=\"let element\"> {{element.date}} </mat-cell>\n            </ng-container>\n          -->\n          <!-- Name Column -->\n          <ng-container matColumnDef=\"Date\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Date </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.startDate | date: 'dd-MM-yyyy'}} </mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"Customer\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Customer </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.cname}} </mat-cell>\n          </ng-container>\n\n          <!-- Weight Column -->\n          <ng-container matColumnDef=\"Booked by\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Booked by </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.bookBy}} </mat-cell>\n          </ng-container>\n\n          <!-- Symbol Column -->\n          <ng-container matColumnDef=\"Passenger\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Passenger</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.passenger}} </mat-cell>    \n          </ng-container>\n\n          <ng-container matColumnDef=\"Price\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Price </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.totsPrice}} </mat-cell>\n          </ng-container>\n\n          <ng-container matColumnDef=\"Selector\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Selector</mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"><mat-checkbox (change)=\"chooseBooking(element,$event)\" [checked]=\"isSelected(element.id)\"></mat-checkbox>\n            </mat-cell>   \n          </ng-container>\n          \n\n          <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n          <mat-row *matRowDef=\"let row; columns: displayedColumns;\"></mat-row>\n        </mat-table>\n\n        <div align=\"center\" style=\"padding-top:10px\">\n          <button mat-raised-button color=\"primary\" (click)=\"selectBooking()\">Close</button>\n          <!-- <button mat-fab color=\"warn\"(click)=\"selectRow(null)\">Add</button>-->\n          <br><br>\n          <!--  <input type=\"button\" action=\"#\"(click)=\"selectRow(null)\" value=\"+\" class=\"btn btn-success btn-semi-round btn-demo\"> -->\n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/pages/masters/bookingdispinvoice/bookingdispinvoice.component.scss":
/***/ (function(module, exports) {

module.exports = ".example-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  max-height: 500px;\n  min-width: 300px; }\n\nbutton.mat-menu-item {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px; }\n\n.mat-chip {\n  height: 30px;\n  line-height: 30px; }\n"

/***/ }),

/***/ "./src/app/pages/masters/bookingdispinvoice/bookingdispinvoice.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BookingdispinvoiceComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__createinvoice_invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};




var BookingdispinvoiceComponent = (function () {
    function BookingdispinvoiceComponent(dialog, data, auth, booking) {
        //   this.userService.getUser().subscribe(data=>{
        //     this.currUser=data;
        this.dialog = dialog;
        this.data = data;
        this.auth = auth;
        this.booking = booking;
        // bookings: Booking[];
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
        this.invoice = {};
        // editState: boolean = false;
        // bookingToEdit: Booking;
        this.displayedColumns = ['Customer', 'Booked by', 'Passenger', 'Date', 'Price', 'Selector']; //,'Passenger','vgroup','dutyt','status'];
        this.selectedBookings = [];
        this.checkedBookings = [];
        this.currUser = {};
        // })
        // this.selectedBookings.push(null);
        this.selectedCustomer = data.temp.customer;
        this.checkedBookings = data.temp.bookings;
        this.selectedBookings = this.checkedBookings;
        // console.log(this.selectedBookings)
    }
    BookingdispinvoiceComponent.prototype.isSelected = function (id) {
        return this.checkedBookings.find(function (val) { return val.id === id; });
    };
    BookingdispinvoiceComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.booking.getCustBooking(this.selectedCustomer).subscribe(function (data) {
            _this.dataSource.data = data;
        });
    };
    BookingdispinvoiceComponent.prototype.chooseBooking = function (booking, event) {
        var index = this.selectedBookings.indexOf(booking);
        if (event.checked) {
            this.selectedBookings.push(booking);
        }
        else {
            this.selectedBookings.splice(index, 1);
        }
        //   //this.invoice.bookings.push(booking);
    };
    BookingdispinvoiceComponent.prototype.selectBooking = function () {
        this.dialog.close(this.selectedBookings);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], BookingdispinvoiceComponent.prototype, "sort", void 0);
    BookingdispinvoiceComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-bookingdispinvoice',
            template: __webpack_require__("./src/app/pages/masters/bookingdispinvoice/bookingdispinvoice.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/bookingdispinvoice/bookingdispinvoice.component.scss")]
        }),
        __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_material__["p" /* MatDialogRef */], Object, __WEBPACK_IMPORTED_MODULE_3__core_auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_2__createinvoice_invoice_service__["a" /* InvoiceService */]])
    ], BookingdispinvoiceComponent);
    return BookingdispinvoiceComponent;
}());

// export class BookingDatabase{
//     bookingList=new BehaviorSubject([]);
//     get data(){return this.bookingList.value};
//   constructor(private booking:InvoiceService,selectedCustomer:any){
//   this.booking.getCustBooking(selectedCustomer).subscribe((booking)=>{
//    this.bookingList.next(booking);
//   })
// }
// }
// export class BookingDataSource extends DataSource<any> {
//   sortedData;
//   constructor(private bookingDB:BookingDatabase,private sort:MatSort)
//   {
//     super();
//     this.sortedData = this.bookingDB.data.slice();
//   }
//   connect():Observable<any>
//   {
//     const bookingData=[
//       this.bookingDB.bookingList,
//       this.sort.sortChange
//     ];
//    return  Observable.merge(...bookingData).map(()=>{
//       return this.getSortedData();
//     })
//   }
//   disconnect(){}
//   getSortedData() {
//     const data = this.bookingDB.data.slice();
//     if (!this.sort.active || this.sort.direction == '') { return data; }
//     return data.sort((a, b) => {
//       let propertyA: number|string = '';
//       let propertyB: number|string = '';
//       switch (this.sort.active) {
//         case 'Customer': [propertyA, propertyB] = [a.cname, b.cname]; break;
//         case 'Booked by': [propertyA, propertyB] = [a.bookBy, b.bookBy]; break;
//         case 'Passenger': [propertyA, propertyB] = [a.passenger, b.passenger]; break;
//       }
//       let valueA = isNaN(+propertyA) ? propertyA : +propertyA;
//       let valueB = isNaN(+propertyB) ? propertyB : +propertyB;
//       return (valueA < valueB ? -1 : 1) * (this.sort.direction == 'asc' ? 1 : -1);
//     });
//   }
// }


/***/ }),

/***/ "./src/app/pages/masters/createinvoice/createinvoice.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        Create Booking Invoice\n        <b style=\"float: right; font-size: 12px; font-weight: 100;\">*All figures in Rs.</b>\n      </nb-card-header>\n      <nb-card-body class=\"box\">\n        <div class=\"col-lg-12\" style=\"padding:10px;\"> \n          <table>\n            <tr>\n              <td></td>\n            </tr>\n          </table>\n        </div>\n        <div class=\"box2\">\n          <div class=\"col-lg-6 vl\">\n            <table cellpadding=8px>\n              <tr>\n                <td>\n                  <b>Customer Name:</b>\n                </td>\n                <td>\n                  {{selectedCustomer.name}}\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Customer No:</b>\n                </td>\n                <td>\n                  {{selectedCustomer.phone}}\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>State:</b>\n                </td>\n                <td>\n                  {{selectedCustomer.state}}\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Pan:</b>\n                </td>\n                <td>\n                  {{selectedCustomer.panNo}}\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>GSTIN:</b>\n                </td>\n                <td>\n                  {{selectedCustomer.gstin}}\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Billing Address:</b>\n                </td>\n                <td>\n                  {{selectedCustomer.billingAddress}}\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <button mat-raised-button color=\"primary\" (click)=\"selectCustomer()\">Add Customer</button>\n                </td>\n              </tr>\n            </table>\n          </div>\n          <div class=\"col-lg-6\">\n            <table>\n              <tr>\n                <td>\n                  <b>Invoice Number:</b>\n                </td>\n                <td *ngIf=\"businessSettings.invoiceDatesAndNumbering == 'Manual'\">\n                  <mat-form-field>\n                    <input matInput type=\"text\" [(ngModel)]=\"newInvoiceNumber\">\n                  </mat-form-field>                  \n                </td>\n                <td *ngIf=\"businessSettings.invoiceDatesAndNumbering == 'Automatic'\">\n                  {{newInvoiceNumber}}\n                </td>\n              </tr>\n              <tr *ngIf=\"businessSettings.invoiceDatesAndNumbering == 'Manual'\">\n                <td>\n                  <b>Invoice Date:</b>\n                </td>\n                <td>\n                  <mat-form-field>\n                    <input matInput type=\"date\" name=\"date\" [(ngModel)]=\"invoice.invoiceDate\">\n                  </mat-form-field>\n                </td>\n              </tr>\n              <tr *ngIf=\"businessSettings.invoiceDatesAndNumbering == 'Automatic'\">\n                <td>\n                  <b>Invoice Date:</b>\n                </td>\n                <td>\n                  <mat-form-field>\n                    <input matInput type=\"date\" name=\"date\" [(ngModel)]=\"invoice.invoiceDate\" readonly>\n                  </mat-form-field>\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Invoice Period:</b>\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <mat-form-field>\n                    <input matInput [matDatepicker]=\"pickerFrom\" (click)=\"pickerFrom.open()\" [(ngModel)]=\"invoice.invoicePeriodFrom\" placeholder=\"Choose a date\">\n                    <mat-datepicker-toggle matSuffix [for]=\"pickerFrom\"></mat-datepicker-toggle>\n                    <mat-datepicker #pickerFrom></mat-datepicker>\n                  </mat-form-field>\n                </td>\n                <td>\n                  <mat-form-field>\n                    <input matInput [matDatepicker]=\"pickerTo\" (click)=\"pickerTo.open()\" [(ngModel)]=\"invoice.invoicePeriodTo\"placeholder=\"Choose a date\">\n                    <mat-datepicker-toggle matSuffix [for]=\"pickerTo\"></mat-datepicker-toggle>\n                    <mat-datepicker #pickerTo></mat-datepicker>\n                  </mat-form-field>\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>CC Number</b>\n                </td>\n                <td>\n                  <b>PO Number</b>\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <mat-form-field>\n                    <input matInput [(ngModel)]=\"invoice.PONumber\">\n                  </mat-form-field>\n                </td>\n                <td>\n                  <mat-form-field>\n                    <input matInput [(ngModel)]=\"invoice.CCNumber\">\n                  </mat-form-field>\n                </td>\n              </tr>\n            </table>\n          </div>\n        </div>\n        <div class=\"col-lg-12\">\n          <h4></h4>\n          <form [formGroup]=\"myForm\">\n            <div formArrayName=\"rows\">\n              <table style=\"width:100%;margin-top:10px;\" cellpadding=\"10\">\n                <tr class=\"invoiceTable\">\n                  <th>Sr.</th>\n                  <th>Description</th>\n                  <th>Rate</th>\n                  <th>Quantity</th>\n                  <th>Amount</th>\n                  <th></th>\n                </tr>\n                <tbody *ngFor=\"let temp of selectedBookings; let i=index\" >\n                  <tr [formGroupName]=\"i\" style=\"text-align:center;\" class=\"invoiceTable\">                      \n                    <td>\n                      {{i+1}}\n                    </td>\n                    <td class=\"tdleft\">\n                      <b>ReportingAddress:</b>{{temp.reportingAddress}}<br>\n                      <b>DutyType:</b>{{temp.dutyType}}<br>\n                      <b>Vehicle Group:</b>{{temp.vehicleGroup}}<br>\n                      <a *ngIf=\"!this.businessSettings.HideVehicleName\"><b>Vehicle:</b>{{temp.vehicle}}</a>\n                      <b>Passenger Name:</b>{{temp.passenger}}\n                    </td>\n                    <td>\n                      {{temp.totsPrice}}\n                    </td>\n                    <td>\n                      1\n                    </td>\n                    <td>\n                      {{temp.totsPrice}}\n                    </td>\n                    <td>\n                      <button mat-icon-button (click)=\"deleteBooking(i)\"><mat-icon style=\"font-size: 20px\">clear</mat-icon></button>\n                    </td>\n                  </tr>                  \n                  <tr style=\"text-align:center;\" class=\"invoiceTable\" *ngFor=\"let element of temp.extras; let e = index\">\n                    <td colspan=\"3\" style=\"text-align: center;\" *ngIf=\"temp.extras\">{{element.name}}</td>\n                    <td *ngIf=\"temp.extras\">1</td>\n                    <td *ngIf=\"temp.extras\">{{element.charges}}</td>\n                    <td *ngIf=\"temp.extras\"><button mat-icon-button (click)=\"deleteExtra(e,i)\"><mat-icon style=\"font-size: 20px\">clear</mat-icon></button></td>\n                  </tr>\n                </tbody> \n              \n                <tr *ngFor=\"let aRow of invoiceForms.controls; let i=index\" \n                  [formGroupName]=\"i\" class=\"invoiceTable\">                  \n                  <td>\n                    {{i+1}}\n                  </td>\n                  <td>\n                    <mat-form-field>\n                      <input matInput formControlName=\"description\" placeholder=\"Charges\">\n                    </mat-form-field>\n                    <i *ngIf=\"aRow.controls.taxable.value\">(taxable)</i>\n                    <i *ngIf=\"!aRow.controls.taxable.value\">(non-taxable)</i>\n                  </td>\n                  <td>\n                    <mat-form-field>\n                      <input matInput type=\"number\" formControlName=\"rate\" (change)=\"calculateCharges(aRow)\" >\n                    </mat-form-field>\n                  </td>\n                  <td>\n                    <mat-form-field>\n                      <input matInput type=\"number\" formControlName=\"quantity\" (change)=\"calculateCharges(aRow)\">\n                    </mat-form-field>\n                  </td>\n                  <td>\n                    <mat-form-field>\n                      <input matInput type=\"number\" formControlName=\"amount\" disabled>\n                    </mat-form-field>\n                  </td>\n                  <td>\n                    <button mat-icon-button (click)=\"deleteRow(i)\"><mat-icon style=\"font-size: 20px\">clear</mat-icon></button>\n                  </td>\n                </tr>\n                <tr *ngIf=\"isDiscounted\">\n                  <td></td>\n                  <td>\n                    <mat-form-field>\n                      <input matInput placeholder=\"Discount\">\n                    </mat-form-field>\n                    <mat-form-field>\n                      <mat-select [(value)]=\"invoice.discountType\" placeholder=\"Select Type\">\n                        <mat-option value=\"Amount\" (click)=\"getDiscount(1)\">\n                          by Amount\n                        </mat-option>\n                        <mat-option value=\"Percentage\" (click)=\"getDiscount(2)\">\n                          by %\n                        </mat-option>\n                        <mat-option value=\"PercentByHireCharges\" (click)=\"getDiscount(3)\">\n                          by % on Car Hire Charges\n                        </mat-option>\n                      </mat-select>\n                    </mat-form-field>\n                  </td>\n                  <td>\n                    <mat-form-field>\n                      <input matInput type=\"number\" (change)=\"discountRates($event.target.value)\">\n                    </mat-form-field>\n                  </td>\n                  <td></td>\n                  <td>\n                    {{invoice.discountAmount}}\n                  </td>\n                  <td>\n                    <button mat-icon-button (click)=\"isDiscount()\"><mat-icon style=\"font-size: 20px\">clear</mat-icon></button>\n                  </td>\n                </tr>\n                <tr class=\"trcenter\"><td colspan=\"4\">Taxable Amount</td>\n                  <td>\n                    {{totalTaxablePrice}}\n                  </td>\n                </tr>\n                <tr class=\"trcenter\" *ngIf=\"tax\">\n                  <td>\n                    <mat-form-field>\n                      <mat-select [value]=\"custTax\">\n                        <mat-option *ngFor=\"let element of tax\" [value]=\"element.name\" (onSelectionChange)=\"getTax(element.name, element.percent, $event)\">\n                          {{element.name}} -{{element.percent}}%\n                        </mat-option>\n                      </mat-select>                                            \n                    </mat-form-field>\n                  </td>\n                  <td>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">CGST</p>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">SGST</p>\n                    <p *ngIf=\"invoice.taxType == 'IGST'\">IGST</p>\n                  </td>\n                  <td>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">{{invoice.taxRate/2}}</p>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">{{invoice.taxRate/2}}</p>\n                    <p *ngIf=\"invoice.taxType == 'IGST'\">{{invoice.taxRate}}</p>\n                  </td>\n                  <td>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">1</p>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">1</p>\n                    <p *ngIf=\"invoice.taxType == 'IGST'\">1</p>\n                  </td>\n                  <td>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">{{invoice.taxAmount/2}}</p>\n                    <p *ngIf=\"invoice.taxType == 'CGST+SGST'\">{{invoice.taxAmount/2}}</p>\n                    <p *ngIf=\"invoice.taxType == 'IGST'\">{{invoice.taxAmount}}</p>\n                  </td>\n                  <td></td>\n                </tr>\n                <tr class=\"trcenter\"><td colspan=\"4\">Non-Taxable Amount</td>\n                  <td>\n                    {{totalNonTaxablePrice}}\n                  </td>\n                </tr>\n                <tr class=\"trcenter\"><td colspan=\"4\">Gross Total(Rounded Off to nearest whole number):</td>\n                  <td>\n                    {{totalPrice}}\n                  </td>\n                </tr>\n                <tr class=\"trcenter\"><td colspan=\"4\">Advance Paid:</td>\n                  <td>\n                    {{advanceReceived}}\n                  </td>\n                </tr>   \n                <tr class=\"trcenter\"><td colspan=\"4\">Net Total Amount:</td>\n                  <td>\n                    {{totalPrice - advanceReceived}}\n                  </td>\n                </tr>   \n              </table>              \n            </div>\n          </form>\n        </div>\n        <div class=\"invoice-button-container\">\n          <button class=\"invoice-button\" mat-raised-button color=\"primary\" (click)=\"viewBookings()\">Select Bookings</button>          \n          <button class=\"invoice-button\" mat-raised-button color=\"primary\" (click)=\"addRow(true)\">Add Row</button>\n          <button class=\"invoice-button\" mat-raised-button color=\"primary\" (click)=\"addRow(false)\">Add Row(NON-TAXABLE)</button>\n          <button class=\"invoice-button\" *ngIf=\"!isDiscounted\" mat-raised-button color=\"primary\" (click)=\"isDiscount()\">Add Discount</button>\n          <button class=\"invoice-button\" mat-raised-button color=\"primary\" (click)=\"addInvoice()\">Save</button>            \n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>  \n</div>"

/***/ }),

/***/ "./src/app/pages/masters/createinvoice/createinvoice.component.scss":
/***/ (function(module, exports) {

module.exports = "th {\n  text-align: center; }\n\n.box2 {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  border-bottom: 0.1px solid;\n  border-bottom-color: darkgrey; }\n\n.vl {\n  border-right: 0.1px solid;\n  border-right-color: darkgrey; }\n\n.tdleft {\n  text-align: left; }\n\n.trcenter {\n  text-align: center; }\n\n.invoiceTable {\n  border-bottom: 1px solid;\n  border-bottom-color: lightblue; }\n"

/***/ }),

/***/ "./src/app/pages/masters/createinvoice/createinvoice.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateinvoiceComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__customerselection_customerselection_component__ = __webpack_require__("./src/app/pages/masters/customerselection/customerselection.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__bookingdispinvoice_bookingdispinvoice_component__ = __webpack_require__("./src/app/pages/masters/bookingdispinvoice/bookingdispinvoice.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__invoice_service__ = __webpack_require__("./src/app/pages/masters/createinvoice/invoice.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__operations_bookings_service__ = __webpack_require__("./src/app/pages/operations/bookings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__circles_companyprofile_companyprofile_service__ = __webpack_require__("./src/app/pages/circles/companyprofile/companyprofile.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__ng_bootstrap_ng_bootstrap_util_util__ = __webpack_require__("./node_modules/@ng-bootstrap/ng-bootstrap/util/util.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__duties_duties_service__ = __webpack_require__("./src/app/pages/duties/duties.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13_moment__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};














var CreateinvoiceComponent = (function () {
    function CreateinvoiceComponent(fb, dialog, invoiceService, bookingService, customerService, snackBar, auth, route, companyProfileService, router, dutyService) {
        this.fb = fb;
        this.dialog = dialog;
        this.invoiceService = invoiceService;
        this.bookingService = bookingService;
        this.customerService = customerService;
        this.snackBar = snackBar;
        this.auth = auth;
        this.route = route;
        this.companyProfileService = companyProfileService;
        this.router = router;
        this.dutyService = dutyService;
        this.selectedBookings = [];
        this.advanceReceived = 0;
        this.fyear1 = new Date;
        this.fyear2 = new Date;
        this.fmonth = new Date;
        this.user = {};
        this.totalTaxablePrice = 0;
        this.totalNonTaxablePrice = 0;
        this.totalTaxablePriceAfterTax = 0;
        this.totalPrice = 0;
        this.bookingData = null;
        this.tax = [];
        this.bookingIds = [];
        this.extras = [];
        this.isDiscounted = false;
        this.businessSettings = {};
        this.custTax = "";
        this.selectedCustomer = {
            panNo: '',
            caddress: '',
            gstin: '',
            name: '',
            applicableTaxes: 0,
            customerOwnerId: ''
        };
        this.invoice = {
            ownerId: '',
            customerId: '',
            invoiceNumber: '',
            invoiceDate: new Date().toISOString().split('T')[0],
            invoicePeriodFrom: new Date().toISOString().split('T')[0],
            invoicePeriodTo: new Date().toISOString().split('T')[0],
            PONumber: '',
            CCNumber: '',
            discountType: '',
            discountRate: 0,
            discountAmount: 0,
            taxType: '',
            taxRate: 0,
            taxAmount: 0,
            totalAmount: 0,
            advanceReceived: 0,
            taxableAmount: 0,
            nonTaxableAmount: 0,
        };
    }
    CreateinvoiceComponent.prototype.unloadHandler = function (event) {
        console.log("Processing beforeunload...");
        event.returnValue = false;
    };
    CreateinvoiceComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.invoice.ownerId = data[0].ownerId;
            var temp = {
                ownerId: data[0].ownerId
            };
            console.log(temp);
            _this.invoiceService.getTaxes(temp).subscribe(function (data) {
                console.log(data);
                _this.tax = data;
                // this.getTax(this.tax[0].name, this.tax[0].percent);
            });
            console.log(_this.tax);
            _this.invoiceService.getInvoices(temp).subscribe(function (data) {
                var temp = {
                    ownerId: data[0].ownerId
                };
                _this.invoiceNumber = data[0].invoiceNumber;
                _this.companyProfileService.getCompanyProfile(temp).subscribe(function (data) {
                    if (data[0].invoicePrefix == null) {
                        _this.prefix = data[0].name;
                        _this.prefix = _this.prefix.substr(0, 3).toUpperCase();
                    }
                    else {
                        // console.log(data[0].invoicePrefix)
                        _this.prefix = data[0].invoicePrefix;
                    }
                    // console.log(((this.fyear1.getFullYear())-1).toString().slice(2,4));
                    if ((_this.fmonth.getMonth() + 1) > 3) {
                        _this.newYear1 = ((_this.fyear1.getFullYear())).toString().slice(2, 4);
                        _this.newYear2 = ((_this.fyear2.getFullYear()) + 1).toString().slice(2, 4);
                    }
                    else if ((_this.fmonth.getMonth() + 1) < 4) {
                        _this.newYear1 = ((_this.fyear1.getFullYear()) - 1).toString().slice(2, 4);
                        _this.newYear2 = ((_this.fyear2.getFullYear())).toString().slice(2, 4);
                    }
                    // console.log((this.fyear2.getFullYear())+1);                    
                    // console.log(this.fmonth.getMonth()+1);
                    // if((this.fmonth.getMonth()+1) > 9) {
                    //   this.newMonth = (this.fmonth.getMonth()+1).toString();
                    //   console.log(this.newMonth);
                    // }
                    // else if((this.fmonth.getMonth()+1) < 10) {
                    //   this.newMonth = "0"+(this.fmonth.getMonth()+1).toString();
                    //   console.log(this.newMonth);
                    // }
                    // console.log(this.prefix)
                    // console.log(this.invoiceNumber.replace(this.prefix, ""));
                    _this.invoiceNumber = _this.invoiceNumber.replace(_this.prefix, "");
                    // console.log(this.invoiceNumber)
                    _this.oldYear1 = _this.invoiceNumber.substr(0, 2);
                    // console.log(this.oldYear1);
                    _this.oldYear2 = _this.invoiceNumber.substr(2, 2);
                    // console.log(this.oldYear2);
                    // this.oldMonth = this.invoiceNumber.substr(4,2);
                    // console.log(this.oldMonth);
                    // console.log(this.invoiceNumber.substr(6));
                    _this.subInvoiceNumber = _this.invoiceNumber.substr(4);
                    // console.log(this.invoiceNumber);
                    // this.newInvoiceNumber = toInteger(this.invoiceNumber);
                    // this.newInvoiceNumber++;
                    if ((_this.newYear1 == _this.oldYear1) && (_this.newYear2 == _this.oldYear2) /*&& (this.oldMonth == this.newMonth)*/) {
                        if (_this.subInvoiceNumber == "9999") {
                            _this.newSubInvoiceNumber = Object(__WEBPACK_IMPORTED_MODULE_11__ng_bootstrap_ng_bootstrap_util_util__["h" /* toInteger */])(_this.subInvoiceNumber);
                            _this.newSubInvoiceNumber++;
                            _this.newInvoiceNumber = _this.prefix + _this.newYear1 + _this.newYear2 /*+this.newMonth*/ + _this.newSubInvoiceNumber;
                        }
                        else {
                            _this.newSubInvoiceNumber = Object(__WEBPACK_IMPORTED_MODULE_11__ng_bootstrap_ng_bootstrap_util_util__["h" /* toInteger */])(_this.invoiceNumber);
                            _this.newSubInvoiceNumber++;
                            _this.newInvoiceNumber = _this.prefix + _this.newSubInvoiceNumber;
                        }
                    }
                    else if (_this.newYear1 != _this.oldYear1) {
                        _this.newInvoiceNumber = _this.prefix + _this.newYear1 + _this.newYear2 /*+this.newMonth*/ + "0001";
                    }
                    // else if(this.newMonth != this.oldMonth) {
                    //   this.newInvoiceNumber = this.prefix+this.newYear1+this.newYear2+this.newMonth+"0001";
                    // }
                    console.log(_this.newInvoiceNumber);
                });
            });
        });
        this.auth.businessSettings.subscribe(function (data) {
            _this.businessSettings = data;
        });
        this.myForm = this.fb.group({
            rows: this.fb.array([])
        });
        this.taxForm = this.fb.group({
            taxrows: this.fb.array([]),
        });
        this.bookingData = this.bookingService.getBookingId();
        if (this.bookingData != null) {
            this.getCustomer();
            this.getBookings();
            console.log(this.bookingData);
        }
        this.bookingService.setBookingId(null);
    };
    CreateinvoiceComponent.prototype.getCustomer = function () {
        var _this = this;
        this.customerService.getSingleCustomer(this.bookingData).subscribe(function (data) {
            console.log(data);
            _this.selectedCustomer = data[0];
        });
    };
    CreateinvoiceComponent.prototype.getBookings = function () {
        var _this = this;
        this.bookingService.getBookingsForInvoice(this.bookingData).subscribe(function (data) {
            console.log(data);
            _this.selectedBookings = data;
        });
    };
    CreateinvoiceComponent.prototype.viewBookings = function () {
        var _this = this;
        if (this.selectedCustomer.id != null) {
            var temp = {
                customer: this.selectedCustomer.id,
                bookings: this.selectedBookings
            };
            console.log(temp);
            var dialTemp = this.dialog.open(__WEBPACK_IMPORTED_MODULE_4__bookingdispinvoice_bookingdispinvoice_component__["a" /* BookingdispinvoiceComponent */], { autoFocus: false, disableClose: true, data: { temp: temp } });
            dialTemp.afterClosed().subscribe(function (data) {
                if (data) {
                    _this.selectedBookings = data;
                    console.log(_this.selectedBookings[0]);
                    _this.selectedBookings.forEach(function (element) {
                        _this.bookingIds.push(element.id);
                        if (element.advance != null) {
                            _this.advanceReceived += element.advance;
                        }
                    });
                    console.log(_this.selectedBookings);
                    _this.invoice.advanceReceived = _this.advanceReceived;
                    if (_this.selectedBookings.length > 0) {
                        _this.invoiceService.getExtraCharges({ idArray: _this.bookingIds }).subscribe(function (data) {
                            console.log(data);
                            _this.extras = data;
                            for (var v in _this.selectedBookings) {
                                console.log(v);
                                for (var e in _this.extras) {
                                    console.log(e);
                                    if (_this.extras[e].bookyId == _this.selectedBookings[v].id) {
                                        if (_this.selectedBookings[v].extras == undefined) {
                                            _this.selectedBookings[v].extras = [{ name: _this.extras[e].name, charges: _this.extras[e].charges }];
                                        }
                                        else {
                                            _this.selectedBookings[v].extras.push({ name: _this.extras[e].name, charges: _this.extras[e].charges });
                                        }
                                    }
                                }
                            }
                        });
                    }
                    // this.additionalCharges.length = 0;                    
                    // this.selectedBookings.forEach(element => {
                    //   this.additionalCharge = 0;
                    //   this.invoiceService.getCloseExtras(element).subscribe(data => {
                    //     data.forEach(element => {
                    //       this.additionalCharge+= Number(element.charges);
                    //       this.additionalChargeQty=Number(this.additionalChargeQty)+1;
                    //     });
                    //     this.additionalCharges.push(this.additionalCharge);            
                    //     console.log(this.additionalCharges, this.additionalCharge)
                    //     console.log(data);
                    //   })            
                    // })
                }
                _this.calculateTotal();
                // this.getTax(1);
            });
        }
        else {
            this.snackBar.open('Select Customer', null, {
                duration: 5000,
            });
        }
    };
    CreateinvoiceComponent.prototype.selectCustomer = function () {
        var _this = this;
        var dial = this.dialog.open(__WEBPACK_IMPORTED_MODULE_3__customerselection_customerselection_component__["a" /* CustomerselectionComponent */], { autoFocus: false, disableClose: true });
        dial.afterClosed().subscribe(function (data) {
            if (data) {
                _this.selectedCustomer = data;
                console.log(_this.selectedCustomer);
                _this.invoice.customerId = data.id;
                console.log(_this.selectedCustomer.applicableTaxes);
                var cTax = _this.tax.find(function (x) { return x.id === Number(_this.selectedCustomer.applicableTaxes); });
                if (cTax != undefined)
                    _this.custTax = cTax.name;
            }
        });
    };
    Object.defineProperty(CreateinvoiceComponent.prototype, "invoiceForms", {
        get: function () {
            return this.myForm.get('rows');
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CreateinvoiceComponent.prototype, "taxableForms", {
        get: function () {
            return this.taxForm.get('taxrows');
        },
        enumerable: true,
        configurable: true
    });
    CreateinvoiceComponent.prototype.addRow = function (taxableTemp) {
        var row = this.fb.group({
            description: '',
            rate: '',
            quantity: '',
            amount: '',
            taxable: taxableTemp,
        });
        this.invoiceForms.push(row);
    };
    CreateinvoiceComponent.prototype.addBookingRow = function (booking) {
        var row = this.fb.group({
            description: "Reporting Address:\r\n" + booking.reportingAddress,
            rate: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */](''),
            quantity: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */](''),
            amount: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */](''),
            taxable: true,
        });
        this.invoiceForms.push(row);
    };
    CreateinvoiceComponent.prototype.addTax = function () {
        var row = this.fb.group({
            taxtype: '',
            percentage: ''
        });
        this.taxableForms.push(row);
    };
    CreateinvoiceComponent.prototype.deleteRow = function (i) {
        this.invoiceForms.removeAt(i);
        this.calculateTotal();
    };
    CreateinvoiceComponent.prototype.deleteTaxRow = function (i) {
        this.taxableForms.removeAt(i);
    };
    CreateinvoiceComponent.prototype.deleteBooking = function (i) {
        this.selectedBookings.splice(i, 1);
    };
    CreateinvoiceComponent.prototype.deleteExtra = function (e, i) {
        console.log(this.selectedBookings, i, e);
        this.selectedBookings[i].extraChargesTotal = Number(this.selectedBookings[i].extraChargesTotal) - Number(this.selectedBookings[i].extras[e].charges);
        this.selectedBookings[i].extras.splice(i, 1);
        this.calculateTotal();
    };
    CreateinvoiceComponent.prototype.getTax = function (option1, option2, event) {
        if (event.source.selected == true) {
            this.invoice.taxType = option1;
            this.invoice.taxRate = option2;
            this.calculateTotal();
        }
        // if(option==1)
        // {
        //   this.invoice.taxType="CGST+SGST";
        // }
        // else if(option==2)
        // {
        //    this.invoice.taxType="IGST";
        // }
        // this.invoiceService.getTax(this.invoice.taxType).subscribe(data=>{
        //   this.invoice.taxRate=data[0].percent;
        //   this.calculateTotal();
        // });
    };
    CreateinvoiceComponent.prototype.calculateCharges = function (element) {
        element.get('amount').setValue(element.value.rate * element.value.quantity);
        this.calculateTotal();
        // this.getTax(1);
    };
    CreateinvoiceComponent.prototype.calculateTotal = function () {
        var _this = this;
        this.totalPrice = 0;
        //taxable row calculation
        this.totalTaxablePrice = 0;
        this.totalNonTaxablePrice = 0;
        this.invoice.taxAmount = 0;
        this.selectedBookings.forEach(function (element) {
            console.log(element);
            _this.totalTaxablePrice = _this.totalTaxablePrice + Number(element.totsPrice) + Number(element.extraChargesTotal);
        });
        if (this.isDiscounted == true) {
            if (this.invoice.discountType == "Hire") {
                this.invoice.discountAmount = this.invoice.discountRate / 100 * this.totalTaxablePrice;
            }
        }
        this.invoiceForms.controls.forEach(function (element) {
            if (element.value.taxable) {
                _this.totalTaxablePrice += element.value.amount;
            }
            else if (!element.value.taxable) {
                _this.totalNonTaxablePrice += element.value.amount;
            }
        });
        if (this.isDiscounted)
            this.calculateDiscount();
        this.invoice.taxAmount = (Number(this.invoice.taxRate) / 100) * Number(this.totalTaxablePrice);
        this.totalTaxablePriceAfterTax = Number(this.totalTaxablePrice) + Number(this.invoice.taxAmount);
        this.totalPrice = Number(this.totalTaxablePriceAfterTax) + Number(this.totalNonTaxablePrice);
        console.log((Math.ceil(this.totalPrice) - this.totalPrice));
        if ((Math.ceil(this.totalPrice) - this.totalPrice) < 0.50) {
            this.totalPrice = Math.ceil(this.totalPrice);
            console.log(this.totalPrice);
        }
        else if ((Math.ceil(this.totalPrice) - this.totalPrice) > 0.50) {
            this.totalPrice = Math.floor(this.totalPrice);
            console.log(this.totalPrice);
        }
    };
    //add invoice
    CreateinvoiceComponent.prototype.addInvoice = function () {
        var _this = this;
        this.invoice.invoicePeriodFrom = __WEBPACK_IMPORTED_MODULE_13_moment__(this.invoice.invoicePeriodFrom).format('YYYY-MM-DD');
        this.invoice.invoicePeriodTo = __WEBPACK_IMPORTED_MODULE_13_moment__(this.invoice.invoicePeriodTo).format('YYYY-MM-DD');
        var extra = [];
        this.invoiceForms.controls.forEach(function (element) {
            extra.push(element.value);
        });
        this.invoice.invoiceNumber = this.newInvoiceNumber;
        this.invoice.customerId = this.selectedCustomer.id;
        this.invoice.totalAmount = this.totalPrice;
        this.invoice.taxableAmount = this.totalTaxablePrice;
        this.invoice.nonTaxableAmount = this.totalNonTaxablePrice;
        var temp = {
            invoice: this.invoice,
            booking: this.selectedBookings,
            extra: extra
        };
        console.log(temp);
        this.invoiceService.addInvoice(temp).subscribe(function (data) {
            _this.selectedBookings.forEach(function (element) {
                _this.dutyService.getDutyByBId(element).subscribe(function (data) {
                    console.log(data);
                    if (data[0].ownerDId != null) {
                        var temp = {
                            id: data[0].ownerDId
                        };
                        _this.dutyService.getDutyById(temp).subscribe(function (data) {
                            console.log(data);
                            _this.invoice.ownerId = data[0].ownerId;
                            var cid = {
                                cownerId: _this.user.ownerId,
                                ownerId: _this.invoice.ownerId
                            };
                            console.log(cid);
                            _this.customerService.getCustomerId(cid).subscribe(function (data) {
                                console.log(data);
                                _this.invoice.customerId = data[0].id;
                                var temp2 = {
                                    invoice: _this.invoice,
                                    booking: [element],
                                    extra: extra,
                                    duty: null,
                                    name: _this.user.name,
                                    ownerId: data[0].customerOwnerId
                                };
                                _this.invoiceService.addInvoicePurchase(temp2).subscribe(function (data) {
                                    console.log(data);
                                });
                            });
                        });
                    }
                });
            });
        }, function (err) { }, function () {
            _this.snackBar.open("Invoice Created", "X", { duration: 3000 });
            _this.router.navigateByUrl('/pages/masters/invoicedisplay');
        });
    };
    CreateinvoiceComponent.prototype.isDiscount = function () {
        this.isDiscounted = !this.isDiscounted;
        this.calculateTotal();
    };
    CreateinvoiceComponent.prototype.calculateDiscount = function () {
        if (this.isDiscounted == true) {
            if (this.invoice.discountType == "Amount") {
                this.invoice.discountAmount = Number(this.invoice.discountRate);
            }
            else if (this.invoice.discountType == "Percent") {
                this.invoice.discountAmount = Number(this.invoice.discountRate / 100 * this.totalTaxablePrice);
            }
            this.totalTaxablePrice = this.totalTaxablePrice - this.invoice.discountAmount;
        }
    };
    CreateinvoiceComponent.prototype.getDiscount = function (option) {
        if (option == 1)
            this.invoice.discountType = "Amount";
        else if (option == 2)
            this.invoice.discountType = "Percent";
        else if (option == 3)
            this.invoice.discountType = "Hire";
        this.calculateTotal();
    };
    CreateinvoiceComponent.prototype.discountRates = function (discountRate) {
        this.invoice.discountRate = discountRate;
        this.calculateTotal();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])("window:beforeunload", ["$event"]),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Event]),
        __metadata("design:returntype", void 0)
    ], CreateinvoiceComponent.prototype, "unloadHandler", null);
    CreateinvoiceComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-createinvoice',
            template: __webpack_require__("./src/app/pages/masters/createinvoice/createinvoice.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/createinvoice/createinvoice.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["n" /* MatDialog */], __WEBPACK_IMPORTED_MODULE_5__invoice_service__["a" /* InvoiceService */],
            __WEBPACK_IMPORTED_MODULE_8__operations_bookings_service__["a" /* BookingsService */],
            __WEBPACK_IMPORTED_MODULE_9__customer_customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_6__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_7__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_10__circles_companyprofile_companyprofile_service__["a" /* CompanyprofileService */],
            __WEBPACK_IMPORTED_MODULE_7__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_12__duties_duties_service__["a" /* DutiesService */]])
    ], CreateinvoiceComponent);
    return CreateinvoiceComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/createinvoice/invoice.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return InvoiceService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var InvoiceService = (function () {
    function InvoiceService(http) {
        this.http = http;
    }
    InvoiceService.prototype.getCustBooking = function (custId) {
        var t = {
            id: custId
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/retrieveCompletedBookings', t, { headers: headers })
            .map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.getBookingsInInvoice = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/retrievebookingsInInvoice', temp, { headers: headers })
            .map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.getPurchaseInInvoice = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/retrievepurchaseInInvoice', temp, { headers: headers })
            .map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.getPurchaseInInvoiceByBooking = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/retrievepurchaseInInvoiceByBooking', temp, { headers: headers })
            .map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.getHotelsInInvoice = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/retrieveHotelsInInvoices', temp, { headers: headers })
            .map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.getInvoiceInHotels = function (temp) {
        var temp1 = {
            id: temp
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/retrieveInvoiceInHotels', temp1, { headers: headers })
            .map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.getFlightsInInvoice = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/retrieveFlightsInInvoice', temp, { headers: headers })
            .map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.getVisaInInvoice = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/retrieveVisaInInvoice', temp, { headers: headers })
            .map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.getInvoiceInFlights = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/retrieveInvoiceInFlights', temp, { headers: headers })
            .map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.getInvoiceExtras = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/retrieveInvoiceExtra', temp, { headers: headers })
            .map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.getDutySummary = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/findDutySummary', temp, { headers: headers })
            .map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.getDutySummaryForPurchase = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/findDutySummaryForPurchase', temp, { headers: headers })
            .map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.getCloseExtras = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/retrieveCloseExtras', temp, { headers: headers })
            .map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.addInvoice = function (temp) {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/add', temp.invoice, { headers: headers }).map(function (res) {
            res.json().map(function (data) {
                var invoiceId = data.ID;
                _this.addBookings(invoiceId, temp.booking);
                // this.addHotelBookings(invoiceId,temp.hotel);
                // this.addFlightBookings(invoiceId,temp.flight)
                _this.addExtras(invoiceId, temp.extra);
            });
        });
    };
    InvoiceService.prototype.addInvoiceHotel = function (temp) {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/addHotelInvoice', temp.invoice, { headers: headers }).map(function (res) {
            res.json().map(function (data) {
                var invoiceId = data.ID;
                // this.addBookings(invoiceId,temp.booking);
                _this.addHotelBookings(invoiceId, temp.hotel);
                // this.addFlightBookings(invoiceId,temp.flight)
                _this.addHotelExtras(invoiceId, temp.extra);
            });
        });
    };
    InvoiceService.prototype.addInvoiceFlight = function (temp) {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/addFlightInvoice', temp.invoice, { headers: headers }).map(function (res) {
            res.json().map(function (data) {
                var invoiceId = data.ID;
                // this.addBookings(invoiceId,temp.booking);
                // this.addHotelBookings(invoiceId,temp.hotel);
                _this.addFlightBookings(invoiceId, temp.flight);
                _this.addFlightExtras(invoiceId, temp.extra);
            });
        });
    };
    InvoiceService.prototype.addInvoiceVisa = function (temp) {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/addVisaInvoice', temp.invoice, { headers: headers }).map(function (res) {
            res.json().map(function (data) {
                var invoiceId = data.ID;
                // this.addBookings(invoiceId,temp.booking);
                // this.addHotelBookings(invoiceId,temp.hotel);
                _this.addVisaBookings(invoiceId, temp.booking);
                _this.addVisaExtras(invoiceId, temp.extra);
            });
        });
    };
    InvoiceService.prototype.addInvoicePurchase = function (temp) {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/addPurchaseInvoice', temp.invoice, { headers: headers }).map(function (res) {
            res.json().map(function (data) {
                var invoiceId = data.ID;
                _this.addPurchaseBookings(invoiceId, temp.booking, temp.duty);
                _this.addPurchaseExtras(invoiceId, temp.extra);
                // this.addBookings(invoiceId,temp.booking);
                // this.addHotelBookings(invoiceId,temp.hotel);
                // this.addFlightBookings(invoiceId,temp.flight)
                // this.addFlightExtras(invoiceId,temp.extra)
            });
        });
    };
    InvoiceService.prototype.addBookings = function (invoiceId, booking) {
        var _this = this;
        booking.forEach(function (element) {
            var booking = {
                bookingId: element.id,
                invoiceId: invoiceId,
                extraChargesTotal: element.extraChargesTotal,
            };
            var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
            return _this.http.post('/invoice/addBooking', booking, { headers: headers }).subscribe();
        });
    };
    InvoiceService.prototype.addHotelBookings = function (invoiceId, booking) {
        var _this = this;
        booking.forEach(function (element) {
            var booking = {
                hotelBookingId: element.id,
                invoiceId: invoiceId
            };
            var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
            return _this.http.post('/invoice/addHotelBooking', booking, { headers: headers }).subscribe();
        });
    };
    InvoiceService.prototype.addFlightBookings = function (invoiceId, booking) {
        var _this = this;
        booking.forEach(function (element) {
            var booking = {
                flightBookingId: element.id,
                invoiceId: invoiceId
            };
            var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
            return _this.http.post('/invoice/addFlightBooking', booking, { headers: headers }).subscribe();
        });
    };
    InvoiceService.prototype.addVisaBookings = function (invoiceId, booking) {
        var _this = this;
        booking.forEach(function (element) {
            var booking = {
                visaId: element.visaId,
                invoiceId: invoiceId
            };
            var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
            return _this.http.post('/invoice/addVisaBooking', booking, { headers: headers }).subscribe();
        });
    };
    InvoiceService.prototype.addPurchaseBookings = function (invoiceId, booking, duty) {
        var _this = this;
        if (duty == null) {
            booking.forEach(function (element) {
                var booking = {
                    bookingId: element.id,
                    invoiceId: invoiceId
                };
                var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
                return _this.http.post('/invoice/addPurchaseBooking', booking, { headers: headers }).subscribe();
            });
        }
        else {
            duty.forEach(function (element) {
                var booking = {
                    dutyId: element.id,
                    invoiceId: invoiceId
                };
                var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
                return _this.http.post('/invoice/addPurchaseBooking', booking, { headers: headers }).subscribe();
            });
        }
    };
    InvoiceService.prototype.addExtras = function (invoiceId, extra) {
        var _this = this;
        extra.forEach(function (element) {
            element.invoiceId = invoiceId;
            var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
            return _this.http.post('/invoice/addExtras', element, { headers: headers }).subscribe();
        });
    };
    InvoiceService.prototype.addHotelExtras = function (invoiceId, extra) {
        var _this = this;
        extra.forEach(function (element) {
            element.invoiceId = invoiceId;
            var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
            return _this.http.post('/invoice/addHotelExtras', element, { headers: headers }).subscribe();
        });
    };
    InvoiceService.prototype.addFlightExtras = function (invoiceId, extra) {
        var _this = this;
        extra.forEach(function (element) {
            element.invoiceId = invoiceId;
            var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
            return _this.http.post('/invoice/addFlightExtras', element, { headers: headers }).subscribe();
        });
    };
    InvoiceService.prototype.addVisaExtras = function (invoiceId, extra) {
        var _this = this;
        extra.forEach(function (element) {
            element.invoiceId = invoiceId;
            var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
            return _this.http.post('/invoice/addVisaExtras', element, { headers: headers }).subscribe();
        });
    };
    InvoiceService.prototype.addPurchaseExtras = function (invoiceId, extra) {
        var _this = this;
        extra.forEach(function (element) {
            element.invoiceId = invoiceId;
            var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
            return _this.http.post('/invoice/addPurchaseExtras', element, { headers: headers }).subscribe();
        });
    };
    InvoiceService.prototype.getTaxes = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/taxes/retrieve', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.getTax = function (tax) {
        var t = {
            tax: tax
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/taxes/retrieveTax', t, { headers: headers }).map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.getCustInvoices = function (custId) {
        var temp = {
            customerId: custId
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/retrieveInvoices', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.getCustInvoicesInHotels = function (custId) {
        var temp = {
            customerId: custId
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/retrieveInvoicesInHotels', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.getCustInvoicesInFlights = function (custId) {
        var temp = {
            customerId: custId
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/retrieveInvoicesInFlights', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.getCustInvoicesInVisa = function (custId) {
        var temp = {
            customerId: custId
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/retrieveInvoicesInVisa', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.getCustPurchaseInvoices = function (custId) {
        var temp = {
            customerId: custId
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/receipts/retrievePurchaseInvoices', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.getInvoices = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/retrieve', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.getPurchaseInvoices = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/retrievePurchaseInvoice', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.getHotelInvoices = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/retrieveHotelInvoices', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.getFlightsInvoices = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/retrieveAllInvoiceInFlights', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.getVisaInvoices = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/retrieveAllInvoiceInVisa', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.updateInvoice = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/updateInvoice', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.updateHotelInvoice = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/updateHotelInvoice', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.updateFlightInvoice = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/updateFlightInvoice', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.updateVisaInvoice = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/updateVisaInvoice', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.updatePurchaseInvoice = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/updatePurchaseInvoice', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.setEditData = function (temp) {
        localStorage.setItem('cabInvoice', JSON.stringify(temp));
    };
    InvoiceService.prototype.setViewHotelInvoice = function (temp) {
        localStorage.setItem('hotelInvoice', JSON.stringify(temp));
    };
    InvoiceService.prototype.setViewFlightInvoice = function (temp) {
        localStorage.setItem('flightInvoice', JSON.stringify(temp));
    };
    InvoiceService.prototype.setViewVisaInvoice = function (temp) {
        localStorage.setItem('visaInvoice', JSON.stringify(temp));
    };
    InvoiceService.prototype.getExtraCharges = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/retrieveExtraCharges', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    InvoiceService.prototype.getExtraChargesForDuties = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/invoice/retrieveExtraChargesForDuties', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    InvoiceService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], InvoiceService);
    return InvoiceService;
}());



/***/ }),

/***/ "./src/app/pages/masters/customer/customer.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\r\n  <div class=\"col-lg-12\" >\r\n    <nb-card>\r\n      <nb-card-header>\r\n        Customer\r\n        <button style=\"float: right;margin-top: -10px;\" mat-icon-button [matMenuTriggerFor]=\"menu\"><mat-icon>settings</mat-icon></button>\r\n        <mat-menu #menu=\"matMenu\" class=\"mat-menu-panel\">\r\n          <button mat-menu-item (click)=\"importCustomers()\">Import Customers</button>\r\n          <button mat-menu-item (click)=\"viewRecurringPassengers()\">View Recurring Passengers</button>\r\n          <button mat-menu-item (click)=\"viewRecurringBookedBy()\">View Recurring Booked By</button>\r\n          <button *ngIf=\"permission.viewCustomerGroup\" mat-menu-item (click)=\"customerGroupDisplay()\">View Customer Group</button>\r\n        </mat-menu>\r\n      </nb-card-header>\r\n      <nb-card-body>\r\n        <div align=\"center\">\r\n          <mat-form-field class=\"filter-field\">\r\n            <input matInput   placeholder=\"Filter\"   [(ngModel)]=\"searchTerm\" (keyup)=\"search($event.target.value)\">\r\n          </mat-form-field>\r\n          \r\n          <button mat-icon-button><mat-icon class=\"filter-icon\">search</mat-icon></button>\r\n          <button mat-icon-button (click)=\"clear()\"><mat-icon class=\"filter-icon\">highlight_off</mat-icon></button>\r\n        </div>\r\n        <mat-table  [dataSource]=\"dataSource\" matSort matSortActive=\"name\" matSortDirection=\"asc\" matSortDisableClear>\r\n      \r\n          <!-- Weight Column -->\r\n          <ng-container matColumnDef=\"name\">\r\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Name </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\"> {{element.name}} </mat-cell>\r\n          </ng-container>\r\n            \r\n          <!-- Symbol Column --> \r\n          <ng-container matColumnDef=\"phone\">\r\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Phone </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\"> {{element.phone}} </mat-cell>\r\n          </ng-container>\r\n    \r\n          <!-- Symbol Column --> \r\n          <ng-container matColumnDef=\"email\">\r\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Email </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\"> {{element.email}} </mat-cell>\r\n          </ng-container>\r\n\r\n          <!-- Symbol Column --> \r\n          <ng-container matColumnDef=\"state\">\r\n            <mat-header-cell *matHeaderCellDef mat-sort-header> State </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\"> {{element.state}} </mat-cell>\r\n          </ng-container>\r\n\r\n          <!-- Symbol Column --> \r\n          <ng-container matColumnDef=\"contractSDate\">\r\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Contract Start Date </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\"><p style=\"margin: auto\" *ngIf=\"element.contractSDate != 'Invalid date'\"> {{element.contractSDate}} </p> </mat-cell>\r\n          </ng-container>\r\n    \r\n          <!-- Symbol Column --> \r\n          <ng-container matColumnDef=\"custGroup\">\r\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Customer Group </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\"> {{element.custGroup}} </mat-cell>\r\n          </ng-container>\r\n  \r\n          <ng-container matColumnDef=\"Options\">\r\n            <mat-header-cell *matHeaderCellDef> Options</mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element ;let row\" (click)=\"$event.stopPropagation()\">\r\n              <button mat-icon-button *ngIf=\"permission.manageCustomer==1\" [matMenuTriggerFor]=\"menu\"><mat-icon>more_vert</mat-icon></button>\r\n              <mat-menu #menu=\"matMenu\">\r\n                <!-- <button mat-menu-item (click)=\"selectRow(row)\">Edit</button> -->\r\n                <!-- <button (click)=\"deleteCust(row)\" mat-menu-item>Delete</button> -->\r\n                <button *ngIf=\"element.active\" (click)=\"deactivateCustomer(row)\" mat-menu-item>Deactivate</button>\r\n                <button *ngIf=\"!element.active\" (click)=\"activateCustomer(row)\" mat-menu-item>Activate</button>\r\n              </mat-menu>\r\n            </mat-cell>\r\n          </ng-container>\r\n              \r\n          <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\r\n          <mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"selectRow(row)\"></mat-row>\r\n        </mat-table>\r\n        <mat-paginator [length]=\"length\"\r\n          [pageSize]=\"pageSize\"\r\n          [pageSizeOptions]=\"pageSizeOptions\"></mat-paginator>\r\n            \r\n      </nb-card-body>\r\n    </nb-card>\r\n  </div>\r\n  <div class=\"col-lg-12\" align=\"right\">\r\n    <a *ngIf=\"permission.addCustomer==1\" (click)=\"selectRow(row)\" class=\"float\">\r\n      <i style=\"color: ghostwhite\" class=\"fa fa-plus my-float\"></i>\r\n    </a>\r\n  </div>\r\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/customer/customer.component.scss":
/***/ (function(module, exports) {

module.exports = "button.mat-menu-item {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px; }\n\n.mat-chip {\n  height: 30px;\n  line-height: 30px; }\n\n.mat-icon {\n  font-size: 17px; }\n"

/***/ }),

/***/ "./src/app/pages/masters/customer/customer.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CustomerComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Rx__ = __webpack_require__("./node_modules/rxjs/_esm5/Rx.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__addcustomer_addcustomer_component__ = __webpack_require__("./src/app/pages/masters/addcustomer/addcustomer.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__modals_confirm_confirm_component__ = __webpack_require__("./src/app/pages/modals/confirm/confirm.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__sub_users_sub_user_service__ = __webpack_require__("./src/app/pages/masters/sub-users/sub-user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__importcustomer_importcustomer_component__ = __webpack_require__("./src/app/pages/masters/importcustomer/importcustomer.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var CustomerComponent = (function () {
    function CustomerComponent(customerService, dialog, auth, snackBar, router, permissionService) {
        this.customerService = customerService;
        this.dialog = dialog;
        this.auth = auth;
        this.snackBar = snackBar;
        this.router = router;
        this.permissionService = permissionService;
        this.pageSize = 10; // set default to 10
        this.pageSizeOptions = [10, 15, 25, 40];
        // dutytype: dutyType[];
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_2__angular_material__["O" /* MatTableDataSource */]();
        // editState: boolean = false;
        // dutyTypeToEdit: dutyType;
        this.displayedColumns = ['name', 'phone', 'email', 'state', 'contractSDate', 'custGroup', 'Options'];
        this.custName = [];
        this.startAt = new __WEBPACK_IMPORTED_MODULE_1_rxjs_Rx__["b" /* Subject */]();
        this.endAt = new __WEBPACK_IMPORTED_MODULE_1_rxjs_Rx__["b" /* Subject */]();
        this.user = {};
        this.permission = {};
    }
    CustomerComponent.prototype.viewRecurringBookedBy = function () {
        this.router.navigateByUrl('/pages/masters/recurringbookby');
    };
    CustomerComponent.prototype.viewRecurringPassengers = function () {
        this.router.navigateByUrl('/pages/masters/recurringpassenger');
    };
    CustomerComponent.prototype.customerGroupDisplay = function () {
        this.router.navigateByUrl('/pages/masters/customergroupdisplay');
    };
    CustomerComponent.prototype.addCustomer = function () {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_4__addcustomer_addcustomer_component__["a" /* AddCustomerComponent */], { data: null, autoFocus: false, disableClose: true }).afterClosed().subscribe(function (data) {
            if (data == undefined) {
            }
            else {
                if (data.inserted == 'yes') {
                    _this.tempArray.push(data.data);
                    _this.dataSource.data = _this.tempArray;
                    // this.ws.send(this.user.ownerId+'customer')
                }
            }
        });
    };
    CustomerComponent.prototype.selectRow = function (row) {
        console.log("yes");
        localStorage.setItem('customer', JSON.stringify(row));
        this.router.navigateByUrl('/pages/masters/addcustomer');
        // this.dialog.open(AddCustomerComponent,{data:{row,edit:'editCustomer'},autoFocus:false,disableClose:true});
    };
    CustomerComponent.prototype.ngOnInit = function () {
        var _this = this;
        var HOST = location.origin.replace(/^http/, 'ws');
        this.ws = new WebSocket(HOST);
        this.ws.onmessage = function (event) {
            var _this = this;
            if (event.data == this.user.ownerId + 'customer')
                this.customerService.getCustomers(this.user).subscribe(function (data) {
                    _this.tempArray = data;
                    _this.datasource.data = _this.tempArray;
                });
        }.bind(this);
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.auth.permissions.subscribe(function (data) {
                _this.permission = data[0];
                if (_this.permission.manageCustomer === 0) {
                    _this.displayedColumns.pop();
                }
                if (data[0].viewCustomer == 1) {
                    _this.customerService.getCustomers(_this.user).subscribe(function (data) {
                        _this.tempArray = data;
                        _this.dataSource.data = _this.tempArray;
                    });
                }
                else {
                    window.alert("You do not have permission to view Customers");
                }
            });
        });
        this.dataSource.sort = this.sort;
        this.dataSource.paginator = this.paginator;
    };
    CustomerComponent.prototype.ngOnDestroy = function () {
        this.ws.close();
    };
    CustomerComponent.prototype.search = function (filterValue) {
        this.dataSource.filter = filterValue.trim().toLowerCase();
    };
    CustomerComponent.prototype.clear = function () {
        this.searchTerm = '';
        this.dataSource.filter = '';
    };
    CustomerComponent.prototype.deleteCust = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_6__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.customerService.deleteCustomer(row).subscribe(function (data) {
                    if (data.errno == undefined) {
                        var i = _this.tempArray.indexOf(row);
                        _this.tempArray.splice(i, 1);
                        _this.dataSource.data = _this.tempArray;
                        _this.snackBar.open("Customer Deleted", "X", { duration: 3000 });
                        // this.ws.send(this.user.ownerId+'customer');
                    }
                });
            }
            else {
                if (data.errno == 1451) {
                    window.alert("Cannot delete because you have corresponding Data");
                }
                else {
                    window.alert("Error Cannot Delete Booking");
                }
            }
        });
    };
    CustomerComponent.prototype.deactivateCustomer = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_6__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.customerService.deactivateCustomer(row).subscribe(function (data) {
                    if (data.errno == undefined) {
                        _this.ws.send(_this.user.ownerId + 'customer');
                        // var i=this.tempArray.indexOf(row);
                        // this.tempArray.splice(i,1);
                        // this.datasource.data=this.tempArray;
                        _this.snackBar.open("Customer Deactivated", "X", { duration: 3000 });
                    }
                });
            }
        });
    };
    CustomerComponent.prototype.activateCustomer = function (row) {
        var _this = this;
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_6__modals_confirm_confirm_component__["a" /* ConfirmComponent */], { disableClose: true, autoFocus: false }).afterClosed().subscribe(function (data) {
            if (data == 'no') { }
            if (data == 'yes') {
                _this.customerService.deactivateCustomer(row).subscribe(function (data) {
                    if (data.errno == undefined) {
                        _this.ws.send(_this.user.ownerId + 'customer');
                        // var i=this.tempArray.indexOf(row);
                        // this.tempArray.splice(i,1);
                        // this.datasource.data=this.tempArray;
                        _this.snackBar.open("Customer Activated", "X", { duration: 3000 });
                        _this.ws.send(_this.user.ownerId + 'customer');
                    }
                });
            }
        });
    };
    CustomerComponent.prototype.importCustomers = function () {
        this.dialog.open(__WEBPACK_IMPORTED_MODULE_9__importcustomer_importcustomer_component__["a" /* ImportcustomerComponent */], { autoFocus: false, disableClose: true });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_2__angular_material__["K" /* MatSort */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_2__angular_material__["K" /* MatSort */])
    ], CustomerComponent.prototype, "sort", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_2__angular_material__["A" /* MatPaginator */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_2__angular_material__["A" /* MatPaginator */])
    ], CustomerComponent.prototype, "paginator", void 0);
    CustomerComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ngx-form-layouts',
            styles: [__webpack_require__("./src/app/pages/masters/customer/customer.component.scss")],
            template: __webpack_require__("./src/app/pages/masters/customer/customer.component.html"),
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_5__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_7__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_8__sub_users_sub_user_service__["a" /* SubUserService */]])
    ], CustomerComponent);
    return CustomerComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/customer/customer.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CustomerService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var CustomerService = (function () {
    function CustomerService(http) {
        this.http = http;
    }
    CustomerService.prototype.addCustomer = function (customer) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/add', customer, { headers: headers }).map(function (res) { return res.json(); });
    };
    CustomerService.prototype.addCustomerLimitCity = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/addCustomerLimitCity', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CustomerService.prototype.addCustomerLimitVehicleGroup = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/addCustomerLimitVehicleGroup', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CustomerService.prototype.addCustomerLimitDutyType = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/addCustomerLimitDutyType', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CustomerService.prototype.deleteCustomer = function (customer) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/delete', customer, { headers: headers }).map(function (res) { return res.json(); });
    };
    CustomerService.prototype.deleteCustomerLimitCity = function (suppliers) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/deleteCustomerLimitCity', suppliers, { headers: headers }).map(function (res) { return res.json(); });
    };
    CustomerService.prototype.deleteCustomerLimitVehicleGroup = function (suppliers) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/deleteCustomerLimitVehicleGroup', suppliers, { headers: headers }).map(function (res) { return res.json(); });
    };
    CustomerService.prototype.deleteCustomerLimitDutyType = function (suppliers) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/deleteCustomerLimitDutyType', suppliers, { headers: headers }).map(function (res) { return res.json(); });
    };
    CustomerService.prototype.updateCustomer = function (customer) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/update', customer, { headers: headers }).map(function (res) { return res.json(); });
    };
    CustomerService.prototype.updateCustomerLimitCity = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/updateCustomerLimitCity', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CustomerService.prototype.updateCustomerLimitVehicleGroup = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/updateCustomerLimitVehicleGroup', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CustomerService.prototype.updateCustomerLimitDutyType = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/updateCustomerLimitDutyType', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CustomerService.prototype.getCustomers = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/retrieve', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CustomerService.prototype.getCustomerLimitCity = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/retrieveCustomerLimitCity', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CustomerService.prototype.getCustomerLimitVehicleGroup = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/retrieveCustomerLimitVehicleGroup', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CustomerService.prototype.getCustomerLimitVehicleGroupForBookings = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/retrieveCustomerLimitVehicleGroupForBookings', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CustomerService.prototype.getCustomerLimitDutyType = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/retrieveCustomerLimitDutyType', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CustomerService.prototype.getCustomerLimitDutyTypeForBookings = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/retrieveCustomerLimitDutyTypeForBookings', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CustomerService.prototype.getB2BCustomers = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/retrieveB2BCustomers', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CustomerService.prototype.getCustomerCount = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/count', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CustomerService.prototype.getSingleCustomer = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/retrieveOneCustomer', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CustomerService.prototype.getCustomersById = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/retrieveByGroupId', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CustomerService.prototype.getCustomerId = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/retrieveCustomerId', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CustomerService.prototype.deactivateCustomer = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/active', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    CustomerService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_http__["b" /* Http */]])
    ], CustomerService);
    return CustomerService;
}());



/***/ }),

/***/ "./src/app/pages/masters/customerselection/customerselection.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        Customer\n      </nb-card-header>\n      <nb-card-body>\n        <mat-table #table [dataSource]=\"dataSource\" matSort>\n  \n        <!-- Symbol Column --> \n          <ng-container matColumnDef=\"name\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Customer Name </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.name}} </mat-cell>\n          </ng-container>\n\n          <!-- Symbol Column --> \n          <ng-container matColumnDef=\"phone\">\n            <mat-header-cell *matHeaderCellDef mat-sort-header> Customer Number </mat-header-cell>\n            <mat-cell *matCellDef=\"let element\"> {{element.phone}} </mat-cell>\n          </ng-container>\n           \n          <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\n          <mat-row *matRowDef=\"let row; columns: displayedColumns;\"(click)=\"selectRow(row)\"></mat-row>\n        </mat-table>                \n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>  \n  "

/***/ }),

/***/ "./src/app/pages/masters/customerselection/customerselection.component.scss":
/***/ (function(module, exports) {

module.exports = "button.mat-menu-item {\n  font-size: 14px;\n  height: 30px;\n  line-height: 30px; }\n\n.mat-chip {\n  height: 30px;\n  line-height: 30px; }\n\n.mat-icon {\n  font-size: 17px; }\n\nbutton.mat-icon-button:active,\nbutton.mat-icon-button:focus,\nbutton.mat-icon-button {\n  border: none;\n  outline: none;\n  cursor: pointer; }\n"

/***/ }),

/***/ "./src/app/pages/masters/customerselection/customerselection.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CustomerselectionComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material_dialog__ = __webpack_require__("./node_modules/@angular/material/esm5/dialog.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__new_employees_employee_service__ = __webpack_require__("./src/app/pages/masters/new-employees/employee.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var CustomerselectionComponent = (function () {
    function CustomerselectionComponent(dialog, customerService, auth, employeeService) {
        this.dialog = dialog;
        this.customerService = customerService;
        this.auth = auth;
        this.employeeService = employeeService;
        this.displayedColumns = ['name', 'phone'];
        this.dataSource = new __WEBPACK_IMPORTED_MODULE_1__angular_material__["O" /* MatTableDataSource */]();
        this.user = {};
    }
    CustomerselectionComponent.prototype.selectRow = function (row) {
        //this.dialog.open(AddCustomerComponent,{autoFocus:false,disableClose:true,data:{row}});
        this.dialog.close(row);
    };
    CustomerselectionComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            if (_this.user.type == 'employee') {
                var body = {
                    userId: _this.user.id
                };
                _this.employeeService.getEmployeeForCustomer(body).subscribe(function (data) {
                    _this.employeeService.getEmployeeLimitCustomerForEmployee(data[0]).subscribe(function (data) {
                        if (data.length != 0) {
                            _this.customers = data;
                            _this.dataSource.data = data;
                            console.log(data);
                        }
                        else {
                            _this.getCustomer();
                        }
                    });
                });
            }
            else {
                _this.getCustomer();
            }
        });
        //this.dataSource=new CustomerDataSource(this.customerDatabase,this.sort);
    };
    CustomerselectionComponent.prototype.getCustomer = function () {
        var _this = this;
        this.customerService.getCustomers(this.user).subscribe(function (customers) {
            _this.customers = customers;
            _this.dataSource.data = customers;
            console.log(customers);
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_material__["K" /* MatSort */])
    ], CustomerselectionComponent.prototype, "sort", void 0);
    CustomerselectionComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-customerselection',
            template: __webpack_require__("./src/app/pages/masters/customerselection/customerselection.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/customerselection/customerselection.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_material_dialog__["d" /* MatDialogRef */],
            __WEBPACK_IMPORTED_MODULE_3__customer_customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_4__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_5__new_employees_employee_service__["a" /* EmployeeService */]])
    ], CustomerselectionComponent);
    return CustomerselectionComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/dutytype/duty-type.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DutyTypeService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var DutyTypeService = (function () {
    function DutyTypeService(http) {
        this.http = http;
    }
    DutyTypeService.prototype.addDutyType = function (dutyType) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/dutyType/add', dutyType, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutyTypeService.prototype.deleteDutyType = function (dutyType) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/dutyType/delete', dutyType, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutyTypeService.prototype.updateDutyType = function (dutyType) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/dutyType/update', dutyType, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutyTypeService.prototype.getDutyType = function (temp) {
        console.log(temp);
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/dutyType/retrieve', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutyTypeService.prototype.getDutyTypeofSupplier = function (temp) {
        console.log(temp);
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/dutyType/retrieveSupplierDutyType', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DutyTypeService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["b" /* Http */]])
    ], DutyTypeService);
    return DutyTypeService;
}());



/***/ }),

/***/ "./src/app/pages/masters/extendbooking/extendbooking.component.html":
/***/ (function(module, exports) {

module.exports = "<div>Are you sure you want to extend the booking by 1 day?</div>\n<div class=\"confirm-container\">\n  <button class=\"confirm-button\" mat-raised-button color=\"primary\" (click)=\"extend()\">Yes</button>\n  <button class=\"confirm-button\" mat-raised-button color=\"warn\" (click)=\"no()\">Cancel</button>\n</div>\n"

/***/ }),

/***/ "./src/app/pages/masters/extendbooking/extendbooking.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/extendbooking/extendbooking.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ExtendbookingComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__duties_duties_service__ = __webpack_require__("./src/app/pages/duties/duties.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__operations_bookings_service__ = __webpack_require__("./src/app/pages/operations/bookings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var ExtendbookingComponent = (function () {
    function ExtendbookingComponent(data, dutiesService, bookingevice, datePipe, dialog, matDialog) {
        this.data = data;
        this.dutiesService = dutiesService;
        this.bookingevice = bookingevice;
        this.datePipe = datePipe;
        this.dialog = dialog;
        this.matDialog = matDialog;
        this.booking = {};
        this.duty = {};
        console.log(data);
        this.booking = data.row;
        console.log(this.booking);
    }
    ExtendbookingComponent.prototype.extend = function () {
        this.putValues();
        var eDate = new Date(this.booking.endDate);
        eDate.setDate(eDate.getDate() + 1);
        this.duty.startDate = this.datePipe.transform(eDate, 'yyyy-MM-dd');
        console.log();
        this.dutiesService.addduties(this.duty).subscribe();
        this.matDialog.close("yes");
    };
    ExtendbookingComponent.prototype.putValues = function () {
        this.duty.bid = this.booking.id;
        this.duty.cname = this.booking.cname;
        this.duty.bookBy = this.booking.bookBy;
        this.duty.bookByNo = this.booking.bookByNo;
        this.duty.bookByEmail = this.booking.bookByEmail;
        //this.duty.date= this.booking.date;  it is not same as booking date
        this.duty.passenger = this.booking.passenger;
        this.duty.passengerNo = this.booking.passengerNo;
        this.duty.passengerEmail = this.booking.passengerEmail;
        this.duty.fromLoc = this.booking.fromLoc;
        this.duty.toLoc = this.booking.toLoc;
        this.duty.reportingTime = this.booking.reportingTime;
        this.duty.startFromGarage = this.booking.startFromGarage;
        this.duty.reportingAddress = this.booking.reportingAddress;
        this.duty.dropAddress = this.booking.dropAddress;
        this.duty.shortReportingAddress = this.booking.shortReportingAddress;
        this.duty.flightTrainNo = this.booking.flightTrainNo;
        this.duty.dispatchCenter = this.booking.dispatchCenter;
        this.duty.billTo = this.booking.billTo;
        this.duty.price = this.booking.price;
        this.duty.remarks = this.booking.remarks;
        this.duty.operatorNotes = this.booking.operatorNotes;
        this.duty.label = this.booking.label;
        this.duty.vehicleGroupId = this.booking.vehicleGroupId;
        this.duty.dutyTypeId = this.booking.dutyTypeId;
        this.duty.status = this.booking.status;
        this.duty.ownerId = this.data.row.ownerId;
        this.duty.vehicleGroup = this.booking.vehicleGroup;
        this.duty.dutyType = this.booking.dutyType;
        this.duty.customerId = this.booking.customerId;
        this.duty.extraKms = this.booking.extraKms;
        this.duty.extraHours = this.booking.extraHours;
        this.duty.dispatchCenterId = this.booking.dispatchCenterId;
        //this.booking.status;
    };
    ExtendbookingComponent.prototype.ngOnInit = function () {
    };
    ExtendbookingComponent.prototype.no = function () {
        this.dialog.closeAll();
    };
    ExtendbookingComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-extendbooking',
            template: __webpack_require__("./src/app/pages/masters/extendbooking/extendbooking.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/extendbooking/extendbooking.component.scss")]
        }),
        __param(0, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [Object, __WEBPACK_IMPORTED_MODULE_2__duties_duties_service__["a" /* DutiesService */],
            __WEBPACK_IMPORTED_MODULE_3__operations_bookings_service__["a" /* BookingsService */], __WEBPACK_IMPORTED_MODULE_4__angular_common__["d" /* DatePipe */], __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */], __WEBPACK_IMPORTED_MODULE_1__angular_material__["p" /* MatDialogRef */]])
    ], ExtendbookingComponent);
    return ExtendbookingComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/importcustomer/importcustomer.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <div style=\"margin-bottom:15px; color: brown;\">Please use the following format to import bookings: <a style=\"color:#14902b;\" (click)=\"getDownloadFormat()\">Customer Import Format</a> </div>\n    <input type=\"file\" accept=\".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\" style=\"display: inline-block;\" (change)=\"incomingfile($event)\" placeholder=\"Upload file\" accept=\".xlsx\">\n    <button mat-raised-button style=\"float:right\" [disabled]=\"disable\" (click)=\"Upload()\">Upload</button>\n    <div *ngIf=\"totalRows>0\" style=\"padding-top:5px;\">\n      <mat-progress-bar color=\"primary\" mode=\"determinate\" [value]=\"progressBarValue\"></mat-progress-bar>\n      <p style=\"float:right;\">{{rowsCompleted}}/{{totalRows}} Completed</p>\n    </div>\n    <div *ngIf=\"invalidData.length>0\" style=\"padding-top:5px;\">\n      Invalid Data in Rows:\n      <ul>\n        <li *ngFor=\"let rows of invalidData\">\n          {{rows}}\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12\">\n    <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/pages/masters/importcustomer/importcustomer.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/importcustomer/importcustomer.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImportcustomerComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_xlsx__ = __webpack_require__("./node_modules/xlsx/xlsx.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_xlsx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_xlsx__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __asyncValues = (this && this.__asyncIterator) || function (o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator];
    return m ? m.call(o) : typeof __values === "function" ? __values(o) : o[Symbol.iterator]();
};







var ImportcustomerComponent = (function () {
    function ImportcustomerComponent(dialog, auth, http, customerService) {
        this.dialog = dialog;
        this.auth = auth;
        this.http = http;
        this.customerService = customerService;
        this.customer = {};
        this.user = {};
        this.disable = true;
        this.rowsCompleted = 0;
        this.totalRows = 0;
        this.temp = [];
        this.observables = [];
        this.invalidData = [];
        this.i = 0;
        this.progressBarValue = 0;
    }
    ImportcustomerComponent.prototype.getDownloadFormat = function () {
        window.open("http://www.yourfleetman.com/importExcel/customerFormat", '_blank'); //change domain
    };
    ImportcustomerComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    ImportcustomerComponent.prototype.incomingfile = function (event) {
        this.file = event.target.files[0];
        this.disable = false;
    };
    ImportcustomerComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
        });
        this.setDefault();
    };
    ImportcustomerComponent.prototype.Upload = function () {
        var _this = this;
        var fileReader = new FileReader();
        fileReader.onload = function () {
            _this.arrayBuffer = fileReader.result;
            var data = new Uint8Array(_this.arrayBuffer);
            var arr = new Array();
            for (var i = 0; i != data.length; ++i)
                arr[i] = String.fromCharCode(data[i]);
            var bstr = arr.join("");
            var workbook = __WEBPACK_IMPORTED_MODULE_1_xlsx__["read"](bstr, { type: "binary" });
            var first_sheet_name = workbook.SheetNames[0];
            var worksheet = workbook.Sheets[first_sheet_name];
            _this.temp = __WEBPACK_IMPORTED_MODULE_1_xlsx__["utils"].sheet_to_json(worksheet, { raw: true });
        };
        fileReader.readAsArrayBuffer(this.file);
        setTimeout(function () {
            _this.totalRows = _this.temp.length;
            if (_this.totalRows > 0) {
                _this.disable = true;
                _this.log();
            }
            else {
                window.alert("There are no rows to be inserted");
            }
        }, 1000);
    };
    ImportcustomerComponent.prototype.log = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a, _b, element, res, e_1_1, e_1, _c;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        this.i = 0;
                        _d.label = 1;
                    case 1:
                        _d.trys.push([1, 8, 9, 14]);
                        _a = __asyncValues(this.temp);
                        _d.label = 2;
                    case 2: return [4 /*yield*/, _a.next()];
                    case 3:
                        if (!(_b = _d.sent(), !_b.done)) return [3 /*break*/, 7];
                        return [4 /*yield*/, _b.value];
                    case 4:
                        element = _d.sent();
                        this.i++;
                        return [4 /*yield*/, this.compute(element)];
                    case 5:
                        res = _d.sent();
                        this.rowsCompleted = this.i;
                        this.progressBarValue = ((this.rowsCompleted / this.totalRows) * 100);
                        _d.label = 6;
                    case 6: return [3 /*break*/, 2];
                    case 7: return [3 /*break*/, 14];
                    case 8:
                        e_1_1 = _d.sent();
                        e_1 = { error: e_1_1 };
                        return [3 /*break*/, 14];
                    case 9:
                        _d.trys.push([9, , 12, 13]);
                        if (!(_b && !_b.done && (_c = _a.return))) return [3 /*break*/, 11];
                        return [4 /*yield*/, _c.call(_a)];
                    case 10:
                        _d.sent();
                        _d.label = 11;
                    case 11: return [3 /*break*/, 13];
                    case 12:
                        if (e_1) throw e_1.error;
                        return [7 /*endfinally*/];
                    case 13: return [7 /*endfinally*/];
                    case 14: return [2 /*return*/];
                }
            });
        });
    };
    ImportcustomerComponent.prototype.compute = function (element) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var temp, sDate;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (element["Name"] == undefined) {
                            this.customer.name = '';
                            this.invalidData.push("Row number: " + this.i);
                        }
                        else {
                            this.customer.name = element["Name"];
                        }
                        if (element["Address"] == undefined) {
                            this.customer.caddress = '';
                            // this.invalidData.push("Row number: "+this.i);
                        }
                        else {
                            this.customer.caddress = element["Address"];
                        }
                        if (element["State"] == undefined) {
                            this.customer.state = '';
                            // this.invalidData.push("Row number: "+this.i);
                        }
                        else {
                            this.customer.state = element["State"];
                        }
                        if (!(element["Customer Group"] == undefined)) return [3 /*break*/, 1];
                        this.customer.custGroup = '';
                        this.customer.customerGroupId = null;
                        return [3 /*break*/, 3];
                    case 1:
                        temp = {
                            ownerId: this.user.ownerId,
                            cGroup: element["Customer Group"]
                        };
                        return [4 /*yield*/, this.getCustomerGroupId(temp).subscribe(function (data) {
                                if (data.length > 0) {
                                    _this.customer.custGroup = element["Customer Group"];
                                    _this.customer.customerGroupId = data[0].id;
                                }
                                else {
                                    _this.customer.custGroup = '';
                                    _this.customer.customerGroupId = null;
                                }
                            })];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3:
                        if (element["Phone Number"] == undefined) {
                            this.customer.phone = '';
                            // this.invalidData.push("Row number: "+this.i);
                        }
                        else {
                            this.customer.phone = element["Phone Number"];
                        }
                        if (element["Email"] == undefined) {
                            this.customer.email = '';
                            // this.invalidData.push("Row number: "+this.i);
                        }
                        else {
                            this.customer.email = element["Email"];
                        }
                        if (element["PAN Number"] == undefined) {
                            this.customer.panNo = '';
                            // this.invalidData.push("Row number: "+this.i);
                        }
                        else {
                            this.customer.panNo = element["PAN Number"];
                        }
                        if (element["GSTIN Number"] == undefined) {
                            this.customer.gstin = '';
                            // this.invalidData.push("Row number: "+this.i);
                        }
                        else {
                            this.customer.gstin = element["GSTIN Number"];
                        }
                        if (element["TDS percentage"] == undefined) {
                            this.customer.tdsPercent = '';
                            // this.invalidData.push("Row number: "+this.i);
                        }
                        else {
                            this.customer.tdsPercent = element["TDS percentage"];
                        }
                        if (element["Contract Start Date"] == undefined) {
                            this.customer.contractSDate = '';
                            // this.invalidData.push("Row number: "+this.i);
                        }
                        else {
                            sDate = element["Contract Start Date"];
                            this.customer.contractSDate = __WEBPACK_IMPORTED_MODULE_4_moment__(sDate).format("YYYY-MM-DD");
                        }
                        if (element["Surcharge Percentage"] == undefined) {
                            this.customer.surchargePercent = '';
                            // this.invalidData.push("Row number: "+this.i);
                        }
                        else {
                            this.customer.surchargePercent = element["Surcharge Percentage"];
                        }
                        // if(element["Alternate Phone Number"]==undefined)
                        // {
                        //   this.customer.surchargePercent = '';
                        //   // this.invalidData.push("Row number: "+this.i);
                        // }
                        // else
                        // {
                        //   this.customer.surchargePercent = element["Alternate Phone Number"]
                        // }
                        if (element["GST Type"] == undefined) {
                            this.customer.billingGSTType = '';
                            // this.invalidData.push("Row number: "+this.i);
                        }
                        else {
                            this.customer.billingGSTType = element["GST Type"];
                        }
                        if (!(this.customer.name != '')) return [3 /*break*/, 5];
                        this.customer.ownerId = this.user.ownerId;
                        return [4 /*yield*/, this.customerService.addCustomer(this.customer).toPromise().then(function (res) {
                                _this.setDefault();
                            })];
                    case 4:
                        _a.sent();
                        _a.label = 5;
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    ImportcustomerComponent.prototype.getCustomerGroupId = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/importExcel/getCustomerGroupId', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ImportcustomerComponent.prototype.setDefault = function () {
        this.customer = {
            //Customer Details
            ownerId: '',
            name: '',
            caddress: '',
            state: '',
            custGroup: '',
            customerGroupId: null,
            phone: '',
            email: '',
            panNo: '',
            gstin: '',
            tdsPercent: '',
            contractSDate: '',
            surchargePercent: '',
            baseCityForFuel: '',
            //GSTin details 
            billingName: '',
            billingAddress: '',
            billingState: '',
            billingPhone: '',
            billingEmail: '',
            billingServiceTax: '',
            billingGSTType: '',
            billingReverseChargeApplicable: '',
            billingContractEndDate: '',
            billingForcedFuel: '',
            //Applicable taxes
            applicableTaxes: 0,
            //Driver Allowance
            earlyTime: '',
            lateTime: '',
            //Misc
            notes: '',
            enableCustomPricing: '',
            denyBookbyPassenger: '',
            active: true,
            //Temp
            date: '',
            status: '',
        };
    };
    ImportcustomerComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'importcustomer',
            template: __webpack_require__("./src/app/pages/masters/importcustomer/importcustomer.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/importcustomer/importcustomer.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__angular_material__["n" /* MatDialog */], __WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_3__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_6__customer_customer_service__["a" /* CustomerService */]])
    ], ImportcustomerComponent);
    return ImportcustomerComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/new-driver/driver.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DriverService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var DriverService = (function () {
    function DriverService(http) {
        this.http = http;
    }
    DriverService.prototype.addDriver = function (drivers) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/drivers/add', drivers, { headers: headers }).map(function (res) { return res.json(); });
    };
    DriverService.prototype.deleteDriver = function (drivers) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/drivers/delete', drivers, { headers: headers }).map(function (res) { return res.json(); });
    };
    DriverService.prototype.updateDriver = function (drivers) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/drivers/update', drivers, { headers: headers }).map(function (res) { return res.json(); });
    };
    DriverService.prototype.getDriver = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/drivers/retrieve', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DriverService.prototype.findDriver = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/drivers/find', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DriverService.prototype.deactivateDriver = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/drivers/active', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DriverService.prototype.getDriverLocation = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/tracking/getDriverTracker', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DriverService.prototype.getDriverForTracking = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/tracking/getDriversForTracker', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    DriverService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["b" /* Http */]])
    ], DriverService);
    return DriverService;
}());



/***/ }),

/***/ "./src/app/pages/masters/new-employees/employee.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EmployeeService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var EmployeeService = (function () {
    function EmployeeService(auth, http) {
        this.auth = auth;
        this.http = http;
    }
    EmployeeService.prototype.addEmployee = function (employees) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/employees/add', employees, { headers: headers }).map(function (res) { return res.json(); });
    };
    EmployeeService.prototype.addEmployeeLimitCustomer = function (employees) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/employees/addLimitCustomer', employees, { headers: headers }).map(function (res) { return res.json(); });
    };
    EmployeeService.prototype.deleteEmployee = function (employees) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/employees/delete', employees, { headers: headers }).map(function (res) { return res.json(); });
    };
    EmployeeService.prototype.deleteEmployeeLimitCustomer = function (employees) {
        console.log("delete");
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/employees/deleteLimitCustomer', employees, { headers: headers }).map(function (res) { return res.json(); });
    };
    EmployeeService.prototype.updateEmployee = function (employees) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/employees/update', employees, { headers: headers }).map(function (res) { return res.json(); });
    };
    EmployeeService.prototype.updateEmployeeLimitCustomer = function (employees) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/employees/updateLimitCustomer', employees, { headers: headers }).map(function (res) { return res.json(); });
    };
    EmployeeService.prototype.getEmployee = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/employees/retrieve', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    EmployeeService.prototype.getEmployeeForCustomer = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/employees/retrieveForCustomer', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    EmployeeService.prototype.getEmployeeLimitCustomer = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/employees/retrieveLimitCustomer', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    EmployeeService.prototype.getEmployeeLimitCustomerForEmployee = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/employees/retrieveLimitCustomerForEmployee', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    EmployeeService.prototype.deactivateEmployee = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/employees/active', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    EmployeeService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__core_auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["b" /* Http */]])
    ], EmployeeService);
    return EmployeeService;
}());



/***/ }),

/***/ "./src/app/pages/masters/new-employees/new-employees.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card style=\"margin-bottom:5px;\">\n      <nb-card-header>New Employees</nb-card-header>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-body>\n        <div class=\"row\">\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              Name\n              <input matInput [(ngModel)]=\"employee.name\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              Employee ID\n              <input matInput [(ngModel)]=\"employee.employeeId\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              Designation\n              <input matInput [(ngModel)]=\"employee.designation\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              E-Mail\n              <input matInput [(ngModel)]=\"employee.email\">\n            </mat-form-field>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              Mobile Number\n              <input matInput [(ngModel)]=\"employee.mobilenumber\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              Alternate Number\n              <input matInput [(ngModel)]=\"employee.alternateNumber\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              Badge Number\n              <input matInput [(ngModel)]=\"employee.badgeNumber\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field class=\"w-100\">\n              Badge ExpiryDate\n              <input matInput [(ngModel)]=\"employee.badgeExpiry\" [matDatepicker]=\"badgeExpiry\" readonly (click)=\"badgeExpiry.open()\">\n              <mat-datepicker-toggle matSuffix [for]=\"badgeExpiry\"></mat-datepicker-toggle>\n              <mat-datepicker #badgeExpiry></mat-datepicker>\n            </mat-form-field>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field class=\"w-100\">\n              Date of Birth\n              <input matInput [(ngModel)]=\"employee.dateOfBirth\" [matDatepicker]=\"birthDate\" readonly (click)=\"birthDate.open()\">\n              <mat-datepicker-toggle matSuffix [for]=\"birthDate\"></mat-datepicker-toggle>\n              <mat-datepicker #birthDate></mat-datepicker>\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field class=\"w-100\">\n              Marriage Date\n              <input matInput  [(ngModel)]=\"employee.marriageDate\" [matDatepicker]=\"marriageDate\" readonly (click)=\"marriageDate.open()\">\n              <mat-datepicker-toggle matSuffix [for]=\"marriageDate\"></mat-datepicker-toggle>\n              <mat-datepicker #marriageDate></mat-datepicker>\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field class=\"w-100\">\n              Joining Date\n              <input matInput [(ngModel)]=\"employee.joiningDate\" [matDatepicker]=\"joiningDate\" readonly (click)=\"joiningDate.open()\">\n              <mat-datepicker-toggle matSuffix [for]=\"joiningDate\"></mat-datepicker-toggle>\n              <mat-datepicker #joiningDate></mat-datepicker>\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              Blood Group\n              <input matInput [(ngModel)]=\"employee.bloodGroup\">\n            </mat-form-field>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              Father's Name\n              <input matInput [(ngModel)]=\"employee.fatherName\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field class=\"w-100\">\n              Father's Date of Birth\n              <input matInput [(ngModel)]=\"employee.fatherDateOfBirth\" [matDatepicker]=\"fatherBirthDate\" readonly (click)=\"fatherBirthDate.open()\">\n              <mat-datepicker-toggle matSuffix [for]=\"fatherBirthDate\"></mat-datepicker-toggle>\n              <mat-datepicker #fatherBirthDate></mat-datepicker>\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              Mother's Name\n              <input matInput [(ngModel)]=\"employee.motherName\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field class=\"w-100\">\n              Mother's Date of Birth\n              <input matInput [(ngModel)]=\"employee.mothersDateOfBirth\" [matDatepicker]=\"motherBD\" readonly (click)=\"motherBD.open()\">\n              <mat-datepicker-toggle matSuffix [for]=\"motherBD\"></mat-datepicker-toggle>\n              <mat-datepicker #motherBD></mat-datepicker>\n            </mat-form-field>\n            <br><br>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field class=\"w-100\">\n              Permanant Address\n              <textarea rows=\"4\" matInput [(ngModel)]=\"employee.currentAddress\"></textarea>              \n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field class=\"w-100\">\n              Current Address\n              <textarea rows=\"4\" *ngIf=\"!sameAsPermanent\" matInput [(ngModel)]=\"employee.permanentAddress\"></textarea>\n              <textarea rows=\"4\" *ngIf=\"sameAsPermanent\" matInput [(ngModel)]=\"employee.currentAddress\"></textarea>\n            </mat-form-field>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-12 col-12\">\n            <mat-checkbox name=\"sameAsPermanent\" (change)=\"permanentAddress()\">\n              Same as Permanant\n            </mat-checkbox>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              Pan Number\n              <input matInput [(ngModel)]=\"employee.panNumber\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              Aadhar Number\n              <input matInput [(ngModel)]=\"employee.aadharNumber\">\n            </mat-form-field>\n          </div>        \n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              DL Number\n              <input matInput [(ngModel)]=\"employee.dlNumber\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field class=\"w-100\">\n              DL ExpiryDate\n              <input matInput [(ngModel)]=\"employee.dlExpiry\" [matDatepicker]=\"dlExpiry\" readonly (click)=\"dlExpiry.open()\">\n              <mat-datepicker-toggle matSuffix [for]=\"dlExpiry\"></mat-datepicker-toggle>\n              <mat-datepicker #dlExpiry></mat-datepicker>\n            </mat-form-field>\n          </div>\n        </div>\n        <div class=\"row\">        \n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              PF Number\n              <input matInput [(ngModel)]=\"employee.pfAcNumber\">\n            </mat-form-field>\n          </div>        \n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              ESI\n              <input matInput [(ngModel)]=\"employee.esi\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-3 col-12\">\n            <mat-form-field>\n              UAN Number\n              <input matInput [(ngModel)]=\"employee.uanNumber\">\n            </mat-form-field>\n          </div>\n        </div> \n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-6\">\n    <nb-card>\n      <nb-card-header>License</nb-card-header>\n      <nb-card-body>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Issued By\n              <input matInput [(ngModel)]=\"employee.licenseIssuedBy\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              City\n              <input matInput [(ngModel)]=\"employee.licenseCity\">\n            </mat-form-field>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              State\n              <input matInput [(ngModel)]=\"employee.licenseState\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field class=\"w-100\">\n              Date\n              <input matInput [(ngModel)]=\"employee.licenseDate\" [matDatepicker]=\"licenseDate\" readonly (click)=\"licenseDate.open()\">\n              <mat-datepicker-toggle matSuffix [for]=\"licenseDate\"></mat-datepicker-toggle>\n              <mat-datepicker #licenseDate></mat-datepicker>\n            </mat-form-field>\n          </div>\n        </div>        \n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"col-lg-6\">\n    <nb-card>\n      <nb-card-header>Police</nb-card-header>\n      <nb-card-body>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Display Card Number\n              <input matInput [(ngModel)]=\"employee.policeDisplayCardNumber\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field class=\"w-100\">\n              Display Card Expiry\n              <input matInput [(ngModel)]=\"employee.policeDisplayCardExpiry\" [matDatepicker]=\"policeDisplayCardExpiry\" readonly (click)=\"policeDisplayCardExpiry.open()\">\n              <mat-datepicker-toggle matSuffix [for]=\"policeDisplayCardExpiry\"></mat-datepicker-toggle>\n              <mat-datepicker #policeDisplayCardExpiry></mat-datepicker>\n            </mat-form-field>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Verification Number\n              <input matInput [(ngModel)]=\"employee.policeVerificationNumber\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field class=\"w-100\">\n              Verification ExpiryDate\n              <input matInput  [(ngModel)]=\"employee.policeVerificationExpiryDate\" [matDatepicker]=\"policeVerificationExpiryDate\" readonly (click)=\"policeVerificationExpiryDate.open()\">\n              <mat-datepicker-toggle matSuffix [for]=\"policeVerificationExpiryDate\"></mat-datepicker-toggle>\n              <mat-datepicker #policeVerificationExpiryDate></mat-datepicker>\n            </mat-form-field>\n          </div>\n        </div>        \n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-6\">\n    <nb-card>\n      <nb-card-header>Bank</nb-card-header>\n      <nb-card-body>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Display Card Number\n              <input matInput [(ngModel)]=\"employee.bankDisplayCardNumber\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Account Number\n              <input matInput [(ngModel)]=\"employee.bankAccountNumber\">\n            </mat-form-field>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              IFSC Code\n              <input matInput [(ngModel)]=\"employee.bankIfscCode\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-6 col-12\"></div>\n        </div>        \n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"col-lg-6\">\n    <nb-card>\n      <nb-card-body>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              ESI Dispensary Code\n              <input matInput [(ngModel)]=\"employee.esiDispensaryCode\">\n            </mat-form-field>\n          </div>\n          <div class=\"col-lg-6 col-12\">\n            <mat-form-field>\n              Branches\n              <input matInput  [formControl]=\"branchesCtrl\" [matAutocomplete]=\"autobranch\">\n              <mat-autocomplete #autobranch=\"matAutocomplete\">\n                <mat-option *ngFor=\"let item of branch | async\" [value]=\"item.name\" (onSelectionChange)=\"setBranches(item,$event)\">\n                  {{ item.name }}\n                </mat-option>\n              </mat-autocomplete>\n            </mat-form-field>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-6 col-12\">\n            \n          </div>\n          <div class=\"col-lg-6 col-12\"></div>\n        </div>        \n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>Visible Customers(keep blank for all)</nb-card-header>\n      <nb-card-body>\n        <form [formGroup]=\"myForm\">\n          <div formArrayName=\"rows\">\n            <div class=\"row\" *ngFor=\"let aRow of customerForms.controls; let i=index\" [formGroupName]=\"i\">\n              <div class=\"col-lg-10 col-10\">\n                <mat-form-field class=\"w-100\">                  \n                  <input matInput formControlName=\"visibleCustomers\" (keypress)=\"filterCust(i)\" [matAutocomplete]=\"custauto\">\n                  <mat-autocomplete #custauto=\"matAutocomplete\">\n                    <mat-option *ngFor=\"let option of customer |async\" [value]=\"option.name\" (onSelectionChange)=\"setCustomer(option,$event, i)\">\n                      {{ option.name }}\n                    </mat-option>\n                  </mat-autocomplete>\n                  <!-- <mat-select [(ngModel)]=\"employee.visibleCustomers\">\n                    <mat-option value=\"option\">Option</mat-option>\n                  </mat-select> -->\n                </mat-form-field>\n              </div>\n              <div class=\"col-lg-2 col-2\">\n                <button mat-icon-button color=\"primary\" (click)=\"deleteRow(i, aRow)\"><mat-icon>clear</mat-icon></button>\n              </div>\n            </div>\n          </div>\n        </form>\n        <div class=\"row ptb-10\">\n          <div class=\"col-lg-12 col-12\">\n            <button mat-raised-button color=\"primary\" style=\"margin-top:15px;\" (click)=\"addRow()\">Add Row</button>\n          </div>\n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>Files</nb-card-header>\n      <nb-card-body>\n        <div class=\"row ptb-10\">\n          <div class=\"col-lg-4 col-12\" style=\"text-align: center\">\n            <b>Upload Employee Photo</b>\n            <br>\n            <button *ngIf=\"imgUrl==''\" (click)=\"employeePhoto.click()\" mat-raised-button color=\"primary\"><mat-icon>cloud_upload</mat-icon>Browse</button>\n            <button *ngIf=\"imgUrl!=''\" (click)=\"removeImage()\" mat-raised-button color=\"primary\"><mat-icon>clear</mat-icon>Remove</button>\n            <input type=\"file\" accept=\"image/*\" #employeePhoto name=\"employeePhoto\" hidden (change)=\"uploadProfilePhoto($event)\">\n            <br>\n            <img alt=\"\" *ngIf=\"imgUrl!=''\" [src]=\"imgUrl\" width=\"125px\" height=\"150px\"/>\n          </div>\n          <div class=\"col-lg-4 col-12\" style=\"text-align: center\">\n            <b>Upload Aadhar Card Photo</b>\n            <br>\n            <button *ngIf=\"aadharImgUrl==''\" (click)=\"aadharPhoto.click()\" mat-raised-button color=\"primary\"><mat-icon>cloud_upload</mat-icon>Browse</button>\n            <button *ngIf=\"aadharImgUrl!=''\" (click)=\"removeAadharImage()\" mat-raised-button color=\"primary\"><mat-icon>clear</mat-icon>Remove</button>\n            <input type=\"file\" #aadharPhoto name=\"aadharPhoto\" hidden (change)=\"uploadAadharPhoto($event)\">\n            <br>\n            <img alt=\"\" *ngIf=\"aadharImgUrl!='' && aadharImgUrl.includes('data:image')\" [src]=\"aadharImgUrl\" width=\"125px\" height=\"150px\"/>\n            <p style=\"margin: 2rem;\" *ngIf=\"!aadharImgUrl.includes('data:image')\">{{imgAadharName}}</p>\n          </div>\n          <div class=\"col-lg-4 col-12\" style=\"text-align: center\">\n            <b>Upload PAN Card Photo</b>\n            <br>\n            <button *ngIf=\"panImgUrl==''\" (click)=\"panPhoto.click()\" mat-raised-button color=\"primary\"><mat-icon>cloud_upload</mat-icon>Browse</button>\n            <button *ngIf=\"panImgUrl!=''\" (click)=\"removePANImage()\" mat-raised-button color=\"primary\"><mat-icon>clear</mat-icon>Remove</button>\n            <input type=\"file\" #panPhoto name=\"panPhoto\" hidden (change)=\"uploadPanPhoto($event)\">\n            <br>\n            <img alt=\"\" *ngIf=\"panImgUrl!='' && panImgUrl.includes('data:image')\" [src]=\"panImgUrl\" width=\"125px\" height=\"150px\"/>\n            <p style=\"margin: 2rem;\" *ngIf=\"!panImgUrl.includes('data:image')\">{{imgPanName}}</p>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div style=\"bottom: 5%\" *ngIf=\"logs.length>0\">\n            <ul>\n              <li *ngFor=\"let element of logs\">\n                {{element.message}}\n              </li>\n            </ul>\n          </div>\n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12\">\n    <button *ngIf=\"editState==false\" mat-raised-button color=\"primary\" (click)=\"saveEmployee()\">Add</button>\n    <button *ngIf=\"editState==true\" mat-raised-button color=\"primary\" (click)=\"editEmployee()\">Save</button>\n    <button mat-raised-button color=\"warn\"(click)=\"closeDialog()\">Close</button>\n  </div> \n</div>\n"

/***/ }),

/***/ "./src/app/pages/masters/new-employees/new-employees.component.scss":
/***/ (function(module, exports) {

module.exports = ".material-icons {\n  line-height: 1.3 !important; }\n"

/***/ }),

/***/ "./src/app/pages/masters/new-employees/new-employees.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NewEmployeesComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__employee_service__ = __webpack_require__("./src/app/pages/masters/new-employees/employee.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__operations_new_branch_new_branch_service__ = __webpack_require__("./src/app/pages/operations/new-branch/new-branch.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_operators__ = __webpack_require__("./node_modules/rxjs/_esm5/operators.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__fileupload_service__ = __webpack_require__("./src/app/fileupload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__customer_customer_service__ = __webpack_require__("./src/app/pages/masters/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__activitylog_service__ = __webpack_require__("./src/app/activitylog.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};













var NewEmployeesComponent = (function () {
    function NewEmployeesComponent(matDialogRef, data, employeeService, snackBar, dialog, auth, branchService, _sanitizer, uploadService, fb, customerService, activityLogs, http) {
        this.matDialogRef = matDialogRef;
        this.data = data;
        this.employeeService = employeeService;
        this.snackBar = snackBar;
        this.dialog = dialog;
        this.auth = auth;
        this.branchService = branchService;
        this._sanitizer = _sanitizer;
        this.uploadService = uploadService;
        this.fb = fb;
        this.customerService = customerService;
        this.activityLogs = activityLogs;
        this.http = http;
        this.branchesCtrl = new __WEBPACK_IMPORTED_MODULE_4__angular_forms__["c" /* FormControl */]();
        this.driverCtrl = new __WEBPACK_IMPORTED_MODULE_4__angular_forms__["c" /* FormControl */]();
        this.editState = false;
        this.user = {};
        this.imgUrl = '';
        this.previousImgUrl = '';
        this.panImgUrl = '';
        this.previousPanImgUrl = '';
        this.aadharImgUrl = '';
        this.previousAadharImgUrl = '';
        this.customerCtrl = new __WEBPACK_IMPORTED_MODULE_4__angular_forms__["c" /* FormControl */]();
        this.tempCustomers = [];
        this.deleteCustomers = [];
        this.sameAsPermanent = false;
        this.logs = [];
        this.visibleCustomers = [];
        this.param = {
            inserted: 'no',
            data: null
        };
        this.employee = {
            name: '',
            mobilenumber: '',
            alternateNumber: '',
            email: '',
            profilePhoto: '',
            employeeId: '',
            designation: '',
            dateOfBirth: '',
            fatherName: '',
            fatherDateOfBirth: '',
            motherName: '',
            mothersDateOfBirth: '',
            currentAddress: '',
            permanentAddress: '',
            marriageDate: '',
            joiningDate: '',
            bloodGroup: '',
            pfAcNumber: '',
            esi: '',
            uanNumber: '',
            panNumber: '',
            aadharNumber: '',
            dlNumber: '',
            dlExpiry: '',
            badgeNumber: '',
            badgeExpiry: '',
            licenseIssuedBy: '',
            licenseCity: '',
            licenseState: '',
            licenseDate: '',
            policeDisplayCardNumber: '',
            policeDisplayCardExpiry: '',
            policeVerificationNumber: '',
            policeVerificationExpiryDate: '',
            bankDisplayCardNumber: '',
            bankAccountNumber: '',
            bankIfscCode: '',
            esiDispensaryCode: '',
            branches: '',
            branchId: null,
            visibleCustomers: '',
            aadharPhoto: '',
            panCardPhoto: '',
            ownerId: '',
            userId: null
        };
    }
    NewEmployeesComponent.prototype.unloadHandler = function (event) {
        console.log("Processing beforeunload...");
        event.returnValue = false;
    };
    NewEmployeesComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.employee.ownerId = data[0].ownerId;
            _this.companyName = data[0].companyName;
            _this.branchService.getBranches(_this.user).subscribe(function (data) {
                _this.branches = data;
                _this.branch = _this.branchesCtrl.valueChanges
                    .pipe(Object(__WEBPACK_IMPORTED_MODULE_6_rxjs_operators__["startWith"])(''), Object(__WEBPACK_IMPORTED_MODULE_6_rxjs_operators__["map"])(function (val) { return _this.filterBranches(val); }));
            });
            _this.customerService.getCustomers(_this.user).subscribe(function (data) {
                _this.customers = data;
                console.log(data);
                _this.tempCustomers = data.slice(0);
                _this.customer = _this.customerCtrl.valueChanges
                    .pipe(Object(__WEBPACK_IMPORTED_MODULE_6_rxjs_operators__["startWith"])(''), Object(__WEBPACK_IMPORTED_MODULE_6_rxjs_operators__["map"])(function (val) { return _this.filterCustomer(val); }));
            });
        });
        this.myForm = this.fb.group({
            rows: this.fb.array([])
        });
        if (this.data.row != null) {
            this.editState = true;
            this.employee = this.data.row;
            this.activityLogs.getEmployeeLogs({ id: this.data.row.id }).subscribe(function (data) {
                _this.logs = data;
            });
            this.employeeService.getEmployeeLimitCustomer(this.employee).subscribe(function (data) {
                data.forEach(function (element) {
                    var row = _this.fb.group({
                        id: element.id,
                        customerId: element.customerId,
                        employeeId: element.employeeId,
                        visibleCustomers: element.cname,
                    });
                    var index = _this.customers.findIndex(function (x) { return x.id == element.customerId; });
                    _this.customers.splice(index, 1);
                    _this.visibleCustomers.push({ customerId: element.customerId, cname: element.cname, employeeId: element.employeeId, id: element.id });
                    _this.customerForms.push(row);
                });
            });
            if (this.employee.profilePhoto != '' && this.employee.profilePhoto != null)
                this.uploadService.getFile(this.user.companyName, 'employeeList', this.employee.profilePhoto).subscribe(function (data) {
                    _this.imgUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                        + data.text());
                    _this.previousImgUrl = _this.imgUrl;
                });
            if (this.employee.aadharPhoto != '' && this.employee.aadharPhoto != null)
                this.uploadService.getFile(this.user.companyName, 'employeeList', this.employee.aadharPhoto).subscribe(function (data) {
                    if (data.text().includes("PDF")) {
                        _this.aadharImgUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:application/pdf,' + data.text());
                        _this.imgAadharName = _this.employee.aadharPhoto;
                        _this.previousAadharImgUrl = _this.aadharImgUrl.changingThisBreaksApplicationSecurity;
                        _this.aadharImgUrl = _this.previousAadharImgUrl;
                    }
                    else {
                        _this.aadharImgUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                            + data.text());
                        _this.previousAadharImgUrl = _this.aadharImgUrl.changingThisBreaksApplicationSecurity;
                        _this.aadharImgUrl = _this.previousAadharImgUrl;
                    }
                });
            if (this.employee.panCardPhoto != '' && this.employee.panCardPhoto != null)
                this.uploadService.getFile(this.user.companyName, 'employeeList', this.employee.panCardPhoto).subscribe(function (data) {
                    if (data.text().includes("PDF")) {
                        _this.panImgUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:application/pdf,' + data.text());
                        ;
                        _this.imgPanName = _this.employee.panCardPhoto;
                        _this.previousPanImgUrl = _this.panImgUrl.changingThisBreaksApplicationSecurity;
                        _this.panImgUrl = _this.previousPanImgUrl;
                    }
                    else {
                        _this.panImgUrl = _this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,'
                            + data.text());
                        _this.previousPanImgUrl = _this.panImgUrl.changingThisBreaksApplicationSecurity;
                        _this.panImgUrl = _this.previousPanImgUrl;
                    }
                });
        }
        else {
            this.editState = false;
        }
        if (this.data.row == null && this.visibleCustomers.length == 0) {
            this.addRow();
        }
    };
    NewEmployeesComponent.prototype.filterBranches = function (val) {
        return this.branches.filter(function (option) {
            return option.name.toLowerCase().includes(val.toLowerCase());
        });
    };
    NewEmployeesComponent.prototype.filterCustomer = function (val) {
        return this.customers.filter(function (option) {
            return option.name.toLowerCase().includes(val.toLowerCase());
        });
    };
    NewEmployeesComponent.prototype.filterCust = function (i) {
        var _this = this;
        if (this.customers.length > 0) {
            this.customer = this.customerForms.at(i).get('visibleCustomers').valueChanges
                .pipe(Object(__WEBPACK_IMPORTED_MODULE_6_rxjs_operators__["startWith"])(''), Object(__WEBPACK_IMPORTED_MODULE_6_rxjs_operators__["map"])(function (val) { return _this.filterCustomer(val); }));
        }
    };
    NewEmployeesComponent.prototype.setBranches = function (temp, event) {
        if (event.source.selected == true) {
            this.employee.branches = temp.name;
            this.employee.branchId = temp.id;
        }
    };
    Object.defineProperty(NewEmployeesComponent.prototype, "customerForms", {
        get: function () {
            return this.myForm.get('rows');
        },
        enumerable: true,
        configurable: true
    });
    NewEmployeesComponent.prototype.addRow = function () {
        var row = this.fb.group({
            id: '',
            customerId: '',
            employeeId: '',
            visibleCustomers: new __WEBPACK_IMPORTED_MODULE_4__angular_forms__["c" /* FormControl */](),
        });
        this.customerForms.push(row);
    };
    NewEmployeesComponent.prototype.deleteRow = function (i, aRow) {
        this.customerForms.removeAt(i);
        if (this.visibleCustomers[i]) {
            if (aRow.value.id != '') {
                console.log("inside");
                console.log(aRow);
                this.deleteCustomers.push(aRow.value);
            }
            var index = this.visibleCustomers.splice(i, 1);
            console.log(this.tempCustomers);
            var temp = this.tempCustomers.find(function (x) { return x.customerId == index[0].customerId; });
            console.log(temp);
            this.customers.push(temp);
        }
    };
    NewEmployeesComponent.prototype.setCustomer = function (temp, event, i) {
        if (event.source.selected == true) {
            var index = this.customers.findIndex(function (x) { return x.id == temp.id; });
            this.customers.splice(index, 1);
            this.visibleCustomers[i] = { customerId: temp.id, cname: temp.name, employeeId: '' };
        }
    };
    NewEmployeesComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    NewEmployeesComponent.prototype.saveEmployee = function () {
        var _this = this;
        if (this.employee.name.trim() == "") {
            this.snackBar.open('Enter Name', null, {
                duration: 5000
            });
        }
        else if (this.employee.email.trim() != "" && !this.employee.email.match(/\b([a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+\.[a-zA-Z]{2,}$)\b/)) {
            this.snackBar.open('Enter valid Email ID', null, {
                duration: 5000
            });
        }
        else if (this.employee.panNumber.trim() != "" && !this.employee.panNumber.match(/\b([A-Z]{5}[0-9]{4}[A-Z]{1})\b/)) {
            this.snackBar.open('Enter valid PAN Number', null, {
                duration: 5000
            });
        }
        else {
            this.employee.dateOfBirth = __WEBPACK_IMPORTED_MODULE_7_moment__(this.employee.dateOfBirth).format("YYYY-MM-DD");
            if (this.employee.fatherDateOfBirth === '') {
                this.employee.fatherDateOfBirth = null;
            }
            else {
                this.employee.fatherDateOfBirth = __WEBPACK_IMPORTED_MODULE_7_moment__(this.employee.fatherDateOfBirth).format("YYYY-MM-DD");
            }
            if (this.employee.mothersDateOfBirth === '') {
                this.employee.mothersDateOfBirth = null;
            }
            else {
                this.employee.mothersDateOfBirth = __WEBPACK_IMPORTED_MODULE_7_moment__(this.employee.mothersDateOfBirth).format("YYYY-MM-DD");
            }
            if (this.employee.marriageDate === '') {
                this.employee.marriageDate = null;
            }
            else {
                this.employee.marriageDate = __WEBPACK_IMPORTED_MODULE_7_moment__(this.employee.marriageDate).format("YYYY-MM-DD");
            }
            if (this.employee.joiningDate === '') {
                this.employee.joiningDate = null;
            }
            else {
                this.employee.joiningDate = __WEBPACK_IMPORTED_MODULE_7_moment__(this.employee.joiningDate).format("YYYY-MM-DD");
            }
            if (this.employee.dlExpiry === '') {
                this.employee.dlExpiry = null;
            }
            else {
                this.employee.dlExpiry = __WEBPACK_IMPORTED_MODULE_7_moment__(this.employee.dlExpiry).format("YYYY-MM-DD");
            }
            if (this.employee.badgeExpiry === '') {
                this.employee.badgeExpiry = null;
            }
            else {
                this.employee.badgeExpiry = __WEBPACK_IMPORTED_MODULE_7_moment__(this.employee.badgeExpiry).format("YYYY-MM-DD");
            }
            if (this.employee.policeDisplayCardExpiry === '') {
                this.employee.policeDisplayCardExpiry = null;
            }
            else {
                this.employee.policeDisplayCardExpiry = __WEBPACK_IMPORTED_MODULE_7_moment__(this.employee.policeDisplayCardExpiry).format("YYYY-MM-DD");
            }
            if (this.employee.policeVerificationExpiryDate === '') {
                this.employee.policeVerificationExpiryDate = null;
            }
            else {
                this.employee.policeVerificationExpiryDate = __WEBPACK_IMPORTED_MODULE_7_moment__(this.employee.policeVerificationExpiryDate).format("YYYY-MM-DD");
            }
            if (this.employee.licenseDate === '') {
                this.employee.licenseDate = null;
            }
            else {
                this.employee.licenseDate = __WEBPACK_IMPORTED_MODULE_7_moment__(this.employee.licenseDate).format("YYYY-MM-DD");
            }
            this.employeeService.addEmployee(this.employee).subscribe(function (data) {
                if (data.affectedRows == 1) {
                    _this.employee.id = data.insertId;
                    _this.upload(data.insertId);
                    _this.param.inserted = 'yes';
                    _this.param.data = _this.employee;
                    _this.activityLogs.addEmployeeLogs({
                        employeeId: data.insertId,
                        ownerId: _this.employee.ownerId,
                        message: "Employee created on " + __WEBPACK_IMPORTED_MODULE_7_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + _this.user.name
                    }).subscribe();
                    _this.visibleCustomers.forEach(function (element) {
                        element.employeeId = _this.employee.id;
                        _this.employeeService.addEmployeeLimitCustomer(element).subscribe(function (data) { });
                    });
                    _this.matDialogRef.close(_this.param);
                }
            }, function (err) { }, function () {
                _this.snackBar.open("Employee Added", "X", { duration: 3000 });
            });
        }
    };
    NewEmployeesComponent.prototype.uploadProfilePhoto = function (event) {
        var _this = this;
        var file = event.target.files[0];
        this.img = event.target.files[0];
        var reader = new FileReader();
        reader.onload = function () { return _this.imgUrl = reader.result; };
        reader.readAsDataURL(file);
    };
    NewEmployeesComponent.prototype.uploadAadharPhoto = function (event) {
        var _this = this;
        var file = event.target.files[0];
        this.imgAadhar = event.target.files[0];
        var reader = new FileReader();
        reader.onload = function () { return _this.aadharImgUrl = reader.result; };
        this.imgAadharName = this.imgAadhar.name;
        reader.readAsDataURL(file);
    };
    NewEmployeesComponent.prototype.uploadPanPhoto = function (event) {
        var _this = this;
        var file = event.target.files[0];
        this.imgPan = event.target.files[0];
        var reader = new FileReader();
        reader.onload = function () { return _this.panImgUrl = reader.result; };
        this.imgPanName = this.imgPan.name;
        reader.readAsDataURL(file);
    };
    NewEmployeesComponent.prototype.upload = function (id) {
        return __awaiter(this, void 0, void 0, function () {
            var uploadData, headers, body, type, uploadData, headers, body, type, uploadData, headers, body;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(this.imgUrl != '' && this.previousImgUrl != this.imgUrl)) return [3 /*break*/, 2];
                        this.employee.profilePhoto = id + this.employee.name + "_profilePhoto.jpg";
                        uploadData = new FormData();
                        uploadData.append(this.user.companyName + "/" + "employeeList/" + this.employee.profilePhoto, this.img, 'employeeImage');
                        headers = new Headers();
                        headers.append('Content-Type', 'multipart/form-data');
                        headers.append('Accept', 'application/json');
                        body = JSON.stringify({ headers: headers });
                        return [4 /*yield*/, this.http.post("/files/uploadS3", uploadData, body).map(function (res) { return res.json(); }).subscribe(function (data) {
                                if (data.success) {
                                    // this.snackBar.open("Flight Details Updated","X",{duration: 3000});
                                }
                            })];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        if (!(this.aadharImgUrl != '' && this.previousAadharImgUrl != this.aadharImgUrl)) return [3 /*break*/, 4];
                        type = this.imgAadhar.type.split("/");
                        this.employee.aadharPhoto = id + this.employee.name + "_aadharPhoto." + type[1];
                        uploadData = new FormData();
                        uploadData.append(this.user.companyName + "/" + "employeeList/" + this.employee.aadharPhoto, this.imgAadhar, 'employeeAadharImage');
                        headers = new Headers();
                        headers.append('Content-Type', 'multipart/form-data');
                        headers.append('Accept', 'application/json');
                        body = JSON.stringify({ headers: headers });
                        return [4 /*yield*/, this.http.post("/files/uploadS3", uploadData, body).map(function (res) { return res.json(); }).subscribe()];
                    case 3:
                        _a.sent();
                        _a.label = 4;
                    case 4:
                        if (!(this.panImgUrl != '' && this.previousPanImgUrl != this.panImgUrl)) return [3 /*break*/, 6];
                        type = this.imgPan.type.split("/");
                        this.employee.panCardPhoto = id + this.employee.name + "_panPhoto." + type[1];
                        uploadData = new FormData();
                        uploadData.append(this.user.companyName + "/" + "employeeList/" + this.employee.panCardPhoto, this.imgPan, 'employeePanImage');
                        headers = new Headers();
                        headers.append('Content-Type', 'multipart/form-data');
                        headers.append('Accept', 'application/json');
                        body = JSON.stringify({ headers: headers });
                        return [4 /*yield*/, this.http.post("/files/uploadS3", uploadData, body).map(function (res) { return res.json(); }).subscribe(function (data) { })];
                    case 5:
                        _a.sent();
                        _a.label = 6;
                    case 6:
                        this.employeeService.updateEmployee(this.employee).subscribe(function (data) {
                            // this.snackBar.open("Employee data has been updated",null,{duration:3000});
                            // this.dialog.closeAll()
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    NewEmployeesComponent.prototype.editEmployee = function () {
        var _this = this;
        this.employee.dateOfBirth = __WEBPACK_IMPORTED_MODULE_7_moment__(this.employee.dateOfBirth).format("YYYY-MM-DD");
        if (this.employee.fatherDateOfBirth === '') {
            this.employee.fatherDateOfBirth = null;
        }
        else {
            this.employee.fatherDateOfBirth = __WEBPACK_IMPORTED_MODULE_7_moment__(this.employee.fatherDateOfBirth).format("YYYY-MM-DD");
        }
        if (this.employee.mothersDateOfBirth === '') {
            this.employee.mothersDateOfBirth = null;
        }
        else {
            this.employee.mothersDateOfBirth = __WEBPACK_IMPORTED_MODULE_7_moment__(this.employee.mothersDateOfBirth).format("YYYY-MM-DD");
        }
        if (this.employee.marriageDate === '') {
            this.employee.marriageDate = null;
        }
        else {
            this.employee.marriageDate = __WEBPACK_IMPORTED_MODULE_7_moment__(this.employee.marriageDate).format("YYYY-MM-DD");
        }
        if (this.employee.joiningDate === '') {
            this.employee.joiningDate = null;
        }
        else {
            this.employee.joiningDate = __WEBPACK_IMPORTED_MODULE_7_moment__(this.employee.joiningDate).format("YYYY-MM-DD");
        }
        if (this.employee.dlExpiry === '') {
            this.employee.dlExpiry = null;
        }
        else {
            this.employee.dlExpiry = __WEBPACK_IMPORTED_MODULE_7_moment__(this.employee.dlExpiry).format("YYYY-MM-DD");
        }
        if (this.employee.badgeExpiry === '') {
            this.employee.badgeExpiry = null;
        }
        else {
            this.employee.badgeExpiry = __WEBPACK_IMPORTED_MODULE_7_moment__(this.employee.badgeExpiry).format("YYYY-MM-DD");
        }
        if (this.employee.policeDisplayCardExpiry === '') {
            this.employee.policeDisplayCardExpiry = null;
        }
        else {
            this.employee.policeDisplayCardExpiry = __WEBPACK_IMPORTED_MODULE_7_moment__(this.employee.policeDisplayCardExpiry).format("YYYY-MM-DD");
        }
        if (this.employee.policeVerificationExpiryDate === '') {
            this.employee.policeVerificationExpiryDate = null;
        }
        else {
            this.employee.policeVerificationExpiryDate = __WEBPACK_IMPORTED_MODULE_7_moment__(this.employee.policeVerificationExpiryDate).format("YYYY-MM-DD");
        }
        if (this.employee.licenseDate === '') {
            this.employee.licenseDate = null;
        }
        else {
            this.employee.licenseDate = __WEBPACK_IMPORTED_MODULE_7_moment__(this.employee.licenseDate).format("YYYY-MM-DD");
        }
        console.log(this.employee);
        this.employeeService.updateEmployee(this.employee).subscribe(function (data) {
            _this.upload(_this.employee.id);
            console.log(_this.deleteCustomers);
            _this.activityLogs.addEmployeeLogs({
                employeeId: _this.employee.id,
                ownerId: _this.employee.ownerId,
                message: "Employee edited on " + __WEBPACK_IMPORTED_MODULE_7_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + _this.user.name
            }).subscribe();
            if (_this.deleteCustomers.length > 0) {
                _this.deleteCustomers.forEach(function (element) {
                    _this.employeeService.deleteEmployeeLimitCustomer(element).subscribe(function (data) { });
                });
            }
            _this.visibleCustomers.forEach(function (element) {
                console.log(element);
                if (element.id == undefined) {
                    element.employeeId = _this.employee.id;
                    _this.employeeService.addEmployeeLimitCustomer(element).subscribe(function (data) {
                        element.id = data.insertId;
                    });
                }
                else {
                    _this.employeeService.updateEmployeeLimitCustomer(element).subscribe(function (data) { });
                }
            });
        }, function (err) { }, function () {
            _this.snackBar.open("Employee has been updated", null, { duration: 3000 });
            _this.dialog.closeAll();
        });
    };
    NewEmployeesComponent.prototype.permanentAddress = function () {
        if (this.sameAsPermanent == false) {
            this.sameAsPermanent = true;
            this.employee.currentAddress = this.employee.permanentAddress;
        }
        else if (this.sameAsPermanent == true) {
            this.sameAsPermanent = false;
            this.employee.currentAddress = '';
        }
    };
    NewEmployeesComponent.prototype.removeImage = function () {
        this.imgUrl = '';
        this.previousImgUrl = '';
        this.employee.profilePhoto = '';
        this.imgName = '';
    };
    NewEmployeesComponent.prototype.removeAadharImage = function () {
        this.aadharImgUrl = '';
        this.previousAadharImgUrl = '';
        this.employee.aadharPhoto = '';
        this.imgAadharName = '';
    };
    NewEmployeesComponent.prototype.removePANImage = function () {
        this.panImgUrl = '';
        this.previousPanImgUrl = '';
        this.employee.panCardPhoto = '';
        this.imgPanName = '';
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])("window:beforeunload", ["$event"]),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Event]),
        __metadata("design:returntype", void 0)
    ], NewEmployeesComponent.prototype, "unloadHandler", null);
    NewEmployeesComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-new-employees',
            template: __webpack_require__("./src/app/pages/masters/new-employees/new-employees.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/new-employees/new-employees.component.scss")]
        }),
        __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_2__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_material__["p" /* MatDialogRef */], Object, __WEBPACK_IMPORTED_MODULE_1__employee_service__["a" /* EmployeeService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_3__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_5__operations_new_branch_new_branch_service__["a" /* NewBranchService */],
            __WEBPACK_IMPORTED_MODULE_8__angular_platform_browser__["DomSanitizer"],
            __WEBPACK_IMPORTED_MODULE_9__fileupload_service__["a" /* FileuploadService */],
            __WEBPACK_IMPORTED_MODULE_4__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_10__customer_customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_11__activitylog_service__["a" /* ActivitylogService */],
            __WEBPACK_IMPORTED_MODULE_12__angular_http__["b" /* Http */]])
    ], NewEmployeesComponent);
    return NewEmployeesComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/new-vehicles/vehicle.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return VehicleService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var VehicleService = (function () {
    function VehicleService(http) {
        this.http = http;
    }
    VehicleService.prototype.addVehicle = function (vehicles) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/vehicles/add', vehicles, { headers: headers }).map(function (res) { return res.json(); });
    };
    VehicleService.prototype.addVehiclePermit = function (vehicles) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/vehicles/addPermits', vehicles, { headers: headers }).map(function (res) { return res.json(); });
    };
    VehicleService.prototype.addVehicleFile = function (vehicles) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/vehicles/addFiles', vehicles, { headers: headers }).map(function (res) { return res.json(); });
    };
    VehicleService.prototype.deleteVehicle = function (vehicles) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/vehicles/delete', vehicles, { headers: headers }).map(function (res) { return res.json(); });
    };
    VehicleService.prototype.deleteVehiclePermit = function (vehicles) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/vehicles/deletePermits', vehicles, { headers: headers }).map(function (res) { return res.json(); });
    };
    VehicleService.prototype.deleteVehicleFile = function (vehicles) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/vehicles/deleteFiles', vehicles, { headers: headers }).map(function (res) { return res.json(); });
    };
    VehicleService.prototype.updateVehicle = function (vehicles) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/vehicles/update', vehicles, { headers: headers }).map(function (res) { return res.json(); });
    };
    VehicleService.prototype.updateVehiclePermit = function (vehicles) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/vehicles/updatePermits', vehicles, { headers: headers }).map(function (res) { return res.json(); });
    };
    VehicleService.prototype.updateVehicleFile = function (vehicles) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/vehicles/updateFiles', vehicles, { headers: headers }).map(function (res) { return res.json(); });
    };
    VehicleService.prototype.getVehicle = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/vehicles/retrieve', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    VehicleService.prototype.getVehiclePermit = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/vehicles/retrievePermits', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    VehicleService.prototype.getVehicleFile = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/vehicles/retrieveFiles', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    VehicleService.prototype.filterVehicleFromVehicleGroups = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/vehicles/retrieveVehicleFromGroups', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    VehicleService.prototype.getUniqueVehicle = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/vehicles/retrieveUnique', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    VehicleService.prototype.deactivateVehicle = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/vehicles/active', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    VehicleService.prototype.getVehicleNumber = function (temp, temp2) {
        var data = {
            ownerId: temp,
            id: temp2
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/vehicles/retrieveNumber', data, { headers: headers }).map(function (res) { return res.json(); });
    };
    VehicleService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["b" /* Http */]])
    ], VehicleService);
    return VehicleService;
}());



/***/ }),

/***/ "./src/app/pages/masters/newcustomergroup/newcustomergroup.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n  <nb-card>\n    <nb-card-header>\n      Customer Group\n    </nb-card-header>\n    <nb-card-body>\n        <div class=\"col-lg-12\">\n            Customer Group Name\n            <mat-form-field>\n              <input matInput [(ngModel)]=\"newCustomerGroup.name\">\n            </mat-form-field>\n          </div>\n    </nb-card-body>\n  </nb-card>\n  </div>\n  <div class=\"row ptb-10\">\n    <div class=\"col-lg-12\">\n      <button mat-raised-button color=\"primary\" *ngIf=\"editState==false\" (click)=\"submit()\">Submit</button>\n      <button mat-raised-button color=\"primary\" *ngIf=\"editState==true\" (click)=\"update()\">Edit</button>\n      <button mat-raised-button color=\"warn\" (click)=\"close()\">Close</button>\n    </div>\n  </div>\n</div>  \n"

/***/ }),

/***/ "./src/app/pages/masters/newcustomergroup/newcustomergroup.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/newcustomergroup/newcustomergroup.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NewcustomergroupComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};




var NewcustomergroupComponent = (function () {
    function NewcustomergroupComponent(http, dialog, snackBar, auth, data) {
        this.http = http;
        this.dialog = dialog;
        this.snackBar = snackBar;
        this.auth = auth;
        this.data = data;
        this.user = {};
        this.newCustomerGroup = {
            name: '',
            ownerId: ''
        };
        if (data) {
            this.newCustomerGroup = data;
            this.editState = true;
        }
        else {
            this.editState = false;
        }
    }
    NewcustomergroupComponent.prototype.unloadHandler = function (event) {
        console.log("Processing beforeunload...");
        event.returnValue = false;
    };
    NewcustomergroupComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.newCustomerGroup.ownerId = data[0].ownerId;
        });
    };
    NewcustomergroupComponent.prototype.submit = function () {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        this.http.post('/customers/addCustomerGroup', this.newCustomerGroup, { headers: headers }).subscribe(function (data) { return data.json(); });
        this.dialog.closeAll();
        this.snackBar.open("Customer Group Added", null, { duration: 2000 });
    };
    NewcustomergroupComponent.prototype.update = function () {
        var _this = this;
        this.editCustomerGroups(this.newCustomerGroup).subscribe(function (data) {
            _this.snackBar.open("Customer Group Updated", null, { duration: 3000 });
            _this.dialog.closeAll();
        });
    };
    NewcustomergroupComponent.prototype.close = function () {
        this.dialog.closeAll();
    };
    NewcustomergroupComponent.prototype.getCustomerGroups = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/retrieveCustomerGroup', temp, { headers: headers }).map(function (data) { return data.json(); });
    };
    NewcustomergroupComponent.prototype.editCustomerGroups = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/updateCustomerGroup', temp, { headers: headers }).map(function (data) { return data.json(); });
    };
    NewcustomergroupComponent.prototype.deleteCustomerGroups = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/customers/deleteCustomerGroup', temp, { headers: headers }).map(function (data) { return data.json(); });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])("window:beforeunload", ["$event"]),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Event]),
        __metadata("design:returntype", void 0)
    ], NewcustomergroupComponent.prototype, "unloadHandler", null);
    NewcustomergroupComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-newcustomergroup',
            template: __webpack_require__("./src/app/pages/masters/newcustomergroup/newcustomergroup.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/newcustomergroup/newcustomergroup.component.scss")]
        }),
        __param(4, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_2__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_2__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_3__core_auth_service__["a" /* AuthService */], Object])
    ], NewcustomergroupComponent);
    return NewcustomergroupComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/newpettycash/newpettycash.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\r\n    <div class=\"col-lg-12\">\r\n        <nb-card>\r\n            <nb-card-header>\r\n              Petty Cash\r\n            </nb-card-header>\r\n            <nb-card-body>\r\n                <table>\r\n                    <tr>\r\n                        <td>\r\n                            <mat-form-field>\r\n                                <input matInput [matDatepicker]=\"date\" [(ngModel)]=\"pettyCash.date\" readonly (click)=\"date.open()\" placeholder=\"Choose a date\">\r\n                                <mat-datepicker-toggle matSuffix [for]=\"date\"></mat-datepicker-toggle>\r\n                                <mat-datepicker #date></mat-datepicker>\r\n                            </mat-form-field>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            <mat-form-field>\r\n                                <input [(ngModel)]=\"pettyCash.voucherNumber\" matInput placeholder=\"Voucher Number\">\r\n                            </mat-form-field>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            <mat-radio-group>\r\n                                <mat-radio-button value=\"supplier\" (change)=\"condition('supplier',$event)\" >\r\n                                    Supplier\r\n                                </mat-radio-button>\r\n                                <mat-radio-button value=\"self\" (change)=\"condition('self',$event)\">\r\n                                    Self\r\n                                </mat-radio-button>\r\n                            </mat-radio-group>\r\n                        </td>\r\n                    </tr>\r\n                    <tr *ngIf=\"supplierCondition==true\">\r\n                        <td>\r\n                            <mat-form-field>\r\n                                <input placeholder=\"Supplier\" matInput [(ngModel)]=\"pettyCash.supplier\" [formControl]=\"supplierCtrl\" [matAutocomplete]=\"autoSuppliers\">\r\n                                <mat-autocomplete #autoSuppliers=\"matAutocomplete\">\r\n                                    <mat-option *ngFor=\"let supplier of supplier0 | async\" [value]=\"supplier.name\" (onSelectionChange)=\"setSupplierId(supplier,$event)\">\r\n                                        {{ supplier.name }}\r\n                                    </mat-option>\r\n                                </mat-autocomplete> \r\n                            </mat-form-field>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            <mat-form-field>\r\n                                <input placeholder=\"Driver\" matInput [(ngModel)]=\"pettyCash.driver\" [matAutocomplete]=\"autoDrivers\">\r\n                                <mat-autocomplete #autoDrivers=\"matAutocomplete\">\r\n                                    <mat-option *ngFor=\"let item of drivers\" [value]=\"item.name\">\r\n                                        {{ item.name }}\r\n                                    </mat-option>\r\n                                </mat-autocomplete>\r\n                            </mat-form-field>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            <mat-form-field>\r\n                                <input placeholder=\"Amount\" matInput [(ngModel)]=\"pettyCash.amount\">\r\n                            </mat-form-field>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            Transaction Type\r\n                        </td>    \r\n                    </tr>\r\n                    <tr>\r\n                        <td style=\"padding:20px\">\r\n                            <mat-radio-group [(ngModel)]=\"pettyCash.transactionType\">\r\n                                <mat-radio-button value=\"Debit\">Debit</mat-radio-button>\r\n                                <mat-radio-button value=\"Credit\">Credit</mat-radio-button>\r\n                            </mat-radio-group>    \r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </nb-card-body>\r\n        </nb-card>\r\n    </div>\r\n</div>\r\n<div class=\"row ptb-10\">\r\n    <div class=\"col-lg-12\">        \r\n        <button mat-raised-button color=\"primary\" *ngIf=\"editState==false\" (click)=\"savePettyCash()\">Save</button>            \r\n        <button mat-raised-button color=\"primary\" *ngIf=\"editState==true\" (click)=\"editPettyCash()\">Edit</button>            \r\n        <button mat-raised-button color=\"warn\"(click)=\"closeDialog()\">Close</button>            \r\n    </div>\r\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/newpettycash/newpettycash.component.scss":
/***/ (function(module, exports) {

module.exports = ".full-width {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  min-width: 100px; }\n\nnb-checkbox {\n  margin-bottom: 1rem; }\n\n.form-inline > * {\n  margin: 0 1.5rem 1.5rem 0; }\n\nnb-card.inline-form-card nb-card-body {\n  padding-bottom: 0; }\n\nbutton {\n  padding: 1px 53px; }\n"

/***/ }),

/***/ "./src/app/pages/masters/newpettycash/newpettycash.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NewPettyCashComponent; });
/* unused harmony export PettyCash */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__addsuppliers_supplier_service__ = __webpack_require__("./src/app/pages/masters/addsuppliers/supplier.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__new_driver_driver_service__ = __webpack_require__("./src/app/pages/masters/new-driver/driver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__node_modules_angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_operators__ = __webpack_require__("./node_modules/rxjs/_esm5/operators.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_moment__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};










var NewPettyCashComponent = (function () {
    function NewPettyCashComponent(matDialogRef, supplierService, driverService, snackBar, auth, http, dialog, data) {
        this.matDialogRef = matDialogRef;
        this.supplierService = supplierService;
        this.driverService = driverService;
        this.snackBar = snackBar;
        this.auth = auth;
        this.http = http;
        this.dialog = dialog;
        this.data = data;
        this.supplierCtrl = new __WEBPACK_IMPORTED_MODULE_7__angular_forms__["c" /* FormControl */]();
        this.user = {};
        this.supplierCondition = false;
        this.editState = false;
        this.supplier = {
            name: '',
        };
        this.param = {
            inserted: 'no',
            data: null
        };
        this.pettyCash = {
            date: '',
            voucherNumber: '',
            supplier: '',
            supplierId: '',
            driver: '',
            amount: '',
            transactionType: '',
            ownerId: ''
        };
        if (data.row) {
            console.log(data);
            this.editState = true;
            this.pettyCash = data.row;
        }
        else {
            this.editState = false;
        }
    }
    NewPettyCashComponent.prototype.unloadHandler = function (event) {
        console.log("Processing beforeunload...");
        event.returnValue = false;
    };
    NewPettyCashComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.pettyCash.ownerId = data[0].ownerId;
            _this.driverService.getDriver(_this.user).subscribe(function (data) {
                _this.drivers = data;
            });
            _this.supplierService.getSupplier(_this.user).subscribe(function (data) {
                _this.suppliers = data;
                _this.supplier0 = _this.supplierCtrl.valueChanges
                    .pipe(Object(__WEBPACK_IMPORTED_MODULE_8_rxjs_operators__["startWith"])(''), Object(__WEBPACK_IMPORTED_MODULE_8_rxjs_operators__["map"])(function (val) { return _this.filterSupplier(val); }));
            });
        });
    };
    NewPettyCashComponent.prototype.filterSupplier = function (val) {
        return this.suppliers.filter(function (option) {
            return option.name.toLowerCase().includes(val.toLowerCase());
        });
    };
    NewPettyCashComponent.prototype.setSupplierId = function (temp, event) {
        if (event.source.selected == true) {
            this.pettyCash.supplierId = temp.id;
        }
    };
    NewPettyCashComponent.prototype.savePettyCash = function () {
        var _this = this;
        if (this.pettyCash.date == "") {
            this.snackBar.open('Enter Date', null, {
                duration: 5000
            });
        }
        else if (this.pettyCash.voucherNumber.trim() == "") {
            this.snackBar.open('Enter Voucher Number', null, {
                duration: 5000
            });
        }
        else if (this.pettyCash.supplier == "") {
            this.snackBar.open("Enter Supplier", null, {
                duration: 5000
            });
        }
        else if (this.pettyCash.driver.trim() == "") {
            this.snackBar.open("Enter Driver", null, {
                duration: 5000
            });
        }
        else if (this.pettyCash.amount.trim() == "") {
            this.snackBar.open('Enter Amount Number', null, {
                duration: 5000
            });
        }
        else if (this.pettyCash.transactionType == "") {
            this.snackBar.open("Enter Transaction", null, {
                duration: 5000
            });
        }
        else {
            this.pettyCash.date = __WEBPACK_IMPORTED_MODULE_9_moment__(this.pettyCash.date).format("YYYY-MM-DD");
            this.addPettyCash(this.pettyCash).subscribe(function (data) {
                if (data.affectedRows == 1) {
                    _this.param.inserted = 'yes';
                    _this.param.data = _this.pettyCash;
                    _this.matDialogRef.close(_this.param);
                }
            }, function (err) { }, function () {
                _this.snackBar.open("Petty Cash Added", "X", { duration: 3000 });
            });
        }
    };
    NewPettyCashComponent.prototype.editPettyCash = function () {
        var _this = this;
        this.pettyCash.date = __WEBPACK_IMPORTED_MODULE_9_moment__(this.pettyCash.date).format("YYYY-MM-DD");
        this.updatePettyCash(this.pettyCash).subscribe(function (data) {
            _this.snackBar.open("Petty Cash upadated", null, { duration: 3000 });
            _this.dialog.closeAll();
        });
    };
    NewPettyCashComponent.prototype.condition = function (type, event) {
        if (type == 'supplier') {
            this.supplierCondition = true;
        }
        else if (type == 'self') {
            this.supplierCondition = false;
        }
    };
    NewPettyCashComponent.prototype.addPettyCash = function (pettyCash) {
        var headers = new __WEBPACK_IMPORTED_MODULE_5__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/pettyCash/add', pettyCash, { headers: headers }).map(function (res) { return res.json(); });
    };
    NewPettyCashComponent.prototype.deletePettyCash = function (pettyCash) {
        var headers = new __WEBPACK_IMPORTED_MODULE_5__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/pettyCash/delete', pettyCash, { headers: headers }).map(function (res) { return res.json(); });
    };
    NewPettyCashComponent.prototype.updatePettyCash = function (pettyCash) {
        var headers = new __WEBPACK_IMPORTED_MODULE_5__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/pettyCash/update', pettyCash, { headers: headers }).map(function (res) { return res.json(); });
    };
    NewPettyCashComponent.prototype.getPettyCash = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_5__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/pettyCash/retrieve', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    NewPettyCashComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])("window:beforeunload", ["$event"]),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Event]),
        __metadata("design:returntype", void 0)
    ], NewPettyCashComponent.prototype, "unloadHandler", null);
    NewPettyCashComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ngx-form-layouts',
            styles: [__webpack_require__("./src/app/pages/masters/newpettycash/newpettycash.component.scss")],
            template: __webpack_require__("./src/app/pages/masters/newpettycash/newpettycash.component.html"),
        }),
        __param(7, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_4__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_4__angular_material__["p" /* MatDialogRef */],
            __WEBPACK_IMPORTED_MODULE_2__addsuppliers_supplier_service__["a" /* SupplierService */],
            __WEBPACK_IMPORTED_MODULE_3__new_driver_driver_service__["a" /* DriverService */],
            __WEBPACK_IMPORTED_MODULE_4__angular_material__["I" /* MatSnackBar */],
            __WEBPACK_IMPORTED_MODULE_6__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_5__node_modules_angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_4__angular_material__["n" /* MatDialog */], Object])
    ], NewPettyCashComponent);
    return NewPettyCashComponent;
}());

var PettyCash = (function () {
    function PettyCash() {
    }
    return PettyCash;
}());



/***/ }),

/***/ "./src/app/pages/masters/newsuppliergroup/newsuppliergroup.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        New Suppiler Group\n      </nb-card-header>\n      <nb-card-body>\n        Enter Supplier Group Name\n        <mat-form-field>\n          <input matInput [(ngModel)]=\"newSupplierGroup.name\">\n        </mat-form-field>\n      </nb-card-body>\n    </nb-card>\n  </div>\n  <div class=\"row ptb-10\">\n    <div class=\"col-lg-12\">\n      <button mat-raised-button color=\"primary\" (click)=\"submit()\">Submit</button>\n      <button mat-raised-button color=\"warn\" (click)=\"closeDialog()\">Close</button>\n    </div>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/pages/masters/newsuppliergroup/newsuppliergroup.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/newsuppliergroup/newsuppliergroup.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NewsuppliergroupComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var NewsuppliergroupComponent = (function () {
    function NewsuppliergroupComponent(snackBar, http, dialog, auth) {
        this.snackBar = snackBar;
        this.http = http;
        this.dialog = dialog;
        this.auth = auth;
        this.newSupplierGroup = {
            name: '',
            ownerId: ''
        };
    }
    NewsuppliergroupComponent.prototype.unloadHandler = function (event) {
        console.log("Processing beforeunload...");
        event.returnValue = false;
    };
    NewsuppliergroupComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.user.subscribe(function (data) {
            _this.newSupplierGroup.ownerId = data[0].ownerId;
        });
    };
    NewsuppliergroupComponent.prototype.submit = function () {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        this.http.post('/suppliers/addSupplierGroup', this.newSupplierGroup, { headers: headers }).subscribe(function (data) { return data.json(); });
        this.snackBar.open("Supplier Added", null, { duration: 2000 });
        this.dialog.closeAll();
    };
    NewsuppliergroupComponent.prototype.getSupplierGroups = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/suppliers/retrieveSupplierGroup', temp, { headers: headers }).map(function (data) { return data.json(); });
    };
    NewsuppliergroupComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])("window:beforeunload", ["$event"]),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Event]),
        __metadata("design:returntype", void 0)
    ], NewsuppliergroupComponent.prototype, "unloadHandler", null);
    NewsuppliergroupComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-newsuppliergroup',
            template: __webpack_require__("./src/app/pages/masters/newsuppliergroup/newsuppliergroup.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/newsuppliergroup/newsuppliergroup.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_material__["I" /* MatSnackBar */], __WEBPACK_IMPORTED_MODULE_2__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */], __WEBPACK_IMPORTED_MODULE_3__core_auth_service__["a" /* AuthService */]])
    ], NewsuppliergroupComponent);
    return NewsuppliergroupComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/notifications/notification.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NotificationService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var NotificationService = (function () {
    function NotificationService(http) {
        this.http = http;
    }
    NotificationService.prototype.getAllNotifications = function (date) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/notifications/retreive', date, { headers: headers }).map(function (res) { return res.json(); });
    };
    NotificationService.prototype.getRecentNotifications = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/notifications/getRecentNotifications', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    NotificationService.prototype.setReadNotification = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/notifications/setReadNotification', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    NotificationService.prototype.getUnreadCount = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/notifications/getUnreadCount', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    NotificationService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], NotificationService);
    return NotificationService;
}());



/***/ }),

/***/ "./src/app/pages/masters/pricing/pricing.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PricingService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var PricingService = (function () {
    function PricingService(http) {
        this.http = http;
    }
    PricingService.prototype.getPrices = function (temp1) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/pricing/retrieve', temp1, { headers: headers }).map(function (res) { return res.json(); });
    };
    PricingService.prototype.updatePrice = function (temp) {
        console.log(temp);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        if (temp.id == null) {
            return this.http.post('/pricing/add', temp, { headers: headers }).map(function (res) { return res.json(); });
        }
        else {
            return this.http.post('/pricing/update', temp, { headers: headers }).map(function (res) { return res.json(); });
        }
    };
    PricingService.prototype.getCustomerPrice = function (temp1) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/pricing/getPrice', temp1, { headers: headers }).map(function (res) { return res.json(); });
    };
    PricingService.prototype.getCustomers = function (temp1) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/pricing/retrieveCustomer', temp1, { headers: headers }).map(function (res) { return res.json(); });
    };
    PricingService.prototype.copyPricing = function (temp1) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/pricing/copyPricing', temp1, { headers: headers }).map(function (res) { return res.json(); });
    };
    PricingService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], PricingService);
    return PricingService;
}());



/***/ }),

/***/ "./src/app/pages/masters/sub-users/sub-user.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SubUserService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var SubUserService = (function () {
    function SubUserService(http) {
        this.http = http;
    }
    SubUserService.prototype.addSubUser = function (subUser) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/permission/add', subUser, { headers: headers }).subscribe(function (res) { return res.json(); });
    };
    SubUserService.prototype.addPermission = function (permission) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/permissionsProfile/add', permission, { headers: headers }).subscribe(function (res) { return res.json(); });
    };
    SubUserService.prototype.getPermissionsProfiles = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/permissionsProfile/retrieve', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    SubUserService.prototype.getPermissions = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/permissionsProfile/retrievePermission', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    SubUserService.prototype.deleteSubUser = function (subUser) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
    };
    SubUserService.prototype.updateSubUser = function (subUser) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
    };
    SubUserService.prototype.getSubUser = function (subUser) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/permission/retrieve', subUser, { headers: headers }).map(function (res) { return res.json(); });
    };
    SubUserService.prototype.getUser = function (user) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
    };
    SubUserService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_http__["b" /* Http */]])
    ], SubUserService);
    return SubUserService;
}());



/***/ }),

/***/ "./src/app/pages/masters/taxes/taxes.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\" >\n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-body>\n        <br>\n        <h4 align=\"left\">Taxes</h4>\n        <br>\n        Tax Name*            \n          <!-- <input matInput [(ngModel)]=\"tax.name\"> -->\n        <mat-form-field>\n          <mat-select value=\"CGST+SGST\" [(ngModel)]=\"tax.name\" (change)=\"setTaxName($event.value)\">\n            <mat-option value=\"CGST+SGST\">CGST + SGST</mat-option>\n            <mat-option value=\"IGST\">IGST</mat-option>\n            <mat-option value=\"Other\">Other</mat-option>\n          </mat-select>                           \n        </mat-form-field>\n        <br>\n        <mat-form-field *ngIf=\"tax.name == 'Other'\">\n          <input matInput [ngModel]=\"taxName\">\n        </mat-form-field>\n        <br>\n        Percentage*\n        <mat-form-field>\n          <input matInput [(ngModel)]=\"tax.percent\">\n        </mat-form-field><br>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12\">\n    <button mat-raised-button color=\"primary\"(click)=\"saveTax()\">Submit</button>\n    <button mat-raised-button color=\"warn\"(click)=\"closeDialog()\">Close</button>\n  </div>\n</div> "

/***/ }),

/***/ "./src/app/pages/masters/taxes/taxes.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/masters/taxes/taxes.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TaxesComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var TaxesComponent = (function () {
    function TaxesComponent(auth, http, matDialogRef, snackBar, dialog) {
        var _this = this;
        this.auth = auth;
        this.http = http;
        this.matDialogRef = matDialogRef;
        this.snackBar = snackBar;
        this.dialog = dialog;
        this.taxName = '';
        this.tax = {
            name: '',
            percent: '',
            ownerId: ''
        };
        this.auth.user.subscribe(function (data) {
            _this.tax.ownerId = data[0].ownerId;
        });
    }
    TaxesComponent.prototype.unloadHandler = function (event) {
        console.log("Processing beforeunload...");
        event.returnValue = false;
    };
    TaxesComponent.prototype.setTaxName = function (element) {
        if (element == 'Other') {
            this.tax.name = this.taxName;
        }
        else {
            this.tax.name = element;
        }
    };
    TaxesComponent.prototype.saveTax = function () {
        var _this = this;
        if (this.tax.name === "") {
            this.snackBar.open("Select a tax type", "X", { verticalPosition: 'top', horizontalPosition: 'right' });
        }
        else if (this.tax.percent === "") {
            this.snackBar.open("Enter a Tax Percent", "X", { verticalPosition: 'top', horizontalPosition: 'right' });
        }
        else {
            this.addtax(this.tax).subscribe(function (data) {
                _this.tax.id = data.insertId;
            }, function (err) { }, function () {
                _this.snackBar.open("Tax Added", "X", { duration: 3000 });
                _this.matDialogRef.close({ data: _this.tax });
            });
        }
    };
    TaxesComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    TaxesComponent.prototype.addtax = function (tax) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/taxes/add', tax, { headers: headers }).map(function (res) { return res.json(); });
    };
    TaxesComponent.prototype.deletetax = function (tax) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/taxes/delete', tax, { headers: headers }).map(function (res) { return res.json(); });
    };
    TaxesComponent.prototype.updatetax = function (tax) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        this.http.post('/taxes/update', tax, { headers: headers }).subscribe(function (res) { return res; });
    };
    TaxesComponent.prototype.gettax = function () {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.get('/taxes/retrieve', { headers: headers }).map(function (res) { return res.json(); });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])("window:beforeunload", ["$event"]),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Event]),
        __metadata("design:returntype", void 0)
    ], TaxesComponent.prototype, "unloadHandler", null);
    TaxesComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-taxes',
            template: __webpack_require__("./src/app/pages/masters/taxes/taxes.component.html"),
            styles: [__webpack_require__("./src/app/pages/masters/taxes/taxes.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__core_auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_4__angular_material__["p" /* MatDialogRef */], __WEBPACK_IMPORTED_MODULE_4__angular_material__["I" /* MatSnackBar */], __WEBPACK_IMPORTED_MODULE_4__angular_material__["n" /* MatDialog */]])
    ], TaxesComponent);
    return TaxesComponent;
}());



/***/ }),

/***/ "./src/app/pages/masters/vehiclegroups/vehiclegroups.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\" >\n    <div class=\"col-lg-12\">\n        <nb-card>\n            <nb-card-header>Vehicle Groups</nb-card-header>\n                <nb-card-body>\n                    Enter Vehicle Group: \n                    <mat-form-field>\n                        <input [(ngModel)]=\"vehicleGroup.name\" matInput>\n                    </mat-form-field>\n                </nb-card-body>   \n        </nb-card> \n    </div>\n</div>\n<div class=\"row\">\n    <div class=\"col-lg-12\">\n        <button mat-raised-button color=\"primary\" *ngIf=\"editState==false\" (click)=\"saveVehicleGroup()\">Submit</button>\n        <button mat-raised-button color=\"primary\" *ngIf=\"editState==true\" (click)=\"editVehicleGroup()\">Edit</button>\n        <button mat-raised-button color=\"warn\"(click)=\"closeDialog()\">Close</button>\n    </div>\n</div>\n"

/***/ }),

/***/ "./src/app/pages/masters/vehiclegroups/vehiclegroups.component.scss":
/***/ (function(module, exports) {

module.exports = ".full-width {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  min-width: 100px; }\n\nnb-checkbox {\n  margin-bottom: 1rem; }\n\n.form-inline > * {\n  margin: 0 1.5rem 1.5rem 0; }\n\nnb-card.inline-form-card nb-card-body {\n  padding-bottom: 0; }\n"

/***/ }),

/***/ "./src/app/pages/masters/vehiclegroups/vehiclegroups.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return VehicleGroupsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var VehicleGroupsComponent = (function () {
    function VehicleGroupsComponent(auth, http, dialog, matDialogRef, snackBar, data) {
        this.auth = auth;
        this.http = http;
        this.dialog = dialog;
        this.matDialogRef = matDialogRef;
        this.snackBar = snackBar;
        this.data = data;
        this.editState = false;
        this.param = {
            inserted: 'no',
            data: null
        };
        this.vehicleGroup = {
            name: '',
            number: '',
            ownerId: ''
        };
        if (data.row) {
            console.log(data);
            this.vehicleGroup = data.row;
            this.editState = true;
        }
        else {
            this.editState = false;
        }
        this.connect();
    }
    VehicleGroupsComponent.prototype.saveVehicleGroup = function () {
        var _this = this;
        if (this.vehicleGroup.name == "") {
            this.snackBar.open("Please enter a vehicle group name", "X", { verticalPosition: 'top', horizontalPosition: 'right' });
        }
        else {
            this.addvehicleGroup(this.vehicleGroup).subscribe(function (data) {
                if (data.affectedRows == 1) {
                    _this.param.inserted = 'yes';
                    _this.vehicleGroup.id = data.insertId;
                    _this.param.data = _this.vehicleGroup;
                    _this.matDialogRef.close(_this.param);
                }
            });
        }
    };
    VehicleGroupsComponent.prototype.editVehicleGroup = function () {
        var _this = this;
        this.updatevehicleGroup(this.vehicleGroup).subscribe(function (data) {
            _this.dialog.closeAll();
            _this.snackBar.open("Vehicle Group updated", null, { duration: 3000 });
        });
    };
    VehicleGroupsComponent.prototype.connect = function () {
        var _this = this;
        this.auth.user.subscribe(function (res) {
            _this.vehicleGroup.ownerId = res[0].ownerId;
        });
    };
    VehicleGroupsComponent.prototype.addvehicleGroup = function (vehicleGroups) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/vehicleGroups/add', vehicleGroups, { headers: headers }).map(function (res) { return res.json(); });
    };
    VehicleGroupsComponent.prototype.deletevehicleGroup = function (vehicleGroups) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/vehicleGroups/delete', vehicleGroups, { headers: headers }).map(function (res) { return res.json(); });
    };
    VehicleGroupsComponent.prototype.updatevehicleGroup = function (vehicleGroups) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/vehicleGroups/update', vehicleGroups, { headers: headers }).map(function (res) { return res.json(); });
    };
    VehicleGroupsComponent.prototype.getvehicleGroup = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/vehicleGroups/retrieve', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    VehicleGroupsComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    VehicleGroupsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ngx-form-layouts',
            styles: [__webpack_require__("./src/app/pages/masters/vehiclegroups/vehiclegroups.component.scss")],
            template: __webpack_require__("./src/app/pages/masters/vehiclegroups/vehiclegroups.component.html"),
        }),
        __param(5, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_3__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_4__core_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__node_modules_angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3__angular_material__["n" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_3__angular_material__["p" /* MatDialogRef */],
            __WEBPACK_IMPORTED_MODULE_3__angular_material__["I" /* MatSnackBar */], Object])
    ], VehicleGroupsComponent);
    return VehicleGroupsComponent;
}());



/***/ }),

/***/ "./src/app/pages/modals/confirm/confirm.component.html":
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"editConfirm\">{{editConfirm}}</div>\n<div>Are you sure?</div>\n<div class=\"confirm-container\">\n  <button class=\"confirm-button\" mat-raised-button color=\"primary\" (click)=\"yes()\">Yes</button>\n  <button class=\"confirm-button\" mat-raised-button color=\"warn\" (click)=\"no()\">Cancel</button>\n</div>\n"

/***/ }),

/***/ "./src/app/pages/modals/confirm/confirm.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/modals/confirm/confirm.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConfirmComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};


var ConfirmComponent = (function () {
    function ConfirmComponent(data, matdialogRef, dialog) {
        this.data = data;
        this.matdialogRef = matdialogRef;
        this.dialog = dialog;
        if (data) {
            if (data.dutiesEdit) {
                this.editConfirm = data.dutiesEdit;
            }
        }
    }
    ConfirmComponent.prototype.yes = function () {
        this.matdialogRef.close("yes");
    };
    ConfirmComponent.prototype.no = function () {
        this.matdialogRef.close("no");
    };
    ConfirmComponent.prototype.ngOnInit = function () {
    };
    ConfirmComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'confirm',
            template: __webpack_require__("./src/app/pages/modals/confirm/confirm.component.html"),
            styles: [__webpack_require__("./src/app/pages/modals/confirm/confirm.component.scss")]
        }),
        __param(0, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [Object, __WEBPACK_IMPORTED_MODULE_1__angular_material__["p" /* MatDialogRef */],
            __WEBPACK_IMPORTED_MODULE_1__angular_material__["n" /* MatDialog */]])
    ], ConfirmComponent);
    return ConfirmComponent;
}());



/***/ }),

/***/ "./src/app/pages/operations/advancepayment/advancepayment.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AdvancepaymentService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var AdvancepaymentService = (function () {
    function AdvancepaymentService(http, auth) {
        this.http = http;
        this.auth = auth;
    }
    AdvancepaymentService.prototype.getAdvancePayment = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post("/advancePayment/retrieve", temp, { headers: headers }).map(function (data) { return data.json(); });
    };
    AdvancepaymentService.prototype.addAdvancePayment = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post("/advancePayment/add", temp, { headers: headers }).map(function (data) { return data.json(); });
    };
    AdvancepaymentService.prototype.getFlightAdvancePayment = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post("/advancePayment/retrieveFlight", temp, { headers: headers }).map(function (data) { return data.json(); });
    };
    AdvancepaymentService.prototype.addFlightAdvancePayment = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post("/advancePayment/addFlight", temp, { headers: headers }).map(function (data) { return data.json(); });
    };
    AdvancepaymentService.prototype.getVisaAdvancePayment = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post("/advancePayment/retrieveVisa", temp, { headers: headers }).map(function (data) { return data.json(); });
    };
    AdvancepaymentService.prototype.addVisaAdvancePayment = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post("/advancePayment/addVisa", temp, { headers: headers }).map(function (data) { return data.json(); });
    };
    AdvancepaymentService.prototype.getHotelAdvancePayment = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post("/advancePayment/retrieveHotel", temp, { headers: headers }).map(function (data) { return data.json(); });
    };
    AdvancepaymentService.prototype.addHotelAdvancePayment = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post("/advancePayment/addHotel", temp, { headers: headers }).map(function (data) { return data.json(); });
    };
    AdvancepaymentService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */]])
    ], AdvancepaymentService);
    return AdvancepaymentService;
}());



/***/ }),

/***/ "./src/app/pages/operations/bookings.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BookingsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_retryWhen__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/retryWhen.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__duties_duties_component__ = __webpack_require__("./src/app/pages/duties/duties.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_operators__ = __webpack_require__("./node_modules/rxjs/_esm5/operators.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__activitylog_service__ = __webpack_require__("./src/app/activitylog.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__duties_call_call_service__ = __webpack_require__("./src/app/pages/duties/call/call.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var BookingsService = (function () {
    function BookingsService(auth, http, dutyComponent, snackbar, router, activityLogs, callService) {
        var _this = this;
        this.auth = auth;
        this.http = http;
        this.dutyComponent = dutyComponent;
        this.snackbar = snackbar;
        this.router = router;
        this.activityLogs = activityLogs;
        this.callService = callService;
        this.count = 1;
        this.user = {};
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
        });
    }
    BookingsService.prototype.addBooking = function (temp) {
        var _this = this;
        console.log(temp);
        temp.booking.ownerID = this.user.ownerId;
        delete temp.booking.unconfirmed;
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        this.http.post('/bookings/add', temp.booking, { headers: headers }).subscribe(function (res) {
            res.json().map(function (data) {
                _this.bookingID = data.ID;
                _this.activityLogs.addBookingLogs({
                    bookingId: data.ID,
                    ownerId: temp.booking.ownerID,
                    message: "Booking created on " + __WEBPACK_IMPORTED_MODULE_10_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + _this.user.name
                }).subscribe();
                var count = {
                    booking: 1,
                    date: __WEBPACK_IMPORTED_MODULE_10_moment__().format("YYYY-MM-DD"),
                    ownerId: _this.user.ownerId
                };
                _this.callService.insertBookingCount(count).subscribe(function (data) {
                    console.log(data);
                });
                _this.addPassengers(_this.bookingID, temp.passenger);
                _this.addBookedBy(_this.bookingID, temp.bookedBy);
                _this.dutyComponent.addDuties(_this.bookingID, temp.booking);
            });
        }, function (err) { }, function () {
            _this.snackbar.open("Booking Completed", "X", { duration: 5000 });
            _this.router.navigateByUrl('/pages/operations/bookingsdisp');
        });
    };
    BookingsService.prototype.addMonthlyBooking = function (temp) {
        var _this = this;
        console.log(temp);
        temp.booking.ownerID = this.user.ownerId;
        delete temp.booking.unconfirmed;
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        this.http.post('/bookings/add', temp.booking, { headers: headers }).subscribe(function (res) {
            res.json().map(function (data) {
                _this.bookingID = data.ID;
                _this.activityLogs.addBookingLogs({
                    bookingId: data.ID,
                    ownerId: temp.booking.ownerID,
                    message: "Booking created on " + __WEBPACK_IMPORTED_MODULE_10_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + _this.user.name
                }).subscribe();
                _this.addPassengers(_this.bookingID, temp.passenger);
                _this.addBookedBy(_this.bookingID, temp.bookedBy);
                temp.duties.forEach(function (element) {
                    console.log(element);
                    _this.dutyComponent.addMonthlyDuties(_this.bookingID, temp.booking, element.startDate, element.dutyType, element.dutyTypeId, element.vehicleGroup, element.vehiceGroupId);
                });
            });
        }, function (err) { }, function () {
            _this.snackbar.open("Booking Completed", "X", { duration: 5000 });
            _this.router.navigateByUrl('/pages/operations/bookingsdisp');
        });
    };
    BookingsService.prototype.addUnconfirmedBooking = function (temp) {
        var _this = this;
        console.log("second");
        console.log(temp);
        temp.booking.ownerID = this.user.ownerId;
        temp.booking.status = "Unconfirmed";
        delete temp.booking.unconfirmed;
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        this.http.post('/bookings/add', temp.booking, { headers: headers }).subscribe(function (res) {
            res.json().map(function (data) {
                _this.bookingID = data.ID;
                _this.activityLogs.addBookingLogs({
                    bookingId: data.ID,
                    ownerId: temp.booking.ownerID,
                    message: "Booking created on " + __WEBPACK_IMPORTED_MODULE_10_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + _this.user.name
                }).subscribe();
                _this.addPassengers(_this.bookingID, temp.passenger);
                _this.addBookedBy(_this.bookingID, temp.bookedBy);
                _this.dutyComponent.addDuties(_this.bookingID, temp.booking);
            });
        }, function (err) { }, function () {
            _this.snackbar.open("Booking Completed", "X", { duration: 5000 });
            _this.router.navigateByUrl('/pages/operations/bookingsdisp');
        });
    };
    BookingsService.prototype.addUnconfirmedMonthlyBooking = function (temp) {
        var _this = this;
        console.log("second");
        console.log(temp);
        temp.booking.ownerID = this.user.ownerId;
        temp.booking.status = "Unconfirmed";
        delete temp.booking.unconfirmed;
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        this.http.post('/bookings/add', temp.booking, { headers: headers }).subscribe(function (res) {
            res.json().map(function (data) {
                _this.bookingID = data.ID;
                _this.activityLogs.addBookingLogs({
                    bookingId: data.ID,
                    ownerId: temp.booking.ownerID,
                    message: "Booking created on " + __WEBPACK_IMPORTED_MODULE_10_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + _this.user.name
                }).subscribe();
                _this.addPassengers(_this.bookingID, temp.passenger);
                _this.addBookedBy(_this.bookingID, temp.bookedBy);
                temp.duties.forEach(function (element) {
                    console.log(element);
                    _this.dutyComponent.addMonthlyDuties(_this.bookingID, temp.booking, element.startDate, element.dutyType, element.dutyTypeId, element.vehicleGroup, element.vehiceGroupId);
                });
            });
        }, function (err) { }, function () {
            _this.snackbar.open("Booking Completed", "X", { duration: 5000 });
            _this.router.navigateByUrl('/pages/operations/bookingsdisp');
        });
    };
    BookingsService.prototype.setBookingId = function (temp) {
        console.log(temp);
        this.bookingData = temp;
    };
    BookingsService.prototype.getBookingId = function () {
        console.log(this.bookingData);
        return this.bookingData;
    };
    BookingsService.prototype.addPassengers = function (id, passengerArray) {
        console.log(this.count);
        this.count++;
        var passengerData = {
            bookingId: id,
            passengerArray: passengerArray
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/addPassenger', passengerData, { headers: headers }).subscribe(function (res) {
            res.json();
        });
    };
    BookingsService.prototype.addBookedBy = function (id, bookedByArray) {
        console.log(this.count);
        this.count++;
        var bookedByData = {
            bookingId: id,
            bookedByArray: bookedByArray
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/addBookedBy', bookedByData, { headers: headers }).subscribe(function (res) {
            res.json();
        });
    };
    BookingsService.prototype.deleteBooking = function (booking) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/delete', booking, { headers: headers }).map(function (res) { return res.json(); });
    };
    BookingsService.prototype.cancelBooking = function (booking) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/cancel', booking, { headers: headers }).map(function (res) { return res.json(); });
    };
    BookingsService.prototype.deletePassenger = function (id) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        this.http.post('/bookings/deletePassengers', id, { headers: headers }).subscribe(function (res) {
            var response = res.toString();
        });
    };
    BookingsService.prototype.deleteBookedBy = function (id) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        this.http.post('/bookings/deleteBookedBy', id, { headers: headers }).subscribe(function (res) {
            var response = res.toString();
        });
    };
    BookingsService.prototype.updateBooking = function (booking) {
        var _this = this;
        delete booking.unconfirmed;
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        this.http.post('/bookings/update', booking, { headers: headers }).subscribe(function (res) {
            _this.activityLogs.addBookingLogs({
                bookingId: booking.id, ownerId: booking.ownerID,
                message: "Booking edited on " + __WEBPACK_IMPORTED_MODULE_10_moment__().format("DD-MM-YYYY") + " at " + new Date().toLocaleTimeString() + " by " + _this.user.name
            }).subscribe();
        });
    };
    BookingsService.prototype.updateUnconfirmedBooking = function (booking) {
        console.log(booking);
        delete booking.unconfirmed;
        booking.ownerID = this.user.ownerId;
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        this.http.post('/bookings/update', booking, { headers: headers }).subscribe();
    };
    BookingsService.prototype.updateUnconfirmedMonthlyBooking = function (temp) {
        console.log(temp);
        temp.booking.ownerID = this.user.ownerId;
        delete temp.booking.duties_completed;
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        this.http.post('/bookings/update', temp.booking, { headers: headers }).subscribe();
    };
    BookingsService.prototype.getBookingsForInvoice = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/retrieveForInvoice', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BookingsService.prototype.getBookings = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/retrieve', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BookingsService.prototype.getVehilceGroup = function (temp, ownerId) {
        var t = {
            name: temp,
            ownerId: ownerId
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/retrieveVehicleGroup', t, { headers: headers }).map(function (res) { return res.json(); });
    };
    BookingsService.prototype.getDutyType = function (temp, ownerId) {
        var t = {
            name: temp,
            ownerId: ownerId
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/retrieveDutyType', t, { headers: headers }).map(function (res) { return res.json(); });
    };
    BookingsService.prototype.getPassenger = function (temp) {
        var t = {
            id: temp
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/retrievePassenger', t, { headers: headers }).map(function (res) { return res.json(); });
    };
    BookingsService.prototype.getBookedBy = function (temp) {
        var t = {
            id: temp
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/retrieveBookedBy', t, { headers: headers }).map(function (res) { return res.json(); });
    };
    BookingsService.prototype.addExcelBooking = function (temps) {
        console.log(temps);
        var temp = temps;
        console.log("Booking");
        temp.booking.ownerID = this.user.ownerId;
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/importExcel/addBookings', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BookingsService.prototype.addRecurringPassenger = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/addRecurringPassenger', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BookingsService.prototype.getRecurringPassenger = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/retrieveRecurringPassenger', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BookingsService.prototype.editRecurringPassenger = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/editRecurringPassenger', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BookingsService.prototype.getRecurringPassengerAll = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/getRecurringPassenger', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BookingsService.prototype.addRecurringBookedBy = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/addRecurringBookedBy', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BookingsService.prototype.getRecurringBookedBy = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/retrieveRecurringBookedBy', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BookingsService.prototype.getRecurringBookedByAll = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/getRecurringBookedBy', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BookingsService.prototype.getCount = function (columnName, filter, sortColumn, sortOrder, pageNumber, pageSize, status, startDate, endDate, ownerId) {
        if (filter === void 0) { filter = ''; }
        if (sortColumn === void 0) { sortColumn = 'startDate'; }
        if (sortOrder === void 0) { sortOrder = 'asc'; }
        if (pageNumber === void 0) { pageNumber = 1; }
        if (pageSize === void 0) { pageSize = 10; }
        var temp = {
            columnName: columnName,
            filter: filter,
            sortColumn: sortColumn,
            sortOrder: sortOrder,
            pageNumber: pageNumber,
            pageSize: pageSize,
            status: status,
            startDate: startDate,
            endDate: endDate,
            ownerId: ownerId
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/count', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BookingsService.prototype.findBookings = function (columnName, filter, sortColumn, sortOrder, pageNumber, pageSize, status, startDate, endDate, ownerId) {
        if (filter === void 0) { filter = ''; }
        if (sortColumn === void 0) { sortColumn = 'startDate'; }
        if (sortOrder === void 0) { sortOrder = 'asc'; }
        if (pageNumber === void 0) { pageNumber = 1; }
        if (pageSize === void 0) { pageSize = 10; }
        var temp = {
            columnName: columnName,
            filter: filter,
            sortColumn: sortColumn,
            sortOrder: sortOrder,
            pageNumber: pageNumber,
            pageSize: pageSize,
            status: status,
            startDate: startDate,
            endDate: endDate,
            ownerId: ownerId
        };
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/find', temp, { headers: headers }).pipe(Object(__WEBPACK_IMPORTED_MODULE_6_rxjs_operators__["map"])(function (res) { return res.json(); }));
    };
    BookingsService.prototype.setEditData = function (temp) {
        localStorage.setItem('uclueldata', JSON.stringify(temp));
    };
    BookingsService.prototype.getBookingForExport = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/retrieveForBookingExport', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BookingsService.prototype.loadCompletedDuties = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/getCompletedDutyCount', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BookingsService.prototype.getBookingsForExport = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/getBookingsForExport', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BookingsService.prototype.addBookingFiles = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/addBookingFiles', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BookingsService.prototype.getBookingFiles = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/bookings/getBookingFiles', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BookingsService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_4__core_auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_2__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_5__duties_duties_component__["a" /* DutiesComponent */], __WEBPACK_IMPORTED_MODULE_7__angular_material__["I" /* MatSnackBar */], __WEBPACK_IMPORTED_MODULE_8__angular_router__["c" /* Router */], __WEBPACK_IMPORTED_MODULE_9__activitylog_service__["a" /* ActivitylogService */], __WEBPACK_IMPORTED_MODULE_11__duties_call_call_service__["a" /* CallService */]])
    ], BookingsService);
    return BookingsService;
}());



/***/ }),

/***/ "./src/app/pages/operations/exportbookings/export.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ExportService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ExportService = (function () {
    function ExportService(http) {
        this.http = http;
    }
    ExportService.prototype.addExportBookingProfile = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/exportExcel/addExportBookingProfiles', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ExportService.prototype.addExportDutyProfile = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/exportExcel/addExportDutyProfiles', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ExportService.prototype.getExportBookingProfile = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/exportExcel/retrieveExportBookingProfiles', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ExportService.prototype.getExportDutyProfile = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/exportExcel/retrieveExportDutyProfiles', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    ExportService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], ExportService);
    return ExportService;
}());



/***/ }),

/***/ "./src/app/pages/operations/new-bank-account/bank-account.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BankAccountService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var BankAccountService = (function () {
    function BankAccountService(http, auth) {
        this.http = http;
        this.auth = auth;
    }
    BankAccountService.prototype.addBankAccount = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post("/bankAccounts/add", temp, { headers: headers }).map(function (data) { return data.json(); });
    };
    BankAccountService.prototype.deleteBankAccount = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post("/bankAccounts/delete", temp, { headers: headers }).map(function (data) { return data.json(); });
    };
    BankAccountService.prototype.updateBankAccount = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post("/bankAccounts/update", temp, { headers: headers }).map(function (data) { return data.json(); });
    };
    BankAccountService.prototype.getBankAccount = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post("/bankAccounts/retrieve", temp, { headers: headers }).map(function (data) { return data.json(); });
    };
    BankAccountService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_1__core_auth_service__["a" /* AuthService */]])
    ], BankAccountService);
    return BankAccountService;
}());



/***/ }),

/***/ "./src/app/pages/operations/new-billing/billing.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BillingService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var BillingService = (function () {
    function BillingService(http) {
        this.http = http;
    }
    BillingService.prototype.addBilling = function (temp) {
        console.log(temp);
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/billingItem/add', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BillingService.prototype.deleteBilling = function (billing) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/billingItem/delete', billing, { headers: headers }).map(function (res) { return res.json(); });
    };
    BillingService.prototype.updateBilling = function (billing) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/billingItem/update', billing, { headers: headers }).map(function (res) { return res.json(); });
    };
    BillingService.prototype.getBilling = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/billingItem/retrieve', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    BillingService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_http__["b" /* Http */]])
    ], BillingService);
    return BillingService;
}());



/***/ }),

/***/ "./src/app/pages/operations/new-branch/new-branch.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\" style=\"min-width: 50vw;\">         \n  <div class=\"col-lg-12\">\n    <nb-card>\n      <nb-card-header>\n        Branch\n      </nb-card-header>\n      <nb-card-body>\n        <div class=\"row\">\n          <div class=\"col-lg-6\">\n              <mat-form-field class=\"w-100\"><input matInput style=\"width:400px\"  placeholder=\"Name\" [(ngModel)]=\"newBranch.name\"></mat-form-field>\n          </div>\n          <div class=\"col-lg-6\">\n              <mat-form-field class=\"w-100\">\n                <mat-select placeholder=\"Type\" [(ngModel)]=\"newBranch.type\">\n                  <mat-option value=\"Office & Dispatch Center\">Office & Dispatch Center</mat-option>\n                  <mat-option value=\"Head Office\">Head Office</mat-option>\n                </mat-select>\n              </mat-form-field>\n          </div>  \n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-6\">\n              <mat-form-field class=\"w-100\"><input matInput style=\"width:400px\" placeholder=\"Contact Number\" [(ngModel)]=\"newBranch.phoneNumber\"></mat-form-field>\n          </div>\n          <div class=\"col-lg-6\">\n              <mat-form-field class=\"w-100\">\n                <input placeholder=\"City of operations\" matInput [formControl]=\"cityOfOperationCtrl\"  [matAutocomplete]=\"auto2\">\n                <mat-autocomplete #auto2=\"matAutocomplete\">\n                  <mat-option *ngFor=\"let option of cityOfOperation | async\" [value]=\"option\" (onSelectionChange)=\"cityOfOperationSelection(option,$event)\">\n                    {{ option }}\n                  </mat-option>\n                </mat-autocomplete>\n              </mat-form-field>\n          </div>  \n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-12\">\n              <mat-form-field class=\"w-100\"><textarea matInput rows=\"3\" placeholder=\"Address\" [(ngModel)]=\"newBranch.address\"></textarea></mat-form-field>\n          </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-lg-12 col-12\">\n                <mat-form-field class=\"w-100\">\n                    <input matInput placeholder=\"Search Location\" autocorrect=\"off\" autocapitalize=\"off\" [(ngModel)]=\"newBranch.location\" spellcheck=\"off\" type=\"text\" #searchLocation (change)=\"setLocation($event.target.value)\">\n                </mat-form-field>\n                <agm-map (mapClick)=\"mapClicked($event)\" [latitude]=\"latitude\" [longitude]=\"longitude\" [scrollwheel]=\"false\" [zoom]=\"zoom\" [streetViewControl]=\"false\">\n                    <agm-marker \n                        [latitude]=\"latitude\"\n                        [longitude]=\"longitude\"\n                        [markerDraggable]=\"draggable\"\n                        (dragEnd)=\"markerDragEnd($event)\">         \n                    </agm-marker>\n                </agm-map>\n            </div>\n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n<div class=\"row ptb-10\">\n  <div class=\"col-lg-12\">\n    <button mat-raised-button *ngIf=\"!editState\" color=\"primary\" (click)=\"addBranch()\">Add</button>\n    <button mat-raised-button *ngIf=\"editState\" color=\"primary\" (click)=\"saveBranch()\">Save</button>\n    <button mat-raised-button color=\"warn\"(click)=\"closeDialog()\">Close</button>\n  </div>                     \n</div>\n\n                  "

/***/ }),

/***/ "./src/app/pages/operations/new-branch/new-branch.component.scss":
/***/ (function(module, exports) {

module.exports = "agm-map {\n  height: 150px !important;\n  width: 100%;\n  /* This is really important*/ }\n"

/***/ }),

/***/ "./src/app/pages/operations/new-branch/new-branch.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NewBranchComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__new_branch_service__ = __webpack_require__("./src/app/pages/operations/new-branch/new-branch.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_operators_map__ = __webpack_require__("./node_modules/rxjs/_esm5/operators/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_operators_startWith__ = __webpack_require__("./node_modules/rxjs/_esm5/operators/startWith.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__agm_core__ = __webpack_require__("./node_modules/@agm/core/index.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};








var NewBranchComponent = (function () {
    function NewBranchComponent(auth, branchService, dialogRef, dialog, mapsAPILoader, ngZone, data) {
        this.auth = auth;
        this.branchService = branchService;
        this.dialogRef = dialogRef;
        this.dialog = dialog;
        this.mapsAPILoader = mapsAPILoader;
        this.ngZone = ngZone;
        this.data = data;
        this.draggable = true;
        this.user = {};
        this.locationCtrl = new __WEBPACK_IMPORTED_MODULE_3__angular_forms__["c" /* FormControl */]();
        this.cityOfOperationCtrl = new __WEBPACK_IMPORTED_MODULE_3__angular_forms__["c" /* FormControl */]();
        this.editState = false;
        this.newBranch = {
            ownerId: '',
            name: '',
            type: '',
            location: '',
            phoneNumber: '',
            address: '',
            cityOfOperations: '',
            lat: '',
            lng: ''
        };
        this.city = ['Achalpur',
            'Achhnera',
            'Adalaj',
            'Adilabad',
            'Adityapur',
            'Adoni',
            'Adoor',
            'Adra',
            'Adyar',
            'Afzalpur',
            'Agartala',
            'Agra',
            'Ahmedabad',
            'Ahmednagar',
            'Aizawl',
            'Ajmer',
            'Akola',
            'Akot',
            'Alappuzha',
            'Aligarh',
            'Alipurduar',
            'Alirajpur',
            'Allahabad',
            'Alwar',
            'Amalapuram',
            'Amalner',
            'Ambejogai',
            'Ambikapur',
            'Amravati',
            'Amreli',
            'Amritsar',
            'Amroha',
            'Anakapalle',
            'Anand',
            'Anantapur',
            'Anantnag',
            'Anjangaon',
            'Anjar',
            'Ankleshwar',
            'Arakkonam',
            'Arambagh',
            'Araria',
            'Arrah',
            'Arsikere',
            'Aruppukkottai',
            'Arvi',
            'Arwal',
            'Asansol',
            'Asarganj',
            'Ashok Nagar',
            'Athni',
            'Attingal',
            'Aurangabad',
            'Aurangabad',
            'Azamgarh',
            'Bagaha',
            'Bageshwar',
            'Bahadurgarh',
            'Baharampur',
            'Bahraich',
            'Balaghat',
            'Balangir',
            'Baleshwar Town',
            'Ballari',
            'Balurghat',
            'Bankura',
            'Bapatla',
            'Baramula',
            'Barbil',
            'Bargarh',
            'Barh',
            'Baripada Town',
            'Barmer',
            'Barnala',
            'Barpeta',
            'Batala',
            'Bathinda',
            'Begusarai',
            'Belagavi',
            'Bellampalle',
            'Belonia',
            'Bengaluru',
            'Bettiah',
            'BhabUrban',
            'Bhadrachalam',
            'Bhadrak',
            'Bhagalpur',
            'Bhainsa',
            'Bharatpur',
            'Bharuch',
            'Bhatapara',
            'Bhavnagar',
            'Bhawanipatna',
            'Bheemunipatnam',
            'Bhilai Nagar',
            'Bhilwara',
            'Bhimavaram',
            'Bhiwandi',
            'Bhiwani',
            'Bhongir',
            'Bhopal',
            'Bhubaneswar',
            'Bhuj',
            'Bikaner',
            'Bilaspur',
            'Bobbili',
            'Bodhan',
            'Bokaro Steel City',
            'Bongaigaon City',
            'Brahmapur',
            'Buxar',
            'Byasanagar',
            'Chaibasa',
            'Chalakudy',
            'Chandausi',
            'Chandigarh',
            'Changanassery',
            'Charkhi Dadri',
            'Chatra',
            'Chennai',
            'Cherthala',
            'Chhapra',
            'Chhapra',
            'Chikkamagaluru',
            'Chilakaluripet',
            'Chirala',
            'Chirkunda',
            'Chirmiri',
            'Chittoor',
            'Chittur-Thathamangalam',
            'Coimbatore',
            'Cuttack',
            'Dalli-Rajhara',
            'Darbhanga',
            'Darjiling',
            'Davanagere',
            'Deesa',
            'Dehradun',
            'Dehri-on-Sone',
            'Delhi',
            'Deoghar',
            'Dhamtari',
            'Dhanbad',
            'Dharmanagar',
            'Dharmavaram',
            'Dhenkanal',
            'Dhoraji',
            'Dhubri',
            'Dhule',
            'Dhuri',
            'Dibrugarh',
            'Dimapur',
            'Diphu',
            'Dumka',
            'Dumraon',
            'Durg',
            'Eluru',
            'English Bazar',
            'Erode',
            'Etawah',
            'Faridabad',
            'Faridkot',
            'Farooqnagar',
            'Fatehabad',
            'Fatehpur Sikri',
            'Fazilka',
            'Firozabad',
            'Firozpur',
            'Firozpur Cantt.',
            'Forbesganj',
            'Gadwal',
            'Gangarampur',
            'Ganjbasoda',
            'Gaya',
            'Giridih',
            'Goalpara',
            'Gobichettipalayam',
            'Gobindgarh',
            'Godhra',
            'Gohana',
            'Gokak',
            'Gooty',
            'Gopalganj',
            'Gudivada',
            'Gudur',
            'Gumia',
            'Guntakal',
            'Guntur',
            'Gurdaspur',
            'Gurgaon',
            'Guruvayoor',
            'Guwahati',
            'Gwalior',
            'Habra',
            'Hajipur',
            'Haldwani',
            'Hansi',
            'Hapur',
            'Hardoi ',
            'Hardwar',
            'Hazaribag',
            'Hindupur',
            'Hisar',
            'Hoshiarpur',
            'Hubli-Dharwad',
            'Hugli-Chinsurah',
            'Hyderabad',
            'Ichalkaranji',
            'Imphal',
            'Indore',
            'Itarsi',
            'Jabalpur',
            'Jagdalpur',
            'Jaggaiahpet',
            'Jagraon',
            'Jagtial',
            'Jaipur',
            'Jalandhar',
            'Jalandhar Cantt.',
            'Jalpaiguri',
            'Jamalpur',
            'Jammalamadugu',
            'Jammu',
            'Jamnagar',
            'Jamshedpur',
            'Jamui',
            'Jangaon',
            'Jatani',
            'Jehanabad',
            'Jhansi',
            'Jhargram',
            'Jharsuguda',
            'Jhumri Tilaiya',
            'Jind',
            'Jodhpur',
            'Jorhat',
            'Kadapa',
            'Kadi',
            'Kadiri',
            'Kagaznagar',
            'Kailasahar',
            'Kaithal',
            'Kakinada',
            'Kalimpong',
            'Kalpi',
            'Kalyan-Dombivali',
            'Kamareddy',
            'Kancheepuram',
            'Kandukur',
            'Kanhangad',
            'Kannur',
            'Kanpur',
            'Kapadvanj',
            'Kapurthala',
            'Karaikal',
            'Karimganj',
            'Karimnagar',
            'Karjat',
            'Karnal',
            'Karur',
            'Karwar',
            'Kasaragod',
            'Kashipur',
            'KathUrban',
            'Katihar',
            'Kavali',
            'Kayamkulam',
            'Kendrapara',
            'Kendujhar',
            'Keshod',
            'Khair',
            'Khambhat',
            'Khammam',
            'Khanna',
            'Kharagpur',
            'Kharar',
            'Khowai',
            'Kishanganj',
            'Kochi',
            'Kodungallur',
            'Kohima',
            'Kolar',
            'Kolkata',
            'Kollam',
            'Koratla',
            'Korba',
            'Kot Kapura',
            'Kothagudem',
            'Kottayam',
            'Kovvur',
            'Koyilandy',
            'Kozhikode',
            'Kunnamkulam',
            'Kurnool',
            'Kyathampalle',
            'Lachhmangarh',
            'Ladnu',
            'Ladwa',
            'Lahar',
            'Laharpur',
            'Lakheri',
            'Lakhimpur',
            'Lakhisarai',
            'Lakshmeshwar',
            'Lal Gopalganj Nindaura',
            'Lalganj',
            'Lalganj',
            'Lalgudi',
            'Lalitpur',
            'Lalsot',
            'Lanka',
            'Lar',
            'Lathi',
            'Latur',
            'Lilong',
            'Limbdi',
            'Lingsugur',
            'Loha',
            'Lohardaga',
            'Lonar',
            'Lonavla',
            'Longowal',
            'Loni',
            'Losal',
            'Lucknow',
            'Ludhiana',
            'Lumding',
            'Lunawada',
            'Lunglei',
            'Macherla',
            'Machilipatnam',
            'Madanapalle',
            'Maddur',
            'Madhepura',
            'Madhubani',
            'Madhugiri',
            'Madhupur',
            'Madikeri',
            'Madurai',
            'Magadi',
            'Mahad',
            'Mahalingapura',
            'Maharajganj',
            'Maharajpur',
            'Mahasamund',
            'Mahbubnagar',
            'Mahe',
            'Mahemdabad',
            'Mahendragarh',
            'Mahesana',
            'Mahidpur',
            'Mahnar Bazar',
            'Mahuva',
            'Maihar',
            'Mainaguri',
            'Makhdumpur',
            'Makrana',
            'Malaj Khand',
            'Malappuram',
            'Malavalli',
            'Malda',
            'Malegaon',
            'Malerkotla',
            'Malkangiri',
            'Malkapur',
            'Malout',
            'Malpura',
            'Malur',
            'Manachanallur',
            'Manasa',
            'Manavadar',
            'Manawar'];
        if (data) {
            this.editState = true;
            this.newBranch = data.row;
        }
        else {
            this.editState = false;
        }
    }
    NewBranchComponent.prototype.mapClicked = function (event) {
        this.latitude = event.coords.lat;
        this.longitude = event.coords.lng;
        var latlng = new google.maps.LatLng(event.coords.lat, event.coords.lng);
        var geocoder = new google.maps.Geocoder();
        geocoder.geocode({ 'location': latlng, componentRestrictions: { country: 'in' } }, function (results, status) {
            if (status !== google.maps.GeocoderStatus.OK) {
                alert(status);
            }
            // This is checking to see if the Geoeode Status is OK before proceeding
            if (status == google.maps.GeocoderStatus.OK) {
                this.br.reportingAddress = (results[0].formatted_address);
                console.log(results[0].formatted_address);
            }
        }.bind(this));
    };
    NewBranchComponent.prototype.markerDragEnd = function (event) {
        this.latitude = event.coords.lat;
        this.longitude = event.coords.lng;
        var latlng = new google.maps.LatLng(event.coords.lat, event.coords.lng);
        var geocoder = new google.maps.Geocoder();
        geocoder.geocode({ 'location': latlng, componentRestrictions: { country: 'in' } }, function (results, status) {
            if (status !== google.maps.GeocoderStatus.OK) {
                alert(status);
            }
            // This is checking to see if the Geoeode Status is OK before proceeding
            if (status == google.maps.GeocoderStatus.OK) {
                this.bookings.reportingAddress = (results[0].formatted_address);
                console.log(results[0].formatted_address);
            }
        }.bind(this));
    };
    NewBranchComponent.prototype.ngOnInit = function () {
        var _this = this;
        //set google maps defaults
        this.zoom = 4;
        this.latitude = 19.0759837;
        this.longitude = 72.87765590000004;
        this.setCurrentPosition();
        this.auth.user.subscribe(function (data) {
            _this.user = data[0];
            _this.newBranch.ownerId = data[0].ownerId;
        });
        this.cityOfOperation = this.cityOfOperationCtrl.valueChanges
            .pipe(Object(__WEBPACK_IMPORTED_MODULE_5_rxjs_operators_startWith__["a" /* startWith */])(''), Object(__WEBPACK_IMPORTED_MODULE_4_rxjs_operators_map__["a" /* map */])(function (val) { return _this.filtercityOfOperation(val); }));
        var options = {
            componentRestrictions: { country: "in" }
        };
        this.mapsAPILoader.load().then(function () {
            var autocompleteReporting = new google.maps.places.Autocomplete(_this.searchLocation.nativeElement, options);
            autocompleteReporting.addListener("place_changed", function () {
                _this.ngZone.run(function () {
                    //get the place result
                    var place = autocompleteReporting.getPlace();
                    //verify result
                    if (place.geometry === undefined || place.geometry === null) {
                        return;
                    }
                    //set latitude, longitude and zoom
                    _this.latitude = place.geometry.location.lat();
                    _this.longitude = place.geometry.location.lng();
                    _this.zoom = 12;
                });
            });
        });
    };
    NewBranchComponent.prototype.ngAfterViewInit = function () {
        if (this.data) {
            this.geocodeLocation();
        }
    };
    NewBranchComponent.prototype.cityOfOperationSelection = function (temp, event) {
        if (event.source.selected == true) {
            this.newBranch.cityOfOperations = temp;
        }
    };
    NewBranchComponent.prototype.filtercityOfOperation = function (val) {
        return this.city.filter(function (option) {
            return option.toLowerCase().includes(val.toLowerCase());
        });
    };
    NewBranchComponent.prototype.addBranch = function () {
        this.newBranch.location = this.searchLocation.nativeElement.value;
        this.newBranch.lat = this.latitude.toString();
        this.newBranch.lng = this.longitude.toString();
        this.branchService.addBranches(this.newBranch).subscribe();
        this.dialogRef.close("yes");
    };
    NewBranchComponent.prototype.closeDialog = function () {
        this.dialog.closeAll();
    };
    NewBranchComponent.prototype.setLocation = function (value) {
        this.newBranch.location = value;
    };
    NewBranchComponent.prototype.setCurrentPosition = function () {
        var _this = this;
        if ("geolocation" in navigator) {
            navigator.geolocation.getCurrentPosition(function (position) {
                _this.latitude = position.coords.latitude;
                _this.longitude = position.coords.longitude;
                _this.zoom = 12;
            });
        }
    };
    NewBranchComponent.prototype.saveBranch = function () {
        this.newBranch.location = this.searchLocation.nativeElement.value;
        this.newBranch.lat = this.latitude.toString();
        this.newBranch.lng = this.longitude.toString();
        this.branchService.updateBranches(this.newBranch).subscribe();
        this.dialogRef.close();
    };
    NewBranchComponent.prototype.geocodeLocation = function () {
        var _this = this;
        var address = this.newBranch.location;
        this.mapsAPILoader.load().then(function () {
            var geocoder = new google.maps.Geocoder();
            geocoder.geocode({ 'address': address, componentRestrictions: { country: 'in' } }, function (results, status) {
                if (status == google.maps.GeocoderStatus.OK) {
                    this.latitude = results[0].geometry.location.lat();
                    this.longitude = results[0].geometry.location.lng();
                    this.zoom = 12;
                }
                else {
                    alert("Geocode was not successful for the following reason: " + status);
                }
            }.bind(_this));
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("searchLocation"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], NewBranchComponent.prototype, "searchLocation", void 0);
    NewBranchComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-new-branch',
            template: __webpack_require__("./src/app/pages/operations/new-branch/new-branch.component.html"),
            styles: [__webpack_require__("./src/app/pages/operations/new-branch/new-branch.component.scss")]
        }),
        __param(6, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_6__angular_material__["e" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__core_auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_2__new_branch_service__["a" /* NewBranchService */], __WEBPACK_IMPORTED_MODULE_6__angular_material__["p" /* MatDialogRef */], __WEBPACK_IMPORTED_MODULE_6__angular_material__["n" /* MatDialog */], __WEBPACK_IMPORTED_MODULE_7__agm_core__["b" /* MapsAPILoader */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"], Object])
    ], NewBranchComponent);
    return NewBranchComponent;
}());



/***/ }),

/***/ "./src/app/pages/operations/new-branch/new-branch.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NewBranchService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var NewBranchService = (function () {
    function NewBranchService(http) {
        this.http = http;
    }
    NewBranchService.prototype.getBranches = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post("/branches/retrieve", temp, { headers: headers }).map(function (data) { return data.json(); });
    };
    NewBranchService.prototype.addBranches = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post("/branches/add", temp, { headers: headers }).map(function (data) { return data.json(); });
    };
    NewBranchService.prototype.deleteBranches = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post("/branches/delete", temp, { headers: headers }).map(function (data) { return data.json(); });
    };
    NewBranchService.prototype.updateBranches = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post("/branches/update", temp, { headers: headers }).map(function (data) { return data.json(); });
    };
    NewBranchService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], NewBranchService);
    return NewBranchService;
}());



/***/ }),

/***/ "./src/app/pages/trackyourvehicle/trackyourvehicle.component.html":
/***/ (function(module, exports) {

module.exports = "<div  class=\"row\">\n    <div class=\"col-lg-12\">\n    <div style=\"margin: auto;\" class=\"row ptb-10\" *ngIf=\"tracking==true\">        \n      <div class=\"col-lg-4 col-md-4 col-12\"><h6>Customer: </h6>{{customer}}</div>\n      <div class=\"col-lg-4 col-md-4 col-12\"><h6>Passenger: </h6>{{passenger}}</div>\n      <div class=\"col-lg-4 col-md-4 col-12\"><h6>Driver: </h6>{{driver}}</div>\n    </div>\n    <div style=\"margin: auto;\" class=\"row ptb-10\" *ngIf=\"tracking==true\">\n        <div class=\"col-lg-4 col-md-4 col-12\" *ngIf=\"reportingAddress!=''\"><h6>From: </h6>{{reportingAddress}}</div>\n        <div class=\"col-lg-4 col-md-4 col-12\" *ngIf=\"dropAddress!=''\"><h6>To: </h6>{{dropAddress}}</div>\n        <div class=\"col-lg-4 col-md-4 col-12\"><h6>Vehicle: </h6>{{vehicleName}} ({{vehicleNo}})</div>\n    </div>\n    <div style=\"margin: auto;\" class=\"row ptb-10\" *ngIf=\"tracking==true\">        \n      <agm-map [latitude]=\"latitude\" [longitude]=\"longitude\" [scrollwheel]=\"false\" [zoom]=\"zoom\" [streetViewControl]=\"false\">\n        <agm-marker *ngFor = \"let data of markers\"\n          [latitude]=\"data.lattitude\"\n          [longitude]=\"data.longitude\"\n          [iconUrl]=\"{\n              url: './assets/images/cars.svg',\n              scaledSize: {\n                width: 30,\n                height: 50\n              }\n            }\">\n          <agm-info-window>\n            <strong> {{data.CurrentLocation}}</strong>\n            <p style=\"text-align: center;margin-bottom: 0;\">\n              Vehicle No: {{data.Vehicle_No}}\n            </p>\n          </agm-info-window>            \n        </agm-marker>\n      </agm-map>\n    </div>\n    <div style=\"margin: auto;\" class=\"row ptb-10\" *ngIf=\"tracking==false\">        \n      <h5>Vehicle Tracking is not available or duty has been completed</h5>\n    </div>\n</div>\n</div>"

/***/ }),

/***/ "./src/app/pages/trackyourvehicle/trackyourvehicle.component.scss":
/***/ (function(module, exports) {

module.exports = "agm-map {\n  height: 55vh !important;\n  width: 100%;\n  /* This is really important*/ }\n\nh6 {\n  display: inline-block;\n  margin-right: 5px; }\n"

/***/ }),

/***/ "./src/app/pages/trackyourvehicle/trackyourvehicle.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TrackyourvehicleComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__ = __webpack_require__("./node_modules/rxjs/_esm5/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_operators_takeUntil__ = __webpack_require__("./node_modules/rxjs/_esm5/operators/takeUntil.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__duties_duties_service__ = __webpack_require__("./src/app/pages/duties/duties.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var TrackyourvehicleComponent = (function () {
    function TrackyourvehicleComponent(http, router, activatedRoute, dutySerice) {
        this.http = http;
        this.router = router;
        this.activatedRoute = activatedRoute;
        this.dutySerice = dutySerice;
        this.tracking = true;
        this.markers = [];
        this.markersCopy = [];
        this.ngUnsubscribe = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["b" /* Subject */]();
        this.code = '';
    }
    TrackyourvehicleComponent.prototype.ngOnInit = function () {
        var _this = this;
        console.log("asdasd");
        var HOST = location.origin.replace(/^http/, 'ws');
        this.ws = new WebSocket(HOST);
        this.ws.onmessage = function (event) {
            if (event.data == this.dutyId + "closeTracker") {
                this.vehcileStatus();
            }
        }.bind(this);
        this.latitude = 19.07283;
        this.longitude = 72.88261;
        this.zoom = 8;
        this.activatedRoute.queryParams
            .pipe(Object(__WEBPACK_IMPORTED_MODULE_4_rxjs_operators_takeUntil__["a" /* takeUntil */])(this.ngUnsubscribe))
            .subscribe(function (params) {
            if (!params) {
                _this.tracking = false;
            }
            else {
                console.log("asdasdsad");
                setInterval(function () {
                    _this.http.post('/tracking/retrieve', _this.code).map(function (res) { return res.json(); }).subscribe(function (data) {
                        var obj = JSON.parse(data);
                        obj.data.detaildata.forEach(function (element) {
                            element.lattitude = Number(element.lattitude);
                            element.longitude = Number(element.longitude);
                            _this.markersCopy.push(element);
                        });
                    });
                    _this.markers.length = 0;
                    _this.markers.push(_this.markersCopy.find(function (x) { return x.Vehicle_No === _this.vehicleNo; }));
                    console.log(_this.markers);
                    _this.latitude = _this.markers[0].lattitude;
                    _this.longitude = _this.markers[0].longitude;
                    _this.zoom = 16;
                }, 10000);
                _this.code = params['vtc'];
                _this.http.post('/tracking/retrieve', _this.code).map(function (res) { return res.json(); }).subscribe(function (data) {
                    var obj = JSON.parse(data);
                    obj.data.detaildata.forEach(function (element) {
                        element.lattitude = Number(element.lattitude);
                        element.longitude = Number(element.longitude);
                        _this.markersCopy.push(element);
                    });
                    _this.vehcileStatus();
                });
            }
        });
    };
    TrackyourvehicleComponent.prototype.ngOnDestroy = function () {
        this.ngUnsubscribe.next();
        this.ngUnsubscribe.complete();
    };
    TrackyourvehicleComponent.prototype.vehcileStatus = function () {
        var _this = this;
        var temp = {
            randomNumber: this.code
        };
        this.dutySerice.getTracking(temp).subscribe(function (data) {
            console.log(data);
            if (data[0].status != 'Dispatched') {
                _this.tracking = false;
            }
            else {
                _this.customer = data[0].cname;
                _this.passenger = data[0].passenger;
                _this.reportingAddress = data[0].reportingAddress;
                _this.dropAddress = data[0].dropAddress;
                _this.vehicleName = data[0].modelname;
                _this.vehicleNo = data[0].number;
                _this.driver = data[0].name;
                _this.dutyId = data[0].id;
                _this.markers.length = 0;
                _this.markers.push(_this.markersCopy.find(function (x) { return x.Vehicle_No === _this.vehicleNo; }));
                _this.latitude = _this.markers[0].lattitude;
                _this.longitude = _this.markers[0].longitude;
                _this.zoom = 16;
            }
        });
    };
    TrackyourvehicleComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'trackyourvehicle',
            template: __webpack_require__("./src/app/pages/trackyourvehicle/trackyourvehicle.component.html"),
            styles: [__webpack_require__("./src/app/pages/trackyourvehicle/trackyourvehicle.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* Router */], __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */], __WEBPACK_IMPORTED_MODULE_5__duties_duties_service__["a" /* DutiesService */]])
    ], TrackyourvehicleComponent);
    return TrackyourvehicleComponent;
}());



/***/ }),

/***/ "./src/app/pages/usermanagement/usermanagement.component.html":
/***/ (function(module, exports) {

module.exports = "<!-- <ng-container *ngIf=\"actionCodeChecked\" [ngSwitch]=\"mode\"> \n  \n    /////////Reset Password\n    <ng-container *ngSwitchCase=\"'resetPassword'\"> \n      <input [(ngModel)]=\"oldPassword\" type=\"text\" id=\"oldPassword\"\n      name=\"oldPassword\" placeholder=\"Old Password\"> <br> \n      <input [(ngModel)]=\"newPassword\" type=\"text\" id=\"newPassword\"\n      name=\"newPassword\" placeholder=\"New Password\"> <br> \n      <input [(ngModel)]=\"confirmPassword\" type=\"text\"\n      id=\"confirmPassword\" name=\"confirmPassword\" placeholder=\"Confirm\n      Password\"> \n      <button (click)=\"handleResetPassword()\">Confirm</button> \n    </ng-container> \n    \n    ////////Recover Email \n    <ng-container *ngSwitchCase=\"'recoverEmail'\"> \n    </ng-container> \n    \n    /////////Verify Email\n    <ng-container *ngSwitchCase=\"'verifyEmail'\"> \n    </ng-container> \n</ng-container> -->\n\n\n<style>\n  mat-card {\n  max-width: 400px;\n  margin-right: auto;\n  margin-left: auto;\n  text-align: center;\n  border-radius: 8px;\n  box-shadow: 0 3px 24px -1px rgba(0,0,0,.2), 0 3px 2px 0 rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12) !important;\n}\n.signin-content {\n  padding: 60px 1rem;\n}\n.full-width-input {\n  width: 100%;\n}\n\n.mat-form-field{\n  margin-top: 20px;\n}\n</style>\n<div class=\"signin-content\" id=\"test\" *ngIf=\"actionCodeChecked\" [ngSwitch]=\"mode\">\n  <mat-card *ngSwitchCase=\"'resetPassword'\">\n    <mat-card-content>\n      <form #formData='ngForm'>\n        <div style=\"margin:20px\">\n          <img alt=\"\" src=\"../../../assets/icons/iconfinder_user_925901.svg\" style=\"width:20%\">\n        </div>\n        <h5>RESET PASSWORD</h5>\n        <mat-form-field class=\"full-width-input\">\n          <input type=\"password\" matInput [(ngModel)]=\"oldPassword\" id=\"oldPassword\" name=\"oldPassword\" placeholder=\"Old Password\">\n        </mat-form-field>\n        <mat-form-field class=\"full-width-input\">\n          <input matInput type=\"password\" [(ngModel)]=\"newPassword\" id=\"newPassword\" name=\"newPassword\" placeholder=\"New Password\">\n        </mat-form-field>\n        <mat-form-field class=\"full-width-input\">\n          <input matInput type=\"password\" [(ngModel)]=\"confirmPassword\" id=\"confirmPassword\" name=\"confirmPassword\" placeholder=\"Confirm Password\">\n        </mat-form-field>\n        <button style=\"margin-top:50px; width:200px;\" type=\"submit\" [disabled]=\"!formData.valid\" mat-raised-button color=\"primary\" (click)=\"handleResetPassword()\">Confirm</button>\n        <mat-progress-bar [hidden]=\"!loader\" style=\"max-width:200px; margin:auto; margin-bottom: 20px\"\n            color=\"primary\"\n            mode=\"indeterminate\">\n        </mat-progress-bar>\n      </form>\n    </mat-card-content>\n  </mat-card>\n</div>"

/***/ }),

/***/ "./src/app/pages/usermanagement/usermanagement.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/pages/usermanagement/usermanagement.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UsermanagementComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_auth_service__ = __webpack_require__("./src/app/core/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_operators_takeUntil__ = __webpack_require__("./node_modules/rxjs/_esm5/operators/takeUntil.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__ = __webpack_require__("./node_modules/rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var UsermanagementComponent = (function () {
    function UsermanagementComponent(router, activatedRoute, authService) {
        this.router = router;
        this.activatedRoute = activatedRoute;
        this.authService = authService;
        this.ngUnsubscribe = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["b" /* Subject */]();
    }
    UsermanagementComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.activatedRoute.queryParams
            .pipe(Object(__WEBPACK_IMPORTED_MODULE_3_rxjs_operators_takeUntil__["a" /* takeUntil */])(this.ngUnsubscribe))
            .subscribe(function (params) {
            // if we didn't receive any parameters, we can't do anything
            if (!params)
                _this.router.navigate(['/login']);
            _this.mode = params['mode'];
            _this.actionCode = params['oobCode'];
            switch (params['mode']) {
                case 'resetPassword':
                    {
                        // Verify the password reset code is valid.
                        _this.authService
                            .getAuth()
                            .verifyPasswordResetCode(_this.actionCode)
                            .then(function (email) {
                            _this.actionCodeChecked = true;
                        }).catch(function (e) {
                            // Invalid or expired action code. Ask user to try to
                            // reset the password again.
                            alert(e);
                            _this.router.navigate(['/login']);
                        });
                    }
                    break;
                case 'recoverEmail':
                    {
                    }
                    break;
                case 'verifyEmail':
                    {
                    }
                    break;
                default: {
                    console.log('query parameters are missing');
                    _this.router.navigate(['/login']);
                }
            }
        });
    };
    UsermanagementComponent.prototype.ngOnDestroy = function () {
        // End all subscriptions listening to ngUnsubscribe
        // to avoid memory leaks.
        this.ngUnsubscribe.next();
        this.ngUnsubscribe.complete();
    };
    /**
     * Attempt to confirm the password reset with firebase and
     * navigate user back to home.
     */
    UsermanagementComponent.prototype.handleResetPassword = function () {
        var _this = this;
        if (this.newPassword != this.confirmPassword) {
            alert('New Password and Confirm Password do not match');
            return;
        }
        // Save the new password.
        this.authService.getAuth().confirmPasswordReset(this.actionCode, this.newPassword)
            .then(function (resp) {
            // Password reset has been confirmed and new password updated.
            alert('New password has been saved');
            _this.router.navigate(['/login']);
        }).catch(function (e) {
            // Error occurred during confirmation. The code might have
            // expired or the password is too weak.
            alert(e);
        });
    };
    UsermanagementComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'usermanagement',
            template: __webpack_require__("./src/app/pages/usermanagement/usermanagement.component.html"),
            styles: [__webpack_require__("./src/app/pages/usermanagement/usermanagement.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__core_auth_service__["a" /* AuthService */]])
    ], UsermanagementComponent);
    return UsermanagementComponent;
}());



/***/ }),

/***/ "./src/app/pages/wallet/wallet.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WalletService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var WalletService = (function () {
    function WalletService(http) {
        this.http = http;
    }
    WalletService.prototype.addNewWallet = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/wallet/addWallet', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    WalletService.prototype.getWalletAmount = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/wallet/retrieve', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    WalletService.prototype.updateWalletAmount = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/wallet/addMoney', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    WalletService.prototype.addDepositTransaction = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/wallet/addDepositTransaction', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    WalletService.prototype.getDepositTransaction = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/wallet/retrieveDepositTransactions', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    WalletService.prototype.addWalletTransaction = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/wallet/addwalletTransaction', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    WalletService.prototype.getWalletTransaction = function (temp) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Authorization': localStorage.getItem('rtcuieo') });
        return this.http.post('/wallet/retrieveWalletTransactions', temp, { headers: headers }).map(function (res) { return res.json(); });
    };
    WalletService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], WalletService);
    return WalletService;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return environment; });
/**
 * @license
 * Copyright Akveo. All Rights Reserved.
 * Licensed under the MIT License. See License.txt in the project root for license information.
 */
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
var environment = {
    production: false,
    firebase: {
        apiKey: "AIzaSyAjUvTTsq_an_FG3w36rGeAY9mrUur5bd4",
        authDomain: "yourfleetman-bd7ec.firebaseapp.com",
        databaseURL: "https://yourfleetman-bd7ec.firebaseio.com",
        projectId: "yourfleetman-bd7ec",
        storageBucket: "yourfleetman-bd7ec.appspot.com",
        messagingSenderId: "162144364547"
    }
};


/***/ }),

/***/ "./src/main.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__ = __webpack_require__("./node_modules/@angular/platform-browser-dynamic/esm5/platform-browser-dynamic.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__app_app_module__ = __webpack_require__("./src/app/app.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__environments_environment__ = __webpack_require__("./src/environments/environment.ts");
/**
 * @license
 * Copyright Akveo. All Rights Reserved.
 * Licensed under the MIT License. See License.txt in the project root for license information.
 */




if (__WEBPACK_IMPORTED_MODULE_3__environments_environment__["a" /* environment */].production) {
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["enableProdMode"])();
    if (window) {
        window.console.log = function () { };
    }
}
Object(__WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__["a" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_2__app_app_module__["a" /* AppModule */]).then(function () {
    if ('serviceWorker' in navigator && __WEBPACK_IMPORTED_MODULE_3__environments_environment__["a" /* environment */].production) {
        navigator.serviceWorker.register('ngsw-worker.js');
    }
})
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 1:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("./src/main.ts");


/***/ }),

/***/ 2:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 3:
/***/ (function(module, exports) {

/* (ignored) */

/***/ })

},[1]);
//# sourceMappingURL=main.bundle.js.map
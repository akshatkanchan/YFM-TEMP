<div class="row">
  <div class="col-lg-12">
    <nb-card>
      <nb-card-header>My Wallet</nb-card-header>
      <nb-card-body>
        <div class="row">
          <div class="col-lg-12">
            <mat-grid-list cols="3" rowHeight="85px">
              <mat-grid-tile></mat-grid-tile>
              <mat-grid-tile>
                <h3><mat-icon>credit_card</mat-icon>Available Balance: &#x20B9;{{walletAmount}} </h3>
              </mat-grid-tile>
              <mat-grid-tile></mat-grid-tile>              
              <mat-grid-tile>
                <button mat-stroked-button class="w-100" (click)="addMoney()">
                  <mat-icon class="header-icons">money</mat-icon>
                  <br>
                  Add Money to Wallet
                </button>
              </mat-grid-tile>
              <mat-grid-tile>                
                <button mat-stroked-button class="w-100" (click)="loadDepositHistory()">
                  <mat-icon class="header-icons">local_atm</mat-icon>
                  <br>
                  View Deposit History
                </button>
              </mat-grid-tile>
              <mat-grid-tile>                
                <button mat-stroked-button class="w-100" (click)="loadTransactionHistory()">
                  <mat-icon class="header-icons">account_balance_wallet</mat-icon>
                  <br>
                  View Transaction History
                </button>
              </mat-grid-tile>
            </mat-grid-list>
          </div>
        </div>         
      </nb-card-body>
    </nb-card>
  </div>
</div>
<div class="row" *ngIf="deposit">
  <div class="col-lg-12">
    <nb-card>
      <!-- <nb-card-header>Deposit History</nb-card-header> -->
      <nb-card-body>        
        <h5>Deposit History</h5>
        <div align="center">
          <mat-form-field class="filter-date">
            <input matInput [(ngModel)]="filterStartDeposit" [matDatepicker]="pickerStartDeposit" (click)="pickerStartDeposit.open()" placeholder="From" readonly>
            <mat-datepicker-toggle matSuffix [for]="pickerStartDeposit"></mat-datepicker-toggle>
            <mat-datepicker #pickerStartDeposit></mat-datepicker>
          </mat-form-field>            
            
          <mat-form-field class="filter-date">
            <input matInput [(ngModel)]="filterEndDeposit" [matDatepicker]="pickerEndDeposit" (click)="pickerEndDeposit.open()" placeholder="To" readonly>
            <mat-datepicker-toggle matSuffix [for]="pickerEndDeposit"></mat-datepicker-toggle>
            <mat-datepicker #pickerEndDeposit></mat-datepicker>
          </mat-form-field>
  
          <button matTooltip="Search" mat-icon-button (click)="filterByDateDeposit()"><mat-icon class="filter-icon">search</mat-icon></button>
          <button matTooltip="Clear All" mat-icon-button (click)="clearDeposit()"><mat-icon class="filter-icon">highlight_off</mat-icon></button>
        </div>
        
        <mat-table #sort='matSort' [dataSource]="dataSourceDeposit" matSort>
        
          <ng-container matColumnDef="date">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Date</mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.date | date: 'dd/MM/yyyy'}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="time">
              <mat-header-cell *matHeaderCellDef mat-sort-header>Time</mat-header-cell>
              <mat-cell *matCellDef="let element"> {{element.date | date: 'hh:mm:ss'}} </mat-cell>
            </ng-container>
    
          <ng-container matColumnDef="transactionId">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Transaction ID</mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.transactionId}} </mat-cell>
          </ng-container>
    
          <ng-container matColumnDef="amount">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Amount</mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.amount}} </mat-cell>
          </ng-container>
    
          <mat-header-row *matHeaderRowDef="displayedColumnsDeposit"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumnsDeposit;"></mat-row>
    
        </mat-table>
        <mat-paginator #paginator [length]="lengthDeposit"
          [pageSize]="pageSizeDeposit"
          [pageSizeOptions]="pageSizeOptionsDeposit">
        </mat-paginator>
      </nb-card-body>
    </nb-card>
  </div>
</div>
<div class="row" *ngIf="transaction">
  <div class="col-lg-12">
    <nb-card>
      <!-- <nb-card-header>Transaction History</nb-card-header> -->
      <nb-card-body>        
        <h5>Transaction History</h5>
        <div align="center">
          <mat-form-field class="filter-date">
            <input matInput [(ngModel)]="filterStartTransaction" [matDatepicker]="pickerStartTransaction" (click)="pickerStartTransaction.open()" placeholder="From" readonly>
            <mat-datepicker-toggle matSuffix [for]="pickerStartTransaction"></mat-datepicker-toggle>
            <mat-datepicker #pickerStartTransaction></mat-datepicker>
          </mat-form-field>            
            
          <mat-form-field class="filter-date">
            <input matInput [(ngModel)]="filterEndTransaction" [matDatepicker]="pickerEndTransaction" (click)="pickerEndTransaction.open()" placeholder="To" readonly>
            <mat-datepicker-toggle matSuffix [for]="pickerEndTransaction"></mat-datepicker-toggle>
            <mat-datepicker #pickerEndTransaction></mat-datepicker>
          </mat-form-field>
  
          <mat-form-field class="mobile-select">
            <mat-select [value]="" (selectionChange)="filter($event.value)">
              <mat-option value="SMS & Whatsapp">SMS & Whatsapp</mat-option>
              <mat-option value="Call">Call</mat-option>
              <mat-option value="Bookings">Bookings</mat-option>            
              <mat-option value='' selected>All</mat-option>
            </mat-select>
          </mat-form-field>
  
          <button matTooltip="Search" mat-icon-button (click)="filterByDateTransaction()"><mat-icon class="filter-icon">search</mat-icon></button>
          <button matTooltip="Clear All" mat-icon-button (click)="clearTransaction()"><mat-icon class="filter-icon">highlight_off</mat-icon></button>
        </div>        
        
        <mat-table #sort2='matSort' [dataSource]="dataSourceTransaction" matSort>
        
          <ng-container matColumnDef="date">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Date</mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.date | date: 'dd/MM/yyyy'}} </mat-cell>
          </ng-container>
    

          <ng-container matColumnDef="time">
              <mat-header-cell *matHeaderCellDef mat-sort-header>Time</mat-header-cell>
              <mat-cell *matCellDef="let element"> {{element.date | date: 'hh:mm:ss'}} </mat-cell>
            </ng-container>


            <ng-container matColumnDef="for">
                <mat-header-cell *matHeaderCellDef mat-sort-header>For</mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.reason}}</mat-cell>
              </ng-container>
              
          <ng-container matColumnDef="transactionId">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Transaction ID</mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.transactionId}} </mat-cell>
          </ng-container>
    
          <ng-container matColumnDef="amount">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Amount</mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.amount}} </mat-cell>
          </ng-container>
    
          <mat-header-row *matHeaderRowDef="displayedColumnsTransaction"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumnsTransaction;"></mat-row>
    
        </mat-table>
        <mat-paginator #paginator2 [length]="lengthTransaction"
          [pageSize]="pageSizeTransaction"
          [pageSizeOptions]="pageSizeOptionsTransaction">
        </mat-paginator>
      </nb-card-body>
    </nb-card>
  </div>
</div>
